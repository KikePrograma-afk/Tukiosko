(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ty={exports:{}},Dc={},Ay={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function mF(){if(KA)return Ze;KA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function _(q,X,ue){this.props=q,this.context=X,this.refs=x,this.updater=ue||y}_.prototype.isReactComponent={},_.prototype.setState=function(q,X){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,X,"setState")},_.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=_.prototype;function A(q,X,ue){this.props=q,this.context=X,this.refs=x,this.updater=ue||y}var O=A.prototype=new T;O.constructor=A,w(O,_.prototype),O.isPureReactComponent=!0;var M=Array.isArray,C=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(q,X,ue){var Ee,Ae={},fe=null,me=null;if(X!=null)for(Ee in X.ref!==void 0&&(me=X.ref),X.key!==void 0&&(fe=""+X.key),X)C.call(X,Ee)&&!P.hasOwnProperty(Ee)&&(Ae[Ee]=X[Ee]);var we=arguments.length-2;if(we===1)Ae.children=ue;else if(1<we){for(var le=Array(we),Te=0;Te<we;Te++)le[Te]=arguments[Te+2];Ae.children=le}if(q&&q.defaultProps)for(Ee in we=q.defaultProps,we)Ae[Ee]===void 0&&(Ae[Ee]=we[Ee]);return{$$typeof:t,type:q,key:fe,ref:me,props:Ae,_owner:N.current}}function k(q,X){return{$$typeof:t,type:q.type,key:X,ref:q.ref,props:q.props,_owner:q._owner}}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var X={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return X[ue]})}var F=/\/+/g;function L(q,X){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):X.toString(36)}function H(q,X,ue,Ee,Ae){var fe=typeof q;(fe==="undefined"||fe==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(fe){case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case t:case e:me=!0}}if(me)return me=q,Ae=Ae(me),q=Ee===""?"."+L(me,0):Ee,M(Ae)?(ue="",q!=null&&(ue=q.replace(F,"$&/")+"/"),H(Ae,X,ue,"",function(Te){return Te})):Ae!=null&&(V(Ae)&&(Ae=k(Ae,ue+(!Ae.key||me&&me.key===Ae.key?"":(""+Ae.key).replace(F,"$&/")+"/")+q)),X.push(Ae)),1;if(me=0,Ee=Ee===""?".":Ee+":",M(q))for(var we=0;we<q.length;we++){fe=q[we];var le=Ee+L(fe,we);me+=H(fe,X,ue,le,Ae)}else if(le=v(q),typeof le=="function")for(q=le.call(q),we=0;!(fe=q.next()).done;)fe=fe.value,le=Ee+L(fe,we++),me+=H(fe,X,ue,le,Ae);else if(fe==="object")throw X=String(q),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return me}function Q(q,X,ue){if(q==null)return q;var Ee=[],Ae=0;return H(q,Ee,"","",function(fe){return X.call(ue,fe,Ae++)}),Ee}function G(q){if(q._status===-1){var X=q._result;X=X(),X.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=X)}if(q._status===1)return q._result.default;throw q._result}var te={current:null},J={transition:null},oe={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:J,ReactCurrentOwner:N};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:Q,forEach:function(q,X,ue){Q(q,function(){X.apply(this,arguments)},ue)},count:function(q){var X=0;return Q(q,function(){X++}),X},toArray:function(q){return Q(q,function(X){return X})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=_,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=A,Ze.StrictMode=n,Ze.Suspense=c,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ze.act=ne,Ze.cloneElement=function(q,X,ue){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ee=w({},q.props),Ae=q.key,fe=q.ref,me=q._owner;if(X!=null){if(X.ref!==void 0&&(fe=X.ref,me=N.current),X.key!==void 0&&(Ae=""+X.key),q.type&&q.type.defaultProps)var we=q.type.defaultProps;for(le in X)C.call(X,le)&&!P.hasOwnProperty(le)&&(Ee[le]=X[le]===void 0&&we!==void 0?we[le]:X[le])}var le=arguments.length-2;if(le===1)Ee.children=ue;else if(1<le){we=Array(le);for(var Te=0;Te<le;Te++)we[Te]=arguments[Te+2];Ee.children=we}return{$$typeof:t,type:q.type,key:Ae,ref:fe,props:Ee,_owner:me}},Ze.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:o,_context:q},q.Consumer=q},Ze.createElement=I,Ze.createFactory=function(q){var X=I.bind(null,q);return X.type=q,X},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:l,render:q}},Ze.isValidElement=V,Ze.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:G}},Ze.memo=function(q,X){return{$$typeof:f,type:q,compare:X===void 0?null:X}},Ze.startTransition=function(q){var X=J.transition;J.transition={};try{q()}finally{J.transition=X}},Ze.unstable_act=ne,Ze.useCallback=function(q,X){return te.current.useCallback(q,X)},Ze.useContext=function(q){return te.current.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q){return te.current.useDeferredValue(q)},Ze.useEffect=function(q,X){return te.current.useEffect(q,X)},Ze.useId=function(){return te.current.useId()},Ze.useImperativeHandle=function(q,X,ue){return te.current.useImperativeHandle(q,X,ue)},Ze.useInsertionEffect=function(q,X){return te.current.useInsertionEffect(q,X)},Ze.useLayoutEffect=function(q,X){return te.current.useLayoutEffect(q,X)},Ze.useMemo=function(q,X){return te.current.useMemo(q,X)},Ze.useReducer=function(q,X,ue){return te.current.useReducer(q,X,ue)},Ze.useRef=function(q){return te.current.useRef(q)},Ze.useState=function(q){return te.current.useState(q)},Ze.useSyncExternalStore=function(q,X,ue){return te.current.useSyncExternalStore(q,X,ue)},Ze.useTransition=function(){return te.current.useTransition()},Ze.version="18.3.1",Ze}var GA;function Gm(){return GA||(GA=1,Ay.exports=mF()),Ay.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function gF(){if(XA)return Dc;XA=1;var t=Gm(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var d,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(d in c)n.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:l,key:v,ref:y,props:p,_owner:i.current}}return Dc.Fragment=r,Dc.jsx=s,Dc.jsxs=s,Dc}var YA;function vF(){return YA||(YA=1,Ty.exports=gF()),Ty.exports}var j=vF(),U=Gm();const W=pt(U);var Wd={},Py={exports:{}},Yr={},Iy={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function yF(){return QA||(QA=1,function(t){function e(J,oe){var ne=J.length;J.push(oe);e:for(;0<ne;){var q=ne-1>>>1,X=J[q];if(0<i(X,oe))J[q]=oe,J[ne]=X,ne=q;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var oe=J[0],ne=J.pop();if(ne!==oe){J[0]=ne;e:for(var q=0,X=J.length,ue=X>>>1;q<ue;){var Ee=2*(q+1)-1,Ae=J[Ee],fe=Ee+1,me=J[fe];if(0>i(Ae,ne))fe<X&&0>i(me,Ae)?(J[q]=me,J[fe]=ne,q=fe):(J[q]=Ae,J[Ee]=ne,q=Ee);else if(fe<X&&0>i(me,ne))J[q]=me,J[fe]=ne,q=fe;else break e}}return oe}function i(J,oe){var ne=J.sortIndex-oe.sortIndex;return ne!==0?ne:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],d=1,p=null,v=3,y=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(J){for(var oe=r(f);oe!==null;){if(oe.callback===null)n(f);else if(oe.startTime<=J)n(f),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=r(f)}}function M(J){if(x=!1,O(J),!w)if(r(c)!==null)w=!0,G(C);else{var oe=r(f);oe!==null&&te(M,oe.startTime-J)}}function C(J,oe){w=!1,x&&(x=!1,T(I),I=-1),y=!0;var ne=v;try{for(O(oe),p=r(c);p!==null&&(!(p.expirationTime>oe)||J&&!D());){var q=p.callback;if(typeof q=="function"){p.callback=null,v=p.priorityLevel;var X=q(p.expirationTime<=oe);oe=t.unstable_now(),typeof X=="function"?p.callback=X:p===r(c)&&n(c),O(oe)}else n(c);p=r(c)}if(p!==null)var ue=!0;else{var Ee=r(f);Ee!==null&&te(M,Ee.startTime-oe),ue=!1}return ue}finally{p=null,v=ne,y=!1}}var N=!1,P=null,I=-1,k=5,V=-1;function D(){return!(t.unstable_now()-V<k)}function F(){if(P!==null){var J=t.unstable_now();V=J;var oe=!0;try{oe=P(!0,J)}finally{oe?L():(N=!1,P=null)}}else N=!1}var L;if(typeof A=="function")L=function(){A(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=F,L=function(){Q.postMessage(null)}}else L=function(){_(F,0)};function G(J){P=J,N||(N=!0,L())}function te(J,oe){I=_(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,G(C))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ne=v;v=oe;try{return J()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ne=v;v=J;try{return oe()}finally{v=ne}},t.unstable_scheduleCallback=function(J,oe,ne){var q=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?q+ne:q):ne=q,J){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ne+X,J={id:d++,callback:oe,priorityLevel:J,startTime:ne,expirationTime:X,sortIndex:-1},ne>q?(J.sortIndex=ne,e(f,J),r(c)===null&&J===r(f)&&(x?(T(I),I=-1):x=!0,te(M,ne-q))):(J.sortIndex=X,e(c,J),w||y||(w=!0,G(C))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var oe=v;return function(){var ne=v;v=oe;try{return J.apply(this,arguments)}finally{v=ne}}}}(Oy)),Oy}var JA;function _F(){return JA||(JA=1,Iy.exports=yF()),Iy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function bF(){if(ZA)return Yr;ZA=1;var t=Gm(),e=_F();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(a){return c.call(p,a)?!0:c.call(d,a)?!1:f.test(a)?p[a]=!0:(d[a]=!0,!1)}function y(a,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,h,g){if(u===null||typeof u>"u"||y(a,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,h,g,b,S,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=S,this.removeEmptyString=$}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];_[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(T,A);_[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(T,A);_[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(T,A);_[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,u,h,g){var b=_.hasOwnProperty(u)?_[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,h,b,g)&&(h=null),g||b===null?v(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(u=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(u):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,u,h):a.setAttribute(u,h))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),J=Symbol.iterator;function oe(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var ne=Object.assign,q;function X(a){if(q===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+a}var ue=!1;function Ee(a,u){if(!a||ue)return"";ue=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ae){var g=ae}Reflect.construct(a,[],u)}else{try{u.call()}catch(ae){g=ae}a.call(u.prototype)}else{try{throw Error()}catch(ae){g=ae}a()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var b=ae.stack.split(`
`),S=g.stack.split(`
`),$=b.length-1,z=S.length-1;1<=$&&0<=z&&b[$]!==S[z];)z--;for(;1<=$&&0<=z;$--,z--)if(b[$]!==S[z]){if($!==1||z!==1)do if($--,z--,0>z||b[$]!==S[z]){var K=`
`+b[$].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=$&&0<=z);break}}}finally{ue=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?X(a):""}function Ae(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=Ee(a.type,!1),a;case 11:return a=Ee(a.type.render,!1),a;case 1:return a=Ee(a.type,!0),a;default:return""}}function fe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case N:return"Portal";case k:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case F:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return u=a.displayName||null,u!==null?u:fe(a.type)||"Memo";case G:u=a._payload,a=a._init;try{return fe(a(u))}catch{}}return null}function me(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function le(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Te(a){var u=le(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,S=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,S.call(this,$)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function be(a){a._valueTracker||(a._valueTracker=Te(a))}function ie(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=le(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function je(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Se(a,u){var h=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Me(a,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=we(u.value!=null?u.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ye(a,u){u=u.checked,u!=null&&O(a,"checked",u,!1)}function st(a,u){Ye(a,u);var h=we(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?_t(a,u.type,h):u.hasOwnProperty("defaultValue")&&_t(a,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Ge(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function _t(a,u,h){(u!=="number"||je(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var or=Array.isArray;function Lt(a,u,h,g){if(a=a.options,u){u={};for(var b=0;b<h.length;b++)u["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=u.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+we(h),u=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}u!==null||a[b].disabled||(u=a[b])}u!==null&&(u.selected=!0)}}function ar(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function nn(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(or(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:we(h)}}function Ur(a,u){var h=we(u.value),g=we(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function yn(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function $t(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?$t(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Li,Hl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(u,h,g,b)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Li.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Ao(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ia=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(a){Ia.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Pa[u]=Pa[a]})});function Kl(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||Pa.hasOwnProperty(a)&&Pa[a]?(""+u).trim():u+"px"}function Gl(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=Kl(h,u[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var Xl=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(a,u){if(u){if(Xl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ql(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Fs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Bs=null,_n=null,li=null;function Us(a){if(a=wc(a)){if(typeof Bs!="function")throw Error(r(280));var u=a.stateNode;u&&(u=od(u),Bs(a.stateNode,a.type,u))}}function ci(a){_n?li?li.push(a):li=[a]:_n=a}function Jl(){if(_n){var a=_n,u=li;if(li=_n=null,Us(a),u)for(a=0;a<u.length;a++)Us(u[a])}}function Ca(a,u){return a(u)}function Zl(){}var $i=!1;function ec(a,u,h){if($i)return a(u,h);$i=!0;try{return Ca(a,u,h)}finally{$i=!1,(_n!==null||li!==null)&&(Zl(),Jl())}}function Vt(a,u){var h=a.stateNode;if(h===null)return null;var g=od(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var qs=!1;if(l)try{var $n={};Object.defineProperty($n,"passive",{get:function(){qs=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{qs=!1}function ka(a,u,h,g,b,S,$,z,K){var ae=Array.prototype.slice.call(arguments,3);try{u.apply(h,ae)}catch(pe){this.onError(pe)}}var Ra=!1,zs=null,Vn=!1,tc=null,Zg={onError:function(a){Ra=!0,zs=a}};function Ws(a,u,h,g,b,S,$,z,K){Ra=!1,zs=null,ka.apply(Zg,arguments)}function Ch(a,u,h,g,b,S,$,z,K){if(Ws.apply(this,arguments),Ra){if(Ra){var ae=zs;Ra=!1,zs=null}else throw Error(r(198));Vn||(Vn=!0,tc=ae)}}function Fn(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function Na(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Bn(a){if(Fn(a)!==a)throw Error(r(188))}function kh(a){var u=a.alternate;if(!u){if(u=Fn(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,g=u;;){var b=h.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===h)return Bn(b),a;if(S===g)return Bn(b),u;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=b,g=S;else{for(var $=!1,z=b.child;z;){if(z===h){$=!0,h=b,g=S;break}if(z===g){$=!0,g=b,h=S;break}z=z.sibling}if(!$){for(z=S.child;z;){if(z===h){$=!0,h=S,g=b;break}if(z===g){$=!0,g=S,h=b;break}z=z.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function rc(a){return a=kh(a),a!==null?Hs(a):null}function Hs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Hs(a);if(u!==null)return u;a=a.sibling}return null}var Ks=e.unstable_scheduleCallback,nc=e.unstable_cancelCallback,Rh=e.unstable_shouldYield,ev=e.unstable_requestPaint,bt=e.unstable_now,Nh=e.unstable_getCurrentPriorityLevel,ja=e.unstable_ImmediatePriority,Po=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,ic=e.unstable_LowPriority,jh=e.unstable_IdlePriority,Ma=null,on=null;function Mh(a){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ma,a,void 0,(a.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Lh,oc=Math.log,Dh=Math.LN2;function Lh(a){return a>>>=0,a===0?32:31-(oc(a)/Dh|0)|0}var Gs=64,Xs=4194304;function Io(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Da(a,u){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,S=a.pingedLanes,$=h&268435455;if($!==0){var z=$&~b;z!==0?g=Io(z):(S&=$,S!==0&&(g=Io(S)))}else $=h&~b,$!==0?g=Io($):S!==0&&(g=Io(S));if(g===0)return 0;if(u!==0&&u!==g&&(u&b)===0&&(b=g&-g,S=u&-u,b>=S||b===16&&(S&4194240)!==0))return u;if((g&4)!==0&&(g|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)h=31-jr(u),b=1<<h,g|=a[h],u&=~b;return g}function tv(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes;0<S;){var $=31-jr(S),z=1<<$,K=b[$];K===-1?((z&h)===0||(z&g)!==0)&&(b[$]=tv(z,u)):K<=u&&(a.expiredLanes|=z),S&=~z}}function an(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function La(){var a=Gs;return Gs<<=1,(Gs&4194240)===0&&(Gs=64),a}function Oo(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Co(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-jr(u),a[u]=h}function vt(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-jr(h),S=1<<b;u[b]=0,g[b]=-1,a[b]=-1,h&=~S}}function ko(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-jr(h),b=1<<g;b&u|a[g]&u&&(a[g]|=u),h&=~b}}var rt=0;function Ro(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $h,Ys,Vh,Fh,Bh,ac=!1,fi=[],mr=null,Un=null,qn=null,No=new Map,wn=new Map,hi=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(a,u){switch(a){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":No.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(u.pointerId)}}function qr(a,u,h,g,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},u!==null&&(u=wc(u),u!==null&&Ys(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),a)}function nv(a,u,h,g,b){switch(u){case"focusin":return mr=qr(mr,a,u,h,g,b),!0;case"dragenter":return Un=qr(Un,a,u,h,g,b),!0;case"mouseover":return qn=qr(qn,a,u,h,g,b),!0;case"pointerover":var S=b.pointerId;return No.set(S,qr(No.get(S)||null,a,u,h,g,b)),!0;case"gotpointercapture":return S=b.pointerId,wn.set(S,qr(wn.get(S)||null,a,u,h,g,b)),!0}return!1}function qh(a){var u=Ua(a.target);if(u!==null){var h=Fn(u);if(h!==null){if(u=h.tag,u===13){if(u=Na(h),u!==null){a.blockedOn=u,Bh(a.priority,function(){Vh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Fi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=Qs(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Oa=g,h.target.dispatchEvent(g),Oa=null}else return u=wc(h),u!==null&&Ys(u),a.blockedOn=h,!1;u.shift()}return!0}function $a(a,u,h){Fi(a)&&h.delete(u)}function zh(){ac=!1,mr!==null&&Fi(mr)&&(mr=null),Un!==null&&Fi(Un)&&(Un=null),qn!==null&&Fi(qn)&&(qn=null),No.forEach($a),wn.forEach($a)}function zn(a,u){a.blockedOn===u&&(a.blockedOn=null,ac||(ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zh)))}function Wn(a){function u(b){return zn(b,a)}if(0<fi.length){zn(fi[0],a);for(var h=1;h<fi.length;h++){var g=fi[h];g.blockedOn===a&&(g.blockedOn=null)}}for(mr!==null&&zn(mr,a),Un!==null&&zn(Un,a),qn!==null&&zn(qn,a),No.forEach(u),wn.forEach(u),h=0;h<hi.length;h++)g=hi[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<hi.length&&(h=hi[0],h.blockedOn===null);)qh(h),h.blockedOn===null&&hi.shift()}var Bi=M.ReactCurrentBatchConfig,jo=!0;function It(a,u,h,g){var b=rt,S=Bi.transition;Bi.transition=null;try{rt=1,sc(a,u,h,g)}finally{rt=b,Bi.transition=S}}function iv(a,u,h,g){var b=rt,S=Bi.transition;Bi.transition=null;try{rt=4,sc(a,u,h,g)}finally{rt=b,Bi.transition=S}}function sc(a,u,h,g){if(jo){var b=Qs(a,u,h,g);if(b===null)mv(a,u,g,Va,h),Uh(a,g);else if(nv(b,a,u,h,g))g.stopPropagation();else if(Uh(a,g),u&4&&-1<rv.indexOf(a)){for(;b!==null;){var S=wc(b);if(S!==null&&$h(S),S=Qs(a,u,h,g),S===null&&mv(a,u,g,Va,h),S===b)break;b=S}b!==null&&g.stopPropagation()}else mv(a,u,g,null,h)}}var Va=null;function Qs(a,u,h,g){if(Va=null,a=Fs(g),a=Ua(a),a!==null)if(u=Fn(a),u===null)a=null;else if(h=u.tag,h===13){if(a=Na(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Va=a,null}function uc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case ja:return 1;case Po:return 4;case bn:case ic:return 16;case jh:return 536870912;default:return 16}default:return 16}}var sn=null,Js=null,zr=null;function lc(){if(zr)return zr;var a,u=Js,h=u.length,g,b="value"in sn?sn.value:sn.textContent,S=b.length;for(a=0;a<h&&u[a]===b[a];a++);var $=h-a;for(g=1;g<=$&&u[h-g]===b[S-g];g++);return zr=b.slice(a,1<g?1-g:void 0)}function Zs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function di(){return!0}function cc(){return!1}function gr(a){function u(h,g,b,S,$){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(h=a[z],this[z]=h?h(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?di:cc,this.isPropagationStopped=cc,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),u}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=gr(Hn),pi=ne({},Hn,{view:0,detail:0}),ov=gr(pi),tu,Ui,Mo,Fa=ne({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mo&&(Mo&&a.type==="mousemove"?(tu=a.screenX-Mo.screenX,Ui=a.screenY-Mo.screenY):Ui=tu=0,Mo=a),tu)},movementY:function(a){return"movementY"in a?a.movementY:Ui}}),ru=gr(Fa),fc=ne({},Fa,{dataTransfer:0}),Wh=gr(fc),nu=ne({},pi,{relatedTarget:0}),iu=gr(nu),Hh=ne({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),qi=gr(Hh),Kh=ne({},Hn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Gh=gr(Kh),Xh=ne({},Hn,{data:0}),hc=gr(Xh),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Yh[a])?!!u[a]:!1}function mi(){return Qh}var m=ne({},pi,{key:function(a){if(a.key){var u=ou[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Mr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(a){return a.type==="keypress"?Zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=gr(m),R=ne({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=gr(R),Z=ne({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),se=gr(Z),xe=ne({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=gr(xe),Gt=ne({},Fa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=gr(Gt),sr=[9,13,27,32],Ut=l&&"CompositionEvent"in window,xn=null;l&&"documentMode"in document&&(xn=document.documentMode);var un=l&&"TextEvent"in window&&!xn,Ba=l&&(!Ut||xn&&8<xn&&11>=xn),au=" ",BS=!1;function US(a,u){switch(a){case"keyup":return sr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function h3(a,u){switch(a){case"compositionend":return qS(u);case"keypress":return u.which!==32?null:(BS=!0,au);case"textInput":return a=u.data,a===au&&BS?null:a;default:return null}}function d3(a,u){if(su)return a==="compositionend"||!Ut&&US(a,u)?(a=lc(),zr=Js=sn=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ba&&u.locale!=="ko"?null:u.data;default:return null}}var p3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zS(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!p3[a.type]:u==="textarea"}function WS(a,u,h,g){ci(g),u=rd(u,"onChange"),0<u.length&&(h=new eu("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var dc=null,pc=null;function m3(a){lT(a,0)}function Jh(a){var u=hu(a);if(ie(u))return a}function g3(a,u){if(a==="change")return u}var HS=!1;if(l){var av;if(l){var sv="oninput"in document;if(!sv){var KS=document.createElement("div");KS.setAttribute("oninput","return;"),sv=typeof KS.oninput=="function"}av=sv}else av=!1;HS=av&&(!document.documentMode||9<document.documentMode)}function GS(){dc&&(dc.detachEvent("onpropertychange",XS),pc=dc=null)}function XS(a){if(a.propertyName==="value"&&Jh(pc)){var u=[];WS(u,pc,a,Fs(a)),ec(m3,u)}}function v3(a,u,h){a==="focusin"?(GS(),dc=u,pc=h,dc.attachEvent("onpropertychange",XS)):a==="focusout"&&GS()}function y3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jh(pc)}function _3(a,u){if(a==="click")return Jh(u)}function b3(a,u){if(a==="input"||a==="change")return Jh(u)}function w3(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Kn=typeof Object.is=="function"?Object.is:w3;function mc(a,u){if(Kn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!c.call(u,b)||!Kn(a[b],u[b]))return!1}return!0}function YS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function QS(a,u){var h=YS(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=YS(h)}}function JS(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?JS(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function ZS(){for(var a=window,u=je();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=je(a.document)}return u}function uv(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function x3(a){var u=ZS(),h=a.focusedElem,g=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&JS(h.ownerDocument.documentElement,h)){if(g!==null&&uv(h)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!a.extend&&S>g&&(b=g,g=S,S=b),b=QS(h,S);var $=QS(h,g);b&&$&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),a.removeAllRanges(),S>g?(a.addRange(u),a.extend($.node,$.offset)):(u.setEnd($.node,$.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var E3=l&&"documentMode"in document&&11>=document.documentMode,uu=null,lv=null,gc=null,cv=!1;function eT(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;cv||uu==null||uu!==je(g)||(g=uu,"selectionStart"in g&&uv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gc&&mc(gc,g)||(gc=g,g=rd(lv,"onSelect"),0<g.length&&(u=new eu("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=uu)))}function Zh(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var lu={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},fv={},tT={};l&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function ed(a){if(fv[a])return fv[a];if(!lu[a])return a;var u=lu[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in tT)return fv[a]=u[h];return a}var rT=ed("animationend"),nT=ed("animationiteration"),iT=ed("animationstart"),oT=ed("transitionend"),aT=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(a,u){aT.set(a,u),o(u,[a])}for(var hv=0;hv<sT.length;hv++){var dv=sT[hv],S3=dv.toLowerCase(),T3=dv[0].toUpperCase()+dv.slice(1);Do(S3,"on"+T3)}Do(rT,"onAnimationEnd"),Do(nT,"onAnimationIteration"),Do(iT,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(oT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A3=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function uT(a,u,h){var g=a.type||"unknown-event";a.currentTarget=h,Ch(g,u,void 0,a),a.currentTarget=null}function lT(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var $=g.length-1;0<=$;$--){var z=g[$],K=z.instance,ae=z.currentTarget;if(z=z.listener,K!==S&&b.isPropagationStopped())break e;uT(b,z,ae),S=K}else for($=0;$<g.length;$++){if(z=g[$],K=z.instance,ae=z.currentTarget,z=z.listener,K!==S&&b.isPropagationStopped())break e;uT(b,z,ae),S=K}}}if(Vn)throw a=tc,Vn=!1,tc=null,a}function Tt(a,u){var h=u[wv];h===void 0&&(h=u[wv]=new Set);var g=a+"__bubble";h.has(g)||(cT(u,a,2,!1),h.add(g))}function pv(a,u,h){var g=0;u&&(g|=4),cT(h,a,g,u)}var td="_reactListening"+Math.random().toString(36).slice(2);function yc(a){if(!a[td]){a[td]=!0,n.forEach(function(h){h!=="selectionchange"&&(A3.has(h)||pv(h,!1,a),pv(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[td]||(u[td]=!0,pv("selectionchange",!1,u))}}function cT(a,u,h,g){switch(uc(u)){case 1:var b=It;break;case 4:b=iv;break;default:b=sc}h=b.bind(null,u,h,a),b=void 0,!qs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(u,h,{capture:!0,passive:b}):a.addEventListener(u,h,!0):b!==void 0?a.addEventListener(u,h,{passive:b}):a.addEventListener(u,h,!1)}function mv(a,u,h,g,b){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var z=g.stateNode.containerInfo;if(z===b||z.nodeType===8&&z.parentNode===b)break;if($===4)for($=g.return;$!==null;){var K=$.tag;if((K===3||K===4)&&(K=$.stateNode.containerInfo,K===b||K.nodeType===8&&K.parentNode===b))return;$=$.return}for(;z!==null;){if($=Ua(z),$===null)return;if(K=$.tag,K===5||K===6){g=S=$;continue e}z=z.parentNode}}g=g.return}ec(function(){var ae=S,pe=Fs(h),ge=[];e:{var de=aT.get(a);if(de!==void 0){var Pe=eu,ke=a;switch(a){case"keypress":if(Zs(h)===0)break e;case"keydown":case"keyup":Pe=E;break;case"focusin":ke="focus",Pe=iu;break;case"focusout":ke="blur",Pe=iu;break;case"beforeblur":case"afterblur":Pe=iu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=se;break;case rT:case nT:case iT:Pe=qi;break;case oT:Pe=mt;break;case"scroll":Pe=ov;break;case"wheel":Pe=nt;break;case"copy":case"cut":case"paste":Pe=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=B}var Re=(u&4)!==0,Ft=!Re&&a==="scroll",ee=Re?de!==null?de+"Capture":null:de;Re=[];for(var Y=ae,re;Y!==null;){re=Y;var _e=re.stateNode;if(re.tag===5&&_e!==null&&(re=_e,ee!==null&&(_e=Vt(Y,ee),_e!=null&&Re.push(_c(Y,_e,re)))),Ft)break;Y=Y.return}0<Re.length&&(de=new Pe(de,ke,null,h,pe),ge.push({event:de,listeners:Re}))}}if((u&7)===0){e:{if(de=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",de&&h!==Oa&&(ke=h.relatedTarget||h.fromElement)&&(Ua(ke)||ke[zi]))break e;if((Pe||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,Pe?(ke=h.relatedTarget||h.toElement,Pe=ae,ke=ke?Ua(ke):null,ke!==null&&(Ft=Fn(ke),ke!==Ft||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Pe=null,ke=ae),Pe!==ke)){if(Re=ru,_e="onMouseLeave",ee="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Re=B,_e="onPointerLeave",ee="onPointerEnter",Y="pointer"),Ft=Pe==null?de:hu(Pe),re=ke==null?de:hu(ke),de=new Re(_e,Y+"leave",Pe,h,pe),de.target=Ft,de.relatedTarget=re,_e=null,Ua(pe)===ae&&(Re=new Re(ee,Y+"enter",ke,h,pe),Re.target=re,Re.relatedTarget=Ft,_e=Re),Ft=_e,Pe&&ke)t:{for(Re=Pe,ee=ke,Y=0,re=Re;re;re=cu(re))Y++;for(re=0,_e=ee;_e;_e=cu(_e))re++;for(;0<Y-re;)Re=cu(Re),Y--;for(;0<re-Y;)ee=cu(ee),re--;for(;Y--;){if(Re===ee||ee!==null&&Re===ee.alternate)break t;Re=cu(Re),ee=cu(ee)}Re=null}else Re=null;Pe!==null&&fT(ge,de,Pe,Re,!1),ke!==null&&Ft!==null&&fT(ge,Ft,ke,Re,!0)}}e:{if(de=ae?hu(ae):window,Pe=de.nodeName&&de.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&de.type==="file")var Ne=g3;else if(zS(de))if(HS)Ne=b3;else{Ne=y3;var Le=v3}else(Pe=de.nodeName)&&Pe.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ne=_3);if(Ne&&(Ne=Ne(a,ae))){WS(ge,Ne,h,pe);break e}Le&&Le(a,de,ae),a==="focusout"&&(Le=de._wrapperState)&&Le.controlled&&de.type==="number"&&_t(de,"number",de.value)}switch(Le=ae?hu(ae):window,a){case"focusin":(zS(Le)||Le.contentEditable==="true")&&(uu=Le,lv=ae,gc=null);break;case"focusout":gc=lv=uu=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,eT(ge,h,pe);break;case"selectionchange":if(E3)break;case"keydown":case"keyup":eT(ge,h,pe)}var $e;if(Ut)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else su?US(a,h)&&(We="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Ba&&h.locale!=="ko"&&(su||We!=="onCompositionStart"?We==="onCompositionEnd"&&su&&($e=lc()):(sn=pe,Js="value"in sn?sn.value:sn.textContent,su=!0)),Le=rd(ae,We),0<Le.length&&(We=new hc(We,a,null,h,pe),ge.push({event:We,listeners:Le}),$e?We.data=$e:($e=qS(h),$e!==null&&(We.data=$e)))),($e=un?h3(a,h):d3(a,h))&&(ae=rd(ae,"onBeforeInput"),0<ae.length&&(pe=new hc("onBeforeInput","beforeinput",null,h,pe),ge.push({event:pe,listeners:ae}),pe.data=$e))}lT(ge,u)})}function _c(a,u,h){return{instance:a,listener:u,currentTarget:h}}function rd(a,u){for(var h=u+"Capture",g=[];a!==null;){var b=a,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Vt(a,h),S!=null&&g.unshift(_c(a,S,b)),S=Vt(a,u),S!=null&&g.push(_c(a,S,b))),a=a.return}return g}function cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function fT(a,u,h,g,b){for(var S=u._reactName,$=[];h!==null&&h!==g;){var z=h,K=z.alternate,ae=z.stateNode;if(K!==null&&K===g)break;z.tag===5&&ae!==null&&(z=ae,b?(K=Vt(h,S),K!=null&&$.unshift(_c(h,K,z))):b||(K=Vt(h,S),K!=null&&$.push(_c(h,K,z)))),h=h.return}$.length!==0&&a.push({event:u,listeners:$})}var P3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function hT(a){return(typeof a=="string"?a:""+a).replace(P3,`
`).replace(I3,"")}function nd(a,u,h){if(u=hT(u),hT(a)!==u&&h)throw Error(r(425))}function id(){}var gv=null,vv=null;function yv(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var _v=typeof setTimeout=="function"?setTimeout:void 0,O3=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(a){return dT.resolve(null).then(a).catch(k3)}:_v;function k3(a){setTimeout(function(){throw a})}function bv(a,u){var h=u,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),Wn(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Wn(u)}function Lo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function pT(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var fu=Math.random().toString(36).slice(2),gi="__reactFiber$"+fu,bc="__reactProps$"+fu,zi="__reactContainer$"+fu,wv="__reactEvents$"+fu,R3="__reactListeners$"+fu,N3="__reactHandles$"+fu;function Ua(a){var u=a[gi];if(u)return u;for(var h=a.parentNode;h;){if(u=h[zi]||h[gi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=pT(a);a!==null;){if(h=a[gi])return h;a=pT(a)}return u}a=h,h=a.parentNode}return null}function wc(a){return a=a[gi]||a[zi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function hu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function od(a){return a[bc]||null}var xv=[],du=-1;function $o(a){return{current:a}}function At(a){0>du||(a.current=xv[du],xv[du]=null,du--)}function wt(a,u){du++,xv[du]=a.current,a.current=u}var Vo={},Sr=$o(Vo),Wr=$o(!1),qa=Vo;function pu(a,u){var h=a.type.contextTypes;if(!h)return Vo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in h)b[S]=u[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function Hr(a){return a=a.childContextTypes,a!=null}function ad(){At(Wr),At(Sr)}function mT(a,u,h){if(Sr.current!==Vo)throw Error(r(168));wt(Sr,u),wt(Wr,h)}function gT(a,u,h){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(r(108,me(a)||"Unknown",b));return ne({},h,g)}function sd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vo,qa=Sr.current,wt(Sr,a),wt(Wr,Wr.current),!0}function vT(a,u,h){var g=a.stateNode;if(!g)throw Error(r(169));h?(a=gT(a,u,qa),g.__reactInternalMemoizedMergedChildContext=a,At(Wr),At(Sr),wt(Sr,a)):At(Wr),wt(Wr,h)}var Wi=null,ud=!1,Ev=!1;function yT(a){Wi===null?Wi=[a]:Wi.push(a)}function j3(a){ud=!0,yT(a)}function Fo(){if(!Ev&&Wi!==null){Ev=!0;var a=0,u=rt;try{var h=Wi;for(rt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Wi=null,ud=!1}catch(b){throw Wi!==null&&(Wi=Wi.slice(a+1)),Ks(ja,Fo),b}finally{rt=u,Ev=!1}}return null}var mu=[],gu=0,ld=null,cd=0,En=[],Sn=0,za=null,Hi=1,Ki="";function Wa(a,u){mu[gu++]=cd,mu[gu++]=ld,ld=a,cd=u}function _T(a,u,h){En[Sn++]=Hi,En[Sn++]=Ki,En[Sn++]=za,za=a;var g=Hi;a=Ki;var b=32-jr(g)-1;g&=~(1<<b),h+=1;var S=32-jr(u)+b;if(30<S){var $=b-b%5;S=(g&(1<<$)-1).toString(32),g>>=$,b-=$,Hi=1<<32-jr(u)+b|h<<b|g,Ki=S+a}else Hi=1<<S|h<<b|g,Ki=a}function Sv(a){a.return!==null&&(Wa(a,1),_T(a,1,0))}function Tv(a){for(;a===ld;)ld=mu[--gu],mu[gu]=null,cd=mu[--gu],mu[gu]=null;for(;a===za;)za=En[--Sn],En[Sn]=null,Ki=En[--Sn],En[Sn]=null,Hi=En[--Sn],En[Sn]=null}var ln=null,cn=null,Ot=!1,Gn=null;function bT(a,u){var h=In(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function wT(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,ln=a,cn=Lo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,ln=a,cn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=za!==null?{id:Hi,overflow:Ki}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=In(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,ln=a,cn=null,!0):!1;default:return!1}}function Av(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Pv(a){if(Ot){var u=cn;if(u){var h=u;if(!wT(a,u)){if(Av(a))throw Error(r(418));u=Lo(h.nextSibling);var g=ln;u&&wT(a,u)?bT(g,h):(a.flags=a.flags&-4097|2,Ot=!1,ln=a)}}else{if(Av(a))throw Error(r(418));a.flags=a.flags&-4097|2,Ot=!1,ln=a}}}function xT(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ln=a}function fd(a){if(a!==ln)return!1;if(!Ot)return xT(a),Ot=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!yv(a.type,a.memoizedProps)),u&&(u=cn)){if(Av(a))throw ET(),Error(r(418));for(;u;)bT(a,u),u=Lo(u.nextSibling)}if(xT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){cn=Lo(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}cn=null}}else cn=ln?Lo(a.stateNode.nextSibling):null;return!0}function ET(){for(var a=cn;a;)a=Lo(a.nextSibling)}function vu(){cn=ln=null,Ot=!1}function Iv(a){Gn===null?Gn=[a]:Gn.push(a)}var M3=M.ReactCurrentBatchConfig;function xc(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,a));var b=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function($){var z=b.refs;$===null?delete z[S]:z[S]=$},u._stringRef=S,u)}if(typeof a!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,a))}return a}function hd(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function ST(a){var u=a._init;return u(a._payload)}function TT(a){function u(ee,Y){if(a){var re=ee.deletions;re===null?(ee.deletions=[Y],ee.flags|=16):re.push(Y)}}function h(ee,Y){if(!a)return null;for(;Y!==null;)u(ee,Y),Y=Y.sibling;return null}function g(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function b(ee,Y){return ee=Go(ee,Y),ee.index=0,ee.sibling=null,ee}function S(ee,Y,re){return ee.index=re,a?(re=ee.alternate,re!==null?(re=re.index,re<Y?(ee.flags|=2,Y):re):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function $(ee){return a&&ee.alternate===null&&(ee.flags|=2),ee}function z(ee,Y,re,_e){return Y===null||Y.tag!==6?(Y=_y(re,ee.mode,_e),Y.return=ee,Y):(Y=b(Y,re),Y.return=ee,Y)}function K(ee,Y,re,_e){var Ne=re.type;return Ne===P?pe(ee,Y,re.props.children,_e,re.key):Y!==null&&(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===G&&ST(Ne)===Y.type)?(_e=b(Y,re.props),_e.ref=xc(ee,Y,re),_e.return=ee,_e):(_e=Dd(re.type,re.key,re.props,null,ee.mode,_e),_e.ref=xc(ee,Y,re),_e.return=ee,_e)}function ae(ee,Y,re,_e){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=by(re,ee.mode,_e),Y.return=ee,Y):(Y=b(Y,re.children||[]),Y.return=ee,Y)}function pe(ee,Y,re,_e,Ne){return Y===null||Y.tag!==7?(Y=Za(re,ee.mode,_e,Ne),Y.return=ee,Y):(Y=b(Y,re),Y.return=ee,Y)}function ge(ee,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=_y(""+Y,ee.mode,re),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return re=Dd(Y.type,Y.key,Y.props,null,ee.mode,re),re.ref=xc(ee,null,Y),re.return=ee,re;case N:return Y=by(Y,ee.mode,re),Y.return=ee,Y;case G:var _e=Y._init;return ge(ee,_e(Y._payload),re)}if(or(Y)||oe(Y))return Y=Za(Y,ee.mode,re,null),Y.return=ee,Y;hd(ee,Y)}return null}function de(ee,Y,re,_e){var Ne=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Ne!==null?null:z(ee,Y,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return re.key===Ne?K(ee,Y,re,_e):null;case N:return re.key===Ne?ae(ee,Y,re,_e):null;case G:return Ne=re._init,de(ee,Y,Ne(re._payload),_e)}if(or(re)||oe(re))return Ne!==null?null:pe(ee,Y,re,_e,null);hd(ee,re)}return null}function Pe(ee,Y,re,_e,Ne){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return ee=ee.get(re)||null,z(Y,ee,""+_e,Ne);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case C:return ee=ee.get(_e.key===null?re:_e.key)||null,K(Y,ee,_e,Ne);case N:return ee=ee.get(_e.key===null?re:_e.key)||null,ae(Y,ee,_e,Ne);case G:var Le=_e._init;return Pe(ee,Y,re,Le(_e._payload),Ne)}if(or(_e)||oe(_e))return ee=ee.get(re)||null,pe(Y,ee,_e,Ne,null);hd(Y,_e)}return null}function ke(ee,Y,re,_e){for(var Ne=null,Le=null,$e=Y,We=Y=0,cr=null;$e!==null&&We<re.length;We++){$e.index>We?(cr=$e,$e=null):cr=$e.sibling;var ut=de(ee,$e,re[We],_e);if(ut===null){$e===null&&($e=cr);break}a&&$e&&ut.alternate===null&&u(ee,$e),Y=S(ut,Y,We),Le===null?Ne=ut:Le.sibling=ut,Le=ut,$e=cr}if(We===re.length)return h(ee,$e),Ot&&Wa(ee,We),Ne;if($e===null){for(;We<re.length;We++)$e=ge(ee,re[We],_e),$e!==null&&(Y=S($e,Y,We),Le===null?Ne=$e:Le.sibling=$e,Le=$e);return Ot&&Wa(ee,We),Ne}for($e=g(ee,$e);We<re.length;We++)cr=Pe($e,ee,We,re[We],_e),cr!==null&&(a&&cr.alternate!==null&&$e.delete(cr.key===null?We:cr.key),Y=S(cr,Y,We),Le===null?Ne=cr:Le.sibling=cr,Le=cr);return a&&$e.forEach(function(Xo){return u(ee,Xo)}),Ot&&Wa(ee,We),Ne}function Re(ee,Y,re,_e){var Ne=oe(re);if(typeof Ne!="function")throw Error(r(150));if(re=Ne.call(re),re==null)throw Error(r(151));for(var Le=Ne=null,$e=Y,We=Y=0,cr=null,ut=re.next();$e!==null&&!ut.done;We++,ut=re.next()){$e.index>We?(cr=$e,$e=null):cr=$e.sibling;var Xo=de(ee,$e,ut.value,_e);if(Xo===null){$e===null&&($e=cr);break}a&&$e&&Xo.alternate===null&&u(ee,$e),Y=S(Xo,Y,We),Le===null?Ne=Xo:Le.sibling=Xo,Le=Xo,$e=cr}if(ut.done)return h(ee,$e),Ot&&Wa(ee,We),Ne;if($e===null){for(;!ut.done;We++,ut=re.next())ut=ge(ee,ut.value,_e),ut!==null&&(Y=S(ut,Y,We),Le===null?Ne=ut:Le.sibling=ut,Le=ut);return Ot&&Wa(ee,We),Ne}for($e=g(ee,$e);!ut.done;We++,ut=re.next())ut=Pe($e,ee,We,ut.value,_e),ut!==null&&(a&&ut.alternate!==null&&$e.delete(ut.key===null?We:ut.key),Y=S(ut,Y,We),Le===null?Ne=ut:Le.sibling=ut,Le=ut);return a&&$e.forEach(function(pF){return u(ee,pF)}),Ot&&Wa(ee,We),Ne}function Ft(ee,Y,re,_e){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case C:e:{for(var Ne=re.key,Le=Y;Le!==null;){if(Le.key===Ne){if(Ne=re.type,Ne===P){if(Le.tag===7){h(ee,Le.sibling),Y=b(Le,re.props.children),Y.return=ee,ee=Y;break e}}else if(Le.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===G&&ST(Ne)===Le.type){h(ee,Le.sibling),Y=b(Le,re.props),Y.ref=xc(ee,Le,re),Y.return=ee,ee=Y;break e}h(ee,Le);break}else u(ee,Le);Le=Le.sibling}re.type===P?(Y=Za(re.props.children,ee.mode,_e,re.key),Y.return=ee,ee=Y):(_e=Dd(re.type,re.key,re.props,null,ee.mode,_e),_e.ref=xc(ee,Y,re),_e.return=ee,ee=_e)}return $(ee);case N:e:{for(Le=re.key;Y!==null;){if(Y.key===Le)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){h(ee,Y.sibling),Y=b(Y,re.children||[]),Y.return=ee,ee=Y;break e}else{h(ee,Y);break}else u(ee,Y);Y=Y.sibling}Y=by(re,ee.mode,_e),Y.return=ee,ee=Y}return $(ee);case G:return Le=re._init,Ft(ee,Y,Le(re._payload),_e)}if(or(re))return ke(ee,Y,re,_e);if(oe(re))return Re(ee,Y,re,_e);hd(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(h(ee,Y.sibling),Y=b(Y,re),Y.return=ee,ee=Y):(h(ee,Y),Y=_y(re,ee.mode,_e),Y.return=ee,ee=Y),$(ee)):h(ee,Y)}return Ft}var yu=TT(!0),AT=TT(!1),dd=$o(null),pd=null,_u=null,Ov=null;function Cv(){Ov=_u=pd=null}function kv(a){var u=dd.current;At(dd),a._currentValue=u}function Rv(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function bu(a,u){pd=a,Ov=_u=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Kr=!0),a.firstContext=null)}function Tn(a){var u=a._currentValue;if(Ov!==a)if(a={context:a,memoizedValue:u,next:null},_u===null){if(pd===null)throw Error(r(308));_u=a,pd.dependencies={lanes:0,firstContext:a}}else _u=_u.next=a;return u}var Ha=null;function Nv(a){Ha===null?Ha=[a]:Ha.push(a)}function PT(a,u,h,g){var b=u.interleaved;return b===null?(h.next=h,Nv(u)):(h.next=b.next,b.next=h),u.interleaved=h,Gi(a,g)}function Gi(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Bo=!1;function jv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IT(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Xi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Uo(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,Gi(a,h)}return b=g.interleaved,b===null?(u.next=u,Nv(g)):(u.next=b.next,b.next=u),g.interleaved=u,Gi(a,h)}function md(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,ko(a,h)}}function OT(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?b=S=$:S=S.next=$,h=h.next}while(h!==null);S===null?b=S=u:S=S.next=u}else b=S=u;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function gd(a,u,h,g){var b=a.updateQueue;Bo=!1;var S=b.firstBaseUpdate,$=b.lastBaseUpdate,z=b.shared.pending;if(z!==null){b.shared.pending=null;var K=z,ae=K.next;K.next=null,$===null?S=ae:$.next=ae,$=K;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==$&&(z===null?pe.firstBaseUpdate=ae:z.next=ae,pe.lastBaseUpdate=K))}if(S!==null){var ge=b.baseState;$=0,pe=ae=K=null,z=S;do{var de=z.lane,Pe=z.eventTime;if((g&de)===de){pe!==null&&(pe=pe.next={eventTime:Pe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ke=a,Re=z;switch(de=u,Pe=h,Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){ge=ke.call(Pe,ge,de);break e}ge=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,de=typeof ke=="function"?ke.call(Pe,ge,de):ke,de==null)break e;ge=ne({},ge,de);break e;case 2:Bo=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,de=b.effects,de===null?b.effects=[z]:de.push(z))}else Pe={eventTime:Pe,lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(ae=pe=Pe,K=ge):pe=pe.next=Pe,$|=de;if(z=z.next,z===null){if(z=b.shared.pending,z===null)break;de=z,z=de.next,de.next=null,b.lastBaseUpdate=de,b.shared.pending=null}}while(!0);if(pe===null&&(K=ge),b.baseState=K,b.firstBaseUpdate=ae,b.lastBaseUpdate=pe,u=b.shared.interleaved,u!==null){b=u;do $|=b.lane,b=b.next;while(b!==u)}else S===null&&(b.shared.lanes=0);Xa|=$,a.lanes=$,a.memoizedState=ge}}function CT(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var Ec={},vi=$o(Ec),Sc=$o(Ec),Tc=$o(Ec);function Ka(a){if(a===Ec)throw Error(r(174));return a}function Mv(a,u){switch(wt(Tc,u),wt(Sc,a),wt(vi,Ec),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Kt(u,a)}At(vi),wt(vi,u)}function wu(){At(vi),At(Sc),At(Tc)}function kT(a){Ka(Tc.current);var u=Ka(vi.current),h=Kt(u,a.type);u!==h&&(wt(Sc,a),wt(vi,h))}function Dv(a){Sc.current===a&&(At(vi),At(Sc))}var kt=$o(0);function vd(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Lv=[];function $v(){for(var a=0;a<Lv.length;a++)Lv[a]._workInProgressVersionPrimary=null;Lv.length=0}var yd=M.ReactCurrentDispatcher,Vv=M.ReactCurrentBatchConfig,Ga=0,Rt=null,Xt=null,ur=null,_d=!1,Ac=!1,Pc=0,D3=0;function Tr(){throw Error(r(321))}function Fv(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!Kn(a[h],u[h]))return!1;return!0}function Bv(a,u,h,g,b,S){if(Ga=S,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,yd.current=a===null||a.memoizedState===null?F3:B3,a=h(g,b),Ac){S=0;do{if(Ac=!1,Pc=0,25<=S)throw Error(r(301));S+=1,ur=Xt=null,u.updateQueue=null,yd.current=U3,a=h(g,b)}while(Ac)}if(yd.current=xd,u=Xt!==null&&Xt.next!==null,Ga=0,ur=Xt=Rt=null,_d=!1,u)throw Error(r(300));return a}function Uv(){var a=Pc!==0;return Pc=0,a}function yi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Rt.memoizedState=ur=a:ur=ur.next=a,ur}function An(){if(Xt===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=Xt.next;var u=ur===null?Rt.memoizedState:ur.next;if(u!==null)ur=u,Xt=a;else{if(a===null)throw Error(r(310));Xt=a,a={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ur===null?Rt.memoizedState=ur=a:ur=ur.next=a}return ur}function Ic(a,u){return typeof u=="function"?u(a):u}function qv(a){var u=An(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=Xt,b=g.baseQueue,S=h.pending;if(S!==null){if(b!==null){var $=b.next;b.next=S.next,S.next=$}g.baseQueue=b=S,h.pending=null}if(b!==null){S=b.next,g=g.baseState;var z=$=null,K=null,ae=S;do{var pe=ae.lane;if((Ga&pe)===pe)K!==null&&(K=K.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:a(g,ae.action);else{var ge={lane:pe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};K===null?(z=K=ge,$=g):K=K.next=ge,Rt.lanes|=pe,Xa|=pe}ae=ae.next}while(ae!==null&&ae!==S);K===null?$=g:K.next=z,Kn(g,u.memoizedState)||(Kr=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=K,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do S=b.lane,Rt.lanes|=S,Xa|=S,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function zv(a){var u=An(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,S=u.memoizedState;if(b!==null){h.pending=null;var $=b=b.next;do S=a(S,$.action),$=$.next;while($!==b);Kn(S,u.memoizedState)||(Kr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function RT(){}function NT(a,u){var h=Rt,g=An(),b=u(),S=!Kn(g.memoizedState,b);if(S&&(g.memoizedState=b,Kr=!0),g=g.queue,Wv(DT.bind(null,h,g,a),[a]),g.getSnapshot!==u||S||ur!==null&&ur.memoizedState.tag&1){if(h.flags|=2048,Oc(9,MT.bind(null,h,g,b,u),void 0,null),lr===null)throw Error(r(349));(Ga&30)!==0||jT(h,u,b)}return b}function jT(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function MT(a,u,h,g){u.value=h,u.getSnapshot=g,LT(u)&&$T(a)}function DT(a,u,h){return h(function(){LT(u)&&$T(a)})}function LT(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!Kn(a,h)}catch{return!0}}function $T(a){var u=Gi(a,1);u!==null&&Jn(u,a,1,-1)}function VT(a){var u=yi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:a},u.queue=a,a=a.dispatch=V3.bind(null,Rt,a),[u.memoizedState,a]}function Oc(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a)),a}function FT(){return An().memoizedState}function bd(a,u,h,g){var b=yi();Rt.flags|=a,b.memoizedState=Oc(1|u,h,void 0,g===void 0?null:g)}function wd(a,u,h,g){var b=An();g=g===void 0?null:g;var S=void 0;if(Xt!==null){var $=Xt.memoizedState;if(S=$.destroy,g!==null&&Fv(g,$.deps)){b.memoizedState=Oc(u,h,S,g);return}}Rt.flags|=a,b.memoizedState=Oc(1|u,h,S,g)}function BT(a,u){return bd(8390656,8,a,u)}function Wv(a,u){return wd(2048,8,a,u)}function UT(a,u){return wd(4,2,a,u)}function qT(a,u){return wd(4,4,a,u)}function zT(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function WT(a,u,h){return h=h!=null?h.concat([a]):null,wd(4,4,zT.bind(null,u,a),h)}function Hv(){}function HT(a,u){var h=An();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Fv(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function KT(a,u){var h=An();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Fv(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function GT(a,u,h){return(Ga&21)===0?(a.baseState&&(a.baseState=!1,Kr=!0),a.memoizedState=h):(Kn(h,u)||(h=La(),Rt.lanes|=h,Xa|=h,a.baseState=!0),u)}function L3(a,u){var h=rt;rt=h!==0&&4>h?h:4,a(!0);var g=Vv.transition;Vv.transition={};try{a(!1),u()}finally{rt=h,Vv.transition=g}}function XT(){return An().memoizedState}function $3(a,u,h){var g=Ho(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},YT(a))QT(u,h);else if(h=PT(a,u,h,g),h!==null){var b=Lr();Jn(h,a,g,b),JT(h,u,g)}}function V3(a,u,h){var g=Ho(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(YT(a))QT(u,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var $=u.lastRenderedState,z=S($,h);if(b.hasEagerState=!0,b.eagerState=z,Kn(z,$)){var K=u.interleaved;K===null?(b.next=b,Nv(u)):(b.next=K.next,K.next=b),u.interleaved=b;return}}catch{}finally{}h=PT(a,u,b,g),h!==null&&(b=Lr(),Jn(h,a,g,b),JT(h,u,g))}}function YT(a){var u=a.alternate;return a===Rt||u!==null&&u===Rt}function QT(a,u){Ac=_d=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function JT(a,u,h){if((h&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,ko(a,h)}}var xd={readContext:Tn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},F3={readContext:Tn,useCallback:function(a,u){return yi().memoizedState=[a,u===void 0?null:u],a},useContext:Tn,useEffect:BT,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,bd(4194308,4,zT.bind(null,u,a),h)},useLayoutEffect:function(a,u){return bd(4194308,4,a,u)},useInsertionEffect:function(a,u){return bd(4,2,a,u)},useMemo:function(a,u){var h=yi();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=yi();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=$3.bind(null,Rt,a),[g.memoizedState,a]},useRef:function(a){var u=yi();return a={current:a},u.memoizedState=a},useState:VT,useDebugValue:Hv,useDeferredValue:function(a){return yi().memoizedState=a},useTransition:function(){var a=VT(!1),u=a[0];return a=L3.bind(null,a[1]),yi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var g=Rt,b=yi();if(Ot){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),lr===null)throw Error(r(349));(Ga&30)!==0||jT(g,u,h)}b.memoizedState=h;var S={value:h,getSnapshot:u};return b.queue=S,BT(DT.bind(null,g,S,a),[a]),g.flags|=2048,Oc(9,MT.bind(null,g,S,h,u),void 0,null),h},useId:function(){var a=yi(),u=lr.identifierPrefix;if(Ot){var h=Ki,g=Hi;h=(g&~(1<<32-jr(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=Pc++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=D3++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},B3={readContext:Tn,useCallback:HT,useContext:Tn,useEffect:Wv,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:KT,useReducer:qv,useRef:FT,useState:function(){return qv(Ic)},useDebugValue:Hv,useDeferredValue:function(a){var u=An();return GT(u,Xt.memoizedState,a)},useTransition:function(){var a=qv(Ic)[0],u=An().memoizedState;return[a,u]},useMutableSource:RT,useSyncExternalStore:NT,useId:XT,unstable_isNewReconciler:!1},U3={readContext:Tn,useCallback:HT,useContext:Tn,useEffect:Wv,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:KT,useReducer:zv,useRef:FT,useState:function(){return zv(Ic)},useDebugValue:Hv,useDeferredValue:function(a){var u=An();return Xt===null?u.memoizedState=a:GT(u,Xt.memoizedState,a)},useTransition:function(){var a=zv(Ic)[0],u=An().memoizedState;return[a,u]},useMutableSource:RT,useSyncExternalStore:NT,useId:XT,unstable_isNewReconciler:!1};function Xn(a,u){if(a&&a.defaultProps){u=ne({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function Kv(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:ne({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ed={isMounted:function(a){return(a=a._reactInternals)?Fn(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Lr(),b=Ho(a),S=Xi(g,b);S.payload=u,h!=null&&(S.callback=h),u=Uo(a,S,b),u!==null&&(Jn(u,a,b,g),md(u,a,b))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Lr(),b=Ho(a),S=Xi(g,b);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=Uo(a,S,b),u!==null&&(Jn(u,a,b,g),md(u,a,b))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Lr(),g=Ho(a),b=Xi(h,g);b.tag=2,u!=null&&(b.callback=u),u=Uo(a,b,g),u!==null&&(Jn(u,a,g,h),md(u,a,g))}};function ZT(a,u,h,g,b,S,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,$):u.prototype&&u.prototype.isPureReactComponent?!mc(h,g)||!mc(b,S):!0}function eA(a,u,h){var g=!1,b=Vo,S=u.contextType;return typeof S=="object"&&S!==null?S=Tn(S):(b=Hr(u)?qa:Sr.current,g=u.contextTypes,S=(g=g!=null)?pu(a,b):Vo),u=new u(h,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ed,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=S),u}function tA(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Ed.enqueueReplaceState(u,u.state,null)}function Gv(a,u,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},jv(a);var S=u.contextType;typeof S=="object"&&S!==null?b.context=Tn(S):(S=Hr(u)?qa:Sr.current,b.context=pu(a,S)),b.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Kv(a,u,S,h),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&Ed.enqueueReplaceState(b,b.state,null),gd(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function xu(a,u){try{var h="",g=u;do h+=Ae(g),g=g.return;while(g);var b=h}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:b,digest:null}}function Xv(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function Yv(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var q3=typeof WeakMap=="function"?WeakMap:Map;function rA(a,u,h){h=Xi(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){Cd||(Cd=!0,fy=g),Yv(a,u)},h}function nA(a,u,h){h=Xi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;h.payload=function(){return g(b)},h.callback=function(){Yv(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Yv(a,u),typeof g!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),h}function iA(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new q3;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(h)||(b.add(h),a=nF.bind(null,a,u,h),u.then(a,a))}function oA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function aA(a,u,h,g,b){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Xi(-1,1),u.tag=2,Uo(h,u,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var z3=M.ReactCurrentOwner,Kr=!1;function Dr(a,u,h,g){u.child=a===null?AT(u,null,h,g):yu(u,a.child,h,g)}function sA(a,u,h,g,b){h=h.render;var S=u.ref;return bu(u,b),g=Bv(a,u,h,g,S,b),h=Uv(),a!==null&&!Kr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,Yi(a,u,b)):(Ot&&h&&Sv(u),u.flags|=1,Dr(a,u,g,b),u.child)}function uA(a,u,h,g,b){if(a===null){var S=h.type;return typeof S=="function"&&!yy(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=S,lA(a,u,S,g,b)):(a=Dd(h.type,null,g,u,u.mode,b),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,(a.lanes&b)===0){var $=S.memoizedProps;if(h=h.compare,h=h!==null?h:mc,h($,g)&&a.ref===u.ref)return Yi(a,u,b)}return u.flags|=1,a=Go(S,g),a.ref=u.ref,a.return=u,u.child=a}function lA(a,u,h,g,b){if(a!==null){var S=a.memoizedProps;if(mc(S,g)&&a.ref===u.ref)if(Kr=!1,u.pendingProps=g=S,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Kr=!0);else return u.lanes=a.lanes,Yi(a,u,b)}return Qv(a,u,h,g,b)}function cA(a,u,h){var g=u.pendingProps,b=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Su,fn),fn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,wt(Su,fn),fn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,wt(Su,fn),fn|=g}else S!==null?(g=S.baseLanes|h,u.memoizedState=null):g=h,wt(Su,fn),fn|=g;return Dr(a,u,b,h),u.child}function fA(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function Qv(a,u,h,g,b){var S=Hr(h)?qa:Sr.current;return S=pu(u,S),bu(u,b),h=Bv(a,u,h,g,S,b),g=Uv(),a!==null&&!Kr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,Yi(a,u,b)):(Ot&&g&&Sv(u),u.flags|=1,Dr(a,u,h,b),u.child)}function hA(a,u,h,g,b){if(Hr(h)){var S=!0;sd(u)}else S=!1;if(bu(u,b),u.stateNode===null)Td(a,u),eA(u,h,g),Gv(u,h,g,b),g=!0;else if(a===null){var $=u.stateNode,z=u.memoizedProps;$.props=z;var K=$.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=Tn(ae):(ae=Hr(h)?qa:Sr.current,ae=pu(u,ae));var pe=h.getDerivedStateFromProps,ge=typeof pe=="function"||typeof $.getSnapshotBeforeUpdate=="function";ge||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(z!==g||K!==ae)&&tA(u,$,g,ae),Bo=!1;var de=u.memoizedState;$.state=de,gd(u,g,$,b),K=u.memoizedState,z!==g||de!==K||Wr.current||Bo?(typeof pe=="function"&&(Kv(u,h,pe,g),K=u.memoizedState),(z=Bo||ZT(u,h,z,g,de,K,ae))?(ge||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=K),$.props=g,$.state=K,$.context=ae,g=z):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,IT(a,u),z=u.memoizedProps,ae=u.type===u.elementType?z:Xn(u.type,z),$.props=ae,ge=u.pendingProps,de=$.context,K=h.contextType,typeof K=="object"&&K!==null?K=Tn(K):(K=Hr(h)?qa:Sr.current,K=pu(u,K));var Pe=h.getDerivedStateFromProps;(pe=typeof Pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(z!==ge||de!==K)&&tA(u,$,g,K),Bo=!1,de=u.memoizedState,$.state=de,gd(u,g,$,b);var ke=u.memoizedState;z!==ge||de!==ke||Wr.current||Bo?(typeof Pe=="function"&&(Kv(u,h,Pe,g),ke=u.memoizedState),(ae=Bo||ZT(u,h,ae,g,de,ke,K)||!1)?(pe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,ke,K),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,ke,K)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ke),$.props=g,$.state=ke,$.context=K,g=ae):(typeof $.componentDidUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&de===a.memoizedState||(u.flags|=1024),g=!1)}return Jv(a,u,h,g,S,b)}function Jv(a,u,h,g,b,S){fA(a,u);var $=(u.flags&128)!==0;if(!g&&!$)return b&&vT(u,h,!1),Yi(a,u,S);g=u.stateNode,z3.current=u;var z=$&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&$?(u.child=yu(u,a.child,null,S),u.child=yu(u,null,z,S)):Dr(a,u,z,S),u.memoizedState=g.state,b&&vT(u,h,!0),u.child}function dA(a){var u=a.stateNode;u.pendingContext?mT(a,u.pendingContext,u.pendingContext!==u.context):u.context&&mT(a,u.context,!1),Mv(a,u.containerInfo)}function pA(a,u,h,g,b){return vu(),Iv(b),u.flags|=256,Dr(a,u,h,g),u.child}var Zv={dehydrated:null,treeContext:null,retryLane:0};function ey(a){return{baseLanes:a,cachePool:null,transitions:null}}function mA(a,u,h){var g=u.pendingProps,b=kt.current,S=!1,$=(u.flags&128)!==0,z;if((z=$)||(z=a!==null&&a.memoizedState===null?!1:(b&2)!==0),z?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),wt(kt,b&1),a===null)return Pv(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):($=g.children,a=g.fallback,S?(g=u.mode,S=u.child,$={mode:"hidden",children:$},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=Ld($,g,0,null),a=Za(a,g,h,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=ey(h),u.memoizedState=Zv,a):ty(u,$));if(b=a.memoizedState,b!==null&&(z=b.dehydrated,z!==null))return W3(a,u,$,g,z,b,h);if(S){S=g.fallback,$=u.mode,b=a.child,z=b.sibling;var K={mode:"hidden",children:g.children};return($&1)===0&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=K,u.deletions=null):(g=Go(b,K),g.subtreeFlags=b.subtreeFlags&14680064),z!==null?S=Go(z,S):(S=Za(S,$,h,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,g=S,S=u.child,$=a.child.memoizedState,$=$===null?ey(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=a.childLanes&~h,u.memoizedState=Zv,g}return S=a.child,a=S.sibling,g=Go(S,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=h),g.return=u,g.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=g,u.memoizedState=null,g}function ty(a,u){return u=Ld({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Sd(a,u,h,g){return g!==null&&Iv(g),yu(u,a.child,null,h),a=ty(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function W3(a,u,h,g,b,S,$){if(h)return u.flags&256?(u.flags&=-257,g=Xv(Error(r(422))),Sd(a,u,$,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=g.fallback,b=u.mode,g=Ld({mode:"visible",children:g.children},b,0,null),S=Za(S,b,$,null),S.flags|=2,g.return=u,S.return=u,g.sibling=S,u.child=g,(u.mode&1)!==0&&yu(u,a.child,null,$),u.child.memoizedState=ey($),u.memoizedState=Zv,S);if((u.mode&1)===0)return Sd(a,u,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var z=g.dgst;return g=z,S=Error(r(419)),g=Xv(S,g,void 0),Sd(a,u,$,g)}if(z=($&a.childLanes)!==0,Kr||z){if(g=lr,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|$))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Gi(a,b),Jn(g,a,b,-1))}return vy(),g=Xv(Error(r(421))),Sd(a,u,$,g)}return b.data==="$?"?(u.flags|=128,u.child=a.child,u=iF.bind(null,a),b._reactRetry=u,null):(a=S.treeContext,cn=Lo(b.nextSibling),ln=u,Ot=!0,Gn=null,a!==null&&(En[Sn++]=Hi,En[Sn++]=Ki,En[Sn++]=za,Hi=a.id,Ki=a.overflow,za=u),u=ty(u,g.children),u.flags|=4096,u)}function gA(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Rv(a.return,u,h)}function ry(a,u,h,g,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=b)}function vA(a,u,h){var g=u.pendingProps,b=g.revealOrder,S=g.tail;if(Dr(a,u,g.children,h),g=kt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gA(a,h,u);else if(a.tag===19)gA(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(wt(kt,g),(u.mode&1)===0)u.memoizedState=null;else switch(b){case"forwards":for(h=u.child,b=null;h!==null;)a=h.alternate,a!==null&&vd(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=u.child,u.child=null):(b=h.sibling,h.sibling=null),ry(u,!1,b,h,S);break;case"backwards":for(h=null,b=u.child,u.child=null;b!==null;){if(a=b.alternate,a!==null&&vd(a)===null){u.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}ry(u,!0,h,null,S);break;case"together":ry(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Td(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Yi(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Xa|=u.lanes,(h&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Go(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Go(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function H3(a,u,h){switch(u.tag){case 3:dA(u),vu();break;case 5:kT(u);break;case 1:Hr(u.type)&&sd(u);break;case 4:Mv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;wt(dd,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(wt(kt,kt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?mA(a,u,h):(wt(kt,kt.current&1),a=Yi(a,u,h),a!==null?a.sibling:null);wt(kt,kt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,(a.flags&128)!==0){if(g)return vA(a,u,h);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),wt(kt,kt.current),g)break;return null;case 22:case 23:return u.lanes=0,cA(a,u,h)}return Yi(a,u,h)}var yA,ny,_A,bA;yA=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ny=function(){},_A=function(a,u,h,g){var b=a.memoizedProps;if(b!==g){a=u.stateNode,Ka(vi.current);var S=null;switch(h){case"input":b=Se(a,b),g=Se(a,g),S=[];break;case"select":b=ne({},b,{value:void 0}),g=ne({},g,{value:void 0}),S=[];break;case"textarea":b=ar(a,b),g=ar(a,g),S=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=id)}Yl(h,g);var $;h=null;for(ae in b)if(!g.hasOwnProperty(ae)&&b.hasOwnProperty(ae)&&b[ae]!=null)if(ae==="style"){var z=b[ae];for($ in z)z.hasOwnProperty($)&&(h||(h={}),h[$]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?S||(S=[]):(S=S||[]).push(ae,null));for(ae in g){var K=g[ae];if(z=b!=null?b[ae]:void 0,g.hasOwnProperty(ae)&&K!==z&&(K!=null||z!=null))if(ae==="style")if(z){for($ in z)!z.hasOwnProperty($)||K&&K.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in K)K.hasOwnProperty($)&&z[$]!==K[$]&&(h||(h={}),h[$]=K[$])}else h||(S||(S=[]),S.push(ae,h)),h=K;else ae==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,z=z?z.__html:void 0,K!=null&&z!==K&&(S=S||[]).push(ae,K)):ae==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(ae,""+K):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(K!=null&&ae==="onScroll"&&Tt("scroll",a),S||z===K||(S=[])):(S=S||[]).push(ae,K))}h&&(S=S||[]).push("style",h);var ae=S;(u.updateQueue=ae)&&(u.flags|=4)}},bA=function(a,u,h,g){h!==g&&(u.flags|=4)};function Cc(a,u){if(!Ot)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Ar(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function K3(a,u,h){var g=u.pendingProps;switch(Tv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(u),null;case 1:return Hr(u.type)&&ad(),Ar(u),null;case 3:return g=u.stateNode,wu(),At(Wr),At(Sr),$v(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(fd(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Gn!==null&&(py(Gn),Gn=null))),ny(a,u),Ar(u),null;case 5:Dv(u);var b=Ka(Tc.current);if(h=u.type,a!==null&&u.stateNode!=null)_A(a,u,h,g,b),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Ar(u),null}if(a=Ka(vi.current),fd(u)){g=u.stateNode,h=u.type;var S=u.memoizedProps;switch(g[gi]=u,g[bc]=S,a=(u.mode&1)!==0,h){case"dialog":Tt("cancel",g),Tt("close",g);break;case"iframe":case"object":case"embed":Tt("load",g);break;case"video":case"audio":for(b=0;b<vc.length;b++)Tt(vc[b],g);break;case"source":Tt("error",g);break;case"img":case"image":case"link":Tt("error",g),Tt("load",g);break;case"details":Tt("toggle",g);break;case"input":Me(g,S),Tt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Tt("invalid",g);break;case"textarea":nn(g,S),Tt("invalid",g)}Yl(h,S),b=null;for(var $ in S)if(S.hasOwnProperty($)){var z=S[$];$==="children"?typeof z=="string"?g.textContent!==z&&(S.suppressHydrationWarning!==!0&&nd(g.textContent,z,a),b=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&nd(g.textContent,z,a),b=["children",""+z]):i.hasOwnProperty($)&&z!=null&&$==="onScroll"&&Tt("scroll",g)}switch(h){case"input":be(g),Ge(g,S,!0);break;case"textarea":be(g),yn(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=id)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=$t(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=$.createElement(h,{is:g.is}):(a=$.createElement(h),h==="select"&&($=a,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):a=$.createElementNS(a,h),a[gi]=u,a[bc]=g,yA(a,u,!1,!1),u.stateNode=a;e:{switch($=Ql(h,g),h){case"dialog":Tt("cancel",a),Tt("close",a),b=g;break;case"iframe":case"object":case"embed":Tt("load",a),b=g;break;case"video":case"audio":for(b=0;b<vc.length;b++)Tt(vc[b],a);b=g;break;case"source":Tt("error",a),b=g;break;case"img":case"image":case"link":Tt("error",a),Tt("load",a),b=g;break;case"details":Tt("toggle",a),b=g;break;case"input":Me(a,g),b=Se(a,g),Tt("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=ne({},g,{value:void 0}),Tt("invalid",a);break;case"textarea":nn(a,g),b=ar(a,g),Tt("invalid",a);break;default:b=g}Yl(h,b),z=b;for(S in z)if(z.hasOwnProperty(S)){var K=z[S];S==="style"?Gl(a,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Hl(a,K)):S==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&Ao(a,K):typeof K=="number"&&Ao(a,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?K!=null&&S==="onScroll"&&Tt("scroll",a):K!=null&&O(a,S,K,$))}switch(h){case"input":be(a),Ge(a,g,!1);break;case"textarea":be(a),yn(a);break;case"option":g.value!=null&&a.setAttribute("value",""+we(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?Lt(a,!!g.multiple,S,!1):g.defaultValue!=null&&Lt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=id)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ar(u),null;case 6:if(a&&u.stateNode!=null)bA(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(h=Ka(Tc.current),Ka(vi.current),fd(u)){if(g=u.stateNode,h=u.memoizedProps,g[gi]=u,(S=g.nodeValue!==h)&&(a=ln,a!==null))switch(a.tag){case 3:nd(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&nd(g.nodeValue,h,(a.mode&1)!==0)}S&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[gi]=u,u.stateNode=g}return Ar(u),null;case 13:if(At(kt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ot&&cn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)ET(),vu(),u.flags|=98560,S=!1;else if(S=fd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[gi]=u}else vu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ar(u),S=!1}else Gn!==null&&(py(Gn),Gn=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(kt.current&1)!==0?Yt===0&&(Yt=3):vy())),u.updateQueue!==null&&(u.flags|=4),Ar(u),null);case 4:return wu(),ny(a,u),a===null&&yc(u.stateNode.containerInfo),Ar(u),null;case 10:return kv(u.type._context),Ar(u),null;case 17:return Hr(u.type)&&ad(),Ar(u),null;case 19:if(At(kt),S=u.memoizedState,S===null)return Ar(u),null;if(g=(u.flags&128)!==0,$=S.rendering,$===null)if(g)Cc(S,!1);else{if(Yt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if($=vd(a),$!==null){for(u.flags|=128,Cc(S,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)S=h,a=g,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,a=$.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return wt(kt,kt.current&1|2),u.child}a=a.sibling}S.tail!==null&&bt()>Tu&&(u.flags|=128,g=!0,Cc(S,!1),u.lanes=4194304)}else{if(!g)if(a=vd($),a!==null){if(u.flags|=128,g=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Cc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Ot)return Ar(u),null}else 2*bt()-S.renderingStartTime>Tu&&h!==1073741824&&(u.flags|=128,g=!0,Cc(S,!1),u.lanes=4194304);S.isBackwards?($.sibling=u.child,u.child=$):(h=S.last,h!==null?h.sibling=$:u.child=$,S.last=$)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=bt(),u.sibling=null,h=kt.current,wt(kt,g?h&1|2:h&1),u):(Ar(u),null);case 22:case 23:return gy(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(fn&1073741824)!==0&&(Ar(u),u.subtreeFlags&6&&(u.flags|=8192)):Ar(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function G3(a,u){switch(Tv(u),u.tag){case 1:return Hr(u.type)&&ad(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return wu(),At(Wr),At(Sr),$v(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Dv(u),null;case 13:if(At(kt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));vu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return At(kt),null;case 4:return wu(),null;case 10:return kv(u.type._context),null;case 22:case 23:return gy(),null;case 24:return null;default:return null}}var Ad=!1,Pr=!1,X3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Eu(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){jt(a,u,g)}else h.current=null}function iy(a,u,h){try{h()}catch(g){jt(a,u,g)}}var wA=!1;function Y3(a,u){if(gv=jo,a=ZS(),uv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var $=0,z=-1,K=-1,ae=0,pe=0,ge=a,de=null;t:for(;;){for(var Pe;ge!==h||b!==0&&ge.nodeType!==3||(z=$+b),ge!==S||g!==0&&ge.nodeType!==3||(K=$+g),ge.nodeType===3&&($+=ge.nodeValue.length),(Pe=ge.firstChild)!==null;)de=ge,ge=Pe;for(;;){if(ge===a)break t;if(de===h&&++ae===b&&(z=$),de===S&&++pe===g&&(K=$),(Pe=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=Pe}h=z===-1||K===-1?null:{start:z,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(vv={focusedElem:a,selectionRange:h},jo=!1,Oe=u;Oe!==null;)if(u=Oe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Oe=a;else for(;Oe!==null;){u=Oe;try{var ke=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Re=ke.memoizedProps,Ft=ke.memoizedState,ee=u.stateNode,Y=ee.getSnapshotBeforeUpdate(u.elementType===u.type?Re:Xn(u.type,Re),Ft);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=u.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(_e){jt(u,u.return,_e)}if(a=u.sibling,a!==null){a.return=u.return,Oe=a;break}Oe=u.return}return ke=wA,wA=!1,ke}function kc(a,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var S=b.destroy;b.destroy=void 0,S!==void 0&&iy(u,h,S)}b=b.next}while(b!==g)}}function Pd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function oy(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function xA(a){var u=a.alternate;u!==null&&(a.alternate=null,xA(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[gi],delete u[bc],delete u[wv],delete u[R3],delete u[N3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function EA(a){return a.tag===5||a.tag===3||a.tag===4}function SA(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||EA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ay(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=id));else if(g!==4&&(a=a.child,a!==null))for(ay(a,u,h),a=a.sibling;a!==null;)ay(a,u,h),a=a.sibling}function sy(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(sy(a,u,h),a=a.sibling;a!==null;)sy(a,u,h),a=a.sibling}var vr=null,Yn=!1;function qo(a,u,h){for(h=h.child;h!==null;)TA(a,u,h),h=h.sibling}function TA(a,u,h){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ma,h)}catch{}switch(h.tag){case 5:Pr||Eu(h,u);case 6:var g=vr,b=Yn;vr=null,qo(a,u,h),vr=g,Yn=b,vr!==null&&(Yn?(a=vr,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):vr.removeChild(h.stateNode));break;case 18:vr!==null&&(Yn?(a=vr,h=h.stateNode,a.nodeType===8?bv(a.parentNode,h):a.nodeType===1&&bv(a,h),Wn(a)):bv(vr,h.stateNode));break;case 4:g=vr,b=Yn,vr=h.stateNode.containerInfo,Yn=!0,qo(a,u,h),vr=g,Yn=b;break;case 0:case 11:case 14:case 15:if(!Pr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var S=b,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&iy(h,u,$),b=b.next}while(b!==g)}qo(a,u,h);break;case 1:if(!Pr&&(Eu(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(z){jt(h,u,z)}qo(a,u,h);break;case 21:qo(a,u,h);break;case 22:h.mode&1?(Pr=(g=Pr)||h.memoizedState!==null,qo(a,u,h),Pr=g):qo(a,u,h);break;default:qo(a,u,h)}}function AA(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new X3),u.forEach(function(g){var b=oF.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Qn(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var S=a,$=u,z=$;e:for(;z!==null;){switch(z.tag){case 5:vr=z.stateNode,Yn=!1;break e;case 3:vr=z.stateNode.containerInfo,Yn=!0;break e;case 4:vr=z.stateNode.containerInfo,Yn=!0;break e}z=z.return}if(vr===null)throw Error(r(160));TA(S,$,b),vr=null,Yn=!1;var K=b.alternate;K!==null&&(K.return=null),b.return=null}catch(ae){jt(b,u,ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)PA(u,a),u=u.sibling}function PA(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Qn(u,a),_i(a),g&4){try{kc(3,a,a.return),Pd(3,a)}catch(Re){jt(a,a.return,Re)}try{kc(5,a,a.return)}catch(Re){jt(a,a.return,Re)}}break;case 1:Qn(u,a),_i(a),g&512&&h!==null&&Eu(h,h.return);break;case 5:if(Qn(u,a),_i(a),g&512&&h!==null&&Eu(h,h.return),a.flags&32){var b=a.stateNode;try{Ao(b,"")}catch(Re){jt(a,a.return,Re)}}if(g&4&&(b=a.stateNode,b!=null)){var S=a.memoizedProps,$=h!==null?h.memoizedProps:S,z=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&Ye(b,S),Ql(z,$);var ae=Ql(z,S);for($=0;$<K.length;$+=2){var pe=K[$],ge=K[$+1];pe==="style"?Gl(b,ge):pe==="dangerouslySetInnerHTML"?Hl(b,ge):pe==="children"?Ao(b,ge):O(b,pe,ge,ae)}switch(z){case"input":st(b,S);break;case"textarea":Ur(b,S);break;case"select":var de=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var Pe=S.value;Pe!=null?Lt(b,!!S.multiple,Pe,!1):de!==!!S.multiple&&(S.defaultValue!=null?Lt(b,!!S.multiple,S.defaultValue,!0):Lt(b,!!S.multiple,S.multiple?[]:"",!1))}b[bc]=S}catch(Re){jt(a,a.return,Re)}}break;case 6:if(Qn(u,a),_i(a),g&4){if(a.stateNode===null)throw Error(r(162));b=a.stateNode,S=a.memoizedProps;try{b.nodeValue=S}catch(Re){jt(a,a.return,Re)}}break;case 3:if(Qn(u,a),_i(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Wn(u.containerInfo)}catch(Re){jt(a,a.return,Re)}break;case 4:Qn(u,a),_i(a);break;case 13:Qn(u,a),_i(a),b=a.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(cy=bt())),g&4&&AA(a);break;case 22:if(pe=h!==null&&h.memoizedState!==null,a.mode&1?(Pr=(ae=Pr)||pe,Qn(u,a),Pr=ae):Qn(u,a),_i(a),g&8192){if(ae=a.memoizedState!==null,(a.stateNode.isHidden=ae)&&!pe&&(a.mode&1)!==0)for(Oe=a,pe=a.child;pe!==null;){for(ge=Oe=pe;Oe!==null;){switch(de=Oe,Pe=de.child,de.tag){case 0:case 11:case 14:case 15:kc(4,de,de.return);break;case 1:Eu(de,de.return);var ke=de.stateNode;if(typeof ke.componentWillUnmount=="function"){g=de,h=de.return;try{u=g,ke.props=u.memoizedProps,ke.state=u.memoizedState,ke.componentWillUnmount()}catch(Re){jt(g,h,Re)}}break;case 5:Eu(de,de.return);break;case 22:if(de.memoizedState!==null){CA(ge);continue}}Pe!==null?(Pe.return=de,Oe=Pe):CA(ge)}pe=pe.sibling}e:for(pe=null,ge=a;;){if(ge.tag===5){if(pe===null){pe=ge;try{b=ge.stateNode,ae?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=ge.stateNode,K=ge.memoizedProps.style,$=K!=null&&K.hasOwnProperty("display")?K.display:null,z.style.display=Kl("display",$))}catch(Re){jt(a,a.return,Re)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=ae?"":ge.memoizedProps}catch(Re){jt(a,a.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===a)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===a)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===a)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Qn(u,a),_i(a),g&4&&AA(a);break;case 21:break;default:Qn(u,a),_i(a)}}function _i(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(EA(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Ao(b,""),g.flags&=-33);var S=SA(a);sy(a,S,b);break;case 3:case 4:var $=g.stateNode.containerInfo,z=SA(a);ay(a,z,$);break;default:throw Error(r(161))}}catch(K){jt(a,a.return,K)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function Q3(a,u,h){Oe=a,IA(a)}function IA(a,u,h){for(var g=(a.mode&1)!==0;Oe!==null;){var b=Oe,S=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||Ad;if(!$){var z=b.alternate,K=z!==null&&z.memoizedState!==null||Pr;z=Ad;var ae=Pr;if(Ad=$,(Pr=K)&&!ae)for(Oe=b;Oe!==null;)$=Oe,K=$.child,$.tag===22&&$.memoizedState!==null?kA(b):K!==null?(K.return=$,Oe=K):kA(b);for(;S!==null;)Oe=S,IA(S),S=S.sibling;Oe=b,Ad=z,Pr=ae}OA(a)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,Oe=S):OA(a)}}function OA(a){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Pr||Pd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Pr)if(h===null)g.componentDidMount();else{var b=u.elementType===u.type?h.memoizedProps:Xn(u.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&CT(u,S,g);break;case 3:var $=u.updateQueue;if($!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}CT(u,$,h)}break;case 5:var z=u.stateNode;if(h===null&&u.flags&4){h=z;var K=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ae=u.alternate;if(ae!==null){var pe=ae.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&Wn(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pr||u.flags&512&&oy(u)}catch(de){jt(u,u.return,de)}}if(u===a){Oe=null;break}if(h=u.sibling,h!==null){h.return=u.return,Oe=h;break}Oe=u.return}}function CA(a){for(;Oe!==null;){var u=Oe;if(u===a){Oe=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Oe=h;break}Oe=u.return}}function kA(a){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Pd(4,u)}catch(K){jt(u,h,K)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(K){jt(u,b,K)}}var S=u.return;try{oy(u)}catch(K){jt(u,S,K)}break;case 5:var $=u.return;try{oy(u)}catch(K){jt(u,$,K)}}}catch(K){jt(u,u.return,K)}if(u===a){Oe=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Oe=z;break}Oe=u.return}}var J3=Math.ceil,Id=M.ReactCurrentDispatcher,uy=M.ReactCurrentOwner,Pn=M.ReactCurrentBatchConfig,at=0,lr=null,qt=null,yr=0,fn=0,Su=$o(0),Yt=0,Rc=null,Xa=0,Od=0,ly=0,Nc=null,Gr=null,cy=0,Tu=1/0,Qi=null,Cd=!1,fy=null,zo=null,kd=!1,Wo=null,Rd=0,jc=0,hy=null,Nd=-1,jd=0;function Lr(){return(at&6)!==0?bt():Nd!==-1?Nd:Nd=bt()}function Ho(a){return(a.mode&1)===0?1:(at&2)!==0&&yr!==0?yr&-yr:M3.transition!==null?(jd===0&&(jd=La()),jd):(a=rt,a!==0||(a=window.event,a=a===void 0?16:uc(a.type)),a)}function Jn(a,u,h,g){if(50<jc)throw jc=0,hy=null,Error(r(185));Co(a,h,g),((at&2)===0||a!==lr)&&(a===lr&&((at&2)===0&&(Od|=h),Yt===4&&Ko(a,yr)),Xr(a,g),h===1&&at===0&&(u.mode&1)===0&&(Tu=bt()+500,ud&&Fo()))}function Xr(a,u){var h=a.callbackNode;Vi(a,u);var g=Da(a,a===lr?yr:0);if(g===0)h!==null&&nc(h),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(h!=null&&nc(h),u===1)a.tag===0?j3(NA.bind(null,a)):yT(NA.bind(null,a)),C3(function(){(at&6)===0&&Fo()}),h=null;else{switch(Ro(g)){case 1:h=ja;break;case 4:h=Po;break;case 16:h=bn;break;case 536870912:h=jh;break;default:h=bn}h=BA(h,RA.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function RA(a,u){if(Nd=-1,jd=0,(at&6)!==0)throw Error(r(327));var h=a.callbackNode;if(Au()&&a.callbackNode!==h)return null;var g=Da(a,a===lr?yr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=Md(a,g);else{u=g;var b=at;at|=2;var S=MA();(lr!==a||yr!==u)&&(Qi=null,Tu=bt()+500,Qa(a,u));do try{tF();break}catch(z){jA(a,z)}while(!0);Cv(),Id.current=S,at=b,qt!==null?u=0:(lr=null,yr=0,u=Yt)}if(u!==0){if(u===2&&(b=an(a),b!==0&&(g=b,u=dy(a,b))),u===1)throw h=Rc,Qa(a,0),Ko(a,g),Xr(a,bt()),h;if(u===6)Ko(a,g);else{if(b=a.current.alternate,(g&30)===0&&!Z3(b)&&(u=Md(a,g),u===2&&(S=an(a),S!==0&&(g=S,u=dy(a,S))),u===1))throw h=Rc,Qa(a,0),Ko(a,g),Xr(a,bt()),h;switch(a.finishedWork=b,a.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:Ja(a,Gr,Qi);break;case 3:if(Ko(a,g),(g&130023424)===g&&(u=cy+500-bt(),10<u)){if(Da(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){Lr(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=_v(Ja.bind(null,a,Gr,Qi),u);break}Ja(a,Gr,Qi);break;case 4:if(Ko(a,g),(g&4194240)===g)break;for(u=a.eventTimes,b=-1;0<g;){var $=31-jr(g);S=1<<$,$=u[$],$>b&&(b=$),g&=~S}if(g=b,g=bt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*J3(g/1960))-g,10<g){a.timeoutHandle=_v(Ja.bind(null,a,Gr,Qi),g);break}Ja(a,Gr,Qi);break;case 5:Ja(a,Gr,Qi);break;default:throw Error(r(329))}}}return Xr(a,bt()),a.callbackNode===h?RA.bind(null,a):null}function dy(a,u){var h=Nc;return a.current.memoizedState.isDehydrated&&(Qa(a,u).flags|=256),a=Md(a,u),a!==2&&(u=Gr,Gr=h,u!==null&&py(u)),a}function py(a){Gr===null?Gr=a:Gr.push.apply(Gr,a)}function Z3(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],S=b.getSnapshot;b=b.value;try{if(!Kn(S(),b))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ko(a,u){for(u&=~ly,u&=~Od,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-jr(u),g=1<<h;a[h]=-1,u&=~g}}function NA(a){if((at&6)!==0)throw Error(r(327));Au();var u=Da(a,0);if((u&1)===0)return Xr(a,bt()),null;var h=Md(a,u);if(a.tag!==0&&h===2){var g=an(a);g!==0&&(u=g,h=dy(a,g))}if(h===1)throw h=Rc,Qa(a,0),Ko(a,u),Xr(a,bt()),h;if(h===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ja(a,Gr,Qi),Xr(a,bt()),null}function my(a,u){var h=at;at|=1;try{return a(u)}finally{at=h,at===0&&(Tu=bt()+500,ud&&Fo())}}function Ya(a){Wo!==null&&Wo.tag===0&&(at&6)===0&&Au();var u=at;at|=1;var h=Pn.transition,g=rt;try{if(Pn.transition=null,rt=1,a)return a()}finally{rt=g,Pn.transition=h,at=u,(at&6)===0&&Fo()}}function gy(){fn=Su.current,At(Su)}function Qa(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,O3(h)),qt!==null)for(h=qt.return;h!==null;){var g=h;switch(Tv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ad();break;case 3:wu(),At(Wr),At(Sr),$v();break;case 5:Dv(g);break;case 4:wu();break;case 13:At(kt);break;case 19:At(kt);break;case 10:kv(g.type._context);break;case 22:case 23:gy()}h=h.return}if(lr=a,qt=a=Go(a.current,null),yr=fn=u,Yt=0,Rc=null,ly=Od=Xa=0,Gr=Nc=null,Ha!==null){for(u=0;u<Ha.length;u++)if(h=Ha[u],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,S=h.pending;if(S!==null){var $=S.next;S.next=b,g.next=$}h.pending=g}Ha=null}return a}function jA(a,u){do{var h=qt;try{if(Cv(),yd.current=xd,_d){for(var g=Rt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}_d=!1}if(Ga=0,ur=Xt=Rt=null,Ac=!1,Pc=0,uy.current=null,h===null||h.return===null){Yt=1,Rc=u,qt=null;break}e:{var S=a,$=h.return,z=h,K=u;if(u=yr,z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ae=K,pe=z,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=pe.alternate;de?(pe.updateQueue=de.updateQueue,pe.memoizedState=de.memoizedState,pe.lanes=de.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Pe=oA($);if(Pe!==null){Pe.flags&=-257,aA(Pe,$,z,S,u),Pe.mode&1&&iA(S,ae,u),u=Pe,K=ae;var ke=u.updateQueue;if(ke===null){var Re=new Set;Re.add(K),u.updateQueue=Re}else ke.add(K);break e}else{if((u&1)===0){iA(S,ae,u),vy();break e}K=Error(r(426))}}else if(Ot&&z.mode&1){var Ft=oA($);if(Ft!==null){(Ft.flags&65536)===0&&(Ft.flags|=256),aA(Ft,$,z,S,u),Iv(xu(K,z));break e}}S=K=xu(K,z),Yt!==4&&(Yt=2),Nc===null?Nc=[S]:Nc.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var ee=rA(S,K,u);OT(S,ee);break e;case 1:z=K;var Y=S.type,re=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(zo===null||!zo.has(re)))){S.flags|=65536,u&=-u,S.lanes|=u;var _e=nA(S,z,u);OT(S,_e);break e}}S=S.return}while(S!==null)}LA(h)}catch(Ne){u=Ne,qt===h&&h!==null&&(qt=h=h.return);continue}break}while(!0)}function MA(){var a=Id.current;return Id.current=xd,a===null?xd:a}function vy(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),lr===null||(Xa&268435455)===0&&(Od&268435455)===0||Ko(lr,yr)}function Md(a,u){var h=at;at|=2;var g=MA();(lr!==a||yr!==u)&&(Qi=null,Qa(a,u));do try{eF();break}catch(b){jA(a,b)}while(!0);if(Cv(),at=h,Id.current=g,qt!==null)throw Error(r(261));return lr=null,yr=0,Yt}function eF(){for(;qt!==null;)DA(qt)}function tF(){for(;qt!==null&&!Rh();)DA(qt)}function DA(a){var u=FA(a.alternate,a,fn);a.memoizedProps=a.pendingProps,u===null?LA(a):qt=u,uy.current=null}function LA(a){var u=a;do{var h=u.alternate;if(a=u.return,(u.flags&32768)===0){if(h=K3(h,u,fn),h!==null){qt=h;return}}else{if(h=G3(h,u),h!==null){h.flags&=32767,qt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yt=6,qt=null;return}}if(u=u.sibling,u!==null){qt=u;return}qt=u=a}while(u!==null);Yt===0&&(Yt=5)}function Ja(a,u,h){var g=rt,b=Pn.transition;try{Pn.transition=null,rt=1,rF(a,u,h,g)}finally{Pn.transition=b,rt=g}return null}function rF(a,u,h,g){do Au();while(Wo!==null);if((at&6)!==0)throw Error(r(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(vt(a,S),a===lr&&(qt=lr=null,yr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||kd||(kd=!0,BA(bn,function(){return Au(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Pn.transition,Pn.transition=null;var $=rt;rt=1;var z=at;at|=4,uy.current=null,Y3(a,h),PA(h,a),x3(vv),jo=!!gv,vv=gv=null,a.current=h,Q3(h),ev(),at=z,rt=$,Pn.transition=S}else a.current=h;if(kd&&(kd=!1,Wo=a,Rd=b),S=a.pendingLanes,S===0&&(zo=null),Mh(h.stateNode),Xr(a,bt()),u!==null)for(g=a.onRecoverableError,h=0;h<u.length;h++)b=u[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Cd)throw Cd=!1,a=fy,fy=null,a;return(Rd&1)!==0&&a.tag!==0&&Au(),S=a.pendingLanes,(S&1)!==0?a===hy?jc++:(jc=0,hy=a):jc=0,Fo(),null}function Au(){if(Wo!==null){var a=Ro(Rd),u=Pn.transition,h=rt;try{if(Pn.transition=null,rt=16>a?16:a,Wo===null)var g=!1;else{if(a=Wo,Wo=null,Rd=0,(at&6)!==0)throw Error(r(331));var b=at;for(at|=4,Oe=a.current;Oe!==null;){var S=Oe,$=S.child;if((Oe.flags&16)!==0){var z=S.deletions;if(z!==null){for(var K=0;K<z.length;K++){var ae=z[K];for(Oe=ae;Oe!==null;){var pe=Oe;switch(pe.tag){case 0:case 11:case 15:kc(8,pe,S)}var ge=pe.child;if(ge!==null)ge.return=pe,Oe=ge;else for(;Oe!==null;){pe=Oe;var de=pe.sibling,Pe=pe.return;if(xA(pe),pe===ae){Oe=null;break}if(de!==null){de.return=Pe,Oe=de;break}Oe=Pe}}}var ke=S.alternate;if(ke!==null){var Re=ke.child;if(Re!==null){ke.child=null;do{var Ft=Re.sibling;Re.sibling=null,Re=Ft}while(Re!==null)}}Oe=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,Oe=$;else e:for(;Oe!==null;){if(S=Oe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:kc(9,S,S.return)}var ee=S.sibling;if(ee!==null){ee.return=S.return,Oe=ee;break e}Oe=S.return}}var Y=a.current;for(Oe=Y;Oe!==null;){$=Oe;var re=$.child;if(($.subtreeFlags&2064)!==0&&re!==null)re.return=$,Oe=re;else e:for($=Y;Oe!==null;){if(z=Oe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Pd(9,z)}}catch(Ne){jt(z,z.return,Ne)}if(z===$){Oe=null;break e}var _e=z.sibling;if(_e!==null){_e.return=z.return,Oe=_e;break e}Oe=z.return}}if(at=b,Fo(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ma,a)}catch{}g=!0}return g}finally{rt=h,Pn.transition=u}}return!1}function $A(a,u,h){u=xu(h,u),u=rA(a,u,1),a=Uo(a,u,1),u=Lr(),a!==null&&(Co(a,1,u),Xr(a,u))}function jt(a,u,h){if(a.tag===3)$A(a,a,h);else for(;u!==null;){if(u.tag===3){$A(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zo===null||!zo.has(g))){a=xu(h,a),a=nA(u,a,1),u=Uo(u,a,1),a=Lr(),u!==null&&(Co(u,1,a),Xr(u,a));break}}u=u.return}}function nF(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=Lr(),a.pingedLanes|=a.suspendedLanes&h,lr===a&&(yr&h)===h&&(Yt===4||Yt===3&&(yr&130023424)===yr&&500>bt()-cy?Qa(a,0):ly|=h),Xr(a,u)}function VA(a,u){u===0&&((a.mode&1)===0?u=1:(u=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var h=Lr();a=Gi(a,u),a!==null&&(Co(a,u,h),Xr(a,h))}function iF(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),VA(a,h)}function oF(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),VA(a,h)}var FA;FA=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Wr.current)Kr=!0;else{if((a.lanes&h)===0&&(u.flags&128)===0)return Kr=!1,H3(a,u,h);Kr=(a.flags&131072)!==0}else Kr=!1,Ot&&(u.flags&1048576)!==0&&_T(u,cd,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Td(a,u),a=u.pendingProps;var b=pu(u,Sr.current);bu(u,h),b=Bv(null,u,g,a,b,h);var S=Uv();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Hr(g)?(S=!0,sd(u)):S=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,jv(u),b.updater=Ed,u.stateNode=b,b._reactInternals=u,Gv(u,g,a,h),u=Jv(null,u,g,!0,S,h)):(u.tag=0,Ot&&S&&Sv(u),Dr(null,u,b,h),u=u.child),u;case 16:g=u.elementType;e:{switch(Td(a,u),a=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=sF(g),a=Xn(g,a),b){case 0:u=Qv(null,u,g,a,h);break e;case 1:u=hA(null,u,g,a,h);break e;case 11:u=sA(null,u,g,a,h);break e;case 14:u=uA(null,u,g,Xn(g.type,a),h);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Xn(g,b),Qv(a,u,g,b,h);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Xn(g,b),hA(a,u,g,b,h);case 3:e:{if(dA(u),a===null)throw Error(r(387));g=u.pendingProps,S=u.memoizedState,b=S.element,IT(a,u),gd(u,g,null,h);var $=u.memoizedState;if(g=$.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){b=xu(Error(r(423)),u),u=pA(a,u,g,h,b);break e}else if(g!==b){b=xu(Error(r(424)),u),u=pA(a,u,g,h,b);break e}else for(cn=Lo(u.stateNode.containerInfo.firstChild),ln=u,Ot=!0,Gn=null,h=AT(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vu(),g===b){u=Yi(a,u,h);break e}Dr(a,u,g,h)}u=u.child}return u;case 5:return kT(u),a===null&&Pv(u),g=u.type,b=u.pendingProps,S=a!==null?a.memoizedProps:null,$=b.children,yv(g,b)?$=null:S!==null&&yv(g,S)&&(u.flags|=32),fA(a,u),Dr(a,u,$,h),u.child;case 6:return a===null&&Pv(u),null;case 13:return mA(a,u,h);case 4:return Mv(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=yu(u,null,g,h):Dr(a,u,g,h),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Xn(g,b),sA(a,u,g,b,h);case 7:return Dr(a,u,u.pendingProps,h),u.child;case 8:return Dr(a,u,u.pendingProps.children,h),u.child;case 12:return Dr(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,S=u.memoizedProps,$=b.value,wt(dd,g._currentValue),g._currentValue=$,S!==null)if(Kn(S.value,$)){if(S.children===b.children&&!Wr.current){u=Yi(a,u,h);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var z=S.dependencies;if(z!==null){$=S.child;for(var K=z.firstContext;K!==null;){if(K.context===g){if(S.tag===1){K=Xi(-1,h&-h),K.tag=2;var ae=S.updateQueue;if(ae!==null){ae=ae.shared;var pe=ae.pending;pe===null?K.next=K:(K.next=pe.next,pe.next=K),ae.pending=K}}S.lanes|=h,K=S.alternate,K!==null&&(K.lanes|=h),Rv(S.return,h,u),z.lanes|=h;break}K=K.next}}else if(S.tag===10)$=S.type===u.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(r(341));$.lanes|=h,z=$.alternate,z!==null&&(z.lanes|=h),Rv($,h,u),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===u){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}Dr(a,u,b.children,h),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,bu(u,h),b=Tn(b),g=g(b),u.flags|=1,Dr(a,u,g,h),u.child;case 14:return g=u.type,b=Xn(g,u.pendingProps),b=Xn(g.type,b),uA(a,u,g,b,h);case 15:return lA(a,u,u.type,u.pendingProps,h);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Xn(g,b),Td(a,u),u.tag=1,Hr(g)?(a=!0,sd(u)):a=!1,bu(u,h),eA(u,g,b),Gv(u,g,b,h),Jv(null,u,g,!0,a,h);case 19:return vA(a,u,h);case 22:return cA(a,u,h)}throw Error(r(156,u.tag))};function BA(a,u){return Ks(a,u)}function aF(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(a,u,h,g){return new aF(a,u,h,g)}function yy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function sF(a){if(typeof a=="function")return yy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===Q)return 14}return 2}function Go(a,u){var h=a.alternate;return h===null?(h=In(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Dd(a,u,h,g,b,S){var $=2;if(g=a,typeof a=="function")yy(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case P:return Za(h.children,b,S,u);case I:$=8,b|=8;break;case k:return a=In(12,h,u,b|2),a.elementType=k,a.lanes=S,a;case L:return a=In(13,h,u,b),a.elementType=L,a.lanes=S,a;case H:return a=In(19,h,u,b),a.elementType=H,a.lanes=S,a;case te:return Ld(h,b,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:$=10;break e;case D:$=9;break e;case F:$=11;break e;case Q:$=14;break e;case G:$=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=In($,h,u,b),u.elementType=a,u.type=g,u.lanes=S,u}function Za(a,u,h,g){return a=In(7,a,g,u),a.lanes=h,a}function Ld(a,u,h,g){return a=In(22,a,g,u),a.elementType=te,a.lanes=h,a.stateNode={isHidden:!1},a}function _y(a,u,h){return a=In(6,a,null,u),a.lanes=h,a}function by(a,u,h){return u=In(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function uF(a,u,h,g,b){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function wy(a,u,h,g,b,S,$,z,K){return a=new uF(a,u,h,z,K),u===1?(u=1,S===!0&&(u|=8)):u=0,S=In(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},jv(S),a}function lF(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}}function UA(a){if(!a)return Vo;a=a._reactInternals;e:{if(Fn(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Hr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var h=a.type;if(Hr(h))return gT(a,h,u)}return u}function qA(a,u,h,g,b,S,$,z,K){return a=wy(h,g,!0,a,b,S,$,z,K),a.context=UA(null),h=a.current,g=Lr(),b=Ho(h),S=Xi(g,b),S.callback=u??null,Uo(h,S,b),a.current.lanes=b,Co(a,b,g),Xr(a,g),a}function $d(a,u,h,g){var b=u.current,S=Lr(),$=Ho(b);return h=UA(h),u.context===null?u.context=h:u.pendingContext=h,u=Xi(S,$),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Uo(b,u,$),a!==null&&(Jn(a,b,$,S),md(a,b,$)),$}function Vd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function zA(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function xy(a,u){zA(a,u),(a=a.alternate)&&zA(a,u)}function cF(){return null}var WA=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ey(a){this._internalRoot=a}Fd.prototype.render=Ey.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));$d(a,u,null,null)},Fd.prototype.unmount=Ey.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ya(function(){$d(null,a,null,null)}),u[zi]=null}};function Fd(a){this._internalRoot=a}Fd.prototype.unstable_scheduleHydration=function(a){if(a){var u=Fh();a={blockedOn:null,target:a,priority:u};for(var h=0;h<hi.length&&u!==0&&u<hi[h].priority;h++);hi.splice(h,0,a),h===0&&qh(a)}};function Sy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function HA(){}function fF(a,u,h,g,b){if(b){if(typeof g=="function"){var S=g;g=function(){var ae=Vd($);S.call(ae)}}var $=qA(u,g,a,0,null,!1,!1,"",HA);return a._reactRootContainer=$,a[zi]=$.current,yc(a.nodeType===8?a.parentNode:a),Ya(),$}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var z=g;g=function(){var ae=Vd(K);z.call(ae)}}var K=wy(a,0,!1,null,null,!1,!1,"",HA);return a._reactRootContainer=K,a[zi]=K.current,yc(a.nodeType===8?a.parentNode:a),Ya(function(){$d(u,K,h,g)}),K}function Ud(a,u,h,g,b){var S=h._reactRootContainer;if(S){var $=S;if(typeof b=="function"){var z=b;b=function(){var K=Vd($);z.call(K)}}$d(u,$,a,b)}else $=fF(h,u,a,b,g);return Vd($)}$h=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=Io(u.pendingLanes);h!==0&&(ko(u,h|1),Xr(u,bt()),(at&6)===0&&(Tu=bt()+500,Fo()))}break;case 13:Ya(function(){var g=Gi(a,1);if(g!==null){var b=Lr();Jn(g,a,1,b)}}),xy(a,1)}},Ys=function(a){if(a.tag===13){var u=Gi(a,134217728);if(u!==null){var h=Lr();Jn(u,a,134217728,h)}xy(a,134217728)}},Vh=function(a){if(a.tag===13){var u=Ho(a),h=Gi(a,u);if(h!==null){var g=Lr();Jn(h,a,u,g)}xy(a,u)}},Fh=function(){return rt},Bh=function(a,u){var h=rt;try{return rt=a,u()}finally{rt=h}},Bs=function(a,u,h){switch(u){case"input":if(st(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var b=od(g);if(!b)throw Error(r(90));ie(g),st(g,b)}}}break;case"textarea":Ur(a,h);break;case"select":u=h.value,u!=null&&Lt(a,!!h.multiple,u,!1)}},Ca=my,Zl=Ya;var hF={usingClientEntryPoint:!1,Events:[wc,hu,od,ci,Jl,my]},Mc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dF={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=rc(a),a===null?null:a.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||cF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Ma=qd.inject(dF),on=qd}catch{}}return Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hF,Yr.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(u))throw Error(r(200));return lF(a,u,null,h)},Yr.createRoot=function(a,u){if(!Sy(a))throw Error(r(299));var h=!1,g="",b=WA;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=wy(a,1,!1,null,null,h,!1,g,b),a[zi]=u.current,yc(a.nodeType===8?a.parentNode:a),new Ey(u)},Yr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=rc(u),a=a===null?null:a.stateNode,a},Yr.flushSync=function(a){return Ya(a)},Yr.hydrate=function(a,u,h){if(!Bd(u))throw Error(r(200));return Ud(null,a,u,!0,h)},Yr.hydrateRoot=function(a,u,h){if(!Sy(a))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,b=!1,S="",$=WA;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),u=qA(u,null,a,1,h??null,b,!1,S,$),a[zi]=u.current,yc(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,b]:u.mutableSourceEagerHydrationData.push(h,b);return new Fd(u)},Yr.render=function(a,u,h){if(!Bd(u))throw Error(r(200));return Ud(null,a,u,!1,h)},Yr.unmountComponentAtNode=function(a){if(!Bd(a))throw Error(r(40));return a._reactRootContainer?(Ya(function(){Ud(null,null,a,!1,function(){a._reactRootContainer=null,a[zi]=null})}),!0):!1},Yr.unstable_batchedUpdates=my,Yr.unstable_renderSubtreeIntoContainer=function(a,u,h,g){if(!Bd(h))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Ud(a,u,h,!1,g)},Yr.version="18.3.1-next-f1338f8080-20240426",Yr}var eP;function wF(){if(eP)return Py.exports;eP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Py.exports=bF(),Py.exports}var tP;function xF(){if(tP)return Wd;tP=1;var t=wF();return Wd.createRoot=t.createRoot,Wd.hydrateRoot=t.hydrateRoot,Wd}var EF=xF();const SF=pt(EF);var Lc={},rP;function TF(){if(rP)return Lc;rP=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.parse=s,Lc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const w=new o,x=v.length;if(x<2)return w;const _=(y==null?void 0:y.decode)||d;let T=0;do{const A=v.indexOf("=",T);if(A===-1)break;const O=v.indexOf(";",T),M=O===-1?x:O;if(A>M){T=v.lastIndexOf(";",A-1)+1;continue}const C=l(v,T,A),N=c(v,A,C),P=v.slice(C,N);if(w[P]===void 0){let I=l(v,A+1,M),k=c(v,M,I);const V=_(v.slice(I,k));w[P]=V}T=M+1}while(T<x);return w}function l(v,y,w){do{const x=v.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<w);return w}function c(v,y,w){for(;y>w;){const x=v.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return w}function f(v,y,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=x(y);if(!e.test(_))throw new TypeError(`argument val is invalid: ${y}`);let T=v+"="+_;if(!w)return T;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);T+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);T+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);T+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);T+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(T+="; HttpOnly"),w.secure&&(T+="; Secure"),w.partitioned&&(T+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return T}function d(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return i.call(v)==="[object Date]"}return Lc}TF();var nP="popstate";function AF(t={}){function e(n,i){let{pathname:o,search:s,hash:l}=n.location;return Xw("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vf(i)}return IF(e,r,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PF(){return Math.random().toString(36).substring(2,10)}function iP(t,e){return{usr:t.state,key:t.key,idx:e}}function Xw(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ch(e):e,state:r,key:e&&e.key||n||PF()}}function vf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ch(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function IF(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l="POP",c=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let _=d(),T=_==null?null:_-f;f=_,c&&c({action:l,location:x.location,delta:T})}function v(_,T){l="PUSH";let A=Xw(x.location,_,T);f=d()+1;let O=iP(A,f),M=x.createHref(A);try{s.pushState(O,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}o&&c&&c({action:l,location:x.location,delta:1})}function y(_,T){l="REPLACE";let A=Xw(x.location,_,T);f=d();let O=iP(A,f),M=x.createHref(A);s.replaceState(O,"",M),o&&c&&c({action:l,location:x.location,delta:0})}function w(_){return OF(_)}let x={get action(){return l},get location(){return t(i,s)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nP,p),c=_,()=>{i.removeEventListener(nP,p),c=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let T=w(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:y,go(_){return s.go(_)}};return x}function OF(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:vf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qj(t,e,r="/"){return CF(t,e,r,!1)}function CF(t,e,r,n){let i=typeof e=="string"?ch(e):e,o=fo(i.pathname||"/",r);if(o==null)return null;let s=zj(t);kF(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=UF(o);l=FF(s[c],f,n)}return l}function zj(t,e=[],r=[],n=""){let i=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(tr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=ao([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(tr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),zj(o.children,e,d,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:$F(f,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let c of Wj(o.path))i(o,s,c)}),e}function Wj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Wj(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function kF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:VF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var RF=/^:[\w-]+$/,NF=3,jF=2,MF=1,DF=10,LF=-2,oP=t=>t==="*";function $F(t,e){let r=t.split("/"),n=r.length;return r.some(oP)&&(n+=LF),e&&(n+=jF),r.filter(i=>!oP(i)).reduce((i,o)=>i+(RF.test(o)?NF:o===""?MF:DF),n)}function VF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function FF(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),v=c.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:ao([o,p.pathname]),pathnameBase:HF(ao([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=ao([o,p.pathnameBase]))}return s}function Ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=BF(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:p},v)=>{if(d==="*"){let w=l[v]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[v];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function BF(t,e=!1,r=!0){Oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function UF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function qF(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ch(t):t;return{pathname:r?r.startsWith("/")?r:zF(r,e):e,search:KF(n),hash:GF(i)}}function zF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Cy(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Hj(t){let e=WF(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Kj(t,e,r,n=!1){let i;typeof t=="string"?i=ch(t):(i={...t},tr(!i.pathname||!i.pathname.includes("?"),Cy("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),Cy("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),Cy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=qF(i,l),f=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var ao=t=>t.join("/").replace(/\/\/+/g,"/"),HF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gj=["POST","PUT","PATCH","DELETE"];new Set(Gj);var YF=["GET",...Gj];new Set(YF);var Ol=U.createContext(null);Ol.displayName="DataRouter";var Xm=U.createContext(null);Xm.displayName="DataRouterState";var Xj=U.createContext({isTransitioning:!1});Xj.displayName="ViewTransition";var QF=U.createContext(new Map);QF.displayName="Fetchers";var JF=U.createContext(null);JF.displayName="Await";var ji=U.createContext(null);ji.displayName="Navigation";var Ym=U.createContext(null);Ym.displayName="Location";var bo=U.createContext({outlet:null,matches:[],isDataRoute:!1});bo.displayName="Route";var Ux=U.createContext(null);Ux.displayName="RouteError";function ZF(t,{relative:e}={}){tr(fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=U.useContext(ji),{hash:i,pathname:o,search:s}=hh(t,{relative:e}),l=o;return r!=="/"&&(l=o==="/"?r:ao([r,o])),n.createHref({pathname:l,search:s,hash:i})}function fh(){return U.useContext(Ym)!=null}function Os(){return tr(fh(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ym).location}var Yj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qj(t){U.useContext(ji).static||U.useLayoutEffect(t)}function e6(){let{isDataRoute:t}=U.useContext(bo);return t?d6():t6()}function t6(){tr(fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(Ol),{basename:e,navigator:r}=U.useContext(ji),{matches:n}=U.useContext(bo),{pathname:i}=Os(),o=JSON.stringify(Hj(n)),s=U.useRef(!1);return Qj(()=>{s.current=!0}),U.useCallback((c,f={})=>{if(Oi(s.current,Yj),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=Kj(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ao([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,o,i,t])}U.createContext(null);function hh(t,{relative:e}={}){let{matches:r}=U.useContext(bo),{pathname:n}=Os(),i=JSON.stringify(Hj(r));return U.useMemo(()=>Kj(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function r6(t,e,r,n){tr(fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(ji),{matches:o}=U.useContext(bo),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",d=s&&s.route;{let T=d&&d.path||"";Jj(c,!d||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let p=Os(),v;v=p;let y=v.pathname||"/",w=y;if(f!=="/"){let T=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=qj(t,{pathname:w});return Oi(d||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Oi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),s6(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:ao([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:ao([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,r,n)}function n6(){let t=h6(),e=XF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),r?U.createElement("pre",{style:i},r):null,s)}var i6=U.createElement(n6,null),o6=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(bo.Provider,{value:this.props.routeContext},U.createElement(Ux.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a6({routeContext:t,match:e,children:r}){let n=U.useContext(Ol);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(bo.Provider,{value:t},r)}function s6(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);tr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=r,v=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,d)=>{let p,v=!1,y=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||i6,s&&(l<0&&d===0?(Jj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===d&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,d+1)),_=()=>{let T;return p?T=y:v?T=w:f.route.Component?T=U.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,U.createElement(a6,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?U.createElement(o6,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}function qx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u6(t){let e=U.useContext(Ol);return tr(e,qx(t)),e}function l6(t){let e=U.useContext(Xm);return tr(e,qx(t)),e}function c6(t){let e=U.useContext(bo);return tr(e,qx(t)),e}function zx(t){let e=c6(t),r=e.matches[e.matches.length-1];return tr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function f6(){return zx("useRouteId")}function h6(){var n;let t=U.useContext(Ux),e=l6("useRouteError"),r=zx("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function d6(){let{router:t}=u6("useNavigate"),e=zx("useNavigate"),r=U.useRef(!1);return Qj(()=>{r.current=!0}),U.useCallback(async(i,o={})=>{Oi(r.current,Yj),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var aP={};function Jj(t,e,r){!e&&!aP[t]&&(aP[t]=!0,Oi(!1,r))}U.memo(p6);function p6({routes:t,future:e,state:r}){return r6(t,void 0,r,e)}function m6({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){tr(!fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=U.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=ch(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:v="default"}=r,y=U.useMemo(()=>{let w=fo(c,s);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:v},navigationType:n}},[s,c,f,d,p,v,n]);return Oi(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:U.createElement(ji.Provider,{value:l},U.createElement(Ym.Provider,{children:e,value:y}))}var pp="get",mp="application/x-www-form-urlencoded";function Qm(t){return t!=null&&typeof t.tagName=="string"}function g6(t){return Qm(t)&&t.tagName.toLowerCase()==="button"}function v6(t){return Qm(t)&&t.tagName.toLowerCase()==="form"}function y6(t){return Qm(t)&&t.tagName.toLowerCase()==="input"}function _6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b6(t,e){return t.button===0&&(!e||e==="_self")&&!_6(t)}var Hd=null;function w6(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var x6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ky(t){return t!=null&&!x6.has(t)?(Oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mp}"`),null):t}function E6(t,e){let r,n,i,o,s;if(v6(t)){let l=t.getAttribute("action");n=l?fo(l,e):null,r=t.getAttribute("method")||pp,i=ky(t.getAttribute("enctype"))||mp,o=new FormData(t)}else if(g6(t)||y6(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?fo(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||pp,i=ky(t.getAttribute("formenctype"))||ky(l.getAttribute("enctype"))||mp,o=new FormData(l,t),!w6()){let{name:f,type:d,value:p}=t;if(d==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,p)}}else{if(Qm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pp,n=null,i=mp,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function Wx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function S6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function A6(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await S6(o,r);return s.links?s.links():[]}return[]}));return C6(n.flat(1).filter(T6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sP(t,e,r,n,i,o){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>{var d;return r[f].pathname!==c.pathname||((d=r[f].route.path)==null?void 0:d.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function P6(t,e,{includeHydrateFallback:r}={}){return I6(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function I6(t){return[...new Set(t)]}function O6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function C6(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify(O6(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k6=new Set([100,101,204,205]);function R6(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&fo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Zj(){let t=U.useContext(Ol);return Wx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N6(){let t=U.useContext(Xm);return Wx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hx=U.createContext(void 0);Hx.displayName="FrameworkContext";function eM(){let t=U.useContext(Hx);return Wx(t,"You must render this element inside a <HydratedRouter> element"),t}function j6(t,e){let r=U.useContext(Hx),[n,i]=U.useState(!1),[o,s]=U.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=e,v=U.useRef(null);U.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=T=>{T.forEach(A=>{s(A.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),U.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,v,{}]:[o,v,{onFocus:$c(l,y),onBlur:$c(c,w),onMouseEnter:$c(f,y),onMouseLeave:$c(d,w),onTouchStart:$c(p,y)}]:[!1,v,{}]}function $c(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function M6({page:t,...e}){let{router:r}=Zj(),n=U.useMemo(()=>qj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?U.createElement(L6,{page:t,matches:n,...e}):null}function D6(t){let{manifest:e,routeModules:r}=eM(),[n,i]=U.useState([]);return U.useEffect(()=>{let o=!1;return A6(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function L6({page:t,matches:e,...r}){let n=Os(),{manifest:i,routeModules:o}=eM(),{basename:s}=Zj(),{loaderData:l,matches:c}=N6(),f=U.useMemo(()=>sP(t,e,c,i,n,"data"),[t,e,c,i,n]),d=U.useMemo(()=>sP(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=U.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(T=>{var O;let A=i.routes[T.route.id];!A||!A.hasLoader||(!f.some(M=>M.route.id===T.route.id)&&T.route.id in l&&((O=o[T.route.id])!=null&&O.shouldRevalidate)||A.hasClientLoader?x=!0:w.add(T.route.id))}),w.size===0)return[];let _=R6(t,s);return x&&w.size>0&&_.searchParams.set("_routes",e.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[s,l,n,i,f,e,t,o]),v=U.useMemo(()=>P6(d,i),[d,i]),y=D6(d);return U.createElement(U.Fragment,null,p.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:x})=>U.createElement("link",{key:w,...x})))}function $6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var tM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tM&&(window.__reactRouterVersion="7.6.1")}catch{}function V6({basename:t,children:e,window:r}){let n=U.useRef();n.current==null&&(n.current=AF({window:r,v5Compat:!0}));let i=n.current,[o,s]=U.useState({action:i.action,location:i.location}),l=U.useCallback(c=>{U.startTransition(()=>s(c))},[s]);return U.useLayoutEffect(()=>i.listen(l),[i,l]),U.createElement(m6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nM=U.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:l,target:c,to:f,preventScrollReset:d,viewTransition:p,...v},y){let{basename:w}=U.useContext(ji),x=typeof f=="string"&&rM.test(f),_,T=!1;if(typeof f=="string"&&x&&(_=f,tM))try{let k=new URL(window.location.href),V=f.startsWith("//")?new URL(k.protocol+f):new URL(f),D=fo(V.pathname,w);V.origin===k.origin&&D!=null?f=D+V.search+V.hash:T=!0}catch{Oi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=ZF(f,{relative:i}),[O,M,C]=j6(n,v),N=q6(f,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function P(k){e&&e(k),k.defaultPrevented||N(k)}let I=U.createElement("a",{...v,...C,href:_||A,onClick:T||o?e:P,ref:$6(y,M),target:c,"data-discover":!x&&r==="render"?"true":void 0});return O&&!x?U.createElement(U.Fragment,null,I,U.createElement(M6,{page:A})):I});nM.displayName="Link";var F6=U.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:l,children:c,...f},d){let p=hh(s,{relative:f.relative}),v=Os(),y=U.useContext(Xm),{navigator:w,basename:x}=U.useContext(ji),_=y!=null&&G6(p)&&l===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=v.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(A=A.toLowerCase(),O=O?O.toLowerCase():null,T=T.toLowerCase()),O&&x&&(O=fo(O,x)||O);const M=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let C=A===T||!i&&A.startsWith(T)&&A.charAt(M)==="/",N=O!=null&&(O===T||!i&&O.startsWith(T)&&O.charAt(T.length)==="/"),P={isActive:C,isPending:N,isTransitioning:_},I=C?e:void 0,k;typeof n=="function"?k=n(P):k=[n,C?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(P):o;return U.createElement(nM,{...f,"aria-current":I,className:k,ref:d,style:V,to:s,viewTransition:l},typeof c=="function"?c(P):c)});F6.displayName="NavLink";var B6=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=pp,action:l,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:p,...v},y)=>{let w=H6(),x=K6(l,{relative:f}),_=s.toLowerCase()==="get"?"get":"post",T=typeof l=="string"&&rM.test(l),A=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||s;w(M||O.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:o,relative:f,preventScrollReset:d,viewTransition:p})};return U.createElement("form",{ref:y,method:_,action:x,onSubmit:n?c:A,...v,"data-discover":!T&&t==="render"?"true":void 0})});B6.displayName="Form";function U6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(t){let e=U.useContext(Ol);return tr(e,U6(t)),e}function q6(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=e6(),c=Os(),f=hh(t,{relative:o});return U.useCallback(d=>{if(b6(d,e)){d.preventDefault();let p=r!==void 0?r:vf(c)===vf(f);l(t,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,f,r,n,e,t,i,o,s])}var z6=0,W6=()=>`__${String(++z6)}__`;function H6(){let{router:t}=iM("useSubmit"),{basename:e}=U.useContext(ji),r=f6();return U.useCallback(async(n,i={})=>{let{action:o,method:s,encType:l,formData:c,body:f}=E6(n,e);if(i.navigate===!1){let d=i.fetcherKey||W6();await t.fetch(d,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function K6(t,{relative:e}={}){let{basename:r}=U.useContext(ji),n=U.useContext(bo);tr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...hh(t||".",{relative:e})},s=Os();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ao([r,o.pathname])),vf(o)}function G6(t,e={}){let r=U.useContext(Xj);tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=iM("useViewTransitionState"),i=hh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=fo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=fo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ip(i.pathname,s)!=null||Ip(i.pathname,o)!=null}[...k6];const X6=({tabs:t,activeTab:e,onTabChange:r})=>j.jsx("div",{className:"border-b border-gray-200",children:j.jsx("nav",{className:"flex -mb-px",children:t.map((n,i)=>j.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-colors duration-200 ${e===i?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,onClick:()=>r(i),children:n},i))})}),oM=U.createContext(void 0),dh=()=>{const t=U.useContext(oM);if(!t)throw new Error("useData must be used within a DataProvider");return t},Y6=t=>{const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e},Ry=(t,e,r)=>{try{const n=[e.join(","),...t.map(o=>e.map(s=>Y6(o[s])).join(","))].join(`
`);localStorage.setItem(r,n);const i=new Date().toISOString().replace(/[:.]/g,"-");return localStorage.setItem(`${r}.${i}.backup`,n),!0}catch(n){return console.error(`Error saving CSV at ${r}:`,n),!1}},uP=t=>{try{const e=localStorage.getItem(t);return e||(t.includes("products")?`codigo,nombre,stock,precio_costo,precio_venta,categoria,imagen,stockMinimo
`:t.includes("sales")?`fecha_hora,codigo_barra,nombre_producto,cantidad_vendida,precio_unitario,total_linea,cajero
`:"")}catch(e){return console.error(`Error loading CSV from ${t}:`,e),""}},Q6=t=>{try{const e=t.split(`
`);if(e.length<=1)return{};const r=e[0].split(","),n={},i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={codigo:i(s[0]||""),nombre:i(s[1]||""),stock:parseInt(i(s[2]||"0"))||0,precio_costo:parseFloat(i(s[3]||"0"))||0,precio_venta:parseFloat(i(s[4]||"0"))||0,categoria:i(s[5]||"Sin Categora"),imagen:i(s[6]||""),stockMinimo:parseInt(i(s[7]||"5"))||5,ventaPorKilo:i(s[8]||"false")==="true",pesoUnitario:parseFloat(i(s[9]||"1"))||1,precio:0};l.codigo&&(n[l.codigo]=l)}}}),n}catch(e){return console.error("Error parsing products CSV:",e),{}}},J6=t=>{try{const e=t.split(`
`);if(e.length<=1)return[];const r=e[0].split(","),n=[],i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={fecha_hora:i(s[0]||""),codigo_barra:i(s[1]||""),nombre_producto:i(s[2]||""),cantidad_vendida:parseInt(i(s[3]||"0"))||0,precio_unitario:parseFloat(i(s[4]||"0"))||0,total_linea:parseFloat(i(s[5]||"0"))||0,cajero:i(s[6]||"")};l.codigo_barra&&l.fecha_hora&&n.push(l)}}}),n}catch(e){return console.error("Error parsing sales CSV:",e),[]}},Z6=({children:t})=>{const[e,r]=U.useState({}),[n,i]=U.useState([]),[o,s]=U.useState(!0),[l,c]=U.useState(null),f=U.useRef(null);U.useEffect(()=>{(async()=>{try{s(!0);const T=uP("products.csv"),A=uP("sales.csv"),O=Q6(T),M=J6(A);r(O),i(M),console.log("Data loaded successfully")}catch(T){console.error("Error loading data:",T)}finally{s(!1)}})()},[]);const d=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{const _=["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo","ventaPorKilo","pesoUnitario"],T=["fecha_hora","codigo_barra","nombre_producto","cantidad_vendida","precio_unitario","total_linea","cajero"],A=Object.values(e),O=Ry(A,_,"products.csv"),M=Ry(n,T,"sales.csv");O&&M&&(c(new Date),console.log("Data saved successfully"))}catch(_){console.error("Error saving data:",_)}},1e3)};U.useEffect(()=>{o||d()},[e,n,o]);const p=_=>{r(T=>({...T,[_.codigo]:{..._,categoria:_.categoria||"Sin Categora",imagen:_.imagen||"",stockMinimo:_.stockMinimo||5,ventaPorKilo:_.ventaPorKilo||!1,pesoUnitario:_.pesoUnitario||1}}))},v=_=>{r(T=>{const A=T[_.codigo];return A?{...T,[_.codigo]:{...A,..._,stock:_.stock!==void 0?_.stock:A.stock}}:T})},y=_=>{i(T=>[...T,_])},w=(_,T)=>{const A=e[_];return!A||A.stock<T?!1:(r(O=>({...O,[_]:{...A,stock:A.stock-T}})),!0)},x=_=>e[_]||null;return j.jsx(oM.Provider,{value:{products:e,sales:n,addProduct:p,updateProduct:v,addSale:y,decreaseStock:w,getProduct:x,deleteProduct:_=>{const T={...e};delete T[_],r(T),Ry(Object.values(T),["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo"],"products.csv")},updateStock:(_,T)=>{e[_]&&v({...e[_],stock:T})},isLoading:o,lastSaved:l},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ct=(t,e)=>{const r=U.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},d)=>U.createElement("svg",{ref:d,...e5,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${t5(t)}`,l].join(" "),...f},[...e.map(([p,v])=>U.createElement(p,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ct("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ct("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ct("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ct("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ct("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ct("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ct("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=ct("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=ct("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=ct("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ct("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=ct("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),m5=()=>{const{isLoading:t,lastSaved:e}=dh();return t?j.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[j.jsx(o5,{className:"animate-spin",size:16}),j.jsx("span",{className:"text-sm",children:"Cargando datos..."})]}):j.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[j.jsx(cM,{size:16}),j.jsx("span",{className:"text-sm",children:e?`Guardado: ${e.toLocaleTimeString()}`:"Datos sincronizados"})]})};function pM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=pM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=pM(t))&&(n&&(n+=" "),n+=e);return n}var Ny,gP;function rn(){if(gP)return Ny;gP=1;var t=Array.isArray;return Ny=t,Ny}var jy,vP;function mM(){if(vP)return jy;vP=1;var t=typeof zd=="object"&&zd&&zd.Object===Object&&zd;return jy=t,jy}var My,yP;function Mi(){if(yP)return My;yP=1;var t=mM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return My=r,My}var Dy,_P;function ph(){if(_P)return Dy;_P=1;var t=Mi(),e=t.Symbol;return Dy=e,Dy}var Ly,bP;function g5(){if(bP)return Ly;bP=1;var t=ph(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var d=n.call(s);return f&&(l?s[i]=c:delete s[i]),d}return Ly=o,Ly}var $y,wP;function v5(){if(wP)return $y;wP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return $y=r,$y}var Vy,xP;function wo(){if(xP)return Vy;xP=1;var t=ph(),e=g5(),r=v5(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:o&&o in Object(l)?e(l):r(l)}return Vy=s,Vy}var Fy,EP;function xo(){if(EP)return Fy;EP=1;function t(e){return e!=null&&typeof e=="object"}return Fy=t,Fy}var By,SP;function Cl(){if(SP)return By;SP=1;var t=wo(),e=xo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return By=n,By}var Uy,TP;function Kx(){if(TP)return Uy;TP=1;var t=rn(),e=Cl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Uy=i,Uy}var qy,AP;function wa(){if(AP)return qy;AP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return qy=t,qy}var zy,PP;function Gx(){if(PP)return zy;PP=1;var t=wo(),e=wa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==o}return zy=s,zy}var Wy,IP;function y5(){if(IP)return Wy;IP=1;var t=Mi(),e=t["__core-js_shared__"];return Wy=e,Wy}var Hy,OP;function _5(){if(OP)return Hy;OP=1;var t=y5(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Hy=r,Hy}var Ky,CP;function gM(){if(CP)return Ky;CP=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ky=r,Ky}var Gy,kP;function b5(){if(kP)return Gy;kP=1;var t=Gx(),e=_5(),r=wa(),n=gM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var y=t(v)?d:o;return y.test(n(v))}return Gy=p,Gy}var Xy,RP;function w5(){if(RP)return Xy;RP=1;function t(e,r){return e==null?void 0:e[r]}return Xy=t,Xy}var Yy,NP;function Cs(){if(NP)return Yy;NP=1;var t=b5(),e=w5();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Yy=r,Yy}var Qy,jP;function Zm(){if(jP)return Qy;jP=1;var t=Cs(),e=t(Object,"create");return Qy=e,Qy}var Jy,MP;function x5(){if(MP)return Jy;MP=1;var t=Zm();function e(){this.__data__=t?t(null):{},this.size=0}return Jy=e,Jy}var Zy,DP;function E5(){if(DP)return Zy;DP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Zy=t,Zy}var e0,LP;function S5(){if(LP)return e0;LP=1;var t=Zm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return n.call(s,o)?s[o]:void 0}return e0=i,e0}var t0,$P;function T5(){if($P)return t0;$P=1;var t=Zm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return t0=n,t0}var r0,VP;function A5(){if(VP)return r0;VP=1;var t=Zm(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return r0=r,r0}var n0,FP;function P5(){if(FP)return n0;FP=1;var t=x5(),e=E5(),r=S5(),n=T5(),i=A5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,n0=o,n0}var i0,BP;function I5(){if(BP)return i0;BP=1;function t(){this.__data__=[],this.size=0}return i0=t,i0}var o0,UP;function Xx(){if(UP)return o0;UP=1;function t(e,r){return e===r||e!==e&&r!==r}return o0=t,o0}var a0,qP;function eg(){if(qP)return a0;qP=1;var t=Xx();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return a0=e,a0}var s0,zP;function O5(){if(zP)return s0;zP=1;var t=eg(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():r.call(o,s,1),--this.size,!0}return s0=n,s0}var u0,WP;function C5(){if(WP)return u0;WP=1;var t=eg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return u0=e,u0}var l0,HP;function k5(){if(HP)return l0;HP=1;var t=eg();function e(r){return t(this.__data__,r)>-1}return l0=e,l0}var c0,KP;function R5(){if(KP)return c0;KP=1;var t=eg();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return c0=e,c0}var f0,GP;function tg(){if(GP)return f0;GP=1;var t=I5(),e=O5(),r=C5(),n=k5(),i=R5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,f0=o,f0}var h0,XP;function Yx(){if(XP)return h0;XP=1;var t=Cs(),e=Mi(),r=t(e,"Map");return h0=r,h0}var d0,YP;function N5(){if(YP)return d0;YP=1;var t=P5(),e=tg(),r=Yx();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return d0=n,d0}var p0,QP;function j5(){if(QP)return p0;QP=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return p0=t,p0}var m0,JP;function rg(){if(JP)return m0;JP=1;var t=j5();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return m0=e,m0}var g0,ZP;function M5(){if(ZP)return g0;ZP=1;var t=rg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return g0=e,g0}var v0,eI;function D5(){if(eI)return v0;eI=1;var t=rg();function e(r){return t(this,r).get(r)}return v0=e,v0}var y0,tI;function L5(){if(tI)return y0;tI=1;var t=rg();function e(r){return t(this,r).has(r)}return y0=e,y0}var _0,rI;function $5(){if(rI)return _0;rI=1;var t=rg();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return _0=e,_0}var b0,nI;function Qx(){if(nI)return b0;nI=1;var t=N5(),e=M5(),r=D5(),n=L5(),i=$5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,b0=o,b0}var w0,iI;function vM(){if(iI)return w0;iI=1;var t=Qx(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=n.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,w0=r,w0}var x0,oI;function V5(){if(oI)return x0;oI=1;var t=vM(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return x0=r,x0}var E0,aI;function F5(){if(aI)return E0;aI=1;var t=V5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(r,"$1"):l||s)}),o});return E0=n,E0}var S0,sI;function Jx(){if(sI)return S0;sI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return S0=t,S0}var T0,uI;function B5(){if(uI)return T0;uI=1;var t=ph(),e=Jx(),r=rn(),n=Cl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return T0=s,T0}var A0,lI;function yM(){if(lI)return A0;lI=1;var t=B5();function e(r){return r==null?"":t(r)}return A0=e,A0}var P0,cI;function _M(){if(cI)return P0;cI=1;var t=rn(),e=Kx(),r=F5(),n=yM();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return P0=i,P0}var I0,fI;function ng(){if(fI)return I0;fI=1;var t=Cl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return I0=e,I0}var O0,hI;function Zx(){if(hI)return O0;hI=1;var t=_M(),e=ng();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return O0=r,O0}var C0,dI;function bM(){if(dI)return C0;dI=1;var t=Zx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return C0=e,C0}var U5=bM();const gn=pt(U5);var k0,pI;function q5(){if(pI)return k0;pI=1;function t(e){return e==null}return k0=t,k0}var z5=q5();const Xe=pt(z5);var R0,mI;function W5(){if(mI)return R0;mI=1;var t=wo(),e=rn(),r=xo(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return R0=i,R0}var H5=W5();const ys=pt(H5);var K5=Gx();const Ue=pt(K5);var G5=wa();const kl=pt(G5);var N0={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function X5(){if(gI)return ft;gI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var T=_.$$typeof;switch(T){case t:switch(_=_.type,_){case r:case i:case n:case f:case d:return _;default:switch(_=_&&_.$$typeof,_){case l:case s:case c:case v:case p:case o:return _;default:return T}}case e:return T}}}return ft.ContextConsumer=s,ft.ContextProvider=o,ft.Element=t,ft.ForwardRef=c,ft.Fragment=r,ft.Lazy=v,ft.Memo=p,ft.Portal=e,ft.Profiler=i,ft.StrictMode=n,ft.Suspense=f,ft.SuspenseList=d,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(_){return x(_)===s},ft.isContextProvider=function(_){return x(_)===o},ft.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ft.isForwardRef=function(_){return x(_)===c},ft.isFragment=function(_){return x(_)===r},ft.isLazy=function(_){return x(_)===v},ft.isMemo=function(_){return x(_)===p},ft.isPortal=function(_){return x(_)===e},ft.isProfiler=function(_){return x(_)===i},ft.isStrictMode=function(_){return x(_)===n},ft.isSuspense=function(_){return x(_)===f},ft.isSuspenseList=function(_){return x(_)===d},ft.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===d||_===y||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===w||_.getModuleId!==void 0)},ft.typeOf=x,ft}var vI;function Y5(){return vI||(vI=1,N0.exports=X5()),N0.exports}var Q5=Y5(),j0,yI;function wM(){if(yI)return j0;yI=1;var t=wo(),e=xo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return j0=n,j0}var M0,_I;function J5(){if(_I)return M0;_I=1;var t=wM();function e(r){return t(r)&&r!=+r}return M0=e,M0}var Z5=J5();const Rl=pt(Z5);var eB=wM();const tB=pt(eB);var Vr=function(e){return e===0?0:e>0?1:-1},ss=function(e){return ys(e)&&e.indexOf("%")===e.length-1},ye=function(e){return tB(e)&&!Rl(e)},er=function(e){return ye(e)||ys(e)},rB=0,Nl=function(e){var r=++rB;return"".concat(e||"").concat(r)},Fr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(e)&&!ys(e))return n;var o;if(ss(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Rl(o)&&(o=n),i&&o>r&&(o=r),o},Zo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},nB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Zr=function(e,r){return ye(e)&&ye(r)?function(n){return e+n*(r-e)}:function(){return r}};function kp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):gn(n,e))===r})}var iB=function(e,r){return ye(e)&&ye(r)?e-r:ys(e)&&ys(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Fu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Qw(t){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(t)}var oB=["viewBox","children"],aB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bI=["points","pathLength"],D0={svg:oB,polygon:bI,polyline:bI},eE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(U.isValidElement(e)&&(n=e.props),!kl(n))return null;var i={};return Object.keys(n).forEach(function(o){eE.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},sB=function(e,r,n){return function(i){return e(r,n,i),null}},_s=function(e,r,n){if(!kl(e)||Qw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];eE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=sB(s,r,n))}),i},uB=["children"],lB=["children"];function wI(t,e){if(t==null)return{};var r=cB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}var xI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},so=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},EI=null,L0=null,tE=function t(e){if(e===EI&&Array.isArray(L0))return L0;var r=[];return U.Children.forEach(e,function(n){Xe(n)||(Q5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),L0=r,EI=e,r};function jn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return so(i)}):n=[so(e)],tE(t).forEach(function(i){var o=gn(i,"type.displayName")||gn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function dn(t,e){var r=jn(t,e);return r&&r[0]}var SI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ye(n)||n<=0||!ye(i)||i<=0)},fB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hB=function(e){return e&&e.type&&ys(e.type)&&fB.indexOf(e.type)>=0},dB=function(e){return e&&Jw(e)==="object"&&"clipDot"in e},pB=function(e,r,n,i){var o,s=(o=D0==null?void 0:D0[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ue(e)&&(i&&s.includes(r)||aB.includes(r))||n&&eE.includes(r)},De=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!kl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;pB((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=i[s])}),o},Zw=function t(e,r){if(e===r)return!0;var n=U.Children.count(e);if(n!==U.Children.count(r))return!1;if(n===0)return!0;if(n===1)return TI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!TI(o,s))return!1}return!0},TI=function(e,r){if(Xe(e)&&Xe(r))return!0;if(!Xe(e)&&!Xe(r)){var n=e.props||{},i=n.children,o=wI(n,uB),s=r.props||{},l=s.children,c=wI(s,lB);return i&&l?Fu(o,c)&&Zw(i,l):!i&&!l?Fu(o,c):!1}return!1},AI=function(e,r){var n=[],i={};return tE(e).forEach(function(o,s){if(hB(o))n.push(o);else if(o){var l=so(o.type),c=r[l]||{},f=c.handler,d=c.once;if(f&&(!d||!i[l])){var p=f(o,l,s);n.push(p),i[l]=!0}}}),n},mB=function(e){var r=e&&e.type;return r&&xI[r]?xI[r]:null},gB=function(e,r){return tE(r).indexOf(e)},vB=["children","width","height","viewBox","className","style","title","desc"];function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}function yB(t,e){if(t==null)return{};var r=_B(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _B(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=yB(t,vB),d=i||{width:r,height:n,x:0,y:0},p=Qe("recharts-surface",o);return W.createElement("svg",e1({},De(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var bB=["children","className"];function r1(){return r1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r1.apply(this,arguments)}function wB(t,e){if(t==null)return{};var r=xB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ot=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=wB(t,bB),o=Qe("recharts-layer",n);return W.createElement("g",r1({className:o},De(i,!0),{ref:e}),r)}),ai=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},$0,PI;function EB(){if(PI)return $0;PI=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return $0=t,$0}var V0,II;function SB(){if(II)return V0;II=1;var t=EB();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return V0=e,V0}var F0,OI;function xM(){if(OI)return F0;OI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return F0=c,F0}var B0,CI;function TB(){if(CI)return B0;CI=1;function t(e){return e.split("")}return B0=t,B0}var U0,kI;function AB(){if(kI)return U0;kI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",x="["+o+"]?",_="(?:"+y+"(?:"+[d,p,v].join("|")+")"+x+w+")*",T=x+w+_,A="(?:"+[d+l+"?",l,p,v,s].join("|")+")",O=RegExp(c+"(?="+c+")|"+A+T,"g");function M(C){return C.match(O)||[]}return U0=M,U0}var q0,RI;function PB(){if(RI)return q0;RI=1;var t=TB(),e=xM(),r=AB();function n(i){return e(i)?r(i):t(i)}return q0=n,q0}var z0,NI;function IB(){if(NI)return z0;NI=1;var t=SB(),e=xM(),r=PB(),n=yM();function i(o){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return z0=i,z0}var W0,jI;function OB(){if(jI)return W0;jI=1;var t=IB(),e=t("toUpperCase");return W0=e,W0}var CB=OB();const ig=pt(CB);function Et(t){return function(){return t}}const EM=Math.cos,Np=Math.sin,ui=Math.sqrt,jp=Math.PI,og=2*jp,n1=Math.PI,i1=2*n1,ns=1e-6,kB=i1-ns;function SM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function RB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SM;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SM:RB(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-e,f=i-r,d=s-e,p=l-r,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ns)if(!(Math.abs(p*c-f*d)>ns)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,w=i-l,x=c*c+f*f,_=y*y+w*w,T=Math.sqrt(x),A=Math.sqrt(v),O=o*Math.tan((n1-Math.acos((x+v-_)/(2*T*A)))/2),M=O/A,C=O/T;Math.abs(M-1)>ns&&this._append`L${e+M*d},${r+M*p}`,this._append`A${o},${o},0,0,${+(p*y>d*w)},${this._x1=e+C*c},${this._y1=r+C*f}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,d=r+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ns||Math.abs(this._y1-d)>ns)&&this._append`L${f},${d}`,n&&(v<0&&(v=v%i1+i1),v>kB?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:v>ns&&this._append`A${n},${n},0,${+(v>=n1)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new NB(e)}function nE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TM(t){this._context=t}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ag(t){return new TM(t)}function AM(t){return t[0]}function PM(t){return t[1]}function IM(t,e){var r=Et(!0),n=null,i=ag,o=null,s=rE(l);t=typeof t=="function"?t:t===void 0?AM:Et(t),e=typeof e=="function"?e:e===void 0?PM:Et(e);function l(c){var f,d=(c=nE(c)).length,p,v=!1,y;for(n==null&&(o=i(y=s())),f=0;f<=d;++f)!(f<d&&r(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(y)return o=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Et(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Et(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),l):n},l}function Kd(t,e,r){var n=null,i=Et(!0),o=null,s=ag,l=null,c=rE(f);t=typeof t=="function"?t:t===void 0?AM:Et(+t),e=typeof e=="function"?e:Et(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?PM:Et(+r);function f(p){var v,y,w,x=(p=nE(p)).length,_,T=!1,A,O=new Array(x),M=new Array(x);for(o==null&&(l=s(A=c())),v=0;v<=x;++v){if(!(v<x&&i(_=p[v],v,p))===T)if(T=!T)y=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=y;--w)l.point(O[w],M[w]);l.lineEnd(),l.areaEnd()}T&&(O[v]=+t(_,v,p),M[v]=+e(_,v,p),l.point(n?+n(_,v,p):O[v],r?+r(_,v,p):M[v]))}if(A)return l=null,A+""||null}function d(){return IM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Et(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Et(+p),f):r},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(r)},f.lineX1=function(){return d().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Et(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class OM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function jB(t){return new OM(t,!0)}function MB(t){return new OM(t,!1)}const iE={draw(t,e){const r=ui(e/jp);t.moveTo(r,0),t.arc(0,0,r,0,og)}},DB={draw(t,e){const r=ui(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},CM=ui(1/3),LB=CM*2,$B={draw(t,e){const r=ui(e/LB),n=r*CM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},VB={draw(t,e){const r=ui(e),n=-r/2;t.rect(n,n,r,r)}},FB=.8908130915292852,kM=Np(jp/10)/Np(7*jp/10),BB=Np(og/10)*kM,UB=-EM(og/10)*kM,qB={draw(t,e){const r=ui(e*FB),n=BB*r,i=UB*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=og*o/5,l=EM(s),c=Np(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},H0=ui(3),zB={draw(t,e){const r=-ui(e/(H0*3));t.moveTo(0,r*2),t.lineTo(-H0*r,-r),t.lineTo(H0*r,-r),t.closePath()}},On=-.5,Cn=ui(3)/2,o1=1/ui(12),WB=(o1/2+1)*3,HB={draw(t,e){const r=ui(e/WB),n=r/2,i=r*o1,o=n,s=r*o1+r,l=-o,c=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(On*n-Cn*i,Cn*n+On*i),t.lineTo(On*o-Cn*s,Cn*o+On*s),t.lineTo(On*l-Cn*c,Cn*l+On*c),t.lineTo(On*n+Cn*i,On*i-Cn*n),t.lineTo(On*o+Cn*s,On*s-Cn*o),t.lineTo(On*l+Cn*c,On*c-Cn*l),t.closePath()}};function KB(t,e){let r=null,n=rE(i);t=typeof t=="function"?t:Et(t||iE),e=typeof e=="function"?e:Et(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Et(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Et(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Mp(){}function Dp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function RM(t){this._context=t}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GB(t){return new RM(t)}function NM(t){this._context=t}NM.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XB(t){return new NM(t)}function jM(t){this._context=t}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YB(t){return new jM(t)}function MM(t){this._context=t}MM.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function QB(t){return new MM(t)}function MI(t){return t<0?-1:1}function DI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(o*i+s*n)/(n+i);return(MI(o)+MI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function LI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function K0(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-n)/3;t._context.bezierCurveTo(n+l,i+l*e,o-l,s-l*r,o,s)}function Lp(t){this._context=t}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K0(this,this._t0,LI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,K0(this,LI(this,r=DI(this,t,e)),r);break;default:K0(this,this._t0,r=DI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function DM(t){this._context=new LM(t)}(DM.prototype=Object.create(Lp.prototype)).point=function(t,e){Lp.prototype.point.call(this,e,t)};function LM(t){this._context=t}LM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function JB(t){return new Lp(t)}function ZB(t){return new DM(t)}function $M(t){this._context=t}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=$I(t),i=$I(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $I(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function eU(t){return new $M(t)}function sg(t,e){this._context=t,this._t=e}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tU(t){return new sg(t,.5)}function rU(t){return new sg(t,0)}function nU(t){return new sg(t,1)}function Gu(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,l=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function a1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function iU(t,e){return t[e]}function oU(t){const e=[];return e.key=t,e}function aU(){var t=Et([]),e=a1,r=Gu,n=iU;function i(o){var s=Array.from(t.apply(this,arguments),oU),l,c=s.length,f=-1,d;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+n(p,s[l].key,f,o)]).data=p;for(l=0,d=nE(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Et(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?a1:typeof o=="function"?o:Et(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Gu,i):r},i}function sU(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Gu(t,e)}}function uU(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gu(t,e)}}function lU(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var l=0,c=0,f=0;l<s;++l){for(var d=t[e[l]],p=d[n][1]||0,v=d[n-1][1]||0,y=(p-v)/2,w=0;w<l;++w){var x=t[e[w]],_=x[n][1]||0,T=x[n-1][1]||0;y+=_-T}c+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Gu(t,e)}}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var cU=["type","size","sizeType"];function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){fU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fU(t,e,r){return e=hU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hU(t){var e=dU(t,"string");return yf(e)=="symbol"?e:e+""}function dU(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pU(t,e){if(t==null)return{};var r=mU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VM={symbolCircle:iE,symbolCross:DB,symbolDiamond:$B,symbolSquare:VB,symbolStar:qB,symbolTriangle:zB,symbolWye:HB},gU=Math.PI/180,vU=function(e){var r="symbol".concat(ig(e));return VM[r]||iE},yU=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_U=function(e,r){VM["symbol".concat(ig(e))]=r},oE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=pU(e,cU),f=FI(FI({},c),{},{type:n,size:o,sizeType:l}),d=function(){var _=vU(n),T=KB().type(_).size(yU(o,l,n));return T()},p=f.className,v=f.cx,y=f.cy,w=De(f,!0);return v===+v&&y===+y&&o===+o?W.createElement("path",s1({},w,{className:Qe("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:d()})):null};oE.registerSymbol=_U;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){_f(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BM(n.key),n)}}function EU(t,e,r){return e&&xU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SU(t,e,r){return e=$p(e),TU(t,FM()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function TU(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AU(t)}function AU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function PU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l1(t,e)}function _f(t,e,r){return e=BM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BM(t){var e=IU(t,"string");return Xu(e)=="symbol"?e:e+""}function IU(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zn=32,aE=function(t){function e(){return wU(this,e),SU(this,e,arguments)}return PU(e,t),EU(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Zn/2,s=Zn/6,l=Zn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Zn,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var f=bU({},n);return delete f.legendIcon,W.cloneElement(n.legendIcon,f)}return W.createElement(oE,{fill:c,cx:o,cy:o,size:Zn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:Zn,height:Zn},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,w){var x=y.formatter||c,_=Qe(_f(_f({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var T=Ue(y.value)?null:y.value;ai(!Ue(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?f:y.color;return W.createElement("li",u1({className:_,style:p,key:"legend-item-".concat(w)},_s(n.props,y,w)),W.createElement(t1,{width:s,height:s,viewBox:d,style:v},n.renderIcon(y)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},x?x(T,y,w):T))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(U.PureComponent);_f(aE,"displayName","Legend");_f(aE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var G0,UI;function OU(){if(UI)return G0;UI=1;var t=tg();function e(){this.__data__=new t,this.size=0}return G0=e,G0}var X0,qI;function CU(){if(qI)return X0;qI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return X0=t,X0}var Y0,zI;function kU(){if(zI)return Y0;zI=1;function t(e){return this.__data__.get(e)}return Y0=t,Y0}var Q0,WI;function RU(){if(WI)return Q0;WI=1;function t(e){return this.__data__.has(e)}return Q0=t,Q0}var J0,HI;function NU(){if(HI)return J0;HI=1;var t=tg(),e=Yx(),r=Qx(),n=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(o,s),this.size=l.size,this}return J0=i,J0}var Z0,KI;function UM(){if(KI)return Z0;KI=1;var t=tg(),e=OU(),r=CU(),n=kU(),i=RU(),o=NU();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,Z0=s,Z0}var e_,GI;function jU(){if(GI)return e_;GI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return e_=e,e_}var t_,XI;function MU(){if(XI)return t_;XI=1;function t(e){return this.__data__.has(e)}return t_=t,t_}var r_,YI;function qM(){if(YI)return r_;YI=1;var t=Qx(),e=jU(),r=MU();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,r_=n,r_}var n_,QI;function zM(){if(QI)return n_;QI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return n_=t,n_}var i_,JI;function WM(){if(JI)return i_;JI=1;function t(e,r){return e.has(r)}return i_=t,i_}var o_,ZI;function HM(){if(ZI)return o_;ZI=1;var t=qM(),e=zM(),r=WM(),n=1,i=2;function o(s,l,c,f,d,p){var v=c&n,y=s.length,w=l.length;if(y!=w&&!(v&&w>y))return!1;var x=p.get(s),_=p.get(l);if(x&&_)return x==l&&_==s;var T=-1,A=!0,O=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++T<y;){var M=s[T],C=l[T];if(f)var N=v?f(C,M,T,l,s,p):f(M,C,T,s,l,p);if(N!==void 0){if(N)continue;A=!1;break}if(O){if(!e(l,function(P,I){if(!r(O,I)&&(M===P||d(M,P,c,f,p)))return O.push(I)})){A=!1;break}}else if(!(M===C||d(M,C,c,f,p))){A=!1;break}}return p.delete(s),p.delete(l),A}return o_=o,o_}var a_,eO;function DU(){if(eO)return a_;eO=1;var t=Mi(),e=t.Uint8Array;return a_=e,a_}var s_,tO;function LU(){if(tO)return s_;tO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return s_=t,s_}var u_,rO;function sE(){if(rO)return u_;rO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return u_=t,u_}var l_,nO;function $U(){if(nO)return l_;nO=1;var t=ph(),e=DU(),r=Xx(),n=HM(),i=LU(),o=sE(),s=1,l=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",x="[object String]",_="[object Symbol]",T="[object ArrayBuffer]",A="[object DataView]",O=t?t.prototype:void 0,M=O?O.valueOf:void 0;function C(N,P,I,k,V,D,F){switch(I){case A:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case T:return!(N.byteLength!=P.byteLength||!D(new e(N),new e(P)));case c:case f:case v:return r(+N,+P);case d:return N.name==P.name&&N.message==P.message;case y:case x:return N==P+"";case p:var L=i;case w:var H=k&s;if(L||(L=o),N.size!=P.size&&!H)return!1;var Q=F.get(N);if(Q)return Q==P;k|=l,F.set(N,P);var G=n(L(N),L(P),k,V,D,F);return F.delete(N),G;case _:if(M)return M.call(N)==M.call(P)}return!1}return l_=C,l_}var c_,iO;function KM(){if(iO)return c_;iO=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return c_=t,c_}var f_,oO;function VU(){if(oO)return f_;oO=1;var t=KM(),e=rn();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return f_=r,f_}var h_,aO;function FU(){if(aO)return h_;aO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[o++]=l)}return s}return h_=t,h_}var d_,sO;function BU(){if(sO)return d_;sO=1;function t(){return[]}return d_=t,d_}var p_,uO;function UU(){if(uO)return p_;uO=1;var t=FU(),e=BU(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return p_=o,p_}var m_,lO;function qU(){if(lO)return m_;lO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return m_=t,m_}var g_,cO;function zU(){if(cO)return g_;cO=1;var t=wo(),e=xo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return g_=n,g_}var v_,fO;function uE(){if(fO)return v_;fO=1;var t=zU(),e=xo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return v_=o,v_}var Yc={exports:{}},y_,hO;function WU(){if(hO)return y_;hO=1;function t(){return!1}return y_=t,y_}Yc.exports;var dO;function GM(){return dO||(dO=1,function(t,e){var r=Mi(),n=WU(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||n;t.exports=f}(Yc,Yc.exports)),Yc.exports}var __,pO;function lE(){if(pO)return __;pO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return __=r,__}var b_,mO;function cE(){if(mO)return b_;mO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return b_=e,b_}var w_,gO;function HU(){if(gO)return w_;gO=1;var t=wo(),e=cE(),r=xo(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",T="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",C="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",k="[object Uint16Array]",V="[object Uint32Array]",D={};D[A]=D[O]=D[M]=D[C]=D[N]=D[P]=D[I]=D[k]=D[V]=!0,D[n]=D[i]=D[_]=D[o]=D[T]=D[s]=D[l]=D[c]=D[f]=D[d]=D[p]=D[v]=D[y]=D[w]=D[x]=!1;function F(L){return r(L)&&e(L.length)&&!!D[t(L)]}return w_=F,w_}var x_,vO;function XM(){if(vO)return x_;vO=1;function t(e){return function(r){return e(r)}}return x_=t,x_}var Qc={exports:{}};Qc.exports;var yO;function KU(){return yO||(yO=1,function(t,e){var r=mM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(Qc,Qc.exports)),Qc.exports}var E_,_O;function YM(){if(_O)return E_;_O=1;var t=HU(),e=XM(),r=KU(),n=r&&r.isTypedArray,i=n?e(n):t;return E_=i,E_}var S_,bO;function GU(){if(bO)return S_;bO=1;var t=qU(),e=uE(),r=rn(),n=GM(),i=lE(),o=YM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,d){var p=r(f),v=!p&&e(f),y=!p&&!v&&n(f),w=!p&&!v&&!y&&o(f),x=p||v||y||w,_=x?t(f.length,String):[],T=_.length;for(var A in f)(d||l.call(f,A))&&!(x&&(A=="length"||y&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,T)))&&_.push(A);return _}return S_=c,S_}var T_,wO;function XU(){if(wO)return T_;wO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return T_=e,T_}var A_,xO;function QM(){if(xO)return A_;xO=1;function t(e,r){return function(n){return e(r(n))}}return A_=t,A_}var P_,EO;function YU(){if(EO)return P_;EO=1;var t=QM(),e=t(Object.keys,Object);return P_=e,P_}var I_,SO;function QU(){if(SO)return I_;SO=1;var t=XU(),e=YU(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))n.call(o,l)&&l!="constructor"&&s.push(l);return s}return I_=i,I_}var O_,TO;function mh(){if(TO)return O_;TO=1;var t=Gx(),e=cE();function r(n){return n!=null&&e(n.length)&&!t(n)}return O_=r,O_}var C_,AO;function ug(){if(AO)return C_;AO=1;var t=GU(),e=QU(),r=mh();function n(i){return r(i)?t(i):e(i)}return C_=n,C_}var k_,PO;function JU(){if(PO)return k_;PO=1;var t=VU(),e=UU(),r=ug();function n(i){return t(i,r,e)}return k_=n,k_}var R_,IO;function ZU(){if(IO)return R_;IO=1;var t=JU(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,l,c,f,d){var p=l&e,v=t(o),y=v.length,w=t(s),x=w.length;if(y!=x&&!p)return!1;for(var _=y;_--;){var T=v[_];if(!(p?T in s:n.call(s,T)))return!1}var A=d.get(o),O=d.get(s);if(A&&O)return A==s&&O==o;var M=!0;d.set(o,s),d.set(s,o);for(var C=p;++_<y;){T=v[_];var N=o[T],P=s[T];if(c)var I=p?c(P,N,T,s,o,d):c(N,P,T,o,s,d);if(!(I===void 0?N===P||f(N,P,l,c,d):I)){M=!1;break}C||(C=T=="constructor")}if(M&&!C){var k=o.constructor,V=s.constructor;k!=V&&"constructor"in o&&"constructor"in s&&!(typeof k=="function"&&k instanceof k&&typeof V=="function"&&V instanceof V)&&(M=!1)}return d.delete(o),d.delete(s),M}return R_=i,R_}var N_,OO;function eq(){if(OO)return N_;OO=1;var t=Cs(),e=Mi(),r=t(e,"DataView");return N_=r,N_}var j_,CO;function tq(){if(CO)return j_;CO=1;var t=Cs(),e=Mi(),r=t(e,"Promise");return j_=r,j_}var M_,kO;function JM(){if(kO)return M_;kO=1;var t=Cs(),e=Mi(),r=t(e,"Set");return M_=r,M_}var D_,RO;function rq(){if(RO)return D_;RO=1;var t=Cs(),e=Mi(),r=t(e,"WeakMap");return D_=r,D_}var L_,NO;function nq(){if(NO)return L_;NO=1;var t=eq(),e=Yx(),r=tq(),n=JM(),i=rq(),o=wo(),s=gM(),l="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",y=s(t),w=s(e),x=s(r),_=s(n),T=s(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=v||e&&A(new e)!=l||r&&A(r.resolve())!=f||n&&A(new n)!=d||i&&A(new i)!=p)&&(A=function(O){var M=o(O),C=M==c?O.constructor:void 0,N=C?s(C):"";if(N)switch(N){case y:return v;case w:return l;case x:return f;case _:return d;case T:return p}return M}),L_=A,L_}var $_,jO;function iq(){if(jO)return $_;jO=1;var t=UM(),e=HM(),r=$U(),n=ZU(),i=nq(),o=rn(),s=GM(),l=YM(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(x,_,T,A,O,M){var C=o(x),N=o(_),P=C?d:i(x),I=N?d:i(_);P=P==f?p:P,I=I==f?p:I;var k=P==p,V=I==p,D=P==I;if(D&&s(x)){if(!s(_))return!1;C=!0,k=!1}if(D&&!k)return M||(M=new t),C||l(x)?e(x,_,T,A,O,M):r(x,_,P,T,A,O,M);if(!(T&c)){var F=k&&y.call(x,"__wrapped__"),L=V&&y.call(_,"__wrapped__");if(F||L){var H=F?x.value():x,Q=L?_.value():_;return M||(M=new t),O(H,Q,T,A,M)}}return D?(M||(M=new t),n(x,_,T,A,O,M)):!1}return $_=w,$_}var V_,MO;function fE(){if(MO)return V_;MO=1;var t=iq(),e=xo();function r(n,i,o,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,l)}return V_=r,V_}var F_,DO;function oq(){if(DO)return F_;DO=1;var t=UM(),e=fE(),r=1,n=2;function i(o,s,l,c){var f=l.length,d=f,p=!c;if(o==null)return!d;for(o=Object(o);f--;){var v=l[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<d;){v=l[f];var y=v[0],w=o[y],x=v[1];if(p&&v[2]){if(w===void 0&&!(y in o))return!1}else{var _=new t;if(c)var T=c(w,x,y,o,s,_);if(!(T===void 0?e(x,w,r|n,c,_):T))return!1}}return!0}return F_=i,F_}var B_,LO;function ZM(){if(LO)return B_;LO=1;var t=wa();function e(r){return r===r&&!t(r)}return B_=e,B_}var U_,$O;function aq(){if($O)return U_;$O=1;var t=ZM(),e=ug();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],l=n[s];i[o]=[s,l,t(l)]}return i}return U_=r,U_}var q_,VO;function eD(){if(VO)return q_;VO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return q_=t,q_}var z_,FO;function sq(){if(FO)return z_;FO=1;var t=oq(),e=aq(),r=eD();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return z_=n,z_}var W_,BO;function uq(){if(BO)return W_;BO=1;function t(e,r){return e!=null&&r in Object(e)}return W_=t,W_}var H_,UO;function lq(){if(UO)return H_;UO=1;var t=_M(),e=uE(),r=rn(),n=lE(),i=cE(),o=ng();function s(l,c,f){c=t(c,l);for(var d=-1,p=c.length,v=!1;++d<p;){var y=o(c[d]);if(!(v=l!=null&&f(l,y)))break;l=l[y]}return v||++d!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||e(l)))}return H_=s,H_}var K_,qO;function cq(){if(qO)return K_;qO=1;var t=uq(),e=lq();function r(n,i){return n!=null&&e(n,i,t)}return K_=r,K_}var G_,zO;function fq(){if(zO)return G_;zO=1;var t=fE(),e=bM(),r=cq(),n=Kx(),i=ZM(),o=eD(),s=ng(),l=1,c=2;function f(d,p){return n(d)&&i(p)?o(s(d),p):function(v){var y=e(v,d);return y===void 0&&y===p?r(v,d):t(p,y,l|c)}}return G_=f,G_}var X_,WO;function jl(){if(WO)return X_;WO=1;function t(e){return e}return X_=t,X_}var Y_,HO;function hq(){if(HO)return Y_;HO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Y_=t,Y_}var Q_,KO;function dq(){if(KO)return Q_;KO=1;var t=Zx();function e(r){return function(n){return t(n,r)}}return Q_=e,Q_}var J_,GO;function pq(){if(GO)return J_;GO=1;var t=hq(),e=dq(),r=Kx(),n=ng();function i(o){return r(o)?t(n(o)):e(o)}return J_=i,J_}var Z_,XO;function Di(){if(XO)return Z_;XO=1;var t=sq(),e=fq(),r=jl(),n=rn(),i=pq();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Z_=o,Z_}var eb,YO;function tD(){if(YO)return eb;YO=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return eb=t,eb}var tb,QO;function mq(){if(QO)return tb;QO=1;function t(e){return e!==e}return tb=t,tb}var rb,JO;function gq(){if(JO)return rb;JO=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return rb=t,rb}var nb,ZO;function vq(){if(ZO)return nb;ZO=1;var t=tD(),e=mq(),r=gq();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return nb=n,nb}var ib,eC;function yq(){if(eC)return ib;eC=1;var t=vq();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return ib=e,ib}var ob,tC;function _q(){if(tC)return ob;tC=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return ob=t,ob}var ab,rC;function bq(){if(rC)return ab;rC=1;function t(){}return ab=t,ab}var sb,nC;function wq(){if(nC)return sb;nC=1;var t=JM(),e=bq(),r=sE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return sb=i,sb}var ub,iC;function xq(){if(iC)return ub;iC=1;var t=qM(),e=yq(),r=_q(),n=WM(),i=wq(),o=sE(),s=200;function l(c,f,d){var p=-1,v=e,y=c.length,w=!0,x=[],_=x;if(d)w=!1,v=r;else if(y>=s){var T=f?null:i(c);if(T)return o(T);w=!1,v=n,_=new t}else _=f?[]:x;e:for(;++p<y;){var A=c[p],O=f?f(A):A;if(A=d||A!==0?A:0,w&&O===O){for(var M=_.length;M--;)if(_[M]===O)continue e;f&&_.push(O),x.push(A)}else v(_,O,d)||(_!==x&&_.push(O),x.push(A))}return x}return ub=l,ub}var lb,oC;function Eq(){if(oC)return lb;oC=1;var t=Di(),e=xq();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return lb=r,lb}var Sq=Eq();const aC=pt(Sq);function rD(t,e,r){return e===!0?aC(t,r):Ue(e)?aC(t,e):t}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var Tq=["ref"];function sC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iD(n.key),n)}}function Pq(t,e,r){return e&&uC(t.prototype,e),r&&uC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iq(t,e,r){return e=Vp(e),Oq(t,nD()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function Oq(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cq(t)}function Cq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nD=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function kq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(t,e)}function lg(t,e,r){return e=iD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iD(t){var e=Rq(t,"string");return Yu(e)=="symbol"?e:e+""}function Rq(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nq(t,e){if(t==null)return{};var r=jq(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mq(t){return t.value}function Dq(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=Nq(e,Tq);return W.createElement(aE,r)}var lC=1,ds=function(t){function e(){var r;Aq(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Iq(this,e,[].concat(i)),lg(r,"lastBoundingBox",{width:-1,height:-1}),r}return kq(e,t),Pq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lC||Math.abs(i.height-this.lastBoundingBox.height)>lC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ji({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();v={top:((d||0)-w.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ji(Ji({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=Ji(Ji({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},Dq(o,Ji(Ji({},this.props),{},{payload:rD(d,f,Mq)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ji(Ji({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&ye(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(U.PureComponent);lg(ds,"displayName","Legend");lg(ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cb,cC;function Lq(){if(cC)return cb;cC=1;var t=ph(),e=uE(),r=rn(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return cb=i,cb}var fb,fC;function oD(){if(fC)return fb;fC=1;var t=KM(),e=Lq();function r(n,i,o,s,l){var c=-1,f=n.length;for(o||(o=e),l||(l=[]);++c<f;){var d=n[c];i>0&&o(d)?i>1?r(d,i-1,o,s,l):t(l,d):s||(l[l.length]=d)}return l}return fb=r,fb}var hb,hC;function $q(){if(hC)return hb;hC=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),l=i(r),c=l.length;c--;){var f=l[e?c:++o];if(n(s[f],f,s)===!1)break}return r}}return hb=t,hb}var db,dC;function Vq(){if(dC)return db;dC=1;var t=$q(),e=t();return db=e,db}var pb,pC;function aD(){if(pC)return pb;pC=1;var t=Vq(),e=ug();function r(n,i){return n&&t(n,i,e)}return pb=r,pb}var mb,mC;function Fq(){if(mC)return mb;mC=1;var t=mh();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return mb=e,mb}var gb,gC;function hE(){if(gC)return gb;gC=1;var t=aD(),e=Fq(),r=e(t);return gb=r,gb}var vb,vC;function sD(){if(vC)return vb;vC=1;var t=hE(),e=mh();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,f){s[++o]=i(l,c,f)}),s}return vb=r,vb}var yb,yC;function Bq(){if(yC)return yb;yC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return yb=t,yb}var _b,_C;function Uq(){if(_C)return _b;_C=1;var t=Cl();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,l=t(r),c=n!==void 0,f=n===null,d=n===n,p=t(n);if(!f&&!p&&!l&&r>n||l&&c&&d&&!f&&!p||o&&c&&d||!i&&d||!s)return 1;if(!o&&!l&&!p&&r<n||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!d)return-1}return 0}return _b=e,_b}var bb,bC;function qq(){if(bC)return bb;bC=1;var t=Uq();function e(r,n,i){for(var o=-1,s=r.criteria,l=n.criteria,c=s.length,f=i.length;++o<c;){var d=t(s[o],l[o]);if(d){if(o>=f)return d;var p=i[o];return d*(p=="desc"?-1:1)}}return r.index-n.index}return bb=e,bb}var wb,wC;function zq(){if(wC)return wb;wC=1;var t=Jx(),e=Zx(),r=Di(),n=sD(),i=Bq(),o=XM(),s=qq(),l=jl(),c=rn();function f(d,p,v){p.length?p=t(p,function(x){return c(x)?function(_){return e(_,x.length===1?x[0]:x)}:x}):p=[l];var y=-1;p=t(p,o(r));var w=n(d,function(x,_,T){var A=t(p,function(O){return O(x)});return{criteria:A,index:++y,value:x}});return i(w,function(x,_){return s(x,_,v)})}return wb=f,wb}var xb,xC;function Wq(){if(xC)return xb;xC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return xb=t,xb}var Eb,EC;function Hq(){if(EC)return Eb;EC=1;var t=Wq(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=s[l];return d[i]=o(f),t(n,this,d)}}return Eb=r,Eb}var Sb,SC;function Kq(){if(SC)return Sb;SC=1;function t(e){return function(){return e}}return Sb=t,Sb}var Tb,TC;function uD(){if(TC)return Tb;TC=1;var t=Cs(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Tb=e,Tb}var Ab,AC;function Gq(){if(AC)return Ab;AC=1;var t=Kq(),e=uD(),r=jl(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Ab=n,Ab}var Pb,PC;function Xq(){if(PC)return Pb;PC=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Pb=n,Pb}var Ib,IC;function Yq(){if(IC)return Ib;IC=1;var t=Gq(),e=Xq(),r=e(t);return Ib=r,Ib}var Ob,OC;function Qq(){if(OC)return Ob;OC=1;var t=jl(),e=Hq(),r=Yq();function n(i,o){return r(e(i,o,t),i+"")}return Ob=n,Ob}var Cb,CC;function cg(){if(CC)return Cb;CC=1;var t=Xx(),e=mh(),r=lE(),n=wa();function i(o,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Cb=i,Cb}var kb,kC;function Jq(){if(kC)return kb;kC=1;var t=oD(),e=zq(),r=Qq(),n=cg(),i=r(function(o,s){if(o==null)return[];var l=s.length;return l>1&&n(o,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return kb=i,kb}var Zq=Jq();const dE=pt(Zq);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function e9(t,e){return i9(t)||n9(t,e)||r9(t,e)||t9()}function t9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return RC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RC(t,e)}}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function i9(t){if(Array.isArray(t))return t}function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){o9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o9(t,e,r){return e=a9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9(t){var e=s9(t,"string");return bf(e)=="symbol"?e:e+""}function s9(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u9(t){return Array.isArray(t)&&er(t[0])&&er(t[1])?t.join(" ~ "):t}var l9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,v=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,x=e.label,_=e.labelFormatter,T=e.accessibilityLayer,A=T===void 0?!1:T,O=function(){if(d&&d.length){var F={padding:0,margin:0},L=(v?dE(d,v):d).map(function(H,Q){if(H.type==="none")return null;var G=Rb({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),te=H.formatter||p||u9,J=H.value,oe=H.name,ne=J,q=oe;if(te&&ne!=null&&q!=null){var X=te(J,oe,H,Q,d);if(Array.isArray(X)){var ue=e9(X,2);ne=ue[0],q=ue[1]}else ne=X}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:G},er(q)?W.createElement("span",{className:"recharts-tooltip-item-name"},q):null,er(q)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ne),W.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},M=Rb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=Rb({margin:0},f),N=!Xe(x),P=N?x:"",I=Qe("recharts-default-tooltip",y),k=Qe("recharts-tooltip-label",w);N&&_&&d!==void 0&&d!==null&&(P=_(x,d));var V=A?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",f1({className:I,style:M},V),W.createElement("p",{className:k,style:C},W.isValidElement(P)?P:"".concat(P)),O())};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Gd(t,e,r){return e=c9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c9(t){var e=f9(t,"string");return wf(e)=="symbol"?e:e+""}function f9(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc="recharts-tooltip-wrapper",h9={visibility:"hidden"};function d9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qe(Vc,Gd(Gd(Gd(Gd({},"".concat(Vc,"-right"),ye(r)&&e&&ye(e.x)&&r>=e.x),"".concat(Vc,"-left"),ye(r)&&e&&ye(e.x)&&r<e.x),"".concat(Vc,"-bottom"),ye(n)&&e&&ye(e.y)&&n>=e.y),"".concat(Vc,"-top"),ye(n)&&e&&ye(e.y)&&n<e.y))}function jC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&ye(o[n]))return o[n];var d=r[n]-l-i,p=r[n]+i;if(e[n])return s[n]?d:p;if(s[n]){var v=d,y=c[n];return v<y?Math.max(p,c[n]):Math.max(d,c[n])}var w=p+l,x=c[n]+f;return w>x?Math.max(d,c[n]):Math.max(p,c[n])}function p9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function m9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,d,p;return s.height>0&&s.width>0&&r?(d=jC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=jC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=p9({translateX:d,translateY:p,useTranslate3d:l})):f=h9,{cssProperties:f,cssClasses:d9({translateX:d,translateY:p,coordinate:r})}}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){d1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cD(n.key),n)}}function y9(t,e,r){return e&&v9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _9(t,e,r){return e=Fp(e),b9(t,lD()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function b9(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w9(t)}function w9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function x9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function d1(t,e,r){return e=cD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cD(t){var e=E9(t,"string");return Qu(e)=="symbol"?e:e+""}function E9(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LC=1,S9=function(t){function e(){var r;g9(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=_9(this,e,[].concat(i)),d1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),r}return x9(e,t),y9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LC||Math.abs(n.height-this.state.lastBoundingBox.height)>LC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,y=i.offset,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,T=i.viewBox,A=i.wrapperStyle,O=m9({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:y,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:T}),M=O.cssClasses,C=O.cssProperties,N=DC(DC({transition:v&&o?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return W.createElement("div",{tabIndex:-1,className:M,style:N,ref:function(I){n.wrapperNode=I}},f)}}])}(U.PureComponent),T9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ks={isSsr:T9()};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){pE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hD(n.key),n)}}function I9(t,e,r){return e&&P9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O9(t,e,r){return e=Bp(e),C9(t,fD()?Reflect.construct(e,r||[],Bp(t).constructor):e.apply(t,r))}function C9(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k9(t)}function k9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(t)}function R9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function pE(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=N9(t,"string");return Ju(e)=="symbol"?e:e+""}function N9(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j9(t){return t.dataKey}function M9(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(l9,e)}var pn=function(t){function e(){return A9(this,e),O9(this,e,arguments)}return R9(e,t),I9(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,v=i.isAnimationActive,y=i.offset,w=i.payload,x=i.payloadUniqBy,_=i.position,T=i.reverseDirection,A=i.useTranslate3d,O=i.viewBox,M=i.wrapperStyle,C=w??[];p&&C.length&&(C=rD(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),x,j9));var N=C.length>0;return W.createElement(S9,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:o,coordinate:d,hasPayload:N,offset:y,position:_,reverseDirection:T,useTranslate3d:A,viewBox:O,wrapperStyle:M},M9(f,VC(VC({},this.props),{},{payload:C})))}}])}(U.PureComponent);pE(pn,"displayName","Tooltip");pE(pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ks.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Nb,FC;function D9(){if(FC)return Nb;FC=1;var t=Mi(),e=function(){return t.Date.now()};return Nb=e,Nb}var jb,BC;function L9(){if(BC)return jb;BC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return jb=e,jb}var Mb,UC;function $9(){if(UC)return Mb;UC=1;var t=L9(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Mb=r,Mb}var Db,qC;function dD(){if(qC)return Db;qC=1;var t=$9(),e=wa(),r=Cl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return Db=c,Db}var Lb,zC;function V9(){if(zC)return Lb;zC=1;var t=wa(),e=D9(),r=dD(),n="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var d,p,v,y,w,x,_=0,T=!1,A=!1,O=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(T=!!f.leading,A="maxWait"in f,v=A?i(r(f.maxWait)||0,c):v,O="trailing"in f?!!f.trailing:O);function M(L){var H=d,Q=p;return d=p=void 0,_=L,y=l.apply(Q,H),y}function C(L){return _=L,w=setTimeout(I,c),T?M(L):y}function N(L){var H=L-x,Q=L-_,G=c-H;return A?o(G,v-Q):G}function P(L){var H=L-x,Q=L-_;return x===void 0||H>=c||H<0||A&&Q>=v}function I(){var L=e();if(P(L))return k(L);w=setTimeout(I,N(L))}function k(L){return w=void 0,O&&d?M(L):(d=p=void 0,y)}function V(){w!==void 0&&clearTimeout(w),_=0,d=x=p=w=void 0}function D(){return w===void 0?y:k(e())}function F(){var L=e(),H=P(L);if(d=arguments,p=this,x=L,H){if(w===void 0)return C(x);if(A)return clearTimeout(w),w=setTimeout(I,c),M(x)}return w===void 0&&(w=setTimeout(I,c)),y}return F.cancel=V,F.flush=D,F}return Lb=s,Lb}var $b,WC;function F9(){if(WC)return $b;WC=1;var t=V9(),e=wa(),r="Expected a function";function n(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return $b=n,$b}var B9=F9();const pD=pt(B9);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){U9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9(t,e,r){return e=q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q9(t){var e=z9(t,"string");return xf(e)=="symbol"?e:e+""}function z9(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W9(t,e){return X9(t)||G9(t,e)||K9(t,e)||H9()}function H9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K9(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function X9(t){if(Array.isArray(t))return t}var Yd=U.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,y=t.children,w=t.debounce,x=w===void 0?0:w,_=t.id,T=t.className,A=t.onResize,O=t.style,M=O===void 0?{}:O,C=U.useRef(null),N=U.useRef();N.current=A,U.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=U.useState({containerWidth:i.width,containerHeight:i.height}),I=W9(P,2),k=I[0],V=I[1],D=U.useCallback(function(L,H){V(function(Q){var G=Math.round(L),te=Math.round(H);return Q.containerWidth===G&&Q.containerHeight===te?Q:{containerWidth:G,containerHeight:te}})},[]);U.useEffect(function(){var L=function(oe){var ne,q=oe[0].contentRect,X=q.width,ue=q.height;D(X,ue),(ne=N.current)===null||ne===void 0||ne.call(N,X,ue)};x>0&&(L=pD(L,x,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),Q=C.current.getBoundingClientRect(),G=Q.width,te=Q.height;return D(G,te),H.observe(C.current),function(){H.disconnect()}},[D,x]);var F=U.useMemo(function(){var L=k.containerWidth,H=k.containerHeight;if(L<0||H<0)return null;ai(ss(s)||ss(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ai(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=ss(s)?L:s,G=ss(c)?H:c;r&&r>0&&(Q?G=Q/r:G&&(Q=G*r),v&&G>v&&(G=v)),ai(Q>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,G,s,c,d,p,r);var te=!Array.isArray(y)&&so(y.type).endsWith("Chart");return W.Children.map(y,function(J){return W.isValidElement(J)?U.cloneElement(J,Xd({width:Q,height:G},te?{style:Xd({height:"100%",width:"100%",maxHeight:G,maxWidth:Q},J.props.style)}:{})):J})},[r,y,c,v,p,d,k,s]);return W.createElement("div",{id:_?"".concat(_):void 0,className:Qe("recharts-responsive-container",T),style:Xd(Xd({},M),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:v}),ref:C},F)}),fg=function(e){return null};fg.displayName="Cell";function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function GC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(r),!0).forEach(function(n){Y9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y9(t,e,r){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q9(t){var e=J9(t,"string");return Ef(e)=="symbol"?e:e+""}function J9(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu={widthCache:{},cacheCount:0},Z9=2e3,ez={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XC="recharts_measurement_span";function tz(t){var e=m1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ks.isSsr)return{width:0,height:0};var n=tz(r),i=JSON.stringify({text:e,copyStyle:n});if(Pu.widthCache[i])return Pu.widthCache[i];try{var o=document.getElementById(XC);o||(o=document.createElement("span"),o.setAttribute("id",XC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=m1(m1({},ez),n);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Pu.widthCache[i]=c,++Pu.cacheCount>Z9&&(Pu.cacheCount=0,Pu.widthCache={}),c}catch{return{width:0,height:0}}},rz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Up(t,e){return az(t)||oz(t,e)||iz(t,e)||nz()}function nz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iz(t,e){if(t){if(typeof t=="string")return YC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function az(t){if(Array.isArray(t))return t}function sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lz(n.key),n)}}function uz(t,e,r){return e&&QC(t.prototype,e),r&&QC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lz(t){var e=cz(t,"string");return Sf(e)=="symbol"?e:e+""}function cz(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dz=Object.keys(mD),ju="NaN";function pz(t,e){return t*mD[e]}var Qd=function(){function t(e,r){sz(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!fz.test(r)&&(this.num=NaN,this.unit=""),dz.includes(r)&&(this.num=pz(e,r),this.unit="px")}return uz(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=hz.exec(r))!==null&&n!==void 0?n:[],o=Up(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function gD(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=JC.exec(e))!==null&&r!==void 0?r:[],i=Up(n,4),o=i[1],s=i[2],l=i[3],c=Qd.parse(o??""),f=Qd.parse(l??""),d=s==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return ju;e=e.replace(JC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=ZC.exec(e))!==null&&p!==void 0?p:[],y=Up(v,4),w=y[1],x=y[2],_=y[3],T=Qd.parse(w??""),A=Qd.parse(_??""),O=x==="+"?T.add(A):T.subtract(A);if(O.isNaN())return ju;e=e.replace(ZC,O.toString())}return e}var ek=/\(([^()]*)\)/;function mz(t){for(var e=t;e.includes("(");){var r=ek.exec(e),n=Up(r,2),i=n[1];e=e.replace(ek,gD(i))}return e}function gz(t){var e=t.replace(/\s+/g,"");return e=mz(e),e=gD(e),e}function vz(t){try{return gz(t)}catch{return ju}}function Vb(t){var e=vz(t.slice(5,-1));return e===ju?"":e}var yz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_z=["dx","dy","angle","className","breakAll"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function tk(t,e){if(t==null)return{};var r=bz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rk(t,e){return Sz(t)||Ez(t,e)||xz(t,e)||wz()}function wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xz(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ez(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Sz(t){if(Array.isArray(t))return t}var vD=/[ \f\n\r\t\v\u2028\u2029]+/,yD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Xe(r)||(n?o=r.toString().split(""):o=r.toString().split(vD));var s=o.map(function(c){return{word:c,width:of(c,i).width}}),l=n?0:of("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Tz=function(e,r,n,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,d=ye(s),p=l,v=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(G,te){var J=te.word,oe=te.width,ne=G[G.length-1];if(ne&&(i==null||o||ne.width+oe+n<Number(i)))ne.words.push(J),ne.width+=oe+n;else{var q={words:[J],width:oe};G.push(q)}return G},[])},y=v(r),w=function(Q){return Q.reduce(function(G,te){return G.width>te.width?G:te})};if(!d)return y;for(var x="",_=function(Q){var G=p.slice(0,Q),te=yD({breakAll:f,style:c,children:G+x}).wordsWithComputedWidth,J=v(te),oe=J.length>s||w(J).width>Number(i);return[oe,J]},T=0,A=p.length-1,O=0,M;T<=A&&O<=p.length-1;){var C=Math.floor((T+A)/2),N=C-1,P=_(N),I=rk(P,2),k=I[0],V=I[1],D=_(C),F=rk(D,1),L=F[0];if(!k&&!L&&(T=C+1),k&&L&&(A=C-1),!k&&L){M=V;break}O++}return M||y},ik=function(e){var r=Xe(e)?[]:e.toString().split(vD);return[{words:r}]},Az=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!ks.isSsr){var c,f,d=yD({breakAll:s,children:i,style:o});if(d){var p=d.wordsWithComputedWidth,v=d.spaceWidth;c=p,f=v}else return ik(i);return Tz({breakAll:s,children:i,maxLines:l,style:o},c,f,r,n)}return ik(i)},ok="#808080",bs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,v=e.textAnchor,y=v===void 0?"start":v,w=e.verticalAnchor,x=w===void 0?"end":w,_=e.fill,T=_===void 0?ok:_,A=tk(e,yz),O=U.useMemo(function(){return Az({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),M=A.dx,C=A.dy,N=A.angle,P=A.className,I=A.breakAll,k=tk(A,_z);if(!er(n)||!er(o))return null;var V=n+(ye(M)?M:0),D=o+(ye(C)?C:0),F;switch(x){case"start":F=Vb("calc(".concat(f,")"));break;case"middle":F=Vb("calc(".concat((O.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:F=Vb("calc(".concat(O.length-1," * -").concat(l,")"));break}var L=[];if(p){var H=O[0].width,Q=A.width;L.push("scale(".concat((ye(Q)?Q/H:1)/H,")"))}return N&&L.push("rotate(".concat(N,", ").concat(V,", ").concat(D,")")),L.length&&(k.transform=L.join(" ")),W.createElement("text",g1({},De(k,!0),{x:V,y:D,className:Qe("recharts-text",P),textAnchor:y,fill:T.includes("url")?ok:T}),O.map(function(G,te){var J=G.words.join(I?"":" ");return W.createElement("tspan",{x:V,dy:te===0?F:l,key:"".concat(J,"-").concat(te)},J)}))};function sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mE(t){let e,r,n;t.length!==2?(e=sa,r=(l,c)=>sa(t(l),c),n=(l,c)=>t(l)-c):(e=t===sa||t===Pz?t:Iz,r=t,n=t);function i(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<0?f=p+1:d=p}while(f<d)}return f}function o(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function s(l,c,f=0,d=l.length){const p=i(l,c,f,d-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function Iz(){return 0}function _D(t){return t===null?NaN:+t}function*Oz(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Cz=mE(sa),gh=Cz.right;mE(_D).center;class ak extends Map{constructor(e,r=Nz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(sk(this,e))}has(e){return super.has(sk(this,e))}set(e,r){return super.set(kz(this,e),r)}delete(e){return super.delete(Rz(this,e))}}function sk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function kz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Rz({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Nz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jz(t=sa){if(t===sa)return bD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function bD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mz=Math.sqrt(50),Dz=Math.sqrt(10),Lz=Math.sqrt(2);function qp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Mz?10:o>=Dz?5:o>=Lz?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?qp(t,e,r*2):[l,c,f]}function v1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?qp(e,t,r):qp(t,e,r);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function y1(t,e,r){return e=+e,t=+t,r=+r,qp(t,e,r)[2]}function _1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?y1(e,t,r):y1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function uk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?bD:jz(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/c+v)),w=Math.min(n,Math.floor(e+(c-f)*p/c+v));wD(t,e,y,w,i)}const o=t[e];let s=r,l=n;for(Fc(t,r,e),i(t[n],o)>0&&Fc(t,r,n);s<l;){for(Fc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[r],o)===0?Fc(t,r,l):(++l,Fc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Fc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $z(t,e,r){if(t=Float64Array.from(Oz(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return lk(t);if(e>=1)return uk(t);var n,i=(n-1)*e,o=Math.floor(i),s=uk(wD(t,o).subarray(0,o+1)),l=lk(t.subarray(o+1));return s+(l-s)*(i-o)}}function Vz(t,e,r=_D){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),l=+r(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function Fz(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Ln(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const b1=Symbol("implicit");function gE(){var t=new ak,e=[],r=[],n=b1;function i(o){let s=t.get(o);if(s===void 0){if(n!==b1)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ak;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return gE(e,r).unknown(n)},Ln.apply(i,arguments),i}function Tf(){var t=gE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,l=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,y=i<n,w=y?i:n,x=y?n:i;o=(x-w)/Math.max(1,v-c+f*2),l&&(o=Math.floor(o)),w+=(x-w-o*(v-c))*d,s=o*(1-c),l&&(w=Math.round(w),s=Math.round(s));var _=Fz(v).map(function(T){return w+o*T});return r(y?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return Tf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(d)},Ln.apply(p(),arguments)}function xD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xD(e())},t}function af(){return xD(Tf.apply(null,arguments).paddingInner(1))}function vE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ED(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vh(){}var Af=.7,zp=1/Af,Bu="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bz=/^#([0-9a-f]{3,8})$/,Uz=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),qz=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),zz=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Pf}\\)$`),Wz=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${Pf}\\)$`),Hz=new RegExp(`^hsl\\(${Pf},${Ei},${Ei}\\)$`),Kz=new RegExp(`^hsla\\(${Pf},${Ei},${Ei},${Pf}\\)$`),ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vE(vh,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fk,formatHex:fk,formatHex8:Gz,formatHsl:Xz,formatRgb:hk,toString:hk});function fk(){return this.rgb().formatHex()}function Gz(){return this.rgb().formatHex8()}function Xz(){return SD(this).formatHsl()}function hk(){return this.rgb().formatRgb()}function If(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Bz.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?dk(e):r===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uz.exec(t))?new tn(e[1],e[2],e[3],1):(e=qz.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zz.exec(t))?Jd(e[1],e[2],e[3],e[4]):(e=Wz.exec(t))?Jd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Hz.exec(t))?gk(e[1],e[2]/100,e[3]/100,1):(e=Kz.exec(t))?gk(e[1],e[2]/100,e[3]/100,e[4]):ck.hasOwnProperty(t)?dk(ck[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function dk(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function Jd(t,e,r,n){return n<=0&&(t=e=r=NaN),new tn(t,e,r,n)}function Yz(t){return t instanceof vh||(t=If(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function w1(t,e,r,n){return arguments.length===1?Yz(t):new tn(t,e,r,n??1)}function tn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}vE(tn,w1,ED(vh,{brighter(t){return t=t==null?zp:Math.pow(zp,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(ps(this.r),ps(this.g),ps(this.b),Wp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pk,formatHex:pk,formatHex8:Qz,formatRgb:mk,toString:mk}));function pk(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Qz(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const t=Wp(this.opacity);return`${t===1?"rgb(":"rgba("}${ps(this.r)}, ${ps(this.g)}, ${ps(this.b)}${t===1?")":`, ${t})`}`}function Wp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function us(t){return t=ps(t),(t<16?"0":"")+t.toString(16)}function gk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,r,n)}function SD(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof vh||(t=If(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ri(s,l,c,t.opacity)}function Jz(t,e,r,n){return arguments.length===1?SD(t):new ri(t,e,r,n??1)}function ri(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}vE(ri,Jz,ED(vh,{brighter(t){return t=t==null?zp:Math.pow(zp,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new tn(Fb(t>=240?t-240:t+120,i,n),Fb(t,i,n),Fb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ri(vk(this.h),Zd(this.s),Zd(this.l),Wp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wp(this.opacity);return`${t===1?"hsl(":"hsla("}${vk(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vk(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function Fb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yE=t=>()=>t;function Zz(t,e){return function(r){return t+r*e}}function e8(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function t8(t){return(t=+t)==1?TD:function(e,r){return r-e?e8(e,r,t):yE(isNaN(e)?r:e)}}function TD(t,e){var r=e-t;return r?Zz(t,r):yE(isNaN(t)?e:t)}const yk=function t(e){var r=t8(e);function n(i,o){var s=r((i=w1(i)).r,(o=w1(o)).r),l=r(i.g,o.g),c=r(i.b,o.b),f=TD(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=f(d),i+""}}return n.gamma=t,n}(1);function r8(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function n8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i8(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Ml(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<n;++s)o[s]=i[s](l);return o}}function o8(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function a8(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ml(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var x1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bb=new RegExp(x1.source,"g");function s8(t){return function(){return t}}function u8(t){return function(e){return t(e)+""}}function l8(t,e){var r=x1.lastIndex=Bb.lastIndex=0,n,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=x1.exec(t))&&(i=Bb.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Hp(n,i)})),r=Bb.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?u8(c[0].x):s8(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)l[(p=c[d]).i]=p.x(f);return l.join("")})}function Ml(t,e){var r=typeof e,n;return e==null||r==="boolean"?yE(e):(r==="number"?Hp:r==="string"?(n=If(e))?(e=n,yk):l8:e instanceof If?yk:e instanceof Date?o8:n8(e)?r8:Array.isArray(e)?i8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?a8:Hp)(t,e)}function _E(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function c8(t,e){e===void 0&&(e=t,t=Ml);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function f8(t){return function(){return t}}function Kp(t){return+t}var _k=[0,1];function Br(t){return t}function E1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:f8(isNaN(e)?NaN:.5)}function h8(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function d8(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=E1(i,n),o=r(s,o)):(n=E1(n,i),o=r(o,s)),function(l){return o(n(l))}}function p8(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=E1(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=gh(t,l,1,n)-1;return o[c](i[c](l))}}function yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hg(){var t=_k,e=_k,r=Ml,n,i,o,s=Br,l,c,f;function d(){var v=Math.min(t.length,e.length);return s!==Br&&(s=h8(t[0],t[v-1])),l=v>2?p8:d8,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=l(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=l(e,t.map(n),Hp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Kp),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=_E,d()},p.clamp=function(v){return arguments.length?(s=v?!0:Br,d()):s!==Br},p.interpolate=function(v){return arguments.length?(r=v,d()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,y){return n=v,i=y,d()}}function bE(){return hg()(Br,Br)}function m8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Gp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zu(t){return t=Gp(Math.abs(t)),t?t[1]:NaN}function g8(t,e){return function(r,n){for(var i=r.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function v8(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var y8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(t){if(!(e=y8.exec(t)))throw new Error("invalid format: "+t);var e;return new wE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Of.prototype=wE.prototype;function wE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _8(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var AD;function b8(t,e){var r=Gp(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(AD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Gp(t,Math.max(0,e+o-1))[0]}function bk(t,e){var r=Gp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const wk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:m8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bk(t*100,e),r:bk,s:b8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xk(t){return t}var Ek=Array.prototype.map,Sk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w8(t){var e=t.grouping===void 0||t.thousands===void 0?xk:g8(Ek.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xk:v8(Ek.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Of(p);var v=p.fill,y=p.align,w=p.sign,x=p.symbol,_=p.zero,T=p.width,A=p.comma,O=p.precision,M=p.trim,C=p.type;C==="n"?(A=!0,C="g"):wk[C]||(O===void 0&&(O=12),M=!0,C="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=x==="$"?n:/[%p]/.test(C)?s:"",I=wk[C],k=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function V(D){var F=N,L=P,H,Q,G;if(C==="c")L=I(D)+L,D="";else{D=+D;var te=D<0||1/D<0;if(D=isNaN(D)?c:I(Math.abs(D),O),M&&(D=_8(D)),te&&+D==0&&w!=="+"&&(te=!1),F=(te?w==="("?w:l:w==="-"||w==="("?"":w)+F,L=(C==="s"?Sk[8+AD/3]:"")+L+(te&&w==="("?")":""),k){for(H=-1,Q=D.length;++H<Q;)if(G=D.charCodeAt(H),48>G||G>57){L=(G===46?i+D.slice(H+1):D.slice(H))+L,D=D.slice(0,H);break}}}A&&!_&&(D=e(D,1/0));var J=F.length+D.length+L.length,oe=J<T?new Array(T-J+1).join(v):"";switch(A&&_&&(D=e(oe+D,oe.length?T-L.length:1/0),oe=""),y){case"<":D=F+D+L+oe;break;case"=":D=F+oe+D+L;break;case"^":D=oe.slice(0,J=oe.length>>1)+F+D+L+oe.slice(J);break;default:D=oe+F+D+L;break}return o(D)}return V.toString=function(){return p+""},V}function d(p,v){var y=f((p=Of(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Zu(v)/3)))*3,x=Math.pow(10,-w),_=Sk[8+w/3];return function(T){return y(x*T)+_}}return{format:f,formatPrefix:d}}var ep,xE,PD;x8({thousands:",",grouping:[3],currency:["$",""]});function x8(t){return ep=w8(t),xE=ep.format,PD=ep.formatPrefix,ep}function E8(t){return Math.max(0,-Zu(Math.abs(t)))}function S8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function T8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function ID(t,e,r,n){var i=_1(t,e,r),o;switch(n=Of(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=S8(i,s))&&(n.precision=o),PD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=T8(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=E8(i))&&(n.precision=o-(n.type==="%")*2);break}}return xE(n)}function xa(t){var e=t.domain;return t.ticks=function(r){var n=e();return v1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ID(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],l=n[o],c,f,d=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);d-- >0;){if(f=y1(s,l,r),f===c)return n[i]=s,n[o]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Xp(){var t=bE();return t.copy=function(){return yh(t,Xp())},Ln.apply(t,arguments),xa(t)}function OD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Kp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OD(t).unknown(e)},t=arguments.length?Array.from(t,Kp):[0,1],xa(r)}function CD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function Tk(t){return Math.log(t)}function Ak(t){return Math.exp(t)}function A8(t){return-Math.log(-t)}function P8(t){return-Math.exp(-t)}function I8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function O8(t){return t===10?I8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function C8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Pk(t){return(e,r)=>-t(-e,r)}function EE(t){const e=t(Tk,Ak),r=e.domain;let n=10,i,o;function s(){return i=C8(n),o=O8(n),r()[0]<0?(i=Pk(i),o=Pk(o),t(A8,P8)):t(Tk,Ak),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),y=i(d),w,x;const _=l==null?10:+l;let T=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<n;++w)if(x=v<0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;T.push(x)}}else for(;v<=y;++v)for(w=n-1;w>=1;--w)if(x=v>0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;T.push(x)}T.length*2<_&&(T=v1(f,d,_))}else T=v1(v,y,Math.min(y-v,_)).map(o);return p?T.reverse():T},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Of(c)).precision==null&&(c.trim=!0),c=xE(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return d=>{let p=d/o(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=f?c(d):""}},e.nice=()=>r(CD(r(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function kD(){const t=EE(hg()).domain([1,10]);return t.copy=()=>yh(t,kD()).base(t.base()),Ln.apply(t,arguments),t}function Ik(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ok(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function SE(t){var e=1,r=t(Ik(e),Ok(e));return r.constant=function(n){return arguments.length?t(Ik(e=+n),Ok(e)):e},xa(r)}function RD(){var t=SE(hg());return t.copy=function(){return yh(t,RD()).constant(t.constant())},Ln.apply(t,arguments)}function Ck(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function k8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function R8(t){return t<0?-t*t:t*t}function TE(t){var e=t(Br,Br),r=1;function n(){return r===1?t(Br,Br):r===.5?t(k8,R8):t(Ck(r),Ck(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xa(e)}function AE(){var t=TE(hg());return t.copy=function(){return yh(t,AE()).exponent(t.exponent())},Ln.apply(t,arguments),t}function N8(){return AE.apply(null,arguments).exponent(.5)}function kk(t){return Math.sign(t)*t*t}function j8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ND(){var t=bE(),e=[0,1],r=!1,n;function i(o){var s=j8(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(kk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Kp)).map(kk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return ND(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ln.apply(i,arguments),xa(i)}function jD(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Vz(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:e[gh(r,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return jD().domain(t).range(e).unknown(n)},Ln.apply(o,arguments)}function MD(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[gh(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return MD().domain([t,e]).range(i).unknown(o)},Ln.apply(xa(s),arguments)}function DD(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[gh(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return DD().domain(t).range(e).unknown(r)},Ln.apply(i,arguments)}const Ub=new Date,qb=new Date;function ir(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>ir(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Ub.setTime(+o),qb.setTime(+s),t(Ub),t(qb),Math.floor(r(Ub,qb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Yp=ir(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ir(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Yp);Yp.range;const to=1e3,Nn=to*60,ro=Nn*60,ho=ro*24,PE=ho*7,Rk=ho*30,zb=ho*365,ls=ir(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCSeconds());ls.range;const IE=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getMinutes());IE.range;const OE=ir(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getUTCMinutes());OE.range;const CE=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*to-t.getMinutes()*Nn)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getHours());CE.range;const kE=ir(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCHours());kE.range;const _h=ir(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/ho,t=>t.getDate()-1);_h.range;const dg=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>t.getUTCDate()-1);dg.range;const LD=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>Math.floor(t/ho));LD.range;function Rs(t){return ir(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/PE)}const pg=Rs(0),Qp=Rs(1),M8=Rs(2),D8=Rs(3),el=Rs(4),L8=Rs(5),$8=Rs(6);pg.range;Qp.range;M8.range;D8.range;el.range;L8.range;$8.range;function Ns(t){return ir(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/PE)}const mg=Ns(0),Jp=Ns(1),V8=Ns(2),F8=Ns(3),tl=Ns(4),B8=Ns(5),U8=Ns(6);mg.range;Jp.range;V8.range;F8.range;tl.range;B8.range;U8.range;const RE=ir(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RE.range;const NE=ir(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());NE.range;const po=ir(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});po.range;const mo=ir(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});mo.range;function $D(t,e,r,n,i,o){const s=[[ls,1,to],[ls,5,5*to],[ls,15,15*to],[ls,30,30*to],[o,1,Nn],[o,5,5*Nn],[o,15,15*Nn],[o,30,30*Nn],[i,1,ro],[i,3,3*ro],[i,6,6*ro],[i,12,12*ro],[n,1,ho],[n,2,2*ho],[r,1,PE],[e,1,Rk],[e,3,3*Rk],[t,1,zb]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),w=y?y.range(f,+d+1):[];return v?w.reverse():w}function c(f,d,p){const v=Math.abs(d-f)/p,y=mE(([,,_])=>_).right(s,v);if(y===s.length)return t.every(_1(f/zb,d/zb,p));if(y===0)return Yp.every(Math.max(_1(f,d,p),1));const[w,x]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(x)}return[l,c]}const[q8,z8]=$D(mo,NE,mg,LD,kE,OE),[W8,H8]=$D(po,RE,pg,_h,CE,IE);function Wb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function K8(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=Uc(i),d=qc(i),p=Uc(o),v=qc(o),y=Uc(s),w=qc(s),x=Uc(l),_=qc(l),T=Uc(c),A=qc(c),O={a:te,A:J,b:oe,B:ne,c:null,d:$k,e:$k,f:g7,g:A7,G:I7,H:d7,I:p7,j:m7,L:VD,m:v7,M:y7,p:q,q:X,Q:Bk,s:Uk,S:_7,u:b7,U:w7,V:x7,w:E7,W:S7,x:null,X:null,y:T7,Y:P7,Z:O7,"%":Fk},M={a:ue,A:Ee,b:Ae,B:fe,c:null,d:Vk,e:Vk,f:N7,g:q7,G:W7,H:C7,I:k7,j:R7,L:BD,m:j7,M:M7,p:me,q:we,Q:Bk,s:Uk,S:D7,u:L7,U:$7,V:V7,w:F7,W:B7,x:null,X:null,y:U7,Y:z7,Z:H7,"%":Fk},C={a:V,A:D,b:F,B:L,c:H,d:Dk,e:Dk,f:l7,g:Mk,G:jk,H:Lk,I:Lk,j:o7,L:u7,m:i7,M:a7,p:k,q:n7,Q:f7,s:h7,S:s7,u:J8,U:Z8,V:e7,w:Q8,W:t7,x:Q,X:G,y:Mk,Y:jk,Z:r7,"%":c7};O.x=N(r,O),O.X=N(n,O),O.c=N(e,O),M.x=N(r,M),M.X=N(n,M),M.c=N(e,M);function N(le,Te){return function(be){var ie=[],je=-1,Se=0,Me=le.length,Ye,st,Ge;for(be instanceof Date||(be=new Date(+be));++je<Me;)le.charCodeAt(je)===37&&(ie.push(le.slice(Se,je)),(st=Nk[Ye=le.charAt(++je)])!=null?Ye=le.charAt(++je):st=Ye==="e"?" ":"0",(Ge=Te[Ye])&&(Ye=Ge(be,st)),ie.push(Ye),Se=je+1);return ie.push(le.slice(Se,je)),ie.join("")}}function P(le,Te){return function(be){var ie=Bc(1900,void 0,1),je=I(ie,le,be+="",0),Se,Me;if(je!=be.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Te&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Se=Hb(Bc(ie.y,0,1)),Me=Se.getUTCDay(),Se=Me>4||Me===0?Jp.ceil(Se):Jp(Se),Se=dg.offset(Se,(ie.V-1)*7),ie.y=Se.getUTCFullYear(),ie.m=Se.getUTCMonth(),ie.d=Se.getUTCDate()+(ie.w+6)%7):(Se=Wb(Bc(ie.y,0,1)),Me=Se.getDay(),Se=Me>4||Me===0?Qp.ceil(Se):Qp(Se),Se=_h.offset(Se,(ie.V-1)*7),ie.y=Se.getFullYear(),ie.m=Se.getMonth(),ie.d=Se.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Me="Z"in ie?Hb(Bc(ie.y,0,1)).getUTCDay():Wb(Bc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Me+5)%7:ie.w+ie.U*7-(Me+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Hb(ie)):Wb(ie)}}function I(le,Te,be,ie){for(var je=0,Se=Te.length,Me=be.length,Ye,st;je<Se;){if(ie>=Me)return-1;if(Ye=Te.charCodeAt(je++),Ye===37){if(Ye=Te.charAt(je++),st=C[Ye in Nk?Te.charAt(je++):Ye],!st||(ie=st(le,be,ie))<0)return-1}else if(Ye!=be.charCodeAt(ie++))return-1}return ie}function k(le,Te,be){var ie=f.exec(Te.slice(be));return ie?(le.p=d.get(ie[0].toLowerCase()),be+ie[0].length):-1}function V(le,Te,be){var ie=y.exec(Te.slice(be));return ie?(le.w=w.get(ie[0].toLowerCase()),be+ie[0].length):-1}function D(le,Te,be){var ie=p.exec(Te.slice(be));return ie?(le.w=v.get(ie[0].toLowerCase()),be+ie[0].length):-1}function F(le,Te,be){var ie=T.exec(Te.slice(be));return ie?(le.m=A.get(ie[0].toLowerCase()),be+ie[0].length):-1}function L(le,Te,be){var ie=x.exec(Te.slice(be));return ie?(le.m=_.get(ie[0].toLowerCase()),be+ie[0].length):-1}function H(le,Te,be){return I(le,e,Te,be)}function Q(le,Te,be){return I(le,r,Te,be)}function G(le,Te,be){return I(le,n,Te,be)}function te(le){return s[le.getDay()]}function J(le){return o[le.getDay()]}function oe(le){return c[le.getMonth()]}function ne(le){return l[le.getMonth()]}function q(le){return i[+(le.getHours()>=12)]}function X(le){return 1+~~(le.getMonth()/3)}function ue(le){return s[le.getUTCDay()]}function Ee(le){return o[le.getUTCDay()]}function Ae(le){return c[le.getUTCMonth()]}function fe(le){return l[le.getUTCMonth()]}function me(le){return i[+(le.getUTCHours()>=12)]}function we(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Te=N(le+="",O);return Te.toString=function(){return le},Te},parse:function(le){var Te=P(le+="",!1);return Te.toString=function(){return le},Te},utcFormat:function(le){var Te=N(le+="",M);return Te.toString=function(){return le},Te},utcParse:function(le){var Te=P(le+="",!0);return Te.toString=function(){return le},Te}}}var Nk={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,G8=/^%/,X8=/[\\^$*+?|[\]().{}]/g;function lt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Y8(t){return t.replace(X8,"\\$&")}function Uc(t){return new RegExp("^(?:"+t.map(Y8).join("|")+")","i")}function qc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Q8(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function J8(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Z8(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function e7(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function t7(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function jk(t,e,r){var n=pr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Mk(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r7(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n7(t,e,r){var n=pr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function i7(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Dk(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function o7(t,e,r){var n=pr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Lk(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function a7(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function s7(t,e,r){var n=pr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function u7(t,e,r){var n=pr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function l7(t,e,r){var n=pr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function c7(t,e,r){var n=G8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function f7(t,e,r){var n=pr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function h7(t,e,r){var n=pr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function $k(t,e){return lt(t.getDate(),e,2)}function d7(t,e){return lt(t.getHours(),e,2)}function p7(t,e){return lt(t.getHours()%12||12,e,2)}function m7(t,e){return lt(1+_h.count(po(t),t),e,3)}function VD(t,e){return lt(t.getMilliseconds(),e,3)}function g7(t,e){return VD(t,e)+"000"}function v7(t,e){return lt(t.getMonth()+1,e,2)}function y7(t,e){return lt(t.getMinutes(),e,2)}function _7(t,e){return lt(t.getSeconds(),e,2)}function b7(t){var e=t.getDay();return e===0?7:e}function w7(t,e){return lt(pg.count(po(t)-1,t),e,2)}function FD(t){var e=t.getDay();return e>=4||e===0?el(t):el.ceil(t)}function x7(t,e){return t=FD(t),lt(el.count(po(t),t)+(po(t).getDay()===4),e,2)}function E7(t){return t.getDay()}function S7(t,e){return lt(Qp.count(po(t)-1,t),e,2)}function T7(t,e){return lt(t.getFullYear()%100,e,2)}function A7(t,e){return t=FD(t),lt(t.getFullYear()%100,e,2)}function P7(t,e){return lt(t.getFullYear()%1e4,e,4)}function I7(t,e){var r=t.getDay();return t=r>=4||r===0?el(t):el.ceil(t),lt(t.getFullYear()%1e4,e,4)}function O7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function Vk(t,e){return lt(t.getUTCDate(),e,2)}function C7(t,e){return lt(t.getUTCHours(),e,2)}function k7(t,e){return lt(t.getUTCHours()%12||12,e,2)}function R7(t,e){return lt(1+dg.count(mo(t),t),e,3)}function BD(t,e){return lt(t.getUTCMilliseconds(),e,3)}function N7(t,e){return BD(t,e)+"000"}function j7(t,e){return lt(t.getUTCMonth()+1,e,2)}function M7(t,e){return lt(t.getUTCMinutes(),e,2)}function D7(t,e){return lt(t.getUTCSeconds(),e,2)}function L7(t){var e=t.getUTCDay();return e===0?7:e}function $7(t,e){return lt(mg.count(mo(t)-1,t),e,2)}function UD(t){var e=t.getUTCDay();return e>=4||e===0?tl(t):tl.ceil(t)}function V7(t,e){return t=UD(t),lt(tl.count(mo(t),t)+(mo(t).getUTCDay()===4),e,2)}function F7(t){return t.getUTCDay()}function B7(t,e){return lt(Jp.count(mo(t)-1,t),e,2)}function U7(t,e){return lt(t.getUTCFullYear()%100,e,2)}function q7(t,e){return t=UD(t),lt(t.getUTCFullYear()%100,e,2)}function z7(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function W7(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tl(t):tl.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function H7(){return"+0000"}function Fk(){return"%"}function Bk(t){return+t}function Uk(t){return Math.floor(+t/1e3)}var Iu,qD,zD;K7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K7(t){return Iu=K8(t),qD=Iu.format,Iu.parse,zD=Iu.utcFormat,Iu.utcParse,Iu}function G7(t){return new Date(t)}function X7(t){return t instanceof Date?+t:+new Date(+t)}function jE(t,e,r,n,i,o,s,l,c,f){var d=bE(),p=d.invert,v=d.domain,y=f(".%L"),w=f(":%S"),x=f("%I:%M"),_=f("%I %p"),T=f("%a %d"),A=f("%b %d"),O=f("%B"),M=f("%Y");function C(N){return(c(N)<N?y:l(N)<N?w:s(N)<N?x:o(N)<N?_:n(N)<N?i(N)<N?T:A:r(N)<N?O:M)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?v(Array.from(N,X7)):v().map(G7)},d.ticks=function(N){var P=v();return t(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?C:f(P)},d.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?v(CD(P,N)):d},d.copy=function(){return yh(d,jE(t,e,r,n,i,o,s,l,c,f))},d}function Y7(){return Ln.apply(jE(W8,H8,po,RE,pg,_h,CE,IE,ls,qD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q7(){return Ln.apply(jE(q8,z8,mo,NE,mg,dg,kE,OE,ls,zD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gg(){var t=0,e=1,r,n,i,o,s=Br,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function d(p){return function(v){var y,w;return arguments.length?([y,w]=v,s=p(y,w),f):[s(0),s(1)]}}return f.range=d(Ml),f.rangeRound=d(_E),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Ea(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WD(){var t=xa(gg()(Br));return t.copy=function(){return Ea(t,WD())},Eo.apply(t,arguments)}function HD(){var t=EE(gg()).domain([1,10]);return t.copy=function(){return Ea(t,HD()).base(t.base())},Eo.apply(t,arguments)}function KD(){var t=SE(gg());return t.copy=function(){return Ea(t,KD()).constant(t.constant())},Eo.apply(t,arguments)}function ME(){var t=TE(gg());return t.copy=function(){return Ea(t,ME()).exponent(t.exponent())},Eo.apply(t,arguments)}function J7(){return ME.apply(null,arguments).exponent(.5)}function GD(){var t=[],e=Br;function r(n){if(n!=null&&!isNaN(n=+n))return e((gh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>$z(t,o/n))},r.copy=function(){return GD(e).domain(t)},Eo.apply(r,arguments)}function vg(){var t=0,e=.5,r=1,n=1,i,o,s,l,c,f=Br,d,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+d(x))-o)*(n*x<n*o?l:c),f(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),o=d(e=+e),s=d(r=+r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(f=x,y):f};function w(x){return function(_){var T,A,O;return arguments.length?([T,A,O]=_,f=c8(x,[T,A,O]),y):[f(0),f(.5),f(1)]}}return y.range=w(Ml),y.rangeRound=w(_E),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return d=x,i=x(t),o=x(e),s=x(r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y}}function XD(){var t=xa(vg()(Br));return t.copy=function(){return Ea(t,XD())},Eo.apply(t,arguments)}function YD(){var t=EE(vg()).domain([.1,1,10]);return t.copy=function(){return Ea(t,YD()).base(t.base())},Eo.apply(t,arguments)}function QD(){var t=SE(vg());return t.copy=function(){return Ea(t,QD()).constant(t.constant())},Eo.apply(t,arguments)}function DE(){var t=TE(vg());return t.copy=function(){return Ea(t,DE()).exponent(t.exponent())},Eo.apply(t,arguments)}function Z7(){return DE.apply(null,arguments).exponent(.5)}const qk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tf,scaleDiverging:XD,scaleDivergingLog:YD,scaleDivergingPow:DE,scaleDivergingSqrt:Z7,scaleDivergingSymlog:QD,scaleIdentity:OD,scaleImplicit:b1,scaleLinear:Xp,scaleLog:kD,scaleOrdinal:gE,scalePoint:af,scalePow:AE,scaleQuantile:jD,scaleQuantize:MD,scaleRadial:ND,scaleSequential:WD,scaleSequentialLog:HD,scaleSequentialPow:ME,scaleSequentialQuantile:GD,scaleSequentialSqrt:J7,scaleSequentialSymlog:KD,scaleSqrt:N8,scaleSymlog:RD,scaleThreshold:DD,scaleTime:Y7,scaleUtc:Q7,tickFormat:ID},Symbol.toStringTag,{value:"Module"}));var Kb,zk;function yg(){if(zk)return Kb;zk=1;var t=Cl();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var l=r[o],c=n(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=l}return d}return Kb=e,Kb}var Gb,Wk;function JD(){if(Wk)return Gb;Wk=1;function t(e,r){return e>r}return Gb=t,Gb}var Xb,Hk;function eW(){if(Hk)return Xb;Hk=1;var t=yg(),e=JD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Xb=n,Xb}var tW=eW();const ia=pt(tW);var Yb,Kk;function ZD(){if(Kk)return Yb;Kk=1;function t(e,r){return e<r}return Yb=t,Yb}var Qb,Gk;function rW(){if(Gk)return Qb;Gk=1;var t=yg(),e=ZD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Qb=n,Qb}var nW=rW();const _g=pt(nW);var Jb,Xk;function iW(){if(Xk)return Jb;Xk=1;var t=Jx(),e=Di(),r=sD(),n=rn();function i(o,s){var l=n(o)?t:r;return l(o,e(s,3))}return Jb=i,Jb}var Zb,Yk;function oW(){if(Yk)return Zb;Yk=1;var t=oD(),e=iW();function r(n,i){return t(e(n,i),1)}return Zb=r,Zb}var aW=oW();const sW=pt(aW);var ew,Qk;function uW(){if(Qk)return ew;Qk=1;var t=fE();function e(r,n){return t(r,n)}return ew=e,ew}var lW=uW();const rl=pt(lW);var Dl=1e9,cW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$E,Ct=!0,Dn="[DecimalError] ",ms=Dn+"Invalid argument: ",LE=Dn+"Exponent out of range: ",Ll=Math.floor,is=Math.pow,fW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mn,fr=1e7,Pt=7,eL=9007199254740991,Zp=Ll(eL/Pt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return uo(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return yt(uo(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Ht(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(mn))throw Error(Dn+"NaN");if(r.s<1)throw Error(Dn+(r.s?"NaN":"-Infinity"));return r.eq(mn)?new n(0):(Ct=!1,e=uo(Cf(r,o),Cf(t,o),o),Ct=!0,yt(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nL(e,t):tL(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Dn+"NaN");return r.s?(Ct=!1,e=uo(r,t,0,1).times(t),Ct=!0,r.minus(e)):yt(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return rL(this)};Ce.naturalLogarithm=Ce.ln=function(){return Cf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tL(e,t):nL(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ms+t);if(e=Ht(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Dn+"NaN")}for(t=Ht(l),Ct=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ll((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(o=n,n=o.plus(uo(l,o,s+2)).times(.5),wi(o.d).slice(0,s)===(e=wi(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(yt(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,yt(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,o,s,l,c,f,d=this,p=d.constructor,v=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,r=d.e+t.e,c=v.length,f=y.length,c<f&&(o=v,v=y,y=o,s=c,c=f,f=s),o=[],s=c+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=o[i]+y[n]*v[i-n-1]+e,o[i--]=l%fr|0,e=l/fr|0;o[i]=(o[i]+e)%fr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ct?yt(t,p.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ci(t,0,Dl),e===void 0?e=n.rounding:Ci(e,0,8),yt(r,t+Ht(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ws(n,!0):(Ci(t,0,Dl),e===void 0?e=i.rounding:Ci(e,0,8),n=yt(new i(n),t+1,e),r=ws(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ws(i):(Ci(t,0,Dl),e===void 0?e=o.rounding:Ci(e,0,8),n=yt(new o(i),t+Ht(i)+1,e),r=ws(n.abs(),!1,t+Ht(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return yt(new e(t),Ht(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,o,s,l=this,c=l.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(mn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Dn+"Infinity");return l}if(l.eq(mn))return l;if(n=c.precision,t.eq(mn))return yt(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=l.s,s){if((r=d<0?-d:d)<=eL){for(i=new c(mn),e=Math.ceil(n/Pt+4),Ct=!1;r%2&&(i=i.times(l),Zk(i.d,e)),r=Ll(r/2),r!==0;)l=l.times(l),Zk(l.d,e);return Ct=!0,t.s<0?new c(mn).div(i):yt(i,n)}}else if(o<0)throw Error(Dn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ct=!1,i=t.times(Cf(l,n+f)),Ct=!0,i=rL(i),i.s=o,i};Ce.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Ht(i),n=ws(i,r<=o.toExpNeg||r>=o.toExpPos)):(Ci(t,1,Dl),e===void 0?e=o.rounding:Ci(e,0,8),i=yt(new o(i),t,e),r=Ht(i),n=ws(i,t<=r||r<=o.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ci(t,1,Dl),e===void 0?e=n.rounding:Ci(e,0,8)),yt(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ht(t),r=t.constructor;return ws(t,e<=r.toExpNeg||e>=r.toExpPos)};function tL(t,e){var r,n,i,o,s,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ct?yt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(n=c,o=-o,l=f.length):(n=f,i=s,l=c.length),s=Math.ceil(p/Pt),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/fr|0,c[o]%=fr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ct?yt(e,p):e}function Ci(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ms+t)}function wi(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Pt-n.length,r&&(o+=Jo(r)),o+=n;s=t[e],n=s+"",r=Pt-n.length,r&&(o+=Jo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var uo=function(){function t(n,i){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%fr|0,s=o/fr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*fr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var l,c,f,d,p,v,y,w,x,_,T,A,O,M,C,N,P,I,k=n.constructor,V=n.s==i.s?1:-1,D=n.d,F=i.d;if(!n.s)return new k(n);if(!i.s)throw Error(Dn+"Division by zero");for(c=n.e-i.e,P=F.length,C=D.length,y=new k(V),w=y.d=[],f=0;F[f]==(D[f]||0);)++f;if(F[f]>(D[f]||0)&&--c,o==null?A=o=k.precision:s?A=o+(Ht(n)-Ht(i))+1:A=o,A<0)return new k(0);if(A=A/Pt+2|0,f=0,P==1)for(d=0,F=F[0],A++;(f<C||d)&&A--;f++)O=d*fr+(D[f]||0),w[f]=O/F|0,d=O%F|0;else{for(d=fr/(F[0]+1)|0,d>1&&(F=t(F,d),D=t(D,d),P=F.length,C=D.length),M=P,x=D.slice(0,P),_=x.length;_<P;)x[_++]=0;I=F.slice(),I.unshift(0),N=F[0],F[1]>=fr/2&&++N;do d=0,l=e(F,x,P,_),l<0?(T=x[0],P!=_&&(T=T*fr+(x[1]||0)),d=T/N|0,d>1?(d>=fr&&(d=fr-1),p=t(F,d),v=p.length,_=x.length,l=e(p,x,v,_),l==1&&(d--,r(p,P<v?I:F,v))):(d==0&&(l=d=1),p=F.slice()),v=p.length,v<_&&p.unshift(0),r(x,p,_),l==-1&&(_=x.length,l=e(F,x,P,_),l<1&&(d++,r(x,P<_?I:F,_))),_=x.length):l===0&&(d++,x=[0]),w[f++]=d,l&&x[0]?x[_++]=D[M]||0:(x=[D[M]],_=1);while((M++<C||x[0]!==void 0)&&A--)}return w[0]||w.shift(),y.e=c,yt(y,s?o+Ht(y)+1:o)}}();function rL(t,e){var r,n,i,o,s,l,c=0,f=0,d=t.constructor,p=d.precision;if(Ht(t)>16)throw Error(LE+Ht(t));if(!t.s)return new d(mn);for(Ct=!1,l=p,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(is(2,f))/Math.LN10*2+5|0,l+=n,r=i=o=new d(mn),d.precision=l;;){if(i=yt(i.times(t),l),r=r.times(++c),s=o.plus(uo(i,r,l)),wi(s.d).slice(0,l)===wi(o.d).slice(0,l)){for(;f--;)o=yt(o.times(o),l);return d.precision=p,e==null?(Ct=!0,yt(o,p)):o}o=s}}function Ht(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function tw(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(Dn+"LN10 precision limit exceeded");return yt(new t(t.LN10),e)}function Jo(t){for(var e="";t--;)e+="0";return e}function Cf(t,e){var r,n,i,o,s,l,c,f,d,p=1,v=10,y=t,w=y.d,x=y.constructor,_=x.precision;if(y.s<1)throw Error(Dn+(y.s?"NaN":"-Infinity"));if(y.eq(mn))return new x(0);if(e==null?(Ct=!1,f=_):f=e,y.eq(10))return e==null&&(Ct=!0),tw(x,f);if(f+=v,x.precision=f,r=wi(w),n=r.charAt(0),o=Ht(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=wi(y.d),n=r.charAt(0),p++;o=Ht(y),n>1?(y=new x("0."+r),o++):y=new x(n+"."+r.slice(1))}else return c=tw(x,f+2,_).times(o+""),y=Cf(new x(n+"."+r.slice(1)),f-v).plus(c),x.precision=_,e==null?(Ct=!0,yt(y,_)):y;for(l=s=y=uo(y.minus(mn),y.plus(mn),f),d=yt(y.times(y),f),i=3;;){if(s=yt(s.times(d),f),c=l.plus(uo(s,new x(i),f)),wi(c.d).slice(0,f)===wi(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(tw(x,f+2,_).times(o+""))),l=uo(l,new x(p),f),x.precision=_,e==null?(Ct=!0,yt(l,_)):l;l=c,i+=2}}function Jk(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ll(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pt;n<i;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Zp||t.e<-Zp))throw Error(LE+r)}else t.s=0,t.e=0,t.d=[0];return t}function yt(t,e,r){var n,i,o,s,l,c,f,d,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=Pt,i=e,f=p[d=0];else{if(d=Math.ceil((n+1)/Pt),o=p.length,d>=o)return t;for(f=o=p[d],s=1;o>=10;o/=10)s++;n%=Pt,i=n-Pt+s}if(r!==void 0&&(o=is(10,s-i-1),l=f/o%10|0,c=e<0||p[d+1]!==void 0||f%o,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/is(10,s-i):0:p[d-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=Ht(t),p.length=1,e=e-o-1,p[0]=is(10,(Pt-e%Pt)%Pt),t.e=Ll(-e/Pt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=d,o=1,d--):(p.length=d+1,o=is(10,Pt-n),p[d]=i>0?(f/is(10,s-i)%is(10,i)|0)*o:0),c)for(;;)if(d==0){(p[0]+=o)==fr&&(p[0]=1,++t.e);break}else{if(p[d]+=o,p[d]!=fr)break;p[d--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Ct&&(t.e>Zp||t.e<-Zp))throw Error(LE+Ht(t));return t}function nL(t,e){var r,n,i,o,s,l,c,f,d,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ct?yt(e,y):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(d=s<0,d?(r=c,s=-s,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(y/Pt),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=fr-1;--c[o],c[i]+=fr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ct?yt(e,y):e):new v(0)}function ws(t,e,r){var n,i=Ht(t),o=wi(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Jo(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Jo(-i-1)+o,r&&(n=r-s)>0&&(o+=Jo(n))):i>=s?(o+=Jo(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Jo(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Jo(n))),t.s<0?"-"+o:o}function Zk(t,e){if(t.length>e)return t.length=e,!0}function iL(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ms+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Jk(s,o.toString())}else if(typeof o!="string")throw Error(ms+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,fW.test(o))Jk(s,o);else throw Error(ms+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iL,i.config=i.set=hW,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function hW(t){if(!t||typeof t!="object")throw Error(Dn+"Object expected");var e,r,n,i=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ll(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ms+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ms+r+": "+n);return this}var $E=iL(cW);mn=new $E(1);const gt=$E;function dW(t){return vW(t)||gW(t)||mW(t)||pW()}function pW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mW(t,e){if(t){if(typeof t=="string")return S1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(t,e)}}function gW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vW(t){if(Array.isArray(t))return S1(t)}function S1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yW=function(e){return e},oL={},aL=function(e){return e===oL},eR=function(e){return function r(){return arguments.length===0||arguments.length===1&&aL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},_W=function t(e,r){return e===1?r:eR(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==oL}).length;return s>=e?r.apply(void 0,i):t(e-s,eR(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=i.map(function(p){return aL(p)?c.shift():p});return r.apply(void 0,dW(d).concat(c))}))})},bg=function(e){return _W(e.length,e)},T1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},bW=bg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wW=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return yW;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},A1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},sL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function xW(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function EW(t,e,r){for(var n=new gt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var SW=bg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),TW=bg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),AW=bg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const wg={rangeStep:EW,getDigitCount:xW,interpolateNumber:SW,uninterpolateNumber:TW,uninterpolateTruncation:AW};function P1(t){return OW(t)||IW(t)||uL(t)||PW()}function PW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function OW(t){if(Array.isArray(t))return I1(t)}function kf(t,e){return RW(t)||kW(t,e)||uL(t,e)||CW()}function CW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return I1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(t,e)}}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function RW(t){if(Array.isArray(t))return t}function lL(t){var e=kf(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function cL(t,e,r){if(t.lte(0))return new gt(0);var n=wg.getDigitCount(t.toNumber()),i=new gt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,l=new gt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?c:new gt(Math.ceil(c))}function NW(t,e,r){var n=1,i=new gt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new gt(10).pow(wg.getDigitCount(t)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):r||(i=new gt(Math.floor(t)));var s=Math.floor((e-1)/2),l=wW(bW(function(c){return i.add(new gt(c-s).mul(n)).toNumber()}),T1);return l(0,e)}function fL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var o=cL(new gt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new gt(0):(s=new gt(t).add(e).div(2),s=s.sub(new gt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new gt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>r?fL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,l=e>0?l:l+(r-f)),{step:o,tickMin:s.sub(new gt(l).mul(o)),tickMax:s.add(new gt(c).mul(o))})}function jW(t){var e=kf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=lL([r,n]),c=kf(l,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(P1(T1(0,i-1).map(function(){return 1/0}))):[].concat(P1(T1(0,i-1).map(function(){return-1/0})),[d]);return r>n?A1(p):p}if(f===d)return NW(f,i,o);var v=fL(f,d,s,o),y=v.step,w=v.tickMin,x=v.tickMax,_=wg.rangeStep(w,x.add(new gt(.1).mul(y)),y);return r>n?A1(_):_}function MW(t,e){var r=kf(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=lL([n,i]),l=kf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var d=Math.max(e,2),p=cL(new gt(f).sub(c).div(d-1),o,0),v=[].concat(P1(wg.rangeStep(new gt(c),new gt(f).sub(new gt(.99).mul(p)),p)),[f]);return n>i?A1(v):v}var DW=sL(jW),LW=sL(MW),$W="Invariant failed";function xs(t,e){throw new Error($W)}var VW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},em.apply(this,arguments)}function FW(t,e){return zW(t)||qW(t,e)||UW(t,e)||BW()}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(t,e){if(t){if(typeof t=="string")return tR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tR(t,e)}}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function zW(t){if(Array.isArray(t))return t}function WW(t,e){if(t==null)return{};var r=HW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pL(n.key),n)}}function XW(t,e,r){return e&&GW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YW(t,e,r){return e=tm(e),QW(t,hL()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function QW(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JW(t)}function JW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function ZW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O1(t,e)}function O1(t,e){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O1(t,e)}function dL(t,e,r){return e=pL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pL(t){var e=eH(t,"string");return nl(e)=="symbol"?e:e+""}function eH(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xg=function(t){function e(){return KW(this,e),YW(this,e,arguments)}return ZW(e,t),XW(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,l=n.dataKey,c=n.data,f=n.dataPointFormatter,d=n.xAxis,p=n.yAxis,v=WW(n,VW),y=De(v,!1);this.props.direction==="x"&&d.type!=="number"&&xs();var w=c.map(function(x){var _=f(x,l),T=_.x,A=_.y,O=_.value,M=_.errorVal;if(!M)return null;var C=[],N,P;if(Array.isArray(M)){var I=FW(M,2);N=I[0],P=I[1]}else N=P=M;if(o==="vertical"){var k=d.scale,V=A+i,D=V+s,F=V-s,L=k(O-N),H=k(O+P);C.push({x1:H,y1:D,x2:H,y2:F}),C.push({x1:L,y1:V,x2:H,y2:V}),C.push({x1:L,y1:D,x2:L,y2:F})}else if(o==="horizontal"){var Q=p.scale,G=T+i,te=G-s,J=G+s,oe=Q(O-N),ne=Q(O+P);C.push({x1:te,y1:ne,x2:J,y2:ne}),C.push({x1:G,y1:oe,x2:G,y2:ne}),C.push({x1:te,y1:oe,x2:J,y2:oe})}return W.createElement(ot,em({className:"recharts-errorBar",key:"bar-".concat(C.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},y),C.map(function(q){return W.createElement("line",em({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return W.createElement(ot,{className:"recharts-errorBars"},w)}}])}(W.Component);dL(xg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dL(xg,"displayName","ErrorBar");function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){tH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tH(t,e,r){return e=rH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rH(t){var e=nH(t,"string");return Rf(e)=="symbol"?e:e+""}function nH(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=dn(r,ds);if(!s)return null;var l=ds.defaultProps,c=l!==void 0?es(es({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(n||[]).reduce(function(d,p){var v=p.item,y=p.props,w=y.sectors||y.data||[];return d.concat(w.map(function(x){return{type:s.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(d){var p=d.item,v=p.type.defaultProps,y=v!==void 0?es(es({},v),p.props):{},w=y.dataKey,x=y.name,_=y.legendType,T=y.hide;return{inactive:T,dataKey:w,type:c.iconType||_||"square",color:VE(p),value:x||w,payload:y}}),es(es(es({},c),ds.getWithHeight(s,i)),{},{payload:f,item:s})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function nR(t){return sH(t)||aH(t)||oH(t)||iH()}function iH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(t,e){if(t){if(typeof t=="string")return C1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(t,e)}}function aH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sH(t){if(Array.isArray(t))return C1(t)}function C1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){Uu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uu(t,e,r){return e=uH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uH(t){var e=lH(t,"string");return Nf(e)=="symbol"?e:e+""}function lH(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jt(t,e,r){return Xe(t)||Xe(e)?r:er(e)?gn(t,e,r):Ue(e)?e(t):r}function sf(t,e,r,n){var i=sW(t,function(l){return Jt(l,e)});if(r==="number"){var o=i.filter(function(l){return ye(l)||parseFloat(l)});return o.length?[_g(o),ia(o)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Xe(l)}):i;return s.map(function(l){return er(l)||l instanceof Date?l:""})}var cH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var d=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Vr(p-d)!==Vr(v-p)){var w=[];if(Vr(v-p)===Vr(c[1]-c[0])){y=v;var x=p+c[1]-c[0];w[0]=Math.min(x,(x+d)/2),w[1]=Math.max(x,(x+d)/2)}else{y=d;var _=v+c[1]-c[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var T=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>T[0]&&e<=T[1]||e>=w[0]&&e<=w[1]){s=i[f].index;break}}else{var A=Math.min(d,v),O=Math.max(d,v);if(e>(A+p)/2&&e<=(O+p)/2){s=i[f].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},VE=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},fH=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var d=o[l[c]].stackGroups,p=Object.keys(d),v=0,y=p.length;v<y;v++){var w=d[p[v]],x=w.items,_=w.cateAxisId,T=x.filter(function(P){return so(P.type).indexOf("Bar")>=0});if(T&&T.length){var A=T[0].type.defaultProps,O=A!==void 0?Mt(Mt({},A),T[0].props):T[0].props,M=O.barSize,C=O[_];s[C]||(s[C]=[]);var N=Xe(M)?r:M;s[C].push({item:T[0],stackList:T.slice(1),barSize:Xe(N)?void 0:Fr(N,n,0)})}}return s},hH=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Fr(r,i,0,!0),d,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,y=i/c,w=s.reduce(function(M,C){return M+C.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&y>0&&(v=!0,y*=.9,w=c*y);var x=(i-w)/2>>0,_={offset:x-f,size:0};d=s.reduce(function(M,C){var N={item:C.item,position:{offset:_.offset+_.size+f,size:v?y:C.barSize}},P=[].concat(nR(M),[N]);return _=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:_})}),P},p)}else{var T=Fr(n,i,0,!0);i-2*T-(c-1)*f<=0&&(f=0);var A=(i-2*T-(c-1)*f)/c;A>1&&(A>>=0);var O=l===+l?Math.min(A,l):A;d=s.reduce(function(M,C,N){var P=[].concat(nR(M),[{item:C.item,position:{offset:T+(A+f)*N+(A-O)/2,size:O}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},p)}return d},dH=function(e,r,n,i){var o=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),f=mL({children:o,legendWidth:c});if(f){var d=i||{},p=d.width,v=d.height,y=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&y!=="center"&&ye(e[y]))return Mt(Mt({},e),{},Uu({},y,e[y]+(p||0)));if((x==="horizontal"||x==="vertical"&&y==="center")&&w!=="middle"&&ye(e[w]))return Mt(Mt({},e),{},Uu({},w,e[w]+(v||0)))}return e},pH=function(e,r,n){return Xe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gL=function(e,r,n,i,o){var s=r.props.children,l=jn(s,xg).filter(function(f){return pH(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=Jt(d,n);if(Xe(p))return f;var v=Array.isArray(p)?[_g(p),ia(p)]:[p,p],y=c.reduce(function(w,x){var _=Jt(d,x,0),T=v[0]-Math.abs(Array.isArray(_)?_[0]:_),A=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(T,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},mH=function(e,r,n,i,o){var s=r.map(function(l){return gL(e,l,n,o,i)}).filter(function(l){return!Xe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vL=function(e,r,n,i,o){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&gL(e,c,f,i)||sf(e,f,n,o)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)l[f[d]]||(l[f[d]]=!0,c.push(f[d]));return c},[])},yL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},_L=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||l.push(r),s||l.push(n),l},no=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Vr(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return d.filter(function(p){return!Rl(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},rw=new WeakMap,tp=function(e,r){if(typeof r!="function")return e;rw.has(e)||rw.set(e,new WeakMap);var n=rw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bL=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Tf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Xp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:af(),realScaleType:"point"}:o==="category"?{scale:Tf(),realScaleType:"band"}:{scale:Xp(),realScaleType:"linear"};if(ys(i)){var c="scale".concat(ig(i));return{scale:(qk[c]||af)(),realScaleType:qk[c]?c:"point"}}return Ue(i)?{scale:i}:{scale:af(),realScaleType:"point"}},oR=1e-4,wL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-oR,s=Math.max(i[0],i[1])+oR,l=e(r[0]),c=e(r[n-1]);(l<o||l>s||c<o||c>s)&&e.domain([r[0],r[n-1]])}},gH=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},vH=function(e,r){if(!r||r.length!==2||!ye(r[0])||!ye(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ye(e[0])||e[0]<n)&&(o[0]=n),(!ye(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},yH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,l=0;l<r;++l){var c=Rl(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},_H=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var l=Rl(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},bH={sign:yH,expand:sU,none:Gu,silhouette:uU,wiggle:lU,positive:_H},wH=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),o=bH[n],s=aU().keys(i).value(function(l,c){return+Jt(l,c,0)}).order(a1).offset(o);return s(e)},xH=function(e,r,n,i,o,s){if(!e)return null;var l=s?r.reverse():r,c={},f=l.reduce(function(p,v){var y,w=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Mt(Mt({},v.type.defaultProps),v.props):v.props,x=w.stackId,_=w.hide;if(_)return p;var T=w[n],A=p[T]||{hasStack:!1,stackGroups:{}};if(er(x)){var O=A.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(v),A.hasStack=!0,A.stackGroups[x]=O}else A.stackGroups[Nl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Mt(Mt({},p),{},Uu({},T,A))},c),d={};return Object.keys(f).reduce(function(p,v){var y=f[v];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,_){var T=y.stackGroups[_];return Mt(Mt({},x),{},Uu({},_,{numericAxisId:n,cateAxisId:i,items:T.items,stackedData:wH(e,T.items,o)}))},w)}return Mt(Mt({},p),{},Uu({},v,y))},d)},xL=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=DW(f,o,l);return e.domain([_g(d),ia(d)]),{niceTicks:d}}if(o&&i==="number"){var p=e.domain(),v=LW(p,o,l);return{niceTicks:v}}return null};function aR(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var l=kp(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=Jt(i,Xe(s)?e.dataKey:s);return Xe(c)?null:e.scale(c)}var sR=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Jt(s,r.dataKey,r.domain[l]);return Xe(c)?null:r.scale(c)-o/2+i},EH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},SH=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(er(o)){var s=r[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},TH=function(e){return e.reduce(function(r,n){return[_g(n.concat([r[0]]).filter(ye)),ia(n.concat([r[1]]).filter(ye))]},[1/0,-1/0])},EL=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,d){var p=TH(d.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k1=function(e,r,n){if(Ue(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ye(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(uR.test(e[0])){var o=+uR.exec(e[0])[1];i[0]=r[0]-o}else Ue(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ye(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(lR.test(e[1])){var s=+lR.exec(e[1])[1];i[1]=r[1]+s}else Ue(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},rm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=dE(r,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],d=o[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},cR=function(e,r,n){return!e||!e.length||rl(e,gn(n,"type.defaultProps.domain"))?r:e},SL=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,f=n.chartType,d=n.hide;return Mt(Mt({},De(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:VE(e),value:Jt(r,i),type:c,payload:r,chartType:f,hide:d})};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){TL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TL(t,e,r){return e=AH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AH(t){var e=PH(t,"string");return jf(e)=="symbol"?e:e+""}function PH(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t,e){return RH(t)||kH(t,e)||CH(t,e)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(t,e){if(t){if(typeof t=="string")return hR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(t,e)}}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function RH(t){if(Array.isArray(t))return t}var nm=Math.PI/180,NH=function(e){return e*180/Math.PI},St=function(e,r,n,i){return{x:e+Math.cos(-nm*i)*n,y:r+Math.sin(-nm*i)*n}},AL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},jH=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.startAngle,f=e.endAngle,d=Fr(e.cx,s,s/2),p=Fr(e.cy,l,l/2),v=AL(s,l,n),y=Fr(e.innerRadius,v,0),w=Fr(e.outerRadius,v,v*.8),x=Object.keys(r);return x.reduce(function(_,T){var A=r[T],O=A.domain,M=A.reversed,C;if(Xe(A.range))i==="angleAxis"?C=[c,f]:i==="radiusAxis"&&(C=[y,w]),M&&(C=[C[1],C[0]]);else{C=A.range;var N=C,P=IH(N,2);c=P[0],f=P[1]}var I=bL(A,o),k=I.realScaleType,V=I.scale;V.domain(O).range(C),wL(V);var D=xL(V,eo(eo({},A),{},{realScaleType:k})),F=eo(eo(eo({},A),D),{},{range:C,radius:w,realScaleType:k,scale:V,cx:d,cy:p,innerRadius:y,outerRadius:w,startAngle:c,endAngle:f});return eo(eo({},_),{},TL({},T,F))},{})},MH=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},DH=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,l=MH({x:n,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(n-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:NH(f),angleInRadian:f}},LH=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},$H=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},dR=function(e,r){var n=e.x,i=e.y,o=DH({x:n,y:i},r),s=o.radius,l=o.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var d=LH(r),p=d.startAngle,v=d.endAngle,y=l,w;if(p<=v){for(;y>v;)y-=360;for(;y<p;)y+=360;w=y>=p&&y<=v}else{for(;y>p;)y-=360;for(;y<v;)y+=360;w=y>=v&&y<=p}return w?eo(eo({},r),{},{radius:s,angle:$H(y,r)}):null},PL=function(e){return!U.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var VH=["offset"];function FH(t){return zH(t)||qH(t)||UH(t)||BH()}function BH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(t,e){if(t){if(typeof t=="string")return R1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(t,e)}}function qH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zH(t){if(Array.isArray(t))return R1(t)}function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WH(t,e){if(t==null)return{};var r=HH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){KH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KH(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=XH(t,"string");return Mf(e)=="symbol"?e:e+""}function XH(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}var YH=function(e){var r=e.value,n=e.formatter,i=Xe(e.children)?r:e.children;return Ue(n)?n(i):i},QH=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},JH=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,d=c.cy,p=c.innerRadius,v=c.outerRadius,y=c.startAngle,w=c.endAngle,x=c.clockWise,_=(p+v)/2,T=QH(y,w),A=T>=0?1:-1,O,M;i==="insideStart"?(O=y+A*s,M=x):i==="insideEnd"?(O=w-A*s,M=!x):i==="end"&&(O=w+A*s,M=x),M=T<=0?M:!M;var C=St(f,d,_,O),N=St(f,d,_,O+(M?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(M?0:1,`,
    `).concat(N.x,",").concat(N.y),I=Xe(e.id)?Nl("recharts-radial-line-"):e.id;return W.createElement("text",Df({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:I,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(I)},r))},ZH=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,d=o.startAngle,p=o.endAngle,v=(d+p)/2;if(i==="outside"){var y=St(s,l,f+n,v),w=y.x,x=y.y;return{x:w,y:x,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,T=St(s,l,_,v),A=T.x,O=T.y;return{x:A,y:O,textAnchor:"middle",verticalAnchor:"middle"}},eK=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,l=s.x,c=s.y,f=s.width,d=s.height,p=d>=0?1:-1,v=p*i,y=p>0?"end":"start",w=p>0?"start":"end",x=f>=0?1:-1,_=x*i,T=x>0?"end":"start",A=x>0?"start":"end";if(o==="top"){var O={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Qt(Qt({},O),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var M={x:l+f/2,y:c+d+v,textAnchor:"middle",verticalAnchor:w};return Qt(Qt({},M),n?{height:Math.max(n.y+n.height-(c+d),0),width:f}:{})}if(o==="left"){var C={x:l-_,y:c+d/2,textAnchor:T,verticalAnchor:"middle"};return Qt(Qt({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(o==="right"){var N={x:l+f+_,y:c+d/2,textAnchor:A,verticalAnchor:"middle"};return Qt(Qt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var P=n?{width:f,height:d}:{};return o==="insideLeft"?Qt({x:l+_,y:c+d/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideRight"?Qt({x:l+f-_,y:c+d/2,textAnchor:T,verticalAnchor:"middle"},P):o==="insideTop"?Qt({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:w},P):o==="insideBottom"?Qt({x:l+f/2,y:c+d-v,textAnchor:"middle",verticalAnchor:y},P):o==="insideTopLeft"?Qt({x:l+_,y:c+v,textAnchor:A,verticalAnchor:w},P):o==="insideTopRight"?Qt({x:l+f-_,y:c+v,textAnchor:T,verticalAnchor:w},P):o==="insideBottomLeft"?Qt({x:l+_,y:c+d-v,textAnchor:A,verticalAnchor:y},P):o==="insideBottomRight"?Qt({x:l+f-_,y:c+d-v,textAnchor:T,verticalAnchor:y},P):kl(o)&&(ye(o.x)||ss(o.x))&&(ye(o.y)||ss(o.y))?Qt({x:l+Fr(o.x,f),y:c+Fr(o.y,d),textAnchor:"end",verticalAnchor:"end"},P):Qt({x:l+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},tK=function(e){return"cx"in e&&ye(e.cx)};function dr(t){var e=t.offset,r=e===void 0?5:e,n=WH(t,VH),i=Qt({offset:r},n),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,v=i.textBreakAll;if(!o||Xe(l)&&Xe(c)&&!U.isValidElement(f)&&!Ue(f))return null;if(U.isValidElement(f))return U.cloneElement(f,i);var y;if(Ue(f)){if(y=U.createElement(f,i),U.isValidElement(y))return y}else y=YH(i);var w=tK(o),x=De(i,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return JH(i,y,x);var _=w?ZH(i):eK(i);return W.createElement(bs,Df({className:Qe("recharts-label",p)},x,_,{breakAll:v}),y)}dr.displayName="Label";var IL=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,v=e.y,y=e.top,w=e.left,x=e.width,_=e.height,T=e.clockWise,A=e.labelViewBox;if(A)return A;if(ye(x)&&ye(_)){if(ye(p)&&ye(v))return{x:p,y:v,width:x,height:_};if(ye(y)&&ye(w))return{x:y,y:w,width:x,height:_}}return ye(p)&&ye(v)?{x:p,y:v,width:0,height:0}:ye(r)&&ye(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:T}:e.viewBox?e.viewBox:{}},rK=function(e,r){return e?e===!0?W.createElement(dr,{key:"label-implicit",viewBox:r}):er(e)?W.createElement(dr,{key:"label-implicit",viewBox:r,value:e}):U.isValidElement(e)?e.type===dr?U.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(dr,{key:"label-implicit",content:e,viewBox:r}):Ue(e)?W.createElement(dr,{key:"label-implicit",content:e,viewBox:r}):kl(e)?W.createElement(dr,Df({viewBox:r},e,{key:"label-implicit"})):null:null},nK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=IL(e),s=jn(i,dr).map(function(c,f){return U.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return s;var l=rK(e.label,r||o);return[l].concat(FH(s))};dr.parseViewBox=IL;dr.renderCallByParent=nK;var nw,mR;function iK(){if(mR)return nw;mR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return nw=t,nw}var oK=iK();const aK=pt(oK);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var sK=["valueAccessor"],uK=["data","dataKey","clockWise","id","textBreakAll"];function lK(t){return dK(t)||hK(t)||fK(t)||cK()}function cK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(t,e){if(t){if(typeof t=="string")return N1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(t,e)}}function hK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dK(t){if(Array.isArray(t))return N1(t)}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},im.apply(this,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){pK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pK(t,e,r){return e=mK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mK(t){var e=gK(t,"string");return Lf(e)=="symbol"?e:e+""}function gK(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yR(t,e){if(t==null)return{};var r=vK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yK=function(e){return Array.isArray(e.value)?aK(e.value):e.value};function lo(t){var e=t.valueAccessor,r=e===void 0?yK:e,n=yR(t,sK),i=n.data,o=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,f=yR(n,uK);return!i||!i.length?null:W.createElement(ot,{className:"recharts-label-list"},i.map(function(d,p){var v=Xe(o)?r(d,p):Jt(d&&d.payload,o),y=Xe(l)?{}:{id:"".concat(l,"-").concat(p)};return W.createElement(dr,im({},De(d,!0),f,y,{parentViewBox:d.parentViewBox,value:v,textBreakAll:c,viewBox:dr.parseViewBox(Xe(s)?d:vR(vR({},d),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}lo.displayName="LabelList";function _K(t,e){return t?t===!0?W.createElement(lo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ue(t)?W.createElement(lo,{key:"labelList-implicit",data:e,content:t}):kl(t)?W.createElement(lo,im({data:e},t,{key:"labelList-implicit"})):null:null}function bK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=jn(n,lo).map(function(s,l){return U.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var o=_K(t.label,e);return[o].concat(lK(i))}lo.renderCallByParent=bK;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){wK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wK(t,e,r){return e=xK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xK(t){var e=EK(t,"string");return $f(e)=="symbol"?e:e+""}function EK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SK=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},rp=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(l?1:-1)+i,p=Math.asin(c/d)/nm,v=f?o:o+s*p,y=St(r,n,d,v),w=St(r,n,i,v),x=f?o-s*p:o,_=St(r,n,d*Math.cos(p*nm),x);return{center:y,circleTangency:w,lineTangency:_,theta:p}},OL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=SK(s,l),f=s+c,d=St(r,n,o,s),p=St(r,n,o,f),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=St(r,n,i,s),w=St(r,n,i,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},TK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=Vr(d-f),v=rp({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,x=v.theta,_=rp({cx:r,cy:n,radius:o,angle:d,sign:-p,cornerRadius:s,cornerIsExternal:c}),T=_.circleTangency,A=_.lineTangency,O=_.theta,M=c?Math.abs(f-d):Math.abs(f-d)-x-O;if(M<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):OL({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var N=rp({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=N.circleTangency,I=N.lineTangency,k=N.theta,V=rp({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=V.circleTangency,F=V.lineTangency,L=V.theta,H=c?Math.abs(f-d):Math.abs(f-d)-k-L;if(H<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},AK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CL=function(e){var r=bR(bR({},AK),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,d=r.startAngle,p=r.endAngle,v=r.className;if(s<o||d===p)return null;var y=Qe("recharts-sector",v),w=s-o,x=Fr(l,w,0,!0),_;return x>0&&Math.abs(d-p)<360?_=TK({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):_=OL({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:p}),W.createElement("path",j1({},De(r,!0),{className:y,d:_,role:"img"}))};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){PK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PK(t,e,r){return e=IK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IK(t){var e=OK(t,"string");return Vf(e)=="symbol"?e:e+""}function OK(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ER={curveBasisClosed:XB,curveBasisOpen:YB,curveBasis:GB,curveBumpX:jB,curveBumpY:MB,curveLinearClosed:QB,curveLinear:ag,curveMonotoneX:JB,curveMonotoneY:ZB,curveNatural:eU,curveStep:tU,curveStepAfter:nU,curveStepBefore:rU},np=function(e){return e.x===+e.x&&e.y===+e.y},zc=function(e){return e.x},Wc=function(e){return e.y},CK=function(e,r){if(Ue(e))return e;var n="curve".concat(ig(e));return(n==="curveMonotone"||n==="curveBump")&&r?ER["".concat(n).concat(r==="vertical"?"Y":"X")]:ER[n]||ag},kK=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=CK(n,l),p=f?o.filter(function(x){return np(x)}):o,v;if(Array.isArray(s)){var y=f?s.filter(function(x){return np(x)}):s,w=p.map(function(x,_){return xR(xR({},x),{},{base:y[_]})});return l==="vertical"?v=Kd().y(Wc).x1(zc).x0(function(x){return x.base.x}):v=Kd().x(zc).y1(Wc).y0(function(x){return x.base.y}),v.defined(np).curve(d),v(w)}return l==="vertical"&&ye(s)?v=Kd().y(Wc).x1(zc).x0(s):ye(s)?v=Kd().x(zc).y1(Wc).y0(s):v=IM().x(zc).y(Wc),v.defined(np).curve(d),v(p)},qu=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?kK(e):i;return W.createElement("path",M1({},De(e,!1),Rp(e),{className:Qe("recharts-curve",r),d:s,ref:o}))},iw={exports:{}},ow,SR;function RK(){if(SR)return ow;SR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ow=t,ow}var aw,TR;function NK(){if(TR)return aw;TR=1;var t=RK();function e(){}function r(){}return r.resetWarningCache=e,aw=function(){function n(s,l,c,f,d,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},aw}var AR;function jK(){return AR||(AR=1,iw.exports=NK()()),iw.exports}var MK=jK();const ht=pt(MK);var DK=Object.getOwnPropertyNames,LK=Object.getOwnPropertySymbols,$K=Object.prototype.hasOwnProperty;function PR(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function ip(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var c=t(r,n,i);return o.delete(r),o.delete(n),c}}function IR(t){return DK(t).concat(LK(t))}var VK=Object.hasOwn||function(t,e){return $K.call(t,e)};function js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var FK="__v",BK="__o",UK="_owner",OR=Object.getOwnPropertyDescriptor,CR=Object.keys;function qK(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function zK(t,e){return js(t.getTime(),e.getTime())}function WK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HK(t,e){return t===e}function kR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var f=e.entries(),d=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=s.value,y=l.value;if(r.equals(v[0],y[0],c,p,t,e,r)&&r.equals(v[1],y[1],v[0],y[0],t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}var KK=js;function GK(t,e,r){var n=CR(t),i=n.length;if(CR(e).length!==i)return!1;for(;i-- >0;)if(!kL(t,e,r,n[i]))return!1;return!0}function Hc(t,e,r){var n=IR(t),i=n.length;if(IR(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=n[i],!kL(t,e,r,o)||(s=OR(t,o),l=OR(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function XK(t,e){return js(t.valueOf(),e.valueOf())}function YK(t,e){return t.source===e.source&&t.flags===e.flags}function RR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),s,l;(s=o.next())&&!s.done;){for(var c=e.values(),f=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function QK(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function JK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kL(t,e,r,n){return(n===UK||n===BK||n===FK)&&(t.$$typeof||e.$$typeof)?!0:VK(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ZK="[object Arguments]",eG="[object Boolean]",tG="[object Date]",rG="[object Error]",nG="[object Map]",iG="[object Number]",oG="[object Object]",aG="[object RegExp]",sG="[object Set]",uG="[object String]",lG="[object URL]",cG=Array.isArray,NR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jR=Object.assign,fG=Object.prototype.toString.call.bind(Object.prototype.toString);function hG(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,d=t.areSetsEqual,p=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(w,x,_){if(w===x)return!0;if(w==null||x==null)return!1;var T=typeof w;if(T!==typeof x)return!1;if(T!=="object")return T==="number"?s(w,x,_):T==="function"?i(w,x,_):!1;var A=w.constructor;if(A!==x.constructor)return!1;if(A===Object)return l(w,x,_);if(cG(w))return e(w,x,_);if(NR!=null&&NR(w))return p(w,x,_);if(A===Date)return r(w,x,_);if(A===RegExp)return f(w,x,_);if(A===Map)return o(w,x,_);if(A===Set)return d(w,x,_);var O=fG(w);return O===tG?r(w,x,_):O===aG?f(w,x,_):O===nG?o(w,x,_):O===sG?d(w,x,_):O===oG?typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,_):O===lG?v(w,x,_):O===rG?n(w,x,_):O===ZK?l(w,x,_):O===eG||O===iG||O===uG?c(w,x,_):!1}}function dG(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hc:qK,areDatesEqual:zK,areErrorsEqual:WK,areFunctionsEqual:HK,areMapsEqual:n?PR(kR,Hc):kR,areNumbersEqual:KK,areObjectsEqual:n?Hc:GK,arePrimitiveWrappersEqual:XK,areRegExpsEqual:YK,areSetsEqual:n?PR(RR,Hc):RR,areTypedArraysEqual:n?Hc:QK,areUrlsEqual:JK};if(r&&(i=jR({},i,r(i))),e){var o=ip(i.areArraysEqual),s=ip(i.areMapsEqual),l=ip(i.areObjectsEqual),c=ip(i.areSetsEqual);i=jR({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function pG(t){return function(e,r,n,i,o,s,l){return t(e,r,l)}}function mG(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(c,f){var d=n(),p=d.cache,v=p===void 0?e?new WeakMap:void 0:p,y=d.meta;return r(c,f,{cache:v,equals:i,meta:y,strict:o})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return r(c,f,s)}}var gG=Sa();Sa({strict:!0});Sa({circular:!0});Sa({circular:!0,strict:!0});Sa({createInternalComparator:function(){return js}});Sa({strict:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js},strict:!0});function Sa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=dG(t),c=hG(l),f=n?n(c):pG(c);return mG({circular:r,comparator:c,createState:i,equals:f,strict:s})}function vG(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function MR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):vG(i)};requestAnimationFrame(n)}function D1(t){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D1(t)}function yG(t){return xG(t)||wG(t)||bG(t)||_G()}function _G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(t,e){if(t){if(typeof t=="string")return DR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DR(t,e)}}function DR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xG(t){if(Array.isArray(t))return t}function EG(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=yG(s),c=l[0],f=l.slice(1);if(typeof c=="number"){MR(i.bind(null,f),c);return}i(c),MR(i.bind(null,f));return}D1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){RL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RL(t,e,r){return e=SG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SG(t){var e=TG(t,"string");return Ff(e)==="symbol"?e:String(e)}function TG(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AG=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},PG=function(e){return e},IG=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uf=function(e,r){return Object.keys(r).reduce(function(n,i){return $R($R({},n),{},RL({},i,e(i,r[i])))},{})},VR=function(e,r,n){return e.map(function(i){return"".concat(IG(i)," ").concat(r,"ms ").concat(n)}).join(",")};function OG(t,e){return RG(t)||kG(t,e)||NL(t,e)||CG()}function CG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function RG(t){if(Array.isArray(t))return t}function NG(t){return DG(t)||MG(t)||NL(t)||jG()}function jG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(t,e){if(t){if(typeof t=="string")return L1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,e)}}function MG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DG(t){if(Array.isArray(t))return L1(t)}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var om=1e-4,jL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},ML=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},FR=function(e,r){return function(n){var i=jL(e,r);return ML(i,n)}},LG=function(e,r){return function(n){var i=jL(e,r),o=[].concat(NG(i.map(function(s,l){return s*l}).slice(1)),[0]);return ML(o,n)}},BR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=OG(f,4);i=d[0],o=d[1],s=d[2],l=d[3]}}}var p=FR(i,s),v=FR(o,l),y=LG(i,s),w=function(T){return T>1?1:T<0?0:T},x=function(T){for(var A=T>1?1:T,O=A,M=0;M<8;++M){var C=p(O)-A,N=y(O);if(Math.abs(C-A)<om||N<om)return v(O);O=w(O-C/N)}return v(O)};return x.isStepper=!1,x},$G=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,p,v){var y=-(d-p)*n,w=v*o,x=v+(y-w)*l/1e3,_=v*l/1e3+d;return Math.abs(_-p)<om&&Math.abs(x)<om?[p,0]:[_,x]};return c.isStepper=!0,c.dt=l,c},VG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BR(i);case"spring":return $G();default:if(i.split("(")[0]==="cubic-bezier")return BR(i)}return typeof i=="function"?i:null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function UR(t){return UG(t)||BG(t)||DL(t)||FG()}function FG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UG(t){if(Array.isArray(t))return V1(t)}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){$1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $1(t,e,r){return e=qG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qG(t){var e=zG(t,"string");return Bf(e)==="symbol"?e:String(e)}function zG(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WG(t,e){return GG(t)||KG(t,e)||DL(t,e)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DL(t,e){if(t){if(typeof t=="string")return V1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(t,e)}}function V1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function GG(t){if(Array.isArray(t))return t}var am=function(e,r,n){return e+(r-e)*n},F1=function(e){var r=e.from,n=e.to;return r!==n},XG=function t(e,r,n){var i=uf(function(o,s){if(F1(s)){var l=e(s.from,s.to,s.velocity),c=WG(l,2),f=c[0],d=c[1];return br(br({},s),{},{from:f,velocity:d})}return s},r);return n<1?uf(function(o,s){return F1(s)?br(br({},s),{},{velocity:am(s.velocity,i[o].velocity,n),from:am(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const YG=function(t,e,r,n,i){var o=AG(t,e),s=o.reduce(function(_,T){return br(br({},_),{},$1({},T,[t[T],e[T]]))},{}),l=o.reduce(function(_,T){return br(br({},_),{},$1({},T,{from:t[T],velocity:0,to:e[T]}))},{}),c=-1,f,d,p=function(){return null},v=function(){return uf(function(T,A){return A.from},l)},y=function(){return!Object.values(l).filter(F1).length},w=function(T){f||(f=T);var A=T-f,O=A/r.dt;l=XG(r,l,O),i(br(br(br({},t),e),v())),f=T,y()||(c=requestAnimationFrame(p))},x=function(T){d||(d=T);var A=(T-d)/n,O=uf(function(C,N){return am.apply(void 0,UR(N).concat([r(A)]))},s);if(i(br(br(br({},t),e),O)),A<1)c=requestAnimationFrame(p);else{var M=uf(function(C,N){return am.apply(void 0,UR(N).concat([r(1)]))},s);i(br(br(br({},t),e),M))}};return p=r.isStepper?w:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}var QG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JG(t,e){if(t==null)return{};var r=ZG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZG(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sw(t){return nX(t)||rX(t)||tX(t)||eX()}function eX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tX(t,e){if(t){if(typeof t=="string")return B1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B1(t,e)}}function rX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nX(t){if(Array.isArray(t))return B1(t)}function B1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jc(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function aX(t,e,r){return e&&oX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LL(t){var e=sX(t,"string");return il(e)==="symbol"?e:String(e)}function sX(t,e){if(il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U1(t,e)}function lX(t){var e=cX();return function(){var n=sm(t),i;if(e){var o=sm(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return q1(this,i)}}function q1(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1(t)}function z1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}var ki=function(t){uX(r,t);var e=lX(r);function r(n,i){var o;iX(this,r),o=e.call(this,n,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,d=s.to,p=s.steps,v=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(z1(o)),o.changeStyle=o.changeStyle.bind(z1(o)),!l||y<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:d}),q1(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},q1(o);o.state={style:c?Jc({},c,f):f}}else o.state={style:{}};return o}return aX(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,d=o.to,p=o.from,v=this.state.style;if(l){if(!s){var y={style:c?Jc({},c,d):d};this.state&&v&&(c&&v[c]!==d||!c&&v!==d)&&this.setState(y);return}if(!(gG(i.to,d)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?p:i.to;if(this.state&&v){var _={style:c?Jc({},c,x):x};(c&&v[c]!==x||!c&&v!==x)&&this.setState(_)}this.runAnimation(ei(ei({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,y=YG(s,l,VG(f),c,this.changeStyle),w=function(){o.stopJSAnimation=y()};this.manager.start([v,d,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],d=f.style,p=f.duration,v=p===void 0?0:p,y=function(x,_,T){if(T===0)return x;var A=_.duration,O=_.easing,M=O===void 0?"ease":O,C=_.style,N=_.properties,P=_.onAnimationEnd,I=T>0?s[T-1]:_,k=N||Object.keys(C);if(typeof M=="function"||M==="spring")return[].concat(sw(x),[o.runJSAnimation.bind(o,{from:I.style,to:C,duration:A,easing:M}),A]);var V=VR(k,A,M),D=ei(ei(ei({},I.style),C),{},{transition:V});return[].concat(sw(x),[D,A,P]).filter(PG)};return this.manager.start([c].concat(sw(s.reduce(y,[d,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=EG());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,y=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var x=l?Jc({},l,c):c,_=VR(Object.keys(x),s,f);w.start([d,o,ei(ei({},x),{},{transition:_}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=JG(i,QG),f=U.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||f===0||s<=0)return o;var p=function(y){var w=y.props,x=w.style,_=x===void 0?{}:x,T=w.className,A=U.cloneElement(y,ei(ei({},c),{},{style:ei(ei({},_),d),className:T}));return A};return f===1?p(U.Children.only(o)):W.createElement("div",null,U.Children.map(o,function(v){return p(v)}))}}]),r}(U.PureComponent);ki.displayName="Animate";ki.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ki.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},um.apply(this,arguments)}function fX(t,e){return mX(t)||pX(t,e)||dX(t,e)||hX()}function hX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return WR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(t,e)}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function mX(t){if(Array.isArray(t))return t}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){gX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gX(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=yX(t,"string");return Uf(e)=="symbol"?e:e+""}function yX(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GR=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=o[v]>s?s:o[v];d="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),d+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*p[1])),d+="L ".concat(e+n,",").concat(r+i-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),d+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*p[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var w=Math.min(s,o);d="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*w," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},_X=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),d=Math.max(o,o+l),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=d&&i>=p&&i<=v}return!1},bX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FE=function(e){var r=KR(KR({},bX),e),n=U.useRef(),i=U.useState(-1),o=fX(i,2),s=o[0],l=o[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var c=r.x,f=r.y,d=r.width,p=r.height,v=r.radius,y=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,T=r.isAnimationActive,A=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var O=Qe("recharts-rectangle",y);return A?W.createElement(ki,{canBegin:s>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:x,animationEasing:w,isActive:A},function(M){var C=M.width,N=M.height,P=M.x,I=M.y;return W.createElement(ki,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:T,easing:w},W.createElement("path",um({},De(r,!0),{className:O,d:GR(P,I,C,N,v),ref:n})))}):W.createElement("path",um({},De(r,!0),{className:O,d:GR(c,f,d,p,v)}))},wX=["points","className","baseLinePoints","connectNulls"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function xX(t,e){if(t==null)return{};var r=EX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XR(t){return PX(t)||AX(t)||TX(t)||SX()}function SX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(t,e){if(t){if(typeof t=="string")return W1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(t,e)}}function AX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PX(t){if(Array.isArray(t))return W1(t)}function W1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var YR=function(e){return e&&e.x===+e.x&&e.y===+e.y},IX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){YR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YR(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lf=function(e,r){var n=IX(e);r&&(n=[n.reduce(function(o,s){return[].concat(XR(o),XR(s))},[])]);var i=n.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},OX=function(e,r,n){var i=lf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lf(r.reverse(),n).slice(1))},CX=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,s=xX(e,wX);if(!r||!r.length)return null;var l=Qe("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=OX(r,i,o);return W.createElement("g",{className:l},W.createElement("path",Mu({},De(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?W.createElement("path",Mu({},De(s,!0),{fill:"none",d:lf(r,o)})):null,c?W.createElement("path",Mu({},De(s,!0),{fill:"none",d:lf(i,o)})):null)}var d=lf(r,o);return W.createElement("path",Mu({},De(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}var Eg=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=Qe("recharts-dot",o);return r===+r&&n===+n&&i===+i?W.createElement("circle",H1({},De(e,!1),Rp(e),{className:s,cx:r,cy:n,r:i})):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var kX=["x","y","top","left","width","height","className"];function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K1.apply(this,arguments)}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){NX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NX(t,e,r){return e=jX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jX(t){var e=MX(t,"string");return qf(e)=="symbol"?e:e+""}function MX(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DX(t,e){if(t==null)return{};var r=LX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $X=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},VX=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,v=e.height,y=v===void 0?0:v,w=e.className,x=DX(e,kX),_=RX({x:n,y:o,top:l,left:f,width:p,height:y},x);return!ye(n)||!ye(o)||!ye(p)||!ye(y)||!ye(l)||!ye(f)?null:W.createElement("path",K1({},De(_,!0),{className:Qe("recharts-cross",w),d:$X(n,o,p,y,l,f)}))},uw,JR;function FX(){if(JR)return uw;JR=1;var t=yg(),e=JD(),r=Di();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return uw=n,uw}var BX=FX();const UX=pt(BX);var lw,ZR;function qX(){if(ZR)return lw;ZR=1;var t=yg(),e=Di(),r=ZD();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return lw=n,lw}var zX=qX();const WX=pt(zX);var HX=["cx","cy","angle","ticks","axisLine"],KX=["ticks","tick","angle","tickFormatter","stroke"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){Sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t2(t,e){if(t==null)return{};var r=GX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function YX(t,e,r){return e&&r2(t.prototype,e),r&&r2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QX(t,e,r){return e=lm(e),JX(t,$L()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function JX(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(t)}function ZX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G1(t,e)}function Sg(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=tY(t,"string");return ol(e)=="symbol"?e:e+""}function tY(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tg=function(t){function e(){return XX(this,e),QX(this,e,arguments)}return eY(e,t),YX(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return St(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=UX(l,function(d){return d.coordinate||0}),f=WX(l,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,f=t2(n,HX),d=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),p=St(i,o,d[0],s),v=St(i,o,d[1],s),y=ts(ts(ts({},De(f,!1)),{},{fill:"none"},De(c,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return W.createElement("line",cf({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,d=t2(i,KX),p=this.getTickTextAnchor(),v=De(d,!1),y=De(s,!1),w=o.map(function(x,_){var T=n.getTickValueCoord(x),A=ts(ts(ts(ts({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(T.x,", ").concat(T.y,")")},v),{},{stroke:"none",fill:f},y),{},{index:_},T),{},{payload:x});return W.createElement(ot,cf({className:Qe("recharts-polar-radius-axis-tick",PL(s)),key:"tick-".concat(x.coordinate)},_s(n.props,x,_)),e.renderTickItem(s,A,c?c(x.value,_):x.value))});return W.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(ot,{className:Qe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(U.PureComponent);Sg(Tg,"displayName","PolarRadiusAxis");Sg(Tg,"axisType","radiusAxis");Sg(Tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(this,arguments)}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){Ag(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BL(n.key),n)}}function nY(t,e,r){return e&&i2(t.prototype,e),r&&i2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iY(t,e,r){return e=cm(e),oY(t,FL()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function oY(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(t)}function aY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function sY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X1(t,e)}function Ag(t,e,r){return e=BL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t){var e=uY(t,"string");return al(e)=="symbol"?e:e+""}function uY(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lY=Math.PI/180,cY=1e-5,Pg=function(t){function e(){return rY(this,e),iY(this,e,arguments)}return sY(e,t),nY(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,s=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,d=f||8,p=St(o,s,l,n.coordinate),v=St(o,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*lY),s;return o>cY?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,f=rs(rs({},De(this.props,!1)),{},{fill:"none"},De(l,!1));if(c==="circle")return W.createElement(Eg,as({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:s}));var d=this.props.ticks,p=d.map(function(v){return St(i,o,s,v.coordinate)});return W.createElement(CX,as({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,d=De(this.props,!1),p=De(s,!1),v=rs(rs({},d),{},{fill:"none"},De(l,!1)),y=o.map(function(w,x){var _=n.getTickLineCoord(w),T=n.getTickTextAnchor(w),A=rs(rs(rs({textAnchor:T},d),{},{stroke:"none",fill:f},p),{},{index:x,payload:w,x:_.x2,y:_.y2});return W.createElement(ot,as({className:Qe("recharts-polar-angle-axis-tick",PL(s)),key:"tick-".concat(w.coordinate)},_s(n.props,w,x)),l&&W.createElement("line",as({className:"recharts-polar-angle-axis-tick-line"},v,_)),s&&e.renderTickItem(s,A,c?c(w.value,x):w.value))});return W.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!i||!i.length?null:W.createElement(ot,{className:Qe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,as({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(U.PureComponent);Ag(Pg,"displayName","PolarAngleAxis");Ag(Pg,"axisType","angleAxis");Ag(Pg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cw,o2;function fY(){if(o2)return cw;o2=1;var t=QM(),e=t(Object.getPrototypeOf,Object);return cw=e,cw}var fw,a2;function hY(){if(a2)return fw;a2=1;var t=wo(),e=fY(),r=xo(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(d){if(!r(d)||t(d)!=n)return!1;var p=e(d);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return fw=f,fw}var dY=hY();const pY=pt(dY);var hw,s2;function mY(){if(s2)return hw;s2=1;var t=wo(),e=xo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return hw=n,hw}var gY=mY();const vY=pt(gY);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fm.apply(this,arguments)}function yY(t,e){return xY(t)||wY(t,e)||bY(t,e)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(t,e){if(t){if(typeof t=="string")return u2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u2(t,e)}}function u2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function xY(t){if(Array.isArray(t))return t}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){EY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EY(t,e,r){return e=SY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SY(t){var e=TY(t,"string");return zf(e)=="symbol"?e:e+""}function TY(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f2=function(e,r,n,i,o){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+o),l+="L ".concat(e+n-s/2-i,",").concat(r+o),l+="L ".concat(e,",").concat(r," Z"),l},AY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PY=function(e){var r=c2(c2({},AY),e),n=U.useRef(),i=U.useState(-1),o=yY(i,2),s=o[0],l=o[1];U.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,f=r.y,d=r.upperWidth,p=r.lowerWidth,v=r.height,y=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,T=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||v!==+v||d===0&&p===0||v===0)return null;var A=Qe("recharts-trapezoid",y);return T?W.createElement(ki,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:v,x:c,y:f},duration:x,animationEasing:w,isActive:T},function(O){var M=O.upperWidth,C=O.lowerWidth,N=O.height,P=O.x,I=O.y;return W.createElement(ki,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:w},W.createElement("path",fm({},De(r,!0),{className:A,d:f2(P,I,M,C,N),ref:n})))}):W.createElement("g",null,W.createElement("path",fm({},De(r,!0),{className:A,d:f2(c,f,d,p,v)})))},IY=["option","shapeType","propTransformer","activeClassName","isActive"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function OY(t,e){if(t==null)return{};var r=CY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){kY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kY(t,e,r){return e=RY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RY(t){var e=NY(t,"string");return Wf(e)=="symbol"?e:e+""}function NY(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jY(t,e){return hm(hm({},e),t)}function MY(t,e){return t==="symbols"}function d2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(FE,r);case"trapezoid":return W.createElement(PY,r);case"sector":return W.createElement(CL,r);case"symbols":if(MY(e))return W.createElement(oE,r);break;default:return null}}function DY(t){return U.isValidElement(t)?t.props:t}function UL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?jY:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=OY(t,IY),f;if(U.isValidElement(e))f=U.cloneElement(e,hm(hm({},c),DY(e)));else if(Ue(e))f=e(c);else if(pY(e)&&!vY(e)){var d=i(e,c);f=W.createElement(d2,{shapeType:r,elementProps:d})}else{var p=c;f=W.createElement(d2,{shapeType:r,elementProps:p})}return l?W.createElement(ot,{className:s},f):f}function Ig(t,e){return e!=null&&"trapezoids"in t.props}function Og(t,e){return e!=null&&"sectors"in t.props}function Hf(t,e){return e!=null&&"points"in t.props}function LY(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function $Y(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function VY(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function FY(t,e){var r;return Ig(t,e)?r=LY:Og(t,e)?r=$Y:Hf(t,e)&&(r=VY),r}function BY(t,e){var r;return Ig(t,e)?r="trapezoids":Og(t,e)?r="sectors":Hf(t,e)&&(r="points"),r}function UY(t,e){if(Ig(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Og(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hf(t,e)?e.payload:{}}function qY(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=BY(r,e),o=UY(r,e),s=n.filter(function(c,f){var d=rl(o,c),p=r.props[i].filter(function(w){var x=FY(r,e);return x(w,e)}),v=r.props[i].indexOf(p[p.length-1]),y=f===v;return d&&y}),l=n.indexOf(s[s.length-1]);return l}var gp;function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Du.apply(this,arguments)}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){kn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function WY(t,e,r){return e&&m2(t.prototype,e),r&&m2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HY(t,e,r){return e=dm(e),KY(t,qL()?Reflect.construct(e,r||[],dm(t).constructor):e.apply(t,r))}function KY(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GY(t)}function GY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(t)}function XY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y1(t,e)}function kn(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zL(t){var e=YY(t,"string");return sl(e)=="symbol"?e:e+""}function YY(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var So=function(t){function e(r){var n;return zY(this,e),n=HY(this,e,[r]),kn(n,"pieRef",null),kn(n,"sectorRefs",[]),kn(n,"id",Nl("recharts-pie-")),kn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(i)&&i()}),kn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return XY(e,t),WY(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,c=o.dataKey,f=o.valueKey,d=De(this.props,!1),p=De(s,!1),v=De(l,!1),y=s&&s.offsetRadius||20,w=n.map(function(x,_){var T=(x.startAngle+x.endAngle)/2,A=St(x.cx,x.cy,x.outerRadius+y,T),O=xt(xt(xt(xt({},d),x),{},{stroke:"none"},p),{},{index:_,textAnchor:e.getTextAnchor(A.x,x.cx)},A),M=xt(xt(xt(xt({},d),x),{},{fill:"none",stroke:x.fill},v),{},{index:_,points:[St(x.cx,x.cy,x.outerRadius,T),A]}),C=c;return Xe(c)&&Xe(f)?C="value":Xe(c)&&(C=f),W.createElement(ot,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},l&&e.renderLabelLineItem(l,M,"line"),e.renderLabelItem(s,O,Jt(x,C)))});return W.createElement(ot,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(f,d){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(d),v=c&&i.hasActiveIndex()?c:null,y=p?s:v,w=xt(xt({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return W.createElement(ot,Du({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},_s(i.props,f,d),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(d)}),W.createElement(UL,Du({option:y,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state,v=p.prevSectors,y=p.prevIsAnimationActive;return W.createElement(ki,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,_=[],T=o&&o[0],A=T.startAngle;return o.forEach(function(O,M){var C=v&&v[M],N=M>0?gn(O,"paddingAngle",0):0;if(C){var P=Zr(C.endAngle-C.startAngle,O.endAngle-O.startAngle),I=xt(xt({},O),{},{startAngle:A+N,endAngle:A+P(x)+N});_.push(I),A=I.endAngle}else{var k=O.endAngle,V=O.startAngle,D=Zr(0,k-V),F=D(x),L=xt(xt({},O),{},{startAngle:A+N,endAngle:A+F+N});_.push(L),A=L.endAngle}}),W.createElement(ot,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,c=i.label,f=i.cx,d=i.cy,p=i.innerRadius,v=i.outerRadius,y=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!s||!s.length||!ye(f)||!ye(d)||!ye(p)||!ye(v))return null;var x=Qe("recharts-pie",l);return W.createElement(ot,{tabIndex:this.props.rootTabIndex,className:x,ref:function(T){n.pieRef=T}},this.renderSectors(),c&&this.renderLabels(s),dr.renderCallByParent(this.props,null,!1),(!y||w)&&lo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);if(Ue(n))return n(i);var s=Qe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(qu,Du({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);var s=o;if(Ue(n)&&(s=n(i),W.isValidElement(s)))return s;var l=Qe("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return W.createElement(bs,Du({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(U.PureComponent);gp=So;kn(So,"displayName","Pie");kn(So,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ks.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});kn(So,"parseDeltaAngle",function(t,e){var r=Vr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});kn(So,"getRealPieData",function(t){var e=t.data,r=t.children,n=De(t,!1),i=jn(r,fg);return e&&e.length?e.map(function(o,s){return xt(xt(xt({payload:o},n),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return xt(xt({},n),o.props)}):[]});kn(So,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,s=AL(i,o),l=n+Fr(t.cx,i,i/2),c=r+Fr(t.cy,o,o/2),f=Fr(t.innerRadius,s,0),d=Fr(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:d,maxRadius:p}});kn(So,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?xt(xt({},e.type.defaultProps),e.props):e.props,i=gp.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,f=n.dataKey,d=n.nameKey,p=n.valueKey,v=n.tooltipType,y=Math.abs(n.minAngle),w=gp.parseCoordinateOfPie(n,r),x=gp.parseDeltaAngle(s,l),_=Math.abs(x),T=f;Xe(f)&&Xe(p)?(ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):Xe(f)&&(ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=p);var A=i.filter(function(I){return Jt(I,T,0)!==0}).length,O=(_>=360?A:A-1)*c,M=_-A*y-O,C=i.reduce(function(I,k){var V=Jt(k,T,0);return I+(ye(V)?V:0)},0),N;if(C>0){var P;N=i.map(function(I,k){var V=Jt(I,T,0),D=Jt(I,d,k),F=(ye(V)?V:0)/C,L;k?L=P.endAngle+Vr(x)*c*(V!==0?1:0):L=s;var H=L+Vr(x)*((V!==0?y:0)+F*M),Q=(L+H)/2,G=(w.innerRadius+w.outerRadius)/2,te=[{name:D,value:V,payload:I,dataKey:T,type:v}],J=St(w.cx,w.cy,G,Q);return P=xt(xt(xt({percent:F,cornerRadius:o,name:D,tooltipPayload:te,midAngle:Q,middleRadius:G,tooltipPosition:J},I),w),{},{value:Jt(I,T),startAngle:L,endAngle:H,payload:I,paddingAngle:Vr(x)*c}),P})}return xt(xt({},w),{},{sectors:N,data:i})});var dw,g2;function QY(){if(g2)return dw;g2=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var l=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=n,n+=o;return f}return dw=r,dw}var pw,v2;function WL(){if(v2)return pw;v2=1;var t=dD(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*r}return i===i?i:0}return pw=n,pw}var mw,y2;function JY(){if(y2)return mw;y2=1;var t=QY(),e=cg(),r=WL();function n(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),l=l===void 0?o<s?1:-1:r(l),t(o,s,l,i)}}return mw=n,mw}var gw,_2;function ZY(){if(_2)return gw;_2=1;var t=JY(),e=t();return gw=e,gw}var eQ=ZY();const pm=pt(eQ);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){HL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HL(t,e,r){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQ(t){var e=rQ(t,"string");return Kf(e)=="symbol"?e:e+""}function rQ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nQ=["Webkit","Moz","O","ms"],iQ=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=nQ.reduce(function(o,s){return w2(w2({},o),{},HL({},s+n,r))},{});return i[e]=r,i};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function x2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(r),!0).forEach(function(n){hn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function aQ(t,e,r){return e&&E2(t.prototype,e),r&&E2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sQ(t,e,r){return e=gm(e),uQ(t,KL()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function uQ(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(t)}function lQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function cQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q1(t,e)}function hn(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=fQ(t,"string");return ul(e)=="symbol"?e:e+""}function fQ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hQ=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=af().domain(pm(0,c)).range([o,o+s-l]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:d}},S2=function(e){return e.changedTouches&&!!e.changedTouches.length},ll=function(t){function e(r){var n;return oQ(this,e),n=sQ(this,e,[r]),hn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),hn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hn(n,"handleSlideDragStart",function(i){var o=S2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cQ(e,t),aQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,d=f.length-1,p=Math.min(i,o),v=Math.max(i,o),y=e.getIndexInRange(s,p),w=e.getIndexInRange(s,v);return{startIndex:y-y%c,endIndex:w===d?d:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Jt(o[n],l,n);return Ue(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,v=c.startIndex,y=c.endIndex,w=c.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+d-p-l,f+d-p-s):x<0&&(x=Math.max(x,f-s,f-l));var _=this.getIndex({startX:s+x,endX:l+x});(_.startIndex!==v||_.endIndex!==y)&&w&&w(_),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=S2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],d=this.props,p=d.x,v=d.width,y=d.travellerWidth,w=d.onChange,x=d.gap,_=d.data,T={startX:this.state.startX,endX:this.state.endX},A=n.pageX-o;A>0?A=Math.min(A,p+v-y-f):A<0&&(A=Math.max(A,p-f)),T[s]=f+A;var O=this.getIndex(T),M=O.startIndex,C=O.endIndex,N=function(){var I=_.length-1;return s==="startX"&&(l>c?M%x===0:C%x===0)||l<c&&C===I||s==="endX"&&(l>c?C%x===0:M%x===0)||l>c&&C===I};this.setState(hn(hn({},s,f+A),"brushMoveStartX",n.pageX),function(){w&&N()&&w(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,d=this.state[i],p=l.indexOf(d);if(p!==-1){var v=p+n;if(!(v===-1||v>=l.length)){var y=l[v];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(hn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.fill,f=n.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.data,f=n.children,d=n.padding,p=U.Children.only(f);return p?W.cloneElement(p,{x:i,y:o,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,l=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,v=c.traveller,y=c.ariaLabel,w=c.data,x=c.startIndex,_=c.endIndex,T=Math.max(n,this.props.x),A=vw(vw({},De(this.props,!1)),{},{x:T,y:f,width:d,height:p}),O=y||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=w[_])===null||s===void 0?void 0:s.name);return W.createElement(ot,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,d=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,f=n.stroke,d=this.state,p=d.startX,v=d.endX,y=5,w={pointerEvents:"none",fill:f};return W.createElement(ot,{className:"recharts-brush-texts"},W.createElement(bs,mm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-y,y:s+l/2},w),this.getTextOfTick(i)),W.createElement(bs,mm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+y,y:s+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,l=n.x,c=n.y,f=n.width,d=n.height,p=n.alwaysShowText,v=this.state,y=v.startX,w=v.endX,x=v.isTextActive,_=v.isSlideMoving,T=v.isTravellerMoving,A=v.isTravellerFocused;if(!i||!i.length||!ye(l)||!ye(c)||!ye(f)||!ye(d)||f<=0||d<=0)return null;var O=Qe("recharts-brush",o),M=W.Children.count(s)===1,C=iQ("userSelect","none");return W.createElement(ot,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(x||_||T||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,l=n.height,c=n.stroke,f=Math.floor(o+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return W.isValidElement(n)?o=W.cloneElement(n,i):Ue(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,l=n.x,c=n.travellerWidth,f=n.updateId,d=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return vw({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?hQ({data:o,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(U.PureComponent);hn(ll,"displayName","Brush");hn(ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yw,T2;function dQ(){if(T2)return yw;T2=1;var t=hE();function e(r,n){var i;return t(r,function(o,s,l){return i=n(o,s,l),!i}),!!i}return yw=e,yw}var _w,A2;function pQ(){if(A2)return _w;A2=1;var t=zM(),e=Di(),r=dQ(),n=rn(),i=cg();function o(s,l,c){var f=n(s)?t:r;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return _w=o,_w}var mQ=pQ();const gQ=pt(mQ);var Si=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},bw,P2;function vQ(){if(P2)return bw;P2=1;var t=uD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return bw=e,bw}var ww,I2;function yQ(){if(I2)return ww;I2=1;var t=vQ(),e=aD(),r=Di();function n(i,o){var s={};return o=r(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return ww=n,ww}var _Q=yQ();const bQ=pt(_Q);var xw,O2;function wQ(){if(O2)return xw;O2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return xw=t,xw}var Ew,C2;function xQ(){if(C2)return Ew;C2=1;var t=hE();function e(r,n){var i=!0;return t(r,function(o,s,l){return i=!!n(o,s,l),i}),i}return Ew=e,Ew}var Sw,k2;function EQ(){if(k2)return Sw;k2=1;var t=wQ(),e=xQ(),r=Di(),n=rn(),i=cg();function o(s,l,c){var f=n(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,r(l,3))}return Sw=o,Sw}var SQ=EQ();const XL=pt(SQ);var TQ=["x","y"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(this,arguments)}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){AQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AQ(t,e,r){return e=PQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PQ(t){var e=IQ(t,"string");return Gf(e)=="symbol"?e:e+""}function IQ(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OQ(t,e){if(t==null)return{};var r=CQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kQ(t,e){var r=t.x,n=t.y,i=OQ(t,TQ),o="".concat(r),s=parseInt(o,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Kc(Kc(Kc(Kc(Kc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function N2(t){return W.createElement(UL,J1({shapeType:"rectangle",propTransformer:kQ,activeClassName:"recharts-active-bar"},t))}var RQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||xs(),r)}},NQ=["value","background"],YL;function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function jQ(t,e){if(t==null)return{};var r=MQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(this,arguments)}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){oa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function LQ(t,e,r){return e&&M2(t.prototype,e),r&&M2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Q(t,e,r){return e=ym(e),VQ(t,QL()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function VQ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FQ(t)}function FQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function BQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z1(t,e)}function Z1(t,e){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z1(t,e)}function oa(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=UQ(t,"string");return cl(e)=="symbol"?e:e+""}function UQ(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=function(t){function e(){var r;DQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=$Q(this,e,[].concat(i)),oa(r,"state",{isAnimationFinished:!1}),oa(r,"id",Nl("recharts-bar-")),oa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return BQ(e,t),LQ(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,d=De(this.props,!1);return n&&n.map(function(p,v){var y=v===c,w=y?f:s,x=Wt(Wt(Wt({},d),p),{},{isActive:y,option:w,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(ot,vm({className:"recharts-bar-rectangle"},_s(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),W.createElement(N2,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,v=this.state.prevData;return W.createElement(ki,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,x=o.map(function(_,T){var A=v&&v[T];if(A){var O=Zr(A.x,_.x),M=Zr(A.y,_.y),C=Zr(A.width,_.width),N=Zr(A.height,_.height);return Wt(Wt({},_),{},{x:O(w),y:M(w),width:C(w),height:N(w)})}if(s==="horizontal"){var P=Zr(0,_.height),I=P(w);return Wt(Wt({},_),{},{y:_.y+_.height-I,height:I})}var k=Zr(0,_.width),V=k(w);return Wt(Wt({},_),{},{width:V})});return W.createElement(ot,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=De(this.props.background,!1);return o.map(function(f,d){f.value;var p=f.background,v=jQ(f,NQ);if(!p)return null;var y=Wt(Wt(Wt(Wt(Wt({},v),{},{fill:"#eee"},p),c),_s(n.props,f,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(N2,vm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=jn(d,xg);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,y=function(_,T){var A=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:A,errorVal:Jt(_,T)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(ot,w,p.map(function(x){return W.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,p=n.width,v=n.height,y=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,T=Qe("recharts-bar",s),A=l&&l.allowDataOverflow,O=c&&c.allowDataOverflow,M=A||O,C=Xe(x)?this.id:x;return W.createElement(ot,{className:T},A||O?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(C)},W.createElement("rect",{x:A?f:f-p/2,y:O?d:d-v/2,width:A?p:p*2,height:O?v:v*2}))):null,W.createElement(ot,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,C),(!y||_)&&lo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(U.PureComponent);YL=pa;oa(pa,"displayName","Bar");oa(pa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oa(pa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=gH(n,r);if(!y)return null;var w=e.layout,x=r.type.defaultProps,_=x!==void 0?Wt(Wt({},x),r.props):r.props,T=_.dataKey,A=_.children,O=_.minPointSize,M=w==="horizontal"?s:o,C=f?M.scale.domain():null,N=EH({numericAxis:M}),P=jn(A,fg),I=p.map(function(k,V){var D,F,L,H,Q,G;f?D=vH(f[d+V],C):(D=Jt(k,T),Array.isArray(D)||(D=[N,D]));var te=RQ(O,YL.defaultProps.minPointSize)(D[1],V);if(w==="horizontal"){var J,oe=[s.scale(D[0]),s.scale(D[1])],ne=oe[0],q=oe[1];F=sR({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:k,index:V}),L=(J=q??ne)!==null&&J!==void 0?J:void 0,H=y.size;var X=ne-q;if(Q=Number.isNaN(X)?0:X,G={x:F,y:s.y,width:H,height:s.height},Math.abs(te)>0&&Math.abs(Q)<Math.abs(te)){var ue=Vr(Q||te)*(Math.abs(te)-Math.abs(Q));L-=ue,Q+=ue}}else{var Ee=[o.scale(D[0]),o.scale(D[1])],Ae=Ee[0],fe=Ee[1];if(F=Ae,L=sR({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:k,index:V}),H=fe-Ae,Q=y.size,G={x:o.x,y:L,width:o.width,height:Q},Math.abs(te)>0&&Math.abs(H)<Math.abs(te)){var me=Vr(H||te)*(Math.abs(te)-Math.abs(H));H+=me}}return Wt(Wt(Wt({},k),{},{x:F,y:L,width:H,height:Q,value:f?D:D[1],payload:k,background:G},P&&P[V]&&P[V].props),{},{tooltipPayload:[SL(r,k)],tooltipPosition:{x:F+H/2,y:L+Q/2}})});return Wt({data:I,layout:w},v)});function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function qQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZL(n.key),n)}}function zQ(t,e,r){return e&&D2(t.prototype,e),r&&D2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){Cg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cg(t,e,r){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZL(t){var e=WQ(t,"string");return Xf(e)=="symbol"?e:e+""}function WQ(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e$=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!dn(f,pa);return d.reduce(function(y,w){var x=r[w],_=x.orientation,T=x.domain,A=x.padding,O=A===void 0?{}:A,M=x.mirror,C=x.reversed,N="".concat(_).concat(M?"Mirror":""),P,I,k,V,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var F=T[1]-T[0],L=1/0,H=x.categoricalDomain.sort(iB);if(H.forEach(function(Ee,Ae){Ae>0&&(L=Math.min((Ee||0)-(H[Ae-1]||0),L))}),Number.isFinite(L)){var Q=L/F,G=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(P=Q*G/2),x.padding==="no-gap"){var te=Fr(e.barCategoryGap,Q*G),J=Q*G/2;P=J-te-(J-te)/G*te}}}i==="xAxis"?I=[n.left+(O.left||0)+(P||0),n.left+n.width-(O.right||0)-(P||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(P||0),n.top+n.height-(O.bottom||0)-(P||0)]:I=x.range,C&&(I=[I[1],I[0]]);var oe=bL(x,o,v),ne=oe.scale,q=oe.realScaleType;ne.domain(T).range(I),wL(ne);var X=xL(ne,ti(ti({},x),{},{realScaleType:q}));i==="xAxis"?(D=_==="top"&&!M||_==="bottom"&&M,k=n.left,V=p[N]-D*x.height):i==="yAxis"&&(D=_==="left"&&!M||_==="right"&&M,k=p[N]-D*x.width,V=n.top);var ue=ti(ti(ti({},x),X),{},{realScaleType:q,x:k,y:V,scale:ne,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return ue.bandSize=rm(ue,X),!x.hide&&i==="xAxis"?p[N]+=(D?-1:1)*ue.height:x.hide||(p[N]+=(D?-1:1)*ue.width),ti(ti({},y),{},Cg({},w,ue))},{})},t$=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},HQ=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return t$({x:r,y:n},{x:i,y:o})},r$=function(){function t(e){qQ(this,t),this.scale=e}return zQ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Cg(r$,"EPS",1e-4);var BE=function(e){var r=Object.keys(e).reduce(function(n,i){return ti(ti({},n),{},Cg({},i,r$.create(e[i])))},{});return ti(ti({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return bQ(i,function(c,f){return r[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return XL(i,function(o,s){return r[s].isInRange(o)})}})};function KQ(t){return(t%180+180)%180}var GQ=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=KQ(i),s=o*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Tw,$2;function XQ(){if($2)return Tw;$2=1;var t=Di(),e=mh(),r=ug();function n(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=r(o),s=function(p){return f(c[p],p,c)}}var d=i(o,s,l);return d>-1?c[f?o[d]:d]:void 0}}return Tw=n,Tw}var Aw,V2;function YQ(){if(V2)return Aw;V2=1;var t=WL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Aw=e,Aw}var Pw,F2;function QQ(){if(F2)return Pw;F2=1;var t=tD(),e=Di(),r=YQ(),n=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:r(l);return f<0&&(f=n(c+f,0)),t(o,e(s,3),f)}return Pw=i,Pw}var Iw,B2;function JQ(){if(B2)return Iw;B2=1;var t=XQ(),e=QQ(),r=t(e);return Iw=r,Iw}var ZQ=JQ();const eJ=pt(ZQ);var tJ=vM();const rJ=pt(tJ);var nJ=rJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UE=U.createContext(void 0),qE=U.createContext(void 0),n$=U.createContext(void 0),i$=U.createContext({}),o$=U.createContext(void 0),a$=U.createContext(0),s$=U.createContext(0),U2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,d=nJ(o);return W.createElement(UE.Provider,{value:n},W.createElement(qE.Provider,{value:i},W.createElement(i$.Provider,{value:o},W.createElement(n$.Provider,{value:d},W.createElement(o$.Provider,{value:s},W.createElement(a$.Provider,{value:f},W.createElement(s$.Provider,{value:c},l)))))))},iJ=function(){return U.useContext(o$)},u$=function(e){var r=U.useContext(UE);r==null&&xs();var n=r[e];return n==null&&xs(),n},oJ=function(){var e=U.useContext(UE);return Zo(e)},aJ=function(){var e=U.useContext(qE),r=eJ(e,function(n){return XL(n.domain,Number.isFinite)});return r||Zo(e)},l$=function(e){var r=U.useContext(qE);r==null&&xs();var n=r[e];return n==null&&xs(),n},sJ=function(){var e=U.useContext(n$);return e},uJ=function(){return U.useContext(i$)},zE=function(){return U.useContext(s$)},WE=function(){return U.useContext(a$)};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function lJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function fJ(t,e,r){return e&&cJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hJ(t,e,r){return e=_m(e),dJ(t,c$()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function dJ(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJ(t)}function pJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function mJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(r),!0).forEach(function(n){HE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HE(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=gJ(t,"string");return fl(e)=="symbol"?e:e+""}function gJ(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vJ(t,e){return wJ(t)||bJ(t,e)||_J(t,e)||yJ()}function yJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return W2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W2(t,e)}}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function wJ(t){if(Array.isArray(t))return t}function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}var xJ=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ue(e)?n=e(r):n=W.createElement("line",tx({},r,{className:"recharts-reference-line-line"})),n},EJ=function(e,r,n,i,o,s,l,c,f){var d=o.x,p=o.y,v=o.width,y=o.height;if(n){var w=f.y,x=e.y.apply(w,{position:s});if(Si(f,"discard")&&!e.y.isInRange(x))return null;var _=[{x:d+v,y:x},{x:d,y:x}];return c==="left"?_.reverse():_}if(r){var T=f.x,A=e.x.apply(T,{position:s});if(Si(f,"discard")&&!e.x.isInRange(A))return null;var O=[{x:A,y:p+y},{x:A,y:p}];return l==="top"?O.reverse():O}if(i){var M=f.segment,C=M.map(function(N){return e.apply(N,{position:s})});return Si(f,"discard")&&gQ(C,function(N){return!e.isInRange(N)})?null:C}return null};function SJ(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=iJ(),d=u$(i),p=l$(o),v=sJ();if(!f||!v)return null;ai(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=BE({x:d.scale,y:p.scale}),w=er(e),x=er(r),_=n&&n.length===2,T=EJ(y,w,x,_,v,t.position,d.orientation,p.orientation,t);if(!T)return null;var A=vJ(T,2),O=A[0],M=O.x,C=O.y,N=A[1],P=N.x,I=N.y,k=Si(t,"hidden")?"url(#".concat(f,")"):void 0,V=z2(z2({clipPath:k},De(t,!0)),{},{x1:M,y1:C,x2:P,y2:I});return W.createElement(ot,{className:Qe("recharts-reference-line",l)},xJ(s,V),dr.renderCallByParent(t,HQ({x1:M,y1:C,x2:P,y2:I})))}var KE=function(t){function e(){return lJ(this,e),hJ(this,e,arguments)}return mJ(e,t),fJ(e,[{key:"render",value:function(){return W.createElement(SJ,this.props)}}])}(W.Component);HE(KE,"displayName","ReferenceLine");HE(KE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rx.apply(this,arguments)}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d$(n.key),n)}}function PJ(t,e,r){return e&&AJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IJ(t,e,r){return e=bm(e),OJ(t,h$()?Reflect.construct(e,r||[],bm(t).constructor):e.apply(t,r))}function OJ(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(t)}function CJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(t)}function kJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nx(t,e)}function kg(t,e,r){return e=d$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d$(t){var e=RJ(t,"string");return hl(e)=="symbol"?e:e+""}function RJ(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NJ=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=BE({x:i.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Si(e,"discard")&&!s.isInRange(l)?null:l},Rg=function(t){function e(){return TJ(this,e),IJ(this,e,arguments)}return kJ(e,t),PJ(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,f=er(i),d=er(o);if(ai(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=NJ(this.props);if(!p)return null;var v=p.x,y=p.y,w=this.props,x=w.shape,_=w.className,T=Si(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=K2(K2({clipPath:T},De(this.props,!0)),{},{cx:v,cy:y});return W.createElement(ot,{className:Qe("recharts-reference-dot",_)},e.renderDot(x,A),dr.renderCallByParent(this.props,{x:v-s,y:y-s,width:2*s,height:2*s}))}}])}(W.Component);kg(Rg,"displayName","ReferenceDot");kg(Rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kg(Rg,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ue(t)?r=t(e):r=W.createElement(Eg,rx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){Ng(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function DJ(t,e,r){return e&&MJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LJ(t,e,r){return e=wm(e),$J(t,p$()?Reflect.construct(e,r||[],wm(t).constructor):e.apply(t,r))}function $J(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJ(t)}function VJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(t)}function FJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function Ng(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t){var e=BJ(t,"string");return dl(e)=="symbol"?e:e+""}function BJ(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UJ=function(e,r,n,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,d=o.xAxis,p=o.yAxis;if(!d||!p)return null;var v=BE({x:d.scale,y:p.scale}),y={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Si(o,"discard")&&(!v.isInRange(y)||!v.isInRange(w))?null:t$(y,w)},jg=function(t){function e(){return jJ(this,e),LJ(this,e,arguments)}return FJ(e,t),DJ(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,l=n.y2,c=n.className,f=n.alwaysShow,d=n.clipPathId;ai(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=er(i),v=er(o),y=er(s),w=er(l),x=this.props.shape;if(!p&&!v&&!y&&!w&&!x)return null;var _=UJ(p,v,y,w,this.props);if(!_&&!x)return null;var T=Si(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(ot,{className:Qe("recharts-reference-area",c)},e.renderRect(x,X2(X2({clipPath:T},De(this.props,!0)),_)),dr.renderCallByParent(this.props,_))}}])}(W.Component);Ng(jg,"displayName","ReferenceArea");Ng(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ng(jg,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ue(t)?r=t(e):r=W.createElement(FE,ix({},e,{className:"recharts-reference-area-rect"})),r});function g$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function qJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return GQ(n,r)}function zJ(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:n?i:o,end:n?i+s:o+l}:{start:n?i+s:o+l,end:n?i:o}}function xm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function WJ(t,e){return g$(t,e+1)}function HJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,l=e.end,c=0,f=1,d=s,p=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:g$(n,f)};var x=c,_,T=function(){return _===void 0&&(_=r(w,x)),_},A=w.coordinate,O=c===0||xm(t,A,T,d,l);O||(c=0,d=s,f+=1),O&&(d=A+t*(T()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){KJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KJ(t,e,r){return e=GJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GJ(t){var e=XJ(t,"string");return Yf(e)=="symbol"?e:e+""}function XJ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(v){var y=o[v],w,x=function(){return w===void 0&&(w=r(y,v)),w};if(v===s-1){var _=t*(y.coordinate+t*x()/2-c);o[v]=y=Or(Or({},y),{},{tickCoord:_>0?y.coordinate-_*t:y.coordinate})}else o[v]=y=Or(Or({},y),{},{tickCoord:y.coordinate});var T=xm(t,y.tickCoord,x,l,c);T&&(c=y.tickCoord-t*(x()/2+i),o[v]=Or(Or({},y),{},{isShow:!0}))},d=s-1;d>=0;d--)f(d);return o}function QJ(t,e,r,n,i,o){var s=(n||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var d=n[l-1],p=r(d,l-1),v=t*(d.coordinate+t*p/2-f);s[l-1]=d=Or(Or({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var y=xm(t,d.tickCoord,function(){return p},c,f);y&&(f=d.tickCoord-t*(p/2+i),s[l-1]=Or(Or({},d),{},{isShow:!0}))}for(var w=o?l-1:l,x=function(A){var O=s[A],M,C=function(){return M===void 0&&(M=r(O,A)),M};if(A===0){var N=t*(O.coordinate-t*C()/2-c);s[A]=O=Or(Or({},O),{},{tickCoord:N<0?O.coordinate-N*t:O.coordinate})}else s[A]=O=Or(Or({},O),{},{tickCoord:O.coordinate});var P=xm(t,O.tickCoord,C,c,f);P&&(c=O.tickCoord+t*(C()/2+i),s[A]=Or(Or({},O),{},{isShow:!0}))},_=0;_<w;_++)x(_);return s}function GE(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(ye(c)||ks.isSsr)return WJ(i,typeof c=="number"&&ye(c)?c:0);var v=[],y=l==="top"||l==="bottom"?"width":"height",w=d&&y==="width"?of(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(O,M){var C=Ue(f)?f(O.value,M):O.value;return y==="width"?qJ(of(C,{fontSize:e,letterSpacing:r}),w,p):of(C,{fontSize:e,letterSpacing:r})[y]},_=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,T=zJ(o,_,y);return c==="equidistantPreserveStart"?HJ(_,T,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=QJ(_,T,x,i,s,c==="preserveStartEnd"):v=YJ(_,T,x,i,s),v.filter(function(A){return A.isShow}))}var JJ=["viewBox"],ZJ=["viewBox"],eZ=["ticks"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){XE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ow(t,e){if(t==null)return{};var r=tZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y$(n.key),n)}}function nZ(t,e,r){return e&&J2(t.prototype,e),r&&J2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t,e,r){return e=Em(e),oZ(t,v$()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function oZ(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZ(t)}function aZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function sZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(t,e)}function XE(t,e,r){return e=y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=uZ(t,"string");return pl(e)=="symbol"?e:e+""}function uZ(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $l=function(t){function e(r){var n;return rZ(this,e),n=iZ(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return sZ(e,t),nZ(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=Ow(n,JJ),l=this.props,c=l.viewBox,f=Ow(l,ZJ);return!Fu(o,c)||!Fu(s,f)||!Fu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,v=i.tickMargin,y,w,x,_,T,A,O=p?-1:1,M=n.tickSize||d,C=ye(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,_=s+ +!p*c,x=_-O*M,A=x-O*v,T=C;break;case"left":x=_=n.coordinate,w=o+ +!p*l,y=w-O*M,T=y-O*v,A=C;break;case"right":x=_=n.coordinate,w=o+ +p*l,y=w+O*M,T=y+O*v,A=C;break;default:y=w=n.coordinate,_=s+ +p*c,x=_+O*M,A=x+O*v,T=C;break}return{line:{x1:y,y1:x,x2:w,y2:_},tick:{x:T,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.orientation,f=n.mirror,d=n.axisLine,p=$r($r($r({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=$r($r({},p),{},{x1:i,y1:o+v*l,x2:i+s,y2:o+v*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);p=$r($r({},p),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+l})}return W.createElement("line",Lu({},p,{className:Qe("recharts-cartesian-axis-line",gn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,d=l.tick,p=l.tickFormatter,v=l.unit,y=GE($r($r({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=De(this.props,!1),T=De(d,!1),A=$r($r({},_),{},{fill:"none"},De(c,!1)),O=y.map(function(M,C){var N=s.getTickLineCoord(M),P=N.line,I=N.tick,k=$r($r($r($r({textAnchor:w,verticalAnchor:x},_),{},{stroke:"none",fill:f},T),I),{},{index:C,payload:M,visibleTicksCount:y.length,tickFormatter:p});return W.createElement(ot,Lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},_s(s.props,M,C)),c&&W.createElement("line",Lu({},A,P,{className:Qe("recharts-cartesian-axis-tick-line",gn(c,"className"))})),d&&e.renderTickItem(d,k,"".concat(Ue(p)?p(M.value,C):M.value).concat(v||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,v=p.ticks,y=Ow(p,eZ),w=v;return Ue(c)&&(w=v&&v.length>0?c(this.props):c(y)),s<=0||l<=0||!w||!w.length?null:W.createElement(ot,{className:Qe("recharts-cartesian-axis",f),ref:function(_){n.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,Lu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(U.Component);XE($l,"displayName","CartesianAxis");XE($l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lZ=["x1","y1","x2","y2","key"],cZ=["offset"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){fZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fZ(t,e,r){return e=hZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hZ(t){var e=dZ(t,"string");return Es(e)=="symbol"?e:e+""}function dZ(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs.apply(this,arguments)}function eN(t,e){if(t==null)return{};var r=pZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mZ=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return W.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _$(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ue(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=eN(e,lZ),f=De(c,!1);f.offset;var d=eN(f,cZ);r=W.createElement("line",cs({},d,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function gZ(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kr(kr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return _$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function vZ(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kr(kr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return _$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function yZ(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?i+s-v:d[y+1]-v;if(x<=0)return null;var _=y%e.length;return W.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:x,width:o,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function _Z(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var d=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,y){return v-y});o!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?o+l-v:d[y+1]-v;if(x<=0)return null;var _=y%n.length;return W.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:x,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var bZ=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return _L(GE(kr(kr(kr({},$l.defaultProps),n),{},{ticks:no(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},wZ=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return _L(GE(kr(kr(kr({},$l.defaultProps),n),{},{ticks:no(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},Ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vp(t){var e,r,n,i,o,s,l=zE(),c=WE(),f=uJ(),d=kr(kr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ou.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ou.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ou.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ou.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ou.verticalFill,x:ye(t.x)?t.x:f.left,y:ye(t.y)?t.y:f.top,width:ye(t.width)?t.width:f.width,height:ye(t.height)?t.height:f.height}),p=d.x,v=d.y,y=d.width,w=d.height,x=d.syncWithTicks,_=d.horizontalValues,T=d.verticalValues,A=oJ(),O=aJ();if(!ye(y)||y<=0||!ye(w)||w<=0||!ye(p)||p!==+p||!ye(v)||v!==+v)return null;var M=d.verticalCoordinatesGenerator||bZ,C=d.horizontalCoordinatesGenerator||wZ,N=d.horizontalPoints,P=d.verticalPoints;if((!N||!N.length)&&Ue(C)){var I=_&&_.length,k=C({yAxis:O?kr(kr({},O),{},{ticks:I?_:O.ticks}):void 0,width:l,height:c,offset:f},I?!0:x);ai(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Es(k),"]")),Array.isArray(k)&&(N=k)}if((!P||!P.length)&&Ue(M)){var V=T&&T.length,D=M({xAxis:A?kr(kr({},A),{},{ticks:V?T:A.ticks}):void 0,width:l,height:c,offset:f},V?!0:x);ai(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Es(D),"]")),Array.isArray(D)&&(P=D)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(mZ,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(gZ,cs({},d,{offset:f,horizontalPoints:N,xAxis:A,yAxis:O})),W.createElement(vZ,cs({},d,{offset:f,verticalPoints:P,xAxis:A,yAxis:O})),W.createElement(yZ,cs({},d,{horizontalPoints:N})),W.createElement(_Z,cs({},d,{verticalPoints:P})))}vp.displayName="CartesianGrid";var xZ=["layout","type","stroke","connectNulls","isRange","ref"],EZ=["key"],b$;function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function w$(t,e){if(t==null)return{};var r=SZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function AZ(t,e,r){return e&&rN(t.prototype,e),r&&rN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PZ(t,e,r){return e=Sm(e),IZ(t,x$()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function IZ(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OZ(t)}function OZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function CZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(t,e)}function xi(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=kZ(t,"string");return ml(e)=="symbol"?e:e+""}function kZ(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ta=function(t){function e(){var r;TZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=PZ(this,e,[].concat(i)),xi(r,"state",{isAnimationFinished:!0}),xi(r,"id",Nl("recharts-area-")),xi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(s)&&s()}),xi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(s)&&s()}),r}return CZ(e,t),AZ(e,[{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,d=c.points,p=c.dataKey,v=De(this.props,!1),y=De(f,!0),w=d.map(function(_,T){var A=Qo(Qo(Qo({key:"dot-".concat(T),r:3},v),y),{},{index:T,cx:_.x,cy:_.y,dataKey:p,value:_.value,payload:_.payload,points:d});return e.renderDotItem(f,A)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return W.createElement(ot,fs({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,d=n*Math.abs(c-f),p=ia(s.map(function(v){return v.y||0}));return ye(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.y||0})),p)),ye(p)?W.createElement("rect",{x:c<f?c:c-d,y:0,width:d,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,d=n*Math.abs(c-f),p=ia(s.map(function(v){return v.x||0}));return ye(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.x||0})),p)),ye(p)?W.createElement("rect",{x:0,y:c<f?c:c-d,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,s){var l=this.props,c=l.layout,f=l.type,d=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var y=w$(l,xZ);return W.createElement(ot,{clipPath:o?"url(#clipPath-".concat(s,")"):null},W.createElement(qu,fs({},De(y,!0),{points:n,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(qu,fs({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:n})),d!=="none"&&v&&W.createElement(qu,fs({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,d=s.animationBegin,p=s.animationDuration,v=s.animationEasing,y=s.animationId,w=this.state,x=w.prevPoints,_=w.prevBaseLine;return W.createElement(ki,{begin:d,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var A=T.t;if(x){var O=x.length/l.length,M=l.map(function(I,k){var V=Math.floor(k*O);if(x[V]){var D=x[V],F=Zr(D.x,I.x),L=Zr(D.y,I.y);return Qo(Qo({},I),{},{x:F(A),y:L(A)})}return I}),C;if(ye(c)&&typeof c=="number"){var N=Zr(_,c);C=N(A)}else if(Xe(c)||Rl(c)){var P=Zr(_,0);C=P(A)}else C=c.map(function(I,k){var V=Math.floor(k*O);if(_[V]){var D=_[V],F=Zr(D.x,I.x),L=Zr(D.y,I.y);return Qo(Qo({},I),{},{x:F(A),y:L(A)})}return I});return o.renderAreaStatically(M,C,n,i)}return W.createElement(ot,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),W.createElement(ot,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,d=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return c&&s&&s.length&&(!d&&v>0||!rl(d,s)||!rl(p,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,d=i.left,p=i.xAxis,v=i.yAxis,y=i.width,w=i.height,x=i.isAnimationActive,_=i.id;if(o||!l||!l.length)return null;var T=this.state.isAnimationFinished,A=l.length===1,O=Qe("recharts-area",c),M=p&&p.allowDataOverflow,C=v&&v.allowDataOverflow,N=M||C,P=Xe(_)?this.id:_,I=(n=De(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=I.r,V=k===void 0?3:k,D=I.strokeWidth,F=D===void 0?2:D,L=dB(s)?s:{},H=L.clipDot,Q=H===void 0?!0:H,G=V*2+F;return W.createElement(ot,{className:O},M||C?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:M?d:d-y/2,y:C?f:f-w/2,width:M?y:y*2,height:C?w:w*2})),!Q&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:d-G/2,y:f-G/2,width:y+G,height:w+G}))):null,A?null:this.renderArea(N,P),(s||A)&&this.renderDots(N,Q,P),(!x||T)&&lo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(U.PureComponent);b$=Ta;xi(Ta,"displayName","Area");xi(Ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xi(Ta,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(ye(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,f=c.scale.domain();if(c.type==="number"){var d=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||d<0?d:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});xi(Ta,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=e.layout,w=f&&f.length,x=b$.getBaseValue(e,r,n,i),_=y==="horizontal",T=!1,A=p.map(function(M,C){var N;w?N=f[d+C]:(N=Jt(M,c),Array.isArray(N)?T=!0:N=[x,N]);var P=N[1]==null||w&&Jt(M,c)==null;return _?{x:aR({axis:n,ticks:o,bandSize:l,entry:M,index:C}),y:P?null:i.scale(N[1]),value:N,payload:M}:{x:P?null:n.scale(N[1]),y:aR({axis:i,ticks:s,bandSize:l,entry:M,index:C}),value:N,payload:M}}),O;return w||T?O=A.map(function(M){var C=Array.isArray(M.value)?M.value[0]:null;return _?{x:M.x,y:C!=null&&M.y!=null?i.scale(C):null}:{x:C!=null?n.scale(C):null,y:M.y}}):O=_?i.scale(x):n.scale(x),Qo({points:A,baseLine:O,layout:y,isRange:T},v)});xi(Ta,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ue(t))r=t(e);else{var n=Qe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=w$(e,EZ);r=W.createElement(Eg,fs({},o,{key:i,className:n}))}return r});function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function RZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function jZ(t,e,r){return e&&NZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MZ(t,e,r){return e=Tm(e),DZ(t,S$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function DZ(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LZ(t)}function LZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function $Z(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ux(t,e)}function T$(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=VZ(t,"string");return gl(e)=="symbol"?e:e+""}function VZ(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function FZ(t){var e=t.xAxisId,r=zE(),n=WE(),i=u$(e);return i==null?null:W.createElement($l,lx({},i,{className:Qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return no(s,!0)}}))}var gs=function(t){function e(){return RZ(this,e),MZ(this,e,arguments)}return $Z(e,t),jZ(e,[{key:"render",value:function(){return W.createElement(FZ,this.props)}}])}(W.Component);T$(gs,"displayName","XAxis");T$(gs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function BZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function qZ(t,e,r){return e&&UZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zZ(t,e,r){return e=Am(e),WZ(t,P$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function WZ(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HZ(t)}function HZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function KZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(t,e)}function I$(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=GZ(t,"string");return vl(e)=="symbol"?e:e+""}function GZ(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fx.apply(this,arguments)}var XZ=function(e){var r=e.yAxisId,n=zE(),i=WE(),o=l$(r);return o==null?null:W.createElement($l,fx({},o,{className:Qe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return no(l,!0)}}))},vs=function(t){function e(){return BZ(this,e),zZ(this,e,arguments)}return KZ(e,t),qZ(e,[{key:"render",value:function(){return W.createElement(XZ,this.props)}}])}(W.Component);I$(vs,"displayName","YAxis");I$(vs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nN(t){return ZZ(t)||JZ(t)||QZ(t)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QZ(t,e){if(t){if(typeof t=="string")return hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(t,e)}}function JZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZZ(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dx=function(e,r,n,i,o){var s=jn(e,KE),l=jn(e,Rg),c=[].concat(nN(s),nN(l)),f=jn(e,jg),d="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(x,_){if(_.props[d]===n&&Si(_.props,"extendDomain")&&ye(_.props[p])){var T=_.props[p];return[Math.min(x[0],T),Math.max(x[1],T)]}return x},v)),f.length){var y="".concat(p,"1"),w="".concat(p,"2");v=f.reduce(function(x,_){if(_.props[d]===n&&Si(_.props,"extendDomain")&&ye(_.props[y])&&ye(_.props[w])){var T=_.props[y],A=_.props[w];return[Math.min(x[0],T,A),Math.max(x[1],T,A)]}return x},v)}return o&&o.length&&(v=o.reduce(function(x,_){return ye(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},v)),v},Cw={exports:{}},iN;function eee(){return iN||(iN=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function o(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,v),w=r?r+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,y,w){var x=r?r+f:f;if(!this._events[x])return!1;var _=this._events[x],T=arguments.length,A,O;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,p),!0;case 4:return _.fn.call(_.context,d,p,v),!0;case 5:return _.fn.call(_.context,d,p,v,y),!0;case 6:return _.fn.call(_.context,d,p,v,y,w),!0}for(O=1,A=new Array(T-1);O<T;O++)A[O-1]=arguments[O];_.fn.apply(_.context,A)}else{var M=_.length,C;for(O=0;O<M;O++)switch(_[O].once&&this.removeListener(f,_[O].fn,void 0,!0),T){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,d);break;case 3:_[O].fn.call(_[O].context,d,p);break;case 4:_[O].fn.call(_[O].context,d,p,v);break;default:if(!A)for(C=1,A=new Array(T-1);C<T;C++)A[C-1]=arguments[C];_[O].fn.apply(_[O].context,A)}}return!0},l.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var y=r?r+f:f;if(!this._events[y])return this;if(!d)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===d&&(!v||w.once)&&(!p||w.context===p)&&s(this,y);else{for(var x=0,_=[],T=w.length;x<T;x++)(w[x].fn!==d||v&&!w[x].once||p&&w[x].context!==p)&&_.push(w[x]);_.length?this._events[y]=_.length===1?_[0]:_:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Cw)),Cw.exports}var tee=eee();const ree=pt(tee);var kw=new ree,Rw="recharts.syncMouseEvents";function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function oee(t,e,r){return e&&iee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nw(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=aee(t,"string");return Qf(e)=="symbol"?e:e+""}function aee(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var see=function(){function t(){nee(this,t),Nw(this,"activeIndex",0),Nw(this,"coordinateList",[]),Nw(this,"layout","horizontal")}return oee(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,d=r.offset,p=d===void 0?null:d,v=r.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,v=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])}();function uee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ye(n)&&ye(i))return!0}return!1}function lee(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function k$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=St(e,r,n,i),l=St(e,r,n,o);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function cee(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,v=St(l,c,f,p),y=St(l,c,d,p);n=v.x,i=v.y,o=y.x,s=y.y}else return k$(e);return[{x:n,y:i},{x:o,y:s}]}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function oN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(r),!0).forEach(function(n){fee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fee(t,e,r){return e=hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=dee(t,"string");return Jf(e)=="symbol"?e:e+""}function dee(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pee(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var w,x=qu;if(v==="ScatterChart")w=s,x=VX;else if(v==="BarChart")w=lee(p,s,c,d),x=FE;else if(p==="radial"){var _=k$(s),T=_.cx,A=_.cy,O=_.radius,M=_.startAngle,C=_.endAngle;w={cx:T,cy:A,startAngle:M,endAngle:C,innerRadius:O,outerRadius:O},x=CL}else w={points:cee(p,s,c)},x=qu;var N=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},c),w),De(y,!1)),{},{payload:l,payloadIndex:f,className:Qe("recharts-tooltip-cursor",y.className)});return U.isValidElement(y)?U.cloneElement(y,N):U.createElement(x,N)}var mee=["item"],gee=["children","className","width","height","style","compact","title","desc"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function aN(t,e){return _ee(t)||yee(t,e)||N$(t,e)||vee()}function vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _ee(t){if(Array.isArray(t))return t}function sN(t,e){if(t==null)return{};var r=bee(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function Eee(t,e,r){return e&&xee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function See(t,e,r){return e=Pm(e),Tee(t,R$()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function Tee(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(t)}function Aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(t,e)}function _l(t){return Cee(t)||Oee(t)||N$(t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$(t,e){if(t){if(typeof t=="string")return mx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mx(t,e)}}function Oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cee(t){if(Array.isArray(t))return mx(t)}function mx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(r),!0).forEach(function(n){Be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Be(t,e,r){return e=j$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$(t){var e=kee(t,"string");return yl(e)=="symbol"?e:e+""}function kee(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ree={xAxis:["bottom","top"],yAxis:["left","right"]},Nee={width:"100%",height:"100%"},M$={x:0,y:0};function ap(t){return t}var jee=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Mee=function(e,r,n,i){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return ce(ce(ce({},i),St(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return ce(ce(ce({},i),St(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return M$},Mg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(_l(l),_l(f)):l},[]);return s.length>0?s:e&&e.length&&ye(i)&&ye(o)?e.slice(i,o+1):[]};function D$(t){return t==="number"?[0,"auto"]:void 0}var gx=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,l=Mg(r,e);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var y=p===void 0?l:p;v=kp(y,s.dataKey,i)}else v=p&&p[n]||l[n];return v?[].concat(_l(c),[SL(f,v)]):c},[])},lN=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=jee(o,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=cH(s,l,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,v=gx(e,r,d,p),y=Mee(n,l,d,o);return{activeTooltipIndex:d,activeLabel:p,activePayload:v,activeCoordinate:y}}return null},Dee=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=e.stackOffset,y=yL(d,o);return n.reduce(function(w,x){var _,T=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,A=T.type,O=T.dataKey,M=T.allowDataOverflow,C=T.allowDuplicatedCategory,N=T.scale,P=T.ticks,I=T.includeHidden,k=T[s];if(w[k])return w;var V=Mg(e.data,{graphicalItems:i.filter(function(X){var ue,Ee=s in X.props?X.props[s]:(ue=X.type.defaultProps)===null||ue===void 0?void 0:ue[s];return Ee===k}),dataStartIndex:c,dataEndIndex:f}),D=V.length,F,L,H;uee(T.domain,M,A)&&(F=k1(T.domain,null,M),y&&(A==="number"||N!=="auto")&&(H=sf(V,O,"category")));var Q=D$(A);if(!F||F.length===0){var G,te=(G=T.domain)!==null&&G!==void 0?G:Q;if(O){if(F=sf(V,O,A),A==="category"&&y){var J=nB(F);C&&J?(L=F,F=pm(0,D)):C||(F=cR(te,F,x).reduce(function(X,ue){return X.indexOf(ue)>=0?X:[].concat(_l(X),[ue])},[]))}else if(A==="category")C?F=F.filter(function(X){return X!==""&&!Xe(X)}):F=cR(te,F,x).reduce(function(X,ue){return X.indexOf(ue)>=0||ue===""||Xe(ue)?X:[].concat(_l(X),[ue])},[]);else if(A==="number"){var oe=mH(V,i.filter(function(X){var ue,Ee,Ae=s in X.props?X.props[s]:(ue=X.type.defaultProps)===null||ue===void 0?void 0:ue[s],fe="hide"in X.props?X.props.hide:(Ee=X.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return Ae===k&&(I||!fe)}),O,o,d);oe&&(F=oe)}y&&(A==="number"||N!=="auto")&&(H=sf(V,O,"category"))}else y?F=pm(0,D):l&&l[k]&&l[k].hasStack&&A==="number"?F=v==="expand"?[0,1]:EL(l[k].stackGroups,c,f):F=vL(V,i.filter(function(X){var ue=s in X.props?X.props[s]:X.type.defaultProps[s],Ee="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ue===k&&(I||!Ee)}),A,d,!0);if(A==="number")F=dx(p,F,k,o,P),te&&(F=k1(te,F,M));else if(A==="category"&&te){var ne=te,q=F.every(function(X){return ne.indexOf(X)>=0});q&&(F=ne)}}return ce(ce({},w),{},Be({},k,ce(ce({},T),{},{axisType:o,domain:F,categoricalDomain:H,duplicateDomain:L,originalDomain:(_=T.domain)!==null&&_!==void 0?_:Q,isCategorical:y,layout:d})))},{})},Lee=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=Mg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),y=v.length,w=yL(d,o),x=-1;return n.reduce(function(_,T){var A=T.type.defaultProps!==void 0?ce(ce({},T.type.defaultProps),T.props):T.props,O=A[s],M=D$("number");if(!_[O]){x++;var C;return w?C=pm(0,y):l&&l[O]&&l[O].hasStack?(C=EL(l[O].stackGroups,c,f),C=dx(p,C,O,o)):(C=k1(M,vL(v,n.filter(function(N){var P,I,k=s in N.props?N.props[s]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[s],V="hide"in N.props?N.props.hide:(I=N.type.defaultProps)===null||I===void 0?void 0:I.hide;return k===O&&!V}),"number",d),i.defaultProps.allowDataOverflow),C=dx(p,C,O,o)),ce(ce({},_),{},Be({},O,ce(ce({axisType:o},i.defaultProps),{},{hide:!0,orientation:gn(Ree,"".concat(o,".").concat(x%2),null),domain:C,originalDomain:M,isCategorical:w,layout:d})))}return _},{})},$ee=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.children,p="".concat(i,"Id"),v=jn(d,o),y={};return v&&v.length?y=Dee(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=Lee(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},Vee=function(e){var r=Zo(e),n=no(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rm(r,n)}},cN=function(e){var r=e.children,n=e.defaultShowTooltip,i=dn(r,ll),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Fee=function(e){return!e||!e.length?!1:e.some(function(r){var n=so(r&&r.type);return n&&n.indexOf("Bar")>=0})},fN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bee=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=n.width,d=n.height,p=n.children,v=n.margin||{},y=dn(p,ll),w=dn(p,ds),x=Object.keys(c).reduce(function(C,N){var P=c[N],I=P.orientation;return!P.mirror&&!P.hide?ce(ce({},C),{},Be({},I,C[I]+P.width)):C},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(C,N){var P=s[N],I=P.orientation;return!P.mirror&&!P.hide?ce(ce({},C),{},Be({},I,gn(C,"".concat(I))+P.height)):C},{top:v.top||0,bottom:v.bottom||0}),T=ce(ce({},_),x),A=T.bottom;y&&(T.bottom+=y.props.height||ll.defaultProps.height),w&&r&&(T=dH(T,i,n,r));var O=f-T.left-T.right,M=d-T.top-T.bottom;return ce(ce({brushBottom:A},T),{},{width:Math.max(O,0),height:Math.max(M,0)})},Uee=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},YE=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,v=function(T,A){var O=A.graphicalItems,M=A.stackGroups,C=A.offset,N=A.updateId,P=A.dataStartIndex,I=A.dataEndIndex,k=T.barSize,V=T.layout,D=T.barGap,F=T.barCategoryGap,L=T.maxBarSize,H=fN(V),Q=H.numericAxisName,G=H.cateAxisName,te=Fee(O),J=[];return O.forEach(function(oe,ne){var q=Mg(T.data,{graphicalItems:[oe],dataStartIndex:P,dataEndIndex:I}),X=oe.type.defaultProps!==void 0?ce(ce({},oe.type.defaultProps),oe.props):oe.props,ue=X.dataKey,Ee=X.maxBarSize,Ae=X["".concat(Q,"Id")],fe=X["".concat(G,"Id")],me={},we=c.reduce(function(Lt,ar){var nn=A["".concat(ar.axisType,"Map")],Ur=X["".concat(ar.axisType,"Id")];nn&&nn[Ur]||ar.axisType==="zAxis"||xs();var yn=nn[Ur];return ce(ce({},Lt),{},Be(Be({},ar.axisType,yn),"".concat(ar.axisType,"Ticks"),no(yn)))},me),le=we[G],Te=we["".concat(G,"Ticks")],be=M&&M[Ae]&&M[Ae].hasStack&&SH(oe,M[Ae].stackGroups),ie=so(oe.type).indexOf("Bar")>=0,je=rm(le,Te),Se=[],Me=te&&fH({barSize:k,stackGroups:M,totalSize:Uee(we,G)});if(ie){var Ye,st,Ge=Xe(Ee)?L:Ee,_t=(Ye=(st=rm(le,Te,!0))!==null&&st!==void 0?st:Ge)!==null&&Ye!==void 0?Ye:0;Se=hH({barGap:D,barCategoryGap:F,bandSize:_t!==je?_t:je,sizeList:Me[fe],maxBarSize:Ge}),_t!==je&&(Se=Se.map(function(Lt){return ce(ce({},Lt),{},{position:ce(ce({},Lt.position),{},{offset:Lt.position.offset-_t/2})})}))}var or=oe&&oe.type&&oe.type.getComposedData;or&&J.push({props:ce(ce({},or(ce(ce({},we),{},{displayedData:q,props:T,dataKey:ue,item:oe,bandSize:je,barPosition:Se,offset:C,stackedData:be,layout:V,dataStartIndex:P,dataEndIndex:I}))),{},Be(Be(Be({key:oe.key||"item-".concat(ne)},Q,we[Q]),G,we[G]),"animationId",N)),childIndex:gB(oe,T.children),item:oe})}),J},y=function(T,A){var O=T.props,M=T.dataStartIndex,C=T.dataEndIndex,N=T.updateId;if(!SI({props:O}))return null;var P=O.children,I=O.layout,k=O.stackOffset,V=O.data,D=O.reverseStackOrder,F=fN(I),L=F.numericAxisName,H=F.cateAxisName,Q=jn(P,n),G=xH(V,Q,"".concat(L,"Id"),"".concat(H,"Id"),k,D),te=c.reduce(function(X,ue){var Ee="".concat(ue.axisType,"Map");return ce(ce({},X),{},Be({},Ee,$ee(O,ce(ce({},ue),{},{graphicalItems:Q,stackGroups:ue.axisType===L&&G,dataStartIndex:M,dataEndIndex:C}))))},{}),J=Bee(ce(ce({},te),{},{props:O,graphicalItems:Q}),A==null?void 0:A.legendBBox);Object.keys(te).forEach(function(X){te[X]=d(O,te[X],J,X.replace("Map",""),r)});var oe=te["".concat(H,"Map")],ne=Vee(oe),q=v(O,ce(ce({},te),{},{dataStartIndex:M,dataEndIndex:C,updateId:N,graphicalItems:Q,stackGroups:G,offset:J}));return ce(ce({formattedGraphicalItems:q,graphicalItems:Q,offset:J,stackGroups:G},ne),te)},w=function(_){function T(A){var O,M,C;return wee(this,T),C=See(this,T,[A]),Be(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(C,"accessibilityManager",new see),Be(C,"handleLegendBBoxUpdate",function(N){if(N){var P=C.state,I=P.dataStartIndex,k=P.dataEndIndex,V=P.updateId;C.setState(ce({legendBBox:N},y({props:C.props,dataStartIndex:I,dataEndIndex:k,updateId:V},ce(ce({},C.state),{},{legendBBox:N}))))}}),Be(C,"handleReceiveSyncEvent",function(N,P,I){if(C.props.syncId===N){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Be(C,"handleBrushChange",function(N){var P=N.startIndex,I=N.endIndex;if(P!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var k=C.state.updateId;C.setState(function(){return ce({dataStartIndex:P,dataEndIndex:I},y({props:C.props,dataStartIndex:P,dataEndIndex:I,updateId:k},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Be(C,"handleMouseEnter",function(N){var P=C.getMouseInfo(N);if(P){var I=ce(ce({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var k=C.props.onMouseEnter;Ue(k)&&k(I,N)}}),Be(C,"triggeredAfterMouseMove",function(N){var P=C.getMouseInfo(N),I=P?ce(ce({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var k=C.props.onMouseMove;Ue(k)&&k(I,N)}),Be(C,"handleItemMouseEnter",function(N){C.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Be(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Be(C,"handleMouseMove",function(N){N.persist(),C.throttleTriggeredAfterMouseMove(N)}),Be(C,"handleMouseLeave",function(N){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var I=C.props.onMouseLeave;Ue(I)&&I(P,N)}),Be(C,"handleOuterEvent",function(N){var P=mB(N),I=gn(C.props,"".concat(P));if(P&&Ue(I)){var k,V;/.*touch.*/i.test(P)?V=C.getMouseInfo(N.changedTouches[0]):V=C.getMouseInfo(N),I((k=V)!==null&&k!==void 0?k:{},N)}}),Be(C,"handleClick",function(N){var P=C.getMouseInfo(N);if(P){var I=ce(ce({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var k=C.props.onClick;Ue(k)&&k(I,N)}}),Be(C,"handleMouseDown",function(N){var P=C.props.onMouseDown;if(Ue(P)){var I=C.getMouseInfo(N);P(I,N)}}),Be(C,"handleMouseUp",function(N){var P=C.props.onMouseUp;if(Ue(P)){var I=C.getMouseInfo(N);P(I,N)}}),Be(C,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Be(C,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseDown(N.changedTouches[0])}),Be(C,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseUp(N.changedTouches[0])}),Be(C,"handleDoubleClick",function(N){var P=C.props.onDoubleClick;if(Ue(P)){var I=C.getMouseInfo(N);P(I,N)}}),Be(C,"handleContextMenu",function(N){var P=C.props.onContextMenu;if(Ue(P)){var I=C.getMouseInfo(N);P(I,N)}}),Be(C,"triggerSyncEvent",function(N){C.props.syncId!==void 0&&kw.emit(Rw,C.props.syncId,N,C.eventEmitterSymbol)}),Be(C,"applySyncEvent",function(N){var P=C.props,I=P.layout,k=P.syncMethod,V=C.state.updateId,D=N.dataStartIndex,F=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)C.setState(ce({dataStartIndex:D,dataEndIndex:F},y({props:C.props,dataStartIndex:D,dataEndIndex:F,updateId:V},C.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,H=N.chartY,Q=N.activeTooltipIndex,G=C.state,te=G.offset,J=G.tooltipTicks;if(!te)return;if(typeof k=="function")Q=k(J,N);else if(k==="value"){Q=-1;for(var oe=0;oe<J.length;oe++)if(J[oe].value===N.activeLabel){Q=oe;break}}var ne=ce(ce({},te),{},{x:te.left,y:te.top}),q=Math.min(L,ne.x+ne.width),X=Math.min(H,ne.y+ne.height),ue=J[Q]&&J[Q].value,Ee=gx(C.state,C.props.data,Q),Ae=J[Q]?{x:I==="horizontal"?J[Q].coordinate:q,y:I==="horizontal"?X:J[Q].coordinate}:M$;C.setState(ce(ce({},N),{},{activeLabel:ue,activeCoordinate:Ae,activePayload:Ee,activeTooltipIndex:Q}))}else C.setState(N)}),Be(C,"renderCursor",function(N){var P,I=C.state,k=I.isTooltipActive,V=I.activeCoordinate,D=I.activePayload,F=I.offset,L=I.activeTooltipIndex,H=I.tooltipAxisBandSize,Q=C.getTooltipEventType(),G=(P=N.props.active)!==null&&P!==void 0?P:k,te=C.props.layout,J=N.key||"_recharts-cursor";return W.createElement(pee,{key:J,activeCoordinate:V,activePayload:D,activeTooltipIndex:L,chartName:r,element:N,isActive:G,layout:te,offset:F,tooltipAxisBandSize:H,tooltipEventType:Q})}),Be(C,"renderPolarAxis",function(N,P,I){var k=gn(N,"type.axisType"),V=gn(C.state,"".concat(k,"Map")),D=N.type.defaultProps,F=D!==void 0?ce(ce({},D),N.props):N.props,L=V&&V[F["".concat(k,"Id")]];return U.cloneElement(N,ce(ce({},L),{},{className:Qe(k,L.className),key:N.key||"".concat(P,"-").concat(I),ticks:no(L,!0)}))}),Be(C,"renderPolarGrid",function(N){var P=N.props,I=P.radialLines,k=P.polarAngles,V=P.polarRadius,D=C.state,F=D.radiusAxisMap,L=D.angleAxisMap,H=Zo(F),Q=Zo(L),G=Q.cx,te=Q.cy,J=Q.innerRadius,oe=Q.outerRadius;return U.cloneElement(N,{polarAngles:Array.isArray(k)?k:no(Q,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(V)?V:no(H,!0).map(function(ne){return ne.coordinate}),cx:G,cy:te,innerRadius:J,outerRadius:oe,key:N.key||"polar-grid",radialLines:I})}),Be(C,"renderLegend",function(){var N=C.state.formattedGraphicalItems,P=C.props,I=P.children,k=P.width,V=P.height,D=C.props.margin||{},F=k-(D.left||0)-(D.right||0),L=mL({children:I,formattedGraphicalItems:N,legendWidth:F,legendContent:f});if(!L)return null;var H=L.item,Q=sN(L,mee);return U.cloneElement(H,ce(ce({},Q),{},{chartWidth:k,chartHeight:V,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Be(C,"renderTooltip",function(){var N,P=C.props,I=P.children,k=P.accessibilityLayer,V=dn(I,pn);if(!V)return null;var D=C.state,F=D.isTooltipActive,L=D.activeCoordinate,H=D.activePayload,Q=D.activeLabel,G=D.offset,te=(N=V.props.active)!==null&&N!==void 0?N:F;return U.cloneElement(V,{viewBox:ce(ce({},G),{},{x:G.left,y:G.top}),active:te,label:Q,payload:te?H:[],coordinate:L,accessibilityLayer:k})}),Be(C,"renderBrush",function(N){var P=C.props,I=P.margin,k=P.data,V=C.state,D=V.offset,F=V.dataStartIndex,L=V.dataEndIndex,H=V.updateId;return U.cloneElement(N,{key:N.key||"_recharts-brush",onChange:tp(C.handleBrushChange,N.props.onChange),data:k,x:ye(N.props.x)?N.props.x:D.left,y:ye(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:ye(N.props.width)?N.props.width:D.width,startIndex:F,endIndex:L,updateId:"brush-".concat(H)})}),Be(C,"renderReferenceElement",function(N,P,I){if(!N)return null;var k=C,V=k.clipPathId,D=C.state,F=D.xAxisMap,L=D.yAxisMap,H=D.offset,Q=N.type.defaultProps||{},G=N.props,te=G.xAxisId,J=te===void 0?Q.xAxisId:te,oe=G.yAxisId,ne=oe===void 0?Q.yAxisId:oe;return U.cloneElement(N,{key:N.key||"".concat(P,"-").concat(I),xAxis:F[J],yAxis:L[ne],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:V})}),Be(C,"renderActivePoints",function(N){var P=N.item,I=N.activePoint,k=N.basePoint,V=N.childIndex,D=N.isRange,F=[],L=P.props.key,H=P.item.type.defaultProps!==void 0?ce(ce({},P.item.type.defaultProps),P.item.props):P.item.props,Q=H.activeDot,G=H.dataKey,te=ce(ce({index:V,dataKey:G,cx:I.x,cy:I.y,r:4,fill:VE(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},De(Q,!1)),Rp(Q));return F.push(T.renderActiveDot(Q,te,"".concat(L,"-activePoint-").concat(V))),k?F.push(T.renderActiveDot(Q,ce(ce({},te),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(V))):D&&F.push(null),F}),Be(C,"renderGraphicChild",function(N,P,I){var k=C.filterFormatItem(N,P,I);if(!k)return null;var V=C.getTooltipEventType(),D=C.state,F=D.isTooltipActive,L=D.tooltipAxis,H=D.activeTooltipIndex,Q=D.activeLabel,G=C.props.children,te=dn(G,pn),J=k.props,oe=J.points,ne=J.isRange,q=J.baseLine,X=k.item.type.defaultProps!==void 0?ce(ce({},k.item.type.defaultProps),k.item.props):k.item.props,ue=X.activeDot,Ee=X.hide,Ae=X.activeBar,fe=X.activeShape,me=!!(!Ee&&F&&te&&(ue||Ae||fe)),we={};V!=="axis"&&te&&te.props.trigger==="click"?we={onClick:tp(C.handleItemMouseEnter,N.props.onClick)}:V!=="axis"&&(we={onMouseLeave:tp(C.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:tp(C.handleItemMouseEnter,N.props.onMouseEnter)});var le=U.cloneElement(N,ce(ce({},k.props),we));function Te(ar){return typeof L.dataKey=="function"?L.dataKey(ar.payload):null}if(me)if(H>=0){var be,ie;if(L.dataKey&&!L.allowDuplicatedCategory){var je=typeof L.dataKey=="function"?Te:"payload.".concat(L.dataKey.toString());be=kp(oe,je,Q),ie=ne&&q&&kp(q,je,Q)}else be=oe==null?void 0:oe[H],ie=ne&&q&&q[H];if(fe||Ae){var Se=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[U.cloneElement(N,ce(ce(ce({},k.props),we),{},{activeIndex:Se})),null,null]}if(!Xe(be))return[le].concat(_l(C.renderActivePoints({item:k,activePoint:be,basePoint:ie,childIndex:H,isRange:ne})))}else{var Me,Ye=(Me=C.getItemByXY(C.state.activeCoordinate))!==null&&Me!==void 0?Me:{graphicalItem:le},st=Ye.graphicalItem,Ge=st.item,_t=Ge===void 0?N:Ge,or=st.childIndex,Lt=ce(ce(ce({},k.props),we),{},{activeIndex:or});return[U.cloneElement(_t,Lt),null,null]}return ne?[le,null,null]:[le,null]}),Be(C,"renderCustomized",function(N,P,I){return U.cloneElement(N,ce(ce({key:"recharts-customized-".concat(I)},C.props),C.state))}),Be(C,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((O=A.id)!==null&&O!==void 0?O:Nl("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=pD(C.triggeredAfterMouseMove,(M=A.throttleDelay)!==null&&M!==void 0?M:1e3/60),C.state={},C}return Pee(T,_),Eee(T,[{key:"componentDidMount",value:function(){var O,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,M=O.children,C=O.data,N=O.height,P=O.layout,I=dn(M,pn);if(I){var k=I.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,D=gx(this.state,C,k,V),F=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+N)/2,H=P==="horizontal",Q=H?{x:F,y:L}:{y:F,x:L},G=this.state.formattedGraphicalItems.find(function(J){var oe=J.item;return oe.type.name==="Scatter"});G&&(Q=ce(ce({},Q),G.props.points[k].tooltipPosition),D=G.props.points[k].tooltipPayload);var te={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:V,activePayload:D,activeCoordinate:Q};this.setState(te),this.renderCursor(I),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var C,N;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(O){Zw([dn(O.children,pn)],[dn(this.props.children,pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=dn(this.props.children,pn);if(O&&typeof O.props.shared=="boolean"){var M=O.props.shared?"axis":"item";return l.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var M=this.container,C=M.getBoundingClientRect(),N=rz(C),P={chartX:Math.round(O.pageX-N.left),chartY:Math.round(O.pageY-N.top)},I=C.width/M.offsetWidth||1,k=this.inRange(P.chartX,P.chartY,I);if(!k)return null;var V=this.state,D=V.xAxisMap,F=V.yAxisMap,L=this.getTooltipEventType(),H=lN(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&D&&F){var Q=Zo(D).scale,G=Zo(F).scale,te=Q&&Q.invert?Q.invert(P.chartX):null,J=G&&G.invert?G.invert(P.chartY):null;return ce(ce({},P),{},{xValue:te,yValue:J},H)}return H?ce(ce({},P),H):null}},{key:"inRange",value:function(O,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=O/C,I=M/C;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,V=P>=k.left&&P<=k.left+k.width&&I>=k.top&&I<=k.top+k.height;return V?{x:P,y:I}:null}var D=this.state,F=D.angleAxisMap,L=D.radiusAxisMap;if(F&&L){var H=Zo(F);return dR({x:P,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,M=this.getTooltipEventType(),C=dn(O,pn),N={};C&&M==="axis"&&(C.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Rp(this.props,this.handleOuterEvent);return ce(ce({},P),N)}},{key:"addListener",value:function(){kw.on(Rw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kw.removeListener(Rw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,M,C){for(var N=this.state.formattedGraphicalItems,P=0,I=N.length;P<I;P++){var k=N[P];if(k.item===O||k.props.key===O.key||M===so(k.item.type)&&C===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,M=this.state.offset,C=M.left,N=M.top,P=M.height,I=M.width;return W.createElement("defs",null,W.createElement("clipPath",{id:O},W.createElement("rect",{x:C,y:N,height:P,width:I})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(M,C){var N=aN(C,2),P=N[0],I=N[1];return ce(ce({},M),{},Be({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(M,C){var N=aN(C,2),P=N[0],I=N[1];return ce(ce({},M),{},Be({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(O){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(O){var M=this.state,C=M.formattedGraphicalItems,N=M.activeItem;if(C&&C.length)for(var P=0,I=C.length;P<I;P++){var k=C[P],V=k.props,D=k.item,F=D.type.defaultProps!==void 0?ce(ce({},D.type.defaultProps),D.props):D.props,L=so(D.type);if(L==="Bar"){var H=(V.data||[]).find(function(J){return _X(O,J)});if(H)return{graphicalItem:k,payload:H}}else if(L==="RadialBar"){var Q=(V.data||[]).find(function(J){return dR(O,J)});if(Q)return{graphicalItem:k,payload:Q}}else if(Ig(k,N)||Og(k,N)||Hf(k,N)){var G=qY({graphicalItem:k,activeTooltipItem:N,itemData:F.data}),te=F.activeIndex===void 0?G:F.activeIndex;return{graphicalItem:ce(ce({},k),{},{childIndex:te}),payload:Hf(k,N)?F.data[G]:k.props.data[G]}}}return null}},{key:"render",value:function(){var O=this;if(!SI(this))return null;var M=this.props,C=M.children,N=M.className,P=M.width,I=M.height,k=M.style,V=M.compact,D=M.title,F=M.desc,L=sN(M,gee),H=De(L,!1);if(V)return W.createElement(U2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(t1,$u({},H,{width:P,height:I,title:D,desc:F}),this.renderClipPath(),AI(C,this.renderMap)));if(this.props.accessibilityLayer){var Q,G;H.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,H.role=(G=this.props.role)!==null&&G!==void 0?G:"application",H.onKeyDown=function(J){O.accessibilityManager.keyboardEvent(J)},H.onFocus=function(){O.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return W.createElement(U2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",$u({className:Qe("recharts-wrapper",N),style:ce({position:"relative",cursor:"default",width:P,height:I},k)},te,{ref:function(oe){O.container=oe}}),W.createElement(t1,$u({},H,{width:P,height:I,title:D,desc:F,style:Nee}),this.renderClipPath(),AI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Be(w,"displayName",r),Be(w,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Be(w,"getDerivedStateFromProps",function(_,T){var A=_.dataKey,O=_.data,M=_.children,C=_.width,N=_.height,P=_.layout,I=_.stackOffset,k=_.margin,V=T.dataStartIndex,D=T.dataEndIndex;if(T.updateId===void 0){var F=cN(_);return ce(ce(ce({},F),{},{updateId:0},y(ce(ce({props:_},F),{},{updateId:0}),T)),{},{prevDataKey:A,prevData:O,prevWidth:C,prevHeight:N,prevLayout:P,prevStackOffset:I,prevMargin:k,prevChildren:M})}if(A!==T.prevDataKey||O!==T.prevData||C!==T.prevWidth||N!==T.prevHeight||P!==T.prevLayout||I!==T.prevStackOffset||!Fu(k,T.prevMargin)){var L=cN(_),H={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},Q=ce(ce({},lN(T,O,P)),{},{updateId:T.updateId+1}),G=ce(ce(ce({},L),H),Q);return ce(ce(ce({},G),y(ce({props:_},G),T)),{},{prevDataKey:A,prevData:O,prevWidth:C,prevHeight:N,prevLayout:P,prevStackOffset:I,prevMargin:k,prevChildren:M})}if(!Zw(M,T.prevChildren)){var te,J,oe,ne,q=dn(M,ll),X=q&&(te=(J=q.props)===null||J===void 0?void 0:J.startIndex)!==null&&te!==void 0?te:V,ue=q&&(oe=(ne=q.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&oe!==void 0?oe:D,Ee=X!==V||ue!==D,Ae=!Xe(O),fe=Ae&&!Ee?T.updateId:T.updateId+1;return ce(ce({updateId:fe},y(ce(ce({props:_},T),{},{updateId:fe,dataStartIndex:X,dataEndIndex:ue}),T)),{},{prevChildren:M,dataStartIndex:X,dataEndIndex:ue})}return null}),Be(w,"renderActiveDot",function(_,T,A){var O;return U.isValidElement(_)?O=U.cloneElement(_,T):Ue(_)?O=_(T):O=W.createElement(Eg,T),W.createElement(ot,{className:"recharts-active-dot",key:A},O)});var x=U.forwardRef(function(T,A){return W.createElement(w,$u({},T,{ref:A}))});return x.displayName=w.displayName,x},hN=YE({chartName:"BarChart",GraphicalChild:pa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:e$}),qee=YE({chartName:"PieChart",GraphicalChild:So,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Pg},{axisType:"radiusAxis",AxisComp:Tg}],formatAxisMap:jH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zee=YE({chartName:"AreaChart",GraphicalChild:Ta,axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:e$});const Zi={primary:"#3B82F6",secondary:"#10B981",warning:"#F59E0B",danger:"#EF4444",purple:"#8B5CF6",pink:"#EC4899"},Gc=({title:t,value:e,subtitle:r,icon:n,gradient:i,delay:o=0})=>j.jsx("div",{className:`${i} p-3 sm:p-4 lg:p-6 rounded-xl text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-fade-in-up min-h-[120px] sm:min-h-[140px] lg:min-h-[160px] flex flex-col justify-between`,style:{animationDelay:`${o}ms`},children:j.jsxs("div",{className:"flex items-start justify-between h-full",children:[j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsx("p",{className:"text-white/80 text-xs sm:text-sm font-medium mb-1 truncate",children:t}),j.jsx("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold mb-1 break-words",children:e}),r&&j.jsx("p",{className:"text-white/70 text-xs hidden sm:block",children:r})]}),j.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-lg backdrop-blur-sm flex-shrink-0 ml-2",children:j.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8",children:n})})]})}),sp=({title:t,icon:e,children:r,delay:n=0,className:i=""})=>j.jsxs("div",{className:`bg-white p-3 sm:p-4 lg:p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 animate-fade-in-up border border-gray-100 ${i}`,style:{animationDelay:`${n}ms`},children:[j.jsxs("h3",{className:"text-sm sm:text-base lg:text-lg font-bold mb-3 sm:mb-4 lg:mb-6 flex items-center gap-2 sm:gap-3 text-gray-800",children:[j.jsx("div",{className:"p-1 sm:p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white flex-shrink-0",children:j.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:e})}),j.jsx("span",{className:"truncate",children:t})]}),j.jsx("div",{className:"w-full overflow-hidden",children:r})]}),Wee=()=>{const{products:t,sales:e}=dh(),r=U.useMemo(()=>{const l=Object.values(t),c=l.filter(p=>p.stock<=5).length,f=l.filter(p=>p.stock>5&&p.stock<=15).length,d=l.filter(p=>p.stock>15).length;return[{name:"Crtico (5)",value:c,color:Zi.danger},{name:"Medio (6-15)",value:f,color:Zi.warning},{name:"Alto (>15)",value:d,color:Zi.secondary}]},[t]),n=U.useMemo(()=>{const l={};return Object.values(t).forEach(c=>{const f=c.categoria||"Sin Categora",d=c.stock*c.precio_costo,p=c.stock*c.precio_venta,v=p-d;l[f]||(l[f]={costo:0,venta:0,ganancia:0}),l[f].costo+=d,l[f].venta+=p,l[f].ganancia+=v}),Object.entries(l).map(([c,f])=>({categoria:c.length>8?c.substring(0,8)+"...":c,categoriaCompleta:c,valor_costo:Math.round(f.costo*100)/100,valor_venta:Math.round(f.venta*100)/100,ganancia_potencial:Math.round(f.ganancia*100)/100}))},[t]),i=U.useMemo(()=>{const l=Object.keys(t).length,c=e.reduce((v,y)=>v+y.cantidad_vendida,0),f=e.reduce((v,y)=>v+y.total_linea,0),d=Object.values(t).filter(v=>v.stock<=5).length,p=e.reduce((v,y)=>{const w=Object.values(t).find(x=>x.codigo===y.codigo_barra);if(w){const x=w.precio_costo*y.cantidad_vendida;return v+(y.total_linea-x)}return v},0);return{totalProductos:l,totalVentas:c,ingresosTotales:Math.round(f*100)/100,gananciaReal:Math.round(p*100)/100,productosStockBajo:d}},[t,e]),o=U.useMemo(()=>{const l=new Date;return Array.from({length:7},(d,p)=>{const v=new Date(l);return v.setDate(v.getDate()-p),v.toISOString().split("T")[0]}).reverse().map(d=>{const p=e.filter(w=>w.fecha_hora.startsWith(d)),v=p.reduce((w,x)=>w+x.cantidad_vendida,0),y=p.reduce((w,x)=>w+x.total_linea,0);return{fecha:new Date(d).toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),fechaCorta:new Date(d).toLocaleDateString("es-ES",{day:"numeric"}),ventas:v,ingresos:Math.round(y*100)/100}})},[e]),s=U.useMemo(()=>{const l={};return e.forEach(c=>{const f=Object.values(t).find(d=>d.codigo===c.codigo_barra);f&&(l[c.codigo_barra]||(l[c.codigo_barra]={nombre:f.nombre,cantidad:0,ingresos:0}),l[c.codigo_barra].cantidad+=c.cantidad_vendida,l[c.codigo_barra].ingresos+=c.total_linea)}),Object.values(l).sort((c,f)=>f.cantidad-c.cantidad).slice(0,5).map(c=>({...c,nombre:c.nombre.length>15?c.nombre.substring(0,15)+"...":c.nombre,nombreCompleto:c.nombre,ingresos:Math.round(c.ingresos*100)/100}))},[e,t]);return j.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 p-1 sm:p-2 max-w-full overflow-hidden",children:[j.jsxs("div",{className:"text-center animate-fade-in px-2",children:[j.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:" Dashboard del Kiosko"}),j.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg px-4",children:"Mtricas en tiempo real para tu negocio"})]}),j.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 px-2",children:[j.jsx(Gc,{title:"Productos",value:i.totalProductos,subtitle:"en inventario",icon:j.jsx(Jm,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",delay:0}),j.jsx(Gc,{title:"Ventas",value:i.totalVentas,subtitle:"unidades vendidas",icon:j.jsx(hM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-green-500 via-green-600 to-emerald-700",delay:100}),j.jsx(Gc,{title:"Ingresos",value:`$${i.ingresosTotales.toLocaleString()}`,subtitle:"en ventas",icon:j.jsx(Yw,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-700",delay:200}),j.jsx(Gc,{title:"Ganancia",value:`$${i.gananciaReal.toLocaleString()}`,subtitle:"beneficio neto",icon:j.jsx(h5,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500",delay:300}),j.jsx(Gc,{title:"Stock Crtico",value:i.productosStockBajo,subtitle:"productos 5 unidades",icon:j.jsx(aM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-red-500 via-pink-500 to-rose-600",delay:400})]}),j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 px-2",children:[j.jsx(sp,{title:"Estado del Stock",icon:j.jsx(f5,{}),delay:500,className:"col-span-1",children:j.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:j.jsxs(qee,{children:[j.jsx(So,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:c,percent:f})=>window.innerWidth<640?`${c}`:`${l}: ${c} (${(f*100).toFixed(0)}%)`,outerRadius:window.innerWidth<640?60:window.innerWidth<1024?80:100,fill:"#8884d8",dataKey:"value",animationBegin:0,animationDuration:1e3,children:r.map((l,c)=>j.jsx(fg,{fill:l.color},`cell-${c}`))}),j.jsx(pn,{contentStyle:{fontSize:window.innerWidth<640?"12px":"14px",padding:window.innerWidth<640?"8px":"12px"}})]})})}),j.jsx(sp,{title:"Valor por Categora",icon:j.jsx(Yw,{}),delay:600,className:"col-span-1",children:j.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:j.jsxs(hN,{data:n,margin:{top:5,right:5,left:5,bottom:5},children:[j.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),j.jsx(gs,{dataKey:"categoria",tick:{fontSize:window.innerWidth<640?10:12},interval:0,angle:window.innerWidth<640?-45:0,textAnchor:window.innerWidth<640?"end":"middle",height:window.innerWidth<640?60:30}),j.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?40:60}),j.jsx(pn,{formatter:(l,c,f)=>{var d,p;return[`$${l}`,"Valor",((d=f.payload)==null?void 0:d.categoriaCompleta)||((p=f.payload)==null?void 0:p.categoria)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),j.jsx(pa,{dataKey:"valor_venta",fill:"url(#colorGradient)",radius:[4,4,0,0],animationDuration:1e3}),j.jsx("defs",{children:j.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[j.jsx("stop",{offset:"5%",stopColor:Zi.secondary,stopOpacity:.9}),j.jsx("stop",{offset:"95%",stopColor:Zi.secondary,stopOpacity:.6})]})})]})})}),j.jsx(sp,{title:"Ventas ltimos 7 Das",icon:j.jsx(p5,{}),delay:700,className:"col-span-1",children:j.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:j.jsxs(zee,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[j.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),j.jsx(gs,{dataKey:window.innerWidth<640?"fechaCorta":"fecha",tick:{fontSize:window.innerWidth<640?10:12}}),j.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?35:50}),j.jsx(pn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),j.jsx(ds,{wrapperStyle:{fontSize:window.innerWidth<640?"12px":"14px"}}),j.jsx(Ta,{type:"monotone",dataKey:"ventas",stackId:"1",stroke:Zi.primary,fill:Zi.primary,fillOpacity:.6,name:"Cantidad Vendida",animationDuration:1500})]})})}),j.jsx(sp,{title:"Top 5 Productos Ms Vendidos",icon:j.jsx(c5,{}),delay:800,className:"col-span-1",children:j.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:j.jsxs(hN,{data:s,layout:"horizontal",margin:{top:5,right:5,left:5,bottom:5},children:[j.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),j.jsx(gs,{type:"number",tick:{fontSize:window.innerWidth<640?10:12}}),j.jsx(vs,{dataKey:"nombre",type:"category",width:window.innerWidth<640?80:window.innerWidth<1024?100:120,tick:{fontSize:window.innerWidth<640?9:11}}),j.jsx(pn,{formatter:(l,c,f)=>{var d,p;return[l,"Cantidad",((d=f.payload)==null?void 0:d.nombreCompleto)||((p=f.payload)==null?void 0:p.nombre)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),j.jsx(pa,{dataKey:"cantidad",fill:"url(#purpleGradient)",radius:[0,4,4,0],animationDuration:1200}),j.jsx("defs",{children:j.jsxs("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[j.jsx("stop",{offset:"5%",stopColor:Zi.purple,stopOpacity:.9}),j.jsx("stop",{offset:"95%",stopColor:Zi.pink,stopOpacity:.7})]})})]})})})]})]})},Qr=({label:t,id:e,type:r="text",value:n,onChange:i,placeholder:o="",required:s=!1,error:l,maxLength:c,step:f,className:d="",disabled:p=!1,readOnly:v=!1})=>j.jsxs("div",{className:"mb-4",children:[j.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",s&&j.jsx("span",{className:"text-red-500",children:"*"})]}),j.jsx("input",{id:e,type:r,value:n,onChange:i,placeholder:o,required:s,maxLength:c,step:f,className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"border-red-500":"border-gray-300"} ${d}`,disabled:p,readOnly:v}),l&&j.jsx("p",{className:"mt-1 text-sm text-red-500",children:l})]}),en=({children:t,onClick:e,type:r="button",variant:n="primary",disabled:i=!1,className:o=""})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center justify-center gap-2",l={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"};return j.jsx("button",{type:r,onClick:e,disabled:i,className:`${s} ${l[n]} ${i?"opacity-50 cursor-not-allowed":""} ${o}`,children:t})},Hee=({type:t,message:e,onClose:r,duration:n=3e3})=>{U.useEffect(()=>{const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]);const i={success:j.jsx(sM,{size:20,className:"text-green-500"}),error:j.jsx(d5,{size:20,className:"text-red-500"}),warning:j.jsx(Op,{size:20,className:"text-yellow-500"}),info:j.jsx(Op,{size:20,className:"text-blue-500"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return j.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md shadow-md border ${o[t]} max-w-md animate-fade-in-up`,children:j.jsxs("div",{className:"flex items-start",children:[j.jsx("div",{className:"flex-shrink-0",children:i[t]}),j.jsx("div",{className:"ml-3 flex-1",children:j.jsx("p",{className:"text-sm font-medium text-gray-800",children:e})}),j.jsx("button",{onClick:r,className:"ml-4 text-gray-400 hover:text-gray-500 focus:outline-none",children:j.jsx(Cp,{size:16})})]})})},L$=U.createContext(void 0),$$=()=>{const t=U.useContext(L$);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Kee=({children:t})=>{const[e,r]=U.useState([]),n=(o,s)=>{const l=Math.random().toString(36).substring(2,9);r(c=>[...c,{id:l,message:o,type:s}])},i=o=>{r(s=>s.filter(l=>l.id!==o))};return j.jsxs(L$.Provider,{value:{showToast:n},children:[t,e.map(o=>j.jsx(Hee,{type:o.type,message:o.message,onClose:()=>i(o.id)},o.id))]})},Gee=()=>{const{products:t,addProduct:e,updateProduct:r}=dh(),{showToast:n}=$$(),i=U.useRef(null),[o,s]=U.useState(""),[l,c]=U.useState(""),[f,d]=U.useState(""),[p,v]=U.useState(""),[y,w]=U.useState(""),[x,_]=U.useState("Sin Categora"),[T,A]=U.useState({}),[O,M]=U.useState(!1),[C,N]=U.useState(!1),[P,I]=U.useState(!1),[k,V]=U.useState(!1),[D,F]=U.useState(""),[L,H]=U.useState(""),[Q,G]=U.useState(""),te=()=>{const fe={};if(o?/^[0-9]{13}$/.test(o)||(fe.codigo="El cdigo debe tener 13 dgitos numricos"):fe.codigo="El cdigo de barras es obligatorio",l?l.length>50&&(fe.nombre="El nombre no puede exceder los 50 caracteres"):fe.nombre="El nombre del producto es obligatorio",!f)fe.stock="El stock inicial es obligatorio";else{const me=parseInt(f);(isNaN(me)||me<=0)&&(fe.stock="El stock debe ser un nmero entero positivo")}if(!p)fe.precio_costo="El precio de costo es obligatorio";else{const me=parseFloat(p);(isNaN(me)||me<=0)&&(fe.precio_costo="El precio de costo debe ser un nmero positivo")}if(!Q)fe.precio_venta="El margen de ganancia es obligatorio";else{const me=parseFloat(Q),we=parseFloat(p),le=we+we*me/100;isNaN(me)||me<0?fe.precio_venta="El margen debe ser un nmero positivo":le<=0&&(fe.precio_venta="El precio de venta calculado debe ser mayor a 0")}return x.trim()||(fe.categoria="La categora es obligatoria"),A(fe),Object.keys(fe).length===0},J=()=>{const fe=parseFloat(p),me=parseFloat(y);return!isNaN(fe)&&!isNaN(me)&&fe>0?((me-fe)/fe*100).toFixed(1):"0"},oe=()=>{const fe=parseFloat(p),me=parseFloat(Q);return!isNaN(fe)&&!isNaN(me)?(fe+fe*me/100).toFixed(2):""},ne=(fe,me)=>{const we=[];if((!fe.codigo||!/^[0-9]{13}$/.test(fe.codigo))&&we.push(`Lnea ${me}: Cdigo de barras invlido (debe tener 13 dgitos)`),(!fe.nombre||fe.nombre.length>50)&&we.push(`Lnea ${me}: Nombre invlido (obligatorio, mximo 50 caracteres)`),(isNaN(parseInt(fe.stock))||parseInt(fe.stock)<0)&&we.push(`Lnea ${me}: Stock invlido (debe ser un nmero entero positivo)`),(isNaN(parseFloat(fe.precio_costo))||parseFloat(fe.precio_costo)<=0)&&we.push(`Lnea ${me}: Precio de costo invlido (debe ser un nmero positivo)`),isNaN(parseFloat(fe.margen_ganancia)))we.push(`Lnea ${me}: Margen de ganancia invlido (debe ser un nmero)`);else{const le=parseFloat(fe.precio_costo),Te=parseFloat(fe.margen_ganancia);le+le*Te/100<=0&&we.push(`Lnea ${me}: Precio de venta calculado invlido (debe ser un nmero positivo)`)}return we},q=fe=>{var we;const me={success:0,errors:[],warnings:[]};try{const le=fe.trim().split(`
`);if(le.length<2)return me.errors.push("El archivo CSV debe contener al menos una lnea de encabezados y una lnea de datos"),me;const Te=le[0].split(",").map(Me=>Me.trim().toLowerCase()),be=["codigo","nombre","descripcion","precio_compra","precio_costo","margen_ganancia","stock","categoria","proveedor"],ie=Te.indexOf("ventaporkilo"),je=Te.indexOf("margen_ganancia"),Se=be.filter(Me=>!Te.includes(Me));if(Se.length>0)return me.errors.push(`Encabezados faltantes: ${Se.join(", ")}`),me;for(let Me=1;Me<le.length;Me++){const Ye=le[Me].trim();if(!Ye)continue;const st=Ye.split(",").map(yn=>yn.trim().replace(/^"|"$/g,""));if(st.length<be.length){me.errors.push(`Lnea ${Me+1}: Nmero insuficiente de columnas`);continue}const Ge={};Te.forEach((yn,$t)=>{Ge[yn]=st[$t]||""});const _t=ne(Ge,Me+1);if(_t.length>0){me.errors.push(..._t);continue}const or=ie!==-1?Ge.ventaporkilo==="1"||((we=Ge.ventaporkilo)==null?void 0:we.toLowerCase())==="true":!1,Lt=je!==-1?parseFloat(Ge.margen_ganancia):0,ar=parseFloat(Ge.precio_costo),nn=!isNaN(ar)&&!isNaN(Lt)?ar+ar*Lt/100:0,Ur={codigo:Ge.codigo,nombre:Ge.nombre,descripcion:Ge.descripcion,precio_compra:parseFloat(Ge.precio_compra),precio_costo:ar,precio_venta:nn,stock:parseInt(Ge.stock),categoria:Ge.categoria||"Sin Categora",proveedor:Ge.proveedor||"",imagen:Ge.imagen||"",stockMinimo:parseInt(Ge.stockminimo)||5,precio:nn,ventaPorKilo:or,margen_ganancia:Lt};t[Ur.codigo]?(me.warnings.push(`Lnea ${Me+1}: Producto ${Ur.codigo} ya existe, se actualizar`),r(Ur)):e(Ur),me.success++}}catch(le){me.errors.push(`Error al procesar el archivo: ${le}`)}return me},X=fe=>{var le;const me=(le=fe.target.files)==null?void 0:le[0];if(!me)return;if(!me.name.toLowerCase().endsWith(".csv")){n("Por favor seleccione un archivo CSV vlido","error");return}I(!0);const we=new FileReader;we.onload=Te=>{var be;try{const ie=(be=Te.target)==null?void 0:be.result,je=q(ie);if(je.errors.length>0)n(`Errores encontrados:
${je.errors.slice(0,3).join(`
`)}${je.errors.length>3?`
...`:""}`,"error");else{let Se=` ${je.success} productos importados exitosamente`;je.warnings.length>0&&(Se+=`
 ${je.warnings.length} advertencias`),n(Se,"success")}}catch{n("Error al leer el archivo CSV","error")}finally{I(!1),i.current&&(i.current.value="")}},we.onerror=()=>{n("Error al leer el archivo","error"),I(!1)},we.readAsText(me)},ue=()=>{const fe=["codigo,nombre,descripcion,precio_compra,precio_costo,margen_ganancia,stock,categoria,proveedor,ventaPorKilo","1234567890001,Coca Cola 50,Bebida cola,80,80,30,50,Bebidas,ProveedorA,0","1234567890002,Papas Fritas,Snacks de papa,45.5,45.5,25,30,Snacks,ProveedorB,0","1234567891001,Carne Picada,Carne vacuna molida,800,800,50,50,Carnicera,ProveedorC,1","1234567891002,Queso Cremoso,Queso fresco,1200,1200,60,30,Lcteos,ProveedorD,1"].join(`
`),me=new Blob([fe],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),le=URL.createObjectURL(me);we.setAttribute("href",le),we.setAttribute("download","ejemplo_productos.csv"),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we)},Ee=fe=>{if(fe.preventDefault(),!te())return;const me=parseFloat(p),we=parseFloat(Q),le=parseFloat(oe()),Te={codigo:o,nombre:l,descripcion:D,precio_compra:me,precio_costo:me,margen_ganancia:we,precio_venta:le,stock:parseInt(f),categoria:x,proveedor:L,imagen:"",stockMinimo:5,precio:le,ventaPorKilo:k};if(!!t[o]&&!O){M(!0),n("Este producto ya existe. Modifique los datos para actualizarlo.","info");return}O?(r(Te),n("Producto actualizado exitosamente","success")):(e(Te),n("Producto registrado exitosamente","success")),s(""),c(""),F(""),d(""),v(""),G(""),_("Sin Categora"),H(""),V(!1),M(!1)},Ae=fe=>{var we;const me=fe.target.value;if(s(me),me.length===13&&t[me]){const le=t[me];c(le.nombre),F(le.descripcion||""),d(le.stock.toString()),v(le.precio_costo.toString()),G(((we=le.margen_ganancia)==null?void 0:we.toString())||""),_(le.categoria),H(le.proveedor||""),V(!!le.ventaPorKilo),M(!0),n("Producto encontrado. Los campos han sido actualizados.","info")}else O&&M(!1)};return j.jsxs("div",{children:[j.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin de Productos"}),j.jsxs("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[j.jsxs("div",{className:"flex items-center justify-between mb-4",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(mP,{className:"text-blue-600",size:20}),j.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Importar Productos desde CSV"})]}),j.jsxs("button",{onClick:()=>N(!C),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm",children:[j.jsx(hP,{size:16}),C?"Ocultar":"Ver"," Tutorial"]})]}),j.jsxs("div",{className:"flex gap-4 mb-4",children:[j.jsx("input",{ref:i,type:"file",accept:".csv",onChange:X,className:"hidden",disabled:P}),j.jsx(en,{onClick:()=>{var fe;return(fe=i.current)==null?void 0:fe.click()},disabled:P,variant:"primary",children:P?j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Importando..."]}):j.jsxs(j.Fragment,{children:[j.jsx(mP,{size:18}),"Seleccionar Archivo CSV"]})}),j.jsxs(en,{onClick:ue,variant:"secondary",children:[j.jsx(hP,{size:18}),"Descargar Ejemplo"]})]}),C&&j.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4 space-y-4",children:[j.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[j.jsx(Op,{className:"text-blue-600",size:16}),"Formato Requerido del CSV"]}),j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Encabezados obligatorios (primera lnea):"}),j.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"codigo,nombre,stock,precio_costo,precio_venta,categoria"})]}),j.jsxs("div",{children:[j.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Ejemplo de datos:"}),j.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono",children:[j.jsx("div",{children:'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas'}),j.jsx("div",{children:'1234567890124,"Papas Fritas",30,45.50,75.00,Snacks'})]})]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[j.jsxs("div",{children:[j.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:" Reglas de Validacin:"}),j.jsxs("ul",{className:"space-y-1 text-gray-600",children:[j.jsxs("li",{children:[" ",j.jsx("strong",{children:"codigo:"})," 13 dgitos numricos"]}),j.jsxs("li",{children:[" ",j.jsx("strong",{children:"nombre:"})," Mximo 50 caracteres"]}),j.jsxs("li",{children:[" ",j.jsx("strong",{children:"stock:"})," Nmero entero positivo"]}),j.jsxs("li",{children:[" ",j.jsx("strong",{children:"precio_costo:"})," Nmero positivo"]}),j.jsxs("li",{children:[" ",j.jsx("strong",{children:"precio_venta:"})," Mayor al precio de costo"]}),j.jsxs("li",{children:[" ",j.jsx("strong",{children:"categoria:"})," Texto (opcional)"]})]})]}),j.jsxs("div",{children:[j.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:" Consejos:"}),j.jsxs("ul",{className:"space-y-1 text-gray-600",children:[j.jsx("li",{children:" Use comillas para textos con comas"}),j.jsx("li",{children:" Productos existentes se actualizarn"}),j.jsx("li",{children:" Descargue el ejemplo para ver el formato"}),j.jsx("li",{children:" Guarde el archivo como CSV UTF-8"})]})]})]})]})]})]}),j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agregar Producto Individual"}),j.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("input",{type:"checkbox",id:"ventaPorKilo",checked:k,onChange:fe=>V(fe.target.checked)}),j.jsx("label",{htmlFor:"ventaPorKilo",className:"text-sm font-medium",children:"Se vende por kilo?"})]}),j.jsx(Qr,{label:"Cdigo de Barras",id:"codigo",type:"text",value:o,onChange:Ae,placeholder:"Ingrese cdigo de 13 dgitos",required:!0,error:T.codigo,maxLength:13}),j.jsx(Qr,{label:"Nombre del Producto",id:"nombre",value:l,onChange:fe=>c(fe.target.value),placeholder:"Ingrese nombre del producto",required:!0,error:T.nombre,maxLength:50}),j.jsx(Qr,{label:"Descripcin",id:"descripcion",value:D,onChange:fe=>F(fe.target.value),placeholder:"Ingrese una descripcin",required:!0}),j.jsx(Qr,{label:"Proveedor",id:"proveedor",value:L,onChange:fe=>H(fe.target.value),placeholder:"Ingrese el proveedor",required:!0}),j.jsx(Qr,{label:"Categora",id:"categoria",value:x,onChange:fe=>_(fe.target.value),placeholder:"Ej: Bebidas, Snacks, etc.",required:!0,error:T.categoria}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.jsx(Qr,{label:k?"Precio de Costo ($/kg)":"Precio de Costo ($/unidad)",id:"precio_costo",type:"number",step:"0.01",value:p,onChange:fe=>v(fe.target.value),placeholder:k?"0.00 por kg":"0.00 por unidad",required:!0,error:T.precio_costo}),j.jsx(Qr,{label:"Margen de Ganancia (%)",id:"margen_ganancia",type:"number",step:"0.01",value:Q,onChange:fe=>G(fe.target.value),placeholder:"Ej: 30",required:!0}),j.jsx(Qr,{label:k?"Precio de Venta ($/kg)":"Precio de Venta ($/unidad)",id:"precio_venta",type:"number",step:"0.01",value:oe(),disabled:!0,required:!0,error:T.precio_venta})]}),j.jsx(Qr,{label:k?O?"Kilos a Aadir":"Stock Inicial (kg)":O?"Unidades a Aadir":"Stock Inicial (unidades)",id:"stock",type:"number",value:f,onChange:fe=>d(fe.target.value),placeholder:k?"Ingrese cantidad en kg":"Ingrese cantidad en unidades",required:!0,error:T.stock,step:k?"0.01":"1"}),j.jsx(en,{type:"submit",variant:O?"success":"primary",className:"w-full",children:O?j.jsxs(j.Fragment,{children:[j.jsx(cM,{size:18}),"Actualizar Producto"]}):j.jsxs(j.Fragment,{children:[j.jsx(lM,{size:18}),"Registrar Producto"]})})]})]}),j.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[j.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[j.jsx(Yw,{size:20}),"Informacin de Precios"]}),j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[j.jsx("span",{className:"text-gray-600",children:"Precio de Costo:"}),j.jsxs("span",{className:"font-semibold text-red-600",children:["$",p||"0.00"]})]}),j.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[j.jsx("span",{className:"text-gray-600",children:"Precio de Venta:"}),j.jsxs("span",{className:"font-semibold text-green-600",children:["$",y||"0.00"]})]}),j.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border border-blue-200",children:[j.jsx("span",{className:"text-gray-600",children:"Ganancia por Unidad:"}),j.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(parseFloat(y||"0")-parseFloat(p||"0")).toFixed(2)]})]}),j.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded border border-purple-200",children:[j.jsx("span",{className:"text-gray-600",children:"Margen de Ganancia:"}),j.jsxs("span",{className:"font-semibold text-purple-600",children:[J(),"%"]})]})]})]})]})]})};var yp={exports:{}},Xee=yp.exports,dN;function Yee(){return dN||(dN=1,function(t,e){(function(r,n){t.exports=n(Gm())})(typeof self<"u"?self:Xee,function(r){return function(){var n={155:function(T){T.exports=r}},i={};function o(T){var A=i[T];if(A!==void 0)return A.exports;var O=i[T]={exports:{}};return n[T](O,O.exports,o),O.exports}o.d=function(T,A){for(var O in A)o.o(A,O)&&!o.o(T,O)&&Object.defineProperty(T,O,{enumerable:!0,get:A[O]})},o.o=function(T,A){return Object.prototype.hasOwnProperty.call(T,A)},o.r=function(T){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{useReactToPrint:function(){return _}});var l=o(155);function c({level:T="error",messages:A,suppressErrors:O=!1}){O||(T==="error"?console.error(A):T==="warning"?console.warn(A):console.debug(A))}function f(T,A){if(A||!T){const O=document.getElementById("printWindow");O&&document.body.removeChild(O)}}function d(T){return T instanceof Error?T:new Error("Unknown Error")}function p(T,A){const{documentTitle:O,onAfterPrint:M,onPrintError:C,preserveAfterPrint:N,print:P,suppressErrors:I}=A;setTimeout(()=>{var k,V;if(T.contentWindow){let F=function(){M==null||M(),f(N)};var D=F;if(T.contentWindow.focus(),P)P(T).then(F).catch(L=>{C?C("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:I})});else{if(T.contentWindow.print){const L=(V=(k=T.contentDocument)===null||k===void 0?void 0:k.title)!==null&&V!==void 0?V:"",H=T.ownerDocument.title;O&&(T.ownerDocument.title=O,T.contentDocument&&(T.contentDocument.title=O)),T.contentWindow.print(),O&&(T.ownerDocument.title=H,T.contentDocument&&(T.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:I});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var H,Q;return((Q=(H=navigator.userAgent)!==null&&H!==void 0?H:navigator.vendor)!==null&&Q!==void 0?Q:"opera"in window&&window.opera).match(L)})?setTimeout(F,500):F()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:I})},500)}function v(T){const A=[],O=document.createTreeWalker(T,NodeFilter.SHOW_ELEMENT,null);let M=O.nextNode();for(;M;)A.push(M),M=O.nextNode();return A}function y(T,A,O){const M=v(T),C=v(A);if(M.length===C.length)for(let N=0;N<M.length;N++){const P=M[N],I=C[N],k=P.shadowRoot;if(k!==null){const V=I.attachShadow({mode:k.mode});V.innerHTML=k.innerHTML,y(k,V,O)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",T,A],suppressErrors:O})}const w=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(T,A,O,M){var C,N,P,I,k;const{contentNode:V,clonedContentNode:D,clonedImgNodes:F,clonedVideoNodes:L,numResourcesToLoad:H,originalCanvasNodes:Q}=O,{bodyClass:G,fonts:te,ignoreGlobalStyles:J,pageStyle:oe,nonce:ne,suppressErrors:q,copyShadowRoots:X}=M;T.onload=null;const ue=(C=T.contentDocument)!==null&&C!==void 0?C:(N=T.contentWindow)===null||N===void 0?void 0:N.document;if(ue){const Ee=ue.body.appendChild(D);X&&y(V,Ee,!!q),te&&(!((P=T.contentDocument)===null||P===void 0)&&P.fonts&&(!((I=T.contentWindow)===null||I===void 0)&&I.FontFace)?te.forEach(be=>{const ie=new FontFace(be.family,be.source,{weight:be.weight,style:be.style});T.contentDocument.fonts.add(ie),ie.loaded.then(()=>{A(ie)}).catch(je=>{A(ie,["Failed loading the font:",ie,"Load error:",d(je)])})}):(te.forEach(be=>{A(be)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:q})));const Ae=oe??w,fe=ue.createElement("style");ne&&(fe.setAttribute("nonce",ne),ue.head.setAttribute("nonce",ne)),fe.appendChild(ue.createTextNode(Ae)),ue.head.appendChild(fe),G&&ue.body.classList.add(...G.split(" "));const me=ue.querySelectorAll("canvas");for(let be=0;be<Q.length;++be){const ie=Q[be],je=me[be];if(je===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ie],suppressErrors:q});continue}const Se=je.getContext("2d");Se&&Se.drawImage(ie,0,0)}for(let be=0;be<F.length;be++){const ie=F[be],je=ie.getAttribute("src");if(je){const Se=new Image;Se.onload=()=>{A(ie)},Se.onerror=(Me,Ye,st,Ge,_t)=>{A(ie,["Error loading <img>",ie,"Error",_t])},Se.src=je}else A(ie,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ie])}for(let be=0;be<L.length;be++){const ie=L[be];ie.preload="auto";const je=ie.getAttribute("poster");if(je){const Se=new Image;Se.onload=()=>{A(ie)},Se.onerror=(Me,Ye,st,Ge,_t)=>{A(ie,["Error loading video poster",je,"for video",ie,"Error:",_t])},Se.src=je}else ie.readyState>=2?A(ie):ie.src?(ie.onloadeddata=()=>{A(ie)},ie.onerror=(Se,Me,Ye,st,Ge)=>{A(ie,["Error loading video",ie,"Error",Ge])},ie.onstalled=()=>{A(ie,["Loading video stalled, skipping",ie])}):A(ie,["Error loading video, `src` is empty",ie])}const we="select",le=V.querySelectorAll(we),Te=ue.querySelectorAll(we);for(let be=0;be<le.length;be++)Te[be].value=le[be].value;if(!J){const be=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ie=0,je=be.length;ie<je;++ie){const Se=be[ie];if(Se.tagName.toLowerCase()==="style"){const Me=ue.createElement(Se.tagName),Ye=Se.sheet;if(Ye){let st="";try{const Ge=Ye.cssRules.length;for(let _t=0;_t<Ge;++_t)typeof Ye.cssRules[_t].cssText=="string"&&(st+=`${Ye.cssRules[_t].cssText}\r
`)}catch(Ge){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Se,`Original error: ${d(Ge).message}`],level:"warning"})}Me.setAttribute("id",`react-to-print-${ie}`),ne&&Me.setAttribute("nonce",ne),Me.appendChild(ue.createTextNode(st)),ue.head.appendChild(Me)}}else if(Se.getAttribute("href"))if(Se.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Se],level:"warning"}),A(Se);else{const Me=ue.createElement(Se.tagName);for(let Ye=0,st=Se.attributes.length;Ye<st;++Ye){const Ge=Se.attributes[Ye];Ge&&Me.setAttribute(Ge.nodeName,(k=Ge.nodeValue)!==null&&k!==void 0?k:"")}Me.onload=()=>{A(Me)},Me.onerror=(Ye,st,Ge,_t,or)=>{A(Me,["Failed to load",Me,"Error:",or])},ne&&Me.setAttribute("nonce",ne),ue.head.appendChild(Me)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Se],level:"warning"}),A(Se)}}}H===0&&p(T,M)}function _({bodyClass:T,contentRef:A,copyShadowRoots:O,documentTitle:M,fonts:C,ignoreGlobalStyles:N,nonce:P,onAfterPrint:I,onBeforePrint:k,onPrintError:V,pageStyle:D,preserveAfterPrint:F,print:L,suppressErrors:H}){return(0,l.useCallback)(Q=>{function G(){const te={bodyClass:T,contentRef:A,copyShadowRoots:O,documentTitle:M,fonts:C,ignoreGlobalStyles:N,nonce:P,onAfterPrint:I,onPrintError:V,pageStyle:D,preserveAfterPrint:F,print:L,suppressErrors:H},J=function(){const q=document.createElement("iframe");return q.width=`${document.documentElement.clientWidth}px`,q.height=`${document.documentElement.clientHeight}px`,q.style.position="absolute",q.style.top=`-${document.documentElement.clientHeight+100}px`,q.style.left=`-${document.documentElement.clientWidth+100}px`,q.id="printWindow",q.srcdoc="<!DOCTYPE html>",q}(),oe=function(q,X){const{contentRef:ue,fonts:Ee,ignoreGlobalStyles:Ae,suppressErrors:fe}=X,me=function({contentRef:je,optionalContent:Se,suppressErrors:Me}){return!Se||Se instanceof Event||(je&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof Se!="function")?je?je.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Me}):Se()}({contentRef:ue,optionalContent:q,suppressErrors:fe});if(!me)return;const we=me.cloneNode(!0),le=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Te=we.querySelectorAll("img"),be=we.querySelectorAll("video"),ie=Ee?Ee.length:0;return{contentNode:me,clonedContentNode:we,clonedImgNodes:Te,clonedVideoNodes:be,numResourcesToLoad:(Ae?0:le.length)+Te.length+be.length+ie,originalCanvasNodes:me.querySelectorAll("canvas")}}(Q,te);if(!oe)return void c({messages:["There is nothing to print"],suppressErrors:H});const ne=function(q,X,ue){const{suppressErrors:Ee}=q,Ae=[],fe=[];return function(me,we){Ae.includes(me)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",me],suppressErrors:Ee}):(we?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...we],suppressErrors:Ee}),fe.push(me)):Ae.push(me),Ae.length+fe.length===X&&p(ue,q))}}(te,oe.numResourcesToLoad,J);(function(q,X,ue,Ee){q.onload=()=>{x(q,X,ue,Ee)},document.body.appendChild(q)})(J,ne,oe,te)}f(F,!0),k?k().then(()=>{G()}).catch(te=>{V==null||V("onBeforePrint",d(te))}):G()},[T,A,O,M,C,N,P,I,k,V,D,F,L,H])}return s}()})}(yp)),yp.exports}var Qee=Yee();function vx({columns:t,data:e,keyExtractor:r,emptyMessage:n="No hay datos disponibles"}){return e.length===0?j.jsx("div",{className:"text-center py-8 text-gray-500",children:n}):j.jsx("div",{className:"overflow-x-auto",children:j.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[j.jsx("thead",{className:"bg-gray-50",children:j.jsx("tr",{children:t.map((i,o)=>j.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i.header},o))})}),j.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>j.jsx("tr",{className:"hover:bg-gray-50",children:t.map((o,s)=>j.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.render?o.render(i):String(i[o.accessor])},s))},r(i)))})]})})}const V$=W.forwardRef(({cart:t,cajero:e,total:r,fecha:n},i)=>j.jsxs("div",{ref:i,className:"p-4 max-w-xs mx-auto font-mono text-sm",children:[j.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:[j.jsx("h1",{className:"text-lg font-bold",children:" KIOSKO LOCAL"}),j.jsx("p",{className:"text-xs",children:"Ticket de Compra"}),j.jsx("p",{className:"text-xs",children:n})]}),j.jsx("div",{className:"mb-3",children:j.jsxs("p",{className:"text-xs",children:[j.jsx("strong",{children:"Cajero:"})," ",e]})}),j.jsxs("div",{className:"border-b border-dashed border-gray-400 pb-2 mb-3",children:[j.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[j.jsx("span",{children:"PRODUCTO"}),j.jsx("span",{children:"CANT"}),j.jsx("span",{children:"PRECIO"}),j.jsx("span",{children:"TOTAL"})]}),t.map((o,s)=>j.jsxs("div",{className:"mb-2",children:[j.jsx("div",{className:"text-xs font-semibold",children:o.nombre}),j.jsxs("div",{className:"flex justify-between text-xs",children:[j.jsx("span",{children:o.codigo}),j.jsx("span",{children:o.cantidad}),j.jsxs("span",{children:["$",o.precio_unitario.toFixed(2)]}),j.jsxs("span",{children:["$",o.subtotal.toFixed(2)]})]})]},s))]}),j.jsx("div",{className:"border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:j.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[j.jsx("span",{children:"TOTAL A PAGAR:"}),j.jsxs("span",{children:["$",r.toFixed(2)]})]})}),j.jsxs("div",{className:"text-center text-xs",children:[j.jsx("p",{className:"font-bold mb-2",children:" GRACIAS POR TU COMPRA !!"}),j.jsx("p",{children:"Que tengas un excelente da"}),j.jsx("p",{className:"mt-2",children:" Vuelve pronto "})]}),j.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed border-gray-400 pt-2",children:[j.jsx("p",{children:"Este no es un comprobante fiscal"}),j.jsx("p",{children:"Solo para control interno"})]})]}));V$.displayName="TicketPrint";const F$=U.createContext(void 0),Jee=()=>{const t=U.useContext(F$);if(!t)throw new Error("useCashier must be used within a CashierProvider");return t},Zee=({children:t})=>{const[e,r]=U.useState("");U.useEffect(()=>{const o=localStorage.getItem("currentCajero");o&&r(o)},[]);const n=o=>{r(o),localStorage.setItem("currentCajero",o)},i=()=>{r(""),localStorage.removeItem("currentCajero")};return j.jsx(F$.Provider,{value:{cajero:e,setCajero:n,clearCajero:i},children:t})},ete=({onSelect:t,products:e})=>{const[r,n]=U.useState(""),[i,o]=U.useState(!1),[s,l]=U.useState([]),c=U.useRef(null);U.useEffect(()=>{const y=w=>{c.current&&!c.current.contains(w.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),U.useEffect(()=>{if(r.trim()===""){l([]);return}const y=r.toLowerCase(),w=Object.values(e).filter(x=>x.nombre.toLowerCase().includes(y)||x.codigo.includes(r)).slice(0,5);l(w)},[r,e]);const f=y=>{t(y),n(y.nombre),o(!1)},d=y=>{y.key==="Enter"&&s.length>0&&f(s[0])},p=y=>y.ventaPorKilo?`${y.stock.toFixed(2)} kg`:`${y.stock} unidades`,v=y=>y.ventaPorKilo?`$${y.precio_venta.toFixed(2)}/kg`:`$${y.precio_venta.toFixed(2)}`;return j.jsxs("div",{className:"relative",ref:c,children:[j.jsxs("div",{className:"relative",children:[j.jsx("input",{type:"text",value:r,onChange:y=>{n(y.target.value),o(!0)},onFocus:()=>o(!0),onKeyDown:d,placeholder:"Buscar por nombre o cdigo...",className:"w-full p-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),j.jsx(l5,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r&&j.jsx("button",{onClick:()=>{n(""),l([])},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j.jsx(Cp,{size:18})})]}),i&&s.length>0&&j.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg",children:s.map(y=>j.jsxs("button",{onClick:()=>f(y),className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100",children:[j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsx("div",{className:"font-medium",children:y.nombre}),j.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[y.ventaPorKilo?j.jsx(fM,{size:16,className:"text-blue-500"}):j.jsx(Jm,{size:16,className:"text-green-500"}),j.jsx("span",{children:y.ventaPorKilo?"Por Kilo":"Por Unidad"})]})]}),j.jsxs("div",{className:"text-sm text-gray-500",children:["Cdigo: ",y.codigo," | Stock: ",p(y)," | Precio: ",v(y)]})]},y.codigo))})]})},tte=()=>{var Q;const{products:t,getProduct:e,addSale:r,decreaseStock:n}=dh(),{showToast:i}=$$(),{cajero:o,setCajero:s}=Jee(),l=U.useRef(null),[c,f]=U.useState(""),[d,p]=U.useState("1"),[v,y]=U.useState([]),[w,x]=U.useState({}),[_,T]=U.useState(null),A=Qee.useReactToPrint({contentRef:l,documentTitle:"Ticket de Venta",onAfterPrint:()=>{i("Ticket enviado a impresora","success")},onBeforePrint:async()=>{i("Preparando impresin...","info")}}),O=()=>{if(v.length===0){i("No hay productos en el carrito para imprimir","warning");return}if(!o.trim()){i("Debe ingresar el nombre del cajero antes de imprimir","warning");return}const G=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});T({cart:[...v],cajero:o,total:k(),fecha:G}),setTimeout(()=>{l.current?A():i("Error: No se pudo encontrar el contenido del ticket para imprimir.","error")},100)},M=()=>{const G={};if(c||(G.codigo="El cdigo de barras es obligatorio"),!d)G.cantidad="La cantidad es obligatoria";else{const te=parseFloat(d);(isNaN(te)||te<=0)&&(G.cantidad="La cantidad debe ser un nmero positivo")}return x(G),Object.keys(G).length===0},C=()=>o.trim()?(x(G=>{const{cajero:te,...J}=G;return J}),!0):(x(G=>({...G,cajero:"El nombre del cajero es obligatorio"})),!1),N=()=>{if(!M())return;const G=t[c];if(!G){i("Producto no encontrado","error");return}const te=parseFloat(d),J=v.findIndex(X=>X.codigo===c),oe=J>=0?v[J].cantidad:0,ne=oe+te;if(G.stock<ne){const X=G.ventaPorKilo?`Stock insuficiente. Stock disponible: ${G.stock.toFixed(2)} kg, en carrito: ${oe.toFixed(2)} kg`:`Stock insuficiente. Stock disponible: ${G.stock} unidades, en carrito: ${oe}`;i(X,"warning");return}const q=G.precio_venta*te;if(J>=0)y(X=>X.map((ue,Ee)=>Ee===J?{...ue,cantidad:ue.cantidad+te,subtotal:ue.subtotal+q}:ue));else{const X=Date.now().toString();y(ue=>[...ue,{id:X,codigo:G.codigo,nombre:G.nombre,cantidad:te,precio_unitario:G.precio_venta,subtotal:q,ventaPorKilo:G.ventaPorKilo}])}f(""),p("1"),x(X=>{const{codigo:ue,cantidad:Ee,...Ae}=X;return Ae}),i(`${G.nombre} agregado a la venta`,"success")},P=G=>{y(te=>te.filter(J=>J.id!==G))},I=()=>{if(!C())return;if(v.length===0){i("No hay productos en la venta actual","warning");return}let G=!0;const te=new Date().toISOString(),J=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),oe={cart:[...v],cajero:o,total:k(),fecha:J};v.forEach(ne=>{if(n(ne.codigo,ne.cantidad)){const X={fecha_hora:te,codigo_barra:ne.codigo,nombre_producto:ne.nombre,cantidad_vendida:ne.cantidad,precio_unitario:ne.precio_unitario,total_linea:ne.subtotal,cajero:o};r(X)}else G=!1,i(`Error al procesar ${ne.nombre}. Verifique el stock.`,"error")}),G&&(T(oe),i(`Venta finalizada exitosamente. Total: $${k().toFixed(2)}`,"success"),y([]))},k=()=>v.reduce((G,te)=>G+te.subtotal,0),V=()=>v.reduce((G,te)=>G+te.cantidad,0),D=G=>G.ventaPorKilo?`${G.cantidad.toFixed(2)} kg`:`${G.cantidad} unidades`,F=G=>G.ventaPorKilo?`$${G.precio_unitario.toFixed(2)}/kg`:`$${G.precio_unitario.toFixed(2)}`,L=[{header:"Producto",accessor:"nombre"},{header:"Cantidad",accessor:"cantidad",render:G=>j.jsxs("div",{className:"flex items-center gap-2",children:[G.ventaPorKilo?j.jsx(fM,{size:16,className:"text-blue-500"}):j.jsx(Jm,{size:16,className:"text-green-500"}),D(G)]})},{header:"Precio Unit.",accessor:"precio_unitario",render:G=>F(G)},{header:"Subtotal",accessor:"subtotal",render:G=>`$${G.subtotal.toFixed(2)}`},{header:"Acciones",accessor:"id",render:G=>j.jsx(en,{variant:"danger",onClick:()=>P(G.id),children:j.jsx(dM,{size:16})})}],H=G=>{f(G.codigo),p("1"),x(te=>{const{codigo:J,cantidad:oe,...ne}=te;return ne})};return j.jsxs("div",{children:[j.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Registro de Ventas"}),j.jsx("div",{style:{display:"none"},children:_&&j.jsx(V$,{ref:l,cart:_.cart,cajero:_.cajero,total:_.total,fecha:_.fecha})}),j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[j.jsxs("div",{className:"lg:col-span-2",children:[j.jsx("div",{className:"mb-6",children:j.jsx(Qr,{label:"Nombre del Cajero",id:"cajero",value:o,onChange:G=>s(G.target.value),placeholder:"Ingrese nombre del cajero",required:!0,error:w.cajero})}),j.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6",children:[j.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[j.jsx(hM,{size:20})," Agregar Productos"]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[j.jsx("div",{className:"md:col-span-2",children:j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Buscar Producto"}),j.jsx(ete,{onSelect:H,products:t})]})}),j.jsx("div",{children:j.jsx(Qr,{label:"Cantidad",id:"cantidad",type:"number",value:d,onChange:G=>p(G.target.value),placeholder:"1",required:!0,error:w.cantidad,step:(Q=t[c])!=null&&Q.ventaPorKilo?"0.01":"1"})})]}),j.jsxs(en,{onClick:N,variant:"primary",className:"w-full",children:[j.jsx(lM,{size:18})," Aadir a Venta"]})]}),j.jsxs("div",{className:"bg-white border rounded-lg",children:[j.jsx("div",{className:"p-4 border-b",children:j.jsx("h4",{className:"text-md font-medium",children:"Productos en esta venta:"})}),j.jsx(vx,{columns:L,data:v,keyExtractor:G=>G.id,emptyMessage:"No hay productos en la venta actual"})]})]}),j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[j.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[j.jsx(r5,{size:20})," Resumen de Venta"]}),j.jsxs("div",{className:"space-y-3",children:[j.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[j.jsx("span",{className:"text-gray-600",children:"Total Items:"}),j.jsx("span",{className:"font-semibold",children:V()})]}),j.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[j.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),j.jsxs("span",{className:"font-semibold text-blue-600",children:["$",k().toFixed(2)]})]}),j.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded border-2 border-green-200",children:[j.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"TOTAL:"}),j.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",k().toFixed(2)]})]})]}),j.jsxs("div",{className:"space-y-2 mt-4",children:[v.length>0&&j.jsxs(en,{variant:"secondary",className:"w-full",onClick:O,children:[j.jsx(pP,{size:18}),"Imprimir Carrito Actual"]}),v.length>0&&j.jsxs(en,{variant:"success",onClick:I,className:"w-full",children:[j.jsx(sM,{size:18})," Finalizar Venta"]}),_&&j.jsxs(en,{variant:"primary",className:"w-full",onClick:()=>{l.current&&A()},children:[j.jsx(pP,{size:18}),"Reimprimir ltima Venta"]})]})]}),j.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[j.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:" Consejos:"}),j.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[j.jsx("li",{children:" Use +/- para ajustar cantidades"}),j.jsx("li",{children:" El stock se verifica en tiempo real"}),j.jsx("li",{children:" Los precios se toman automticamente"}),j.jsx("li",{children:" Puede imprimir desde la primera venta"})]})]})]})]})]})},rte=()=>{var L;const{products:t,sales:e,updateProduct:r,deleteProduct:n,updateStock:i}=dh(),[o,s]=U.useState("stock"),[l,c]=U.useState(null),[f,d]=U.useState(null),[p,v]=U.useState({precio_costo:"",precio_venta:""}),[y,w]=U.useState(""),[x,_]=U.useState(null),T=U.useMemo(()=>Object.values(t).sort((H,Q)=>H.nombre.localeCompare(Q.nombre)),[t]),A=U.useMemo(()=>[...e].sort((H,Q)=>new Date(Q.fecha_hora).getTime()-new Date(H.fecha_hora).getTime()),[e]),O=H=>{c(H.codigo),v({precio_costo:H.precio_costo.toString(),precio_venta:H.precio_venta.toString()})},M=H=>{const Q=parseFloat(p.precio_costo),G=parseFloat(p.precio_venta);Q>=0&&G>=0&&r({...t[H],precio_costo:Q,precio_venta:G}),c(null),v({precio_costo:"",precio_venta:""})},C=()=>{c(null),v({precio_costo:"",precio_venta:""})},N=H=>{d(H.codigo),w(H.stock.toString())},P=H=>{const Q=parseInt(y);!isNaN(Q)&&Q>=0&&i(H,Q),d(null),w("")},I=()=>{d(null),w("")},k=H=>{n(H),_(null)},V=[{header:"Cdigo",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Stock Actual",accessor:"stock",render:H=>f===H.codigo?j.jsx(Qr,{type:"number",min:"0",value:y,onChange:Q=>w(Q.target.value),className:"w-20 text-sm",label:"",id:""}):j.jsxs("span",{className:`font-medium ${H.stock<=5?"text-red-600":""}`,children:[H.stock," ",H.ventaPorKilo?"kg":"unidades"]})},{header:"Precio Costo",accessor:"precio_costo",render:H=>l===H.codigo?j.jsx(Qr,{type:"number",step:"0.01",value:p.precio_costo,onChange:Q=>v(G=>({...G,precio_costo:Q.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${H.precio_costo.toFixed(2)}`},{header:"Precio Venta",accessor:"precio_venta",render:H=>l===H.codigo?j.jsx(Qr,{type:"number",step:"0.01",value:p.precio_venta,onChange:Q=>v(G=>({...G,precio_venta:Q.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${H.precio_venta.toFixed(2)}`},{header:"Acciones",accessor:"codigo",render:H=>l===H.codigo?j.jsxs("div",{className:"flex gap-1",children:[j.jsx("button",{onClick:()=>M(H.codigo),className:"p-1 text-green-600 hover:text-green-800",title:"Guardar precios",children:j.jsx(cP,{size:16})}),j.jsx("button",{onClick:C,className:"p-1 text-red-600 hover:text-red-800",title:"Cancelar",children:j.jsx(Cp,{size:16})})]}):f===H.codigo?j.jsxs("div",{className:"flex gap-1",children:[j.jsx("button",{onClick:()=>P(H.codigo),className:"p-1 text-green-600 hover:text-green-800",title:"Guardar stock",children:j.jsx(cP,{size:16})}),j.jsx("button",{onClick:I,className:"p-1 text-red-600 hover:text-red-800",title:"Cancelar",children:j.jsx(Cp,{size:16})})]}):j.jsxs("div",{className:"flex gap-1",children:[j.jsx("button",{onClick:()=>O(H),className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar precios",children:j.jsx(u5,{size:16})}),j.jsx("button",{onClick:()=>N(H),className:"p-1 text-orange-600 hover:text-orange-800",title:"Editar stock",children:j.jsx(Jm,{size:16})}),j.jsx("button",{onClick:()=>_(H.codigo),className:"p-1 text-red-600 hover:text-red-800",title:"Eliminar producto",children:j.jsx(dM,{size:16})})]})}],D=[{header:"Fecha y Hora",accessor:"fecha_hora",render:H=>{const Q=new Date(H.fecha_hora);return`${Q.toLocaleDateString()} ${Q.toLocaleTimeString()}`}},{header:"Cajero",accessor:"cajero"},{header:"Producto",accessor:"nombre_producto"},{header:"Cantidad",accessor:"cantidad_vendida"},{header:"Cdigo",accessor:"codigo_barra"}],F=(H,Q)=>{const G=Object.keys(H[0]||{}).join(","),te=H.map(X=>Object.values(X).join(",")),J=[G,...te].join(`
`),oe=new Blob([J],{type:"text/csv"}),ne=URL.createObjectURL(oe),q=document.createElement("a");q.href=ne,q.download=`${Q}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(q),q.click(),document.body.removeChild(q)};return j.jsxs("div",{children:[j.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Reportes"}),x&&j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:j.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:[j.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Confirmar Eliminacin"}),j.jsxs("p",{className:"mb-6 text-gray-700",children:["Ests seguro de que deseas eliminar el producto ",j.jsx("strong",{children:(L=t[x])==null?void 0:L.nombre}),"?",j.jsx("br",{}),j.jsx("span",{className:"text-sm text-red-600",children:"Esta accin no se puede deshacer."})]}),j.jsxs("div",{className:"flex gap-3 justify-end",children:[j.jsx(en,{variant:"secondary",onClick:()=>_(null),children:"Cancelar"}),j.jsx(en,{variant:"primary",onClick:()=>k(x),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),j.jsxs("div",{className:"mb-6 flex gap-4",children:[j.jsxs(en,{variant:o==="stock"?"primary":"secondary",onClick:()=>s("stock"),children:[j.jsx(lP,{size:18}),"Inventario Actual"]}),j.jsxs(en,{variant:o==="sales"?"primary":"secondary",onClick:()=>s("sales"),children:[j.jsx(lP,{size:18}),"Historial de Ventas"]})]}),o==="stock"?j.jsxs("div",{children:[j.jsxs("div",{className:"flex justify-between items-center mb-4",children:[j.jsx("h3",{className:"text-lg font-medium",children:"Inventario de Productos"}),j.jsxs(en,{variant:"secondary",onClick:()=>F(T,"inventario"),disabled:T.length===0,children:[j.jsx(fP,{size:18}),"Exportar a CSV"]})]}),j.jsx(vx,{columns:V,data:T,keyExtractor:H=>H.codigo,emptyMessage:"No hay productos registrados"}),T.length>0&&j.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de productos: ",T.length," | Stock total: ",T.reduce((H,Q)=>H+Q.stock,0)," ",(()=>{const H=new Set(T.map(Q=>Q.ventaPorKilo?"kg":"unidades"));return H.size===1?Array.from(H)[0]:"unidades/kg"})()]})]}):j.jsxs("div",{children:[j.jsxs("div",{className:"flex justify-between items-center mb-4",children:[j.jsx("h3",{className:"text-lg font-medium",children:"Historial de Ventas"}),j.jsxs(en,{variant:"secondary",onClick:()=>F(A,"ventas"),disabled:A.length===0,children:[j.jsx(fP,{size:18}),"Exportar a CSV"]})]}),j.jsx(vx,{columns:D,data:A,keyExtractor:H=>H.fecha_hora+H.codigo_barra,emptyMessage:"No hay ventas registradas"}),A.length>0&&j.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de ventas: ",A.length," | Unidades vendidas: ",A.reduce((H,Q)=>H+Q.cantidad_vendida,0)]})]})]})},nte=()=>{};var pN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},ite=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},U$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(v=64)),n.push(r[d],r[p],r[v],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ite(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new ote;const v=o<<2|l>>4;if(n.push(v),f!==64){const y=l<<4&240|f>>2;if(n.push(y),p!==64){const w=f<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ote extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ate=function(t){const e=B$(t);return U$.encodeByteArray(e,!0)},Im=function(t){return ate(t).replace(/\./g,"")},q$=function(t){try{return U$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=()=>ste().__FIREBASE_DEFAULTS__,lte=()=>{if(typeof process>"u"||typeof pN>"u")return;const t=pN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q$(t[1]);return e&&JSON.parse(e)},Dg=()=>{try{return nte()||ute()||lte()||cte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z$=t=>{var e,r;return(r=(e=Dg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},fte=t=>{const e=z$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},W$=()=>{var t;return(t=Dg())===null||t===void 0?void 0:t.config},H$=t=>{var e;return(e=Dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return t.endsWith(".cloudworkstations.dev")}async function K$(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Im(JSON.stringify(r)),Im(JSON.stringify(s)),""].join(".")}const ff={};function pte(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function mte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let mN=!1;function G$(t,e){if(typeof window>"u"||typeof document>"u"||!bh(window.location.host)||ff[t]===e||ff[t]||mN)return;ff[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=pte().prod.length>0;function s(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{mN=!0,s()},v}function d(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=mte(n),y=r("text"),w=document.getElementById(y)||document.createElement("span"),x=r("learnmore"),_=document.getElementById(x)||document.createElement("a"),T=r("preprendIcon"),A=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),d(_,x);const M=f();c(A,T),O.append(A,w,_,M),document.body.appendChild(O)}o?(w.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function vte(){var t;const e=(t=Dg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _te(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wte(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xte(){return!vte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ete(){try{return typeof indexedDB=="object"}catch{return!1}}function Ste(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte="FirebaseError";class To extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Tte,Object.setPrototypeOf(this,To.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wh.prototype.create)}}class wh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ate(o,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new To(i,l,n)}}function Ate(t,e){return t.replace(Pte,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Pte=/\{\$([^}]+)}/g;function Ite(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(gN(o)&&gN(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function gN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ef(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Ote(t,e){const r=new Cte(t,e);return r.subscribe.bind(r)}class Cte{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");kte(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=jw),i.error===void 0&&(i.error=jw),i.complete===void 0&&(i.complete=jw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kte(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function jw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new hte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jte(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Nte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nte(t){return t===os?void 0:t}function jte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Rte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const Dte={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},Lte=et.INFO,$te={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},Vte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=$te[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class QE{constructor(e){this.name=e,this._logLevel=Lte,this._logHandler=Vte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const Fte=(t,e)=>e.some(r=>t instanceof r);let vN,yN;function Bte(){return vN||(vN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ute(){return yN||(yN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X$=new WeakMap,yx=new WeakMap,Y$=new WeakMap,Mw=new WeakMap,JE=new WeakMap;function qte(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(ua(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&X$.set(r,t)}).catch(()=>{}),JE.set(e,t),e}function zte(t){if(yx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yx.set(t,e)}let _x={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return yx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ua(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wte(t){_x=t(_x)}function Hte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Dw(this),e,...r);return Y$.set(n,e.sort?e.sort():[e]),ua(n)}:Ute().includes(t)?function(...e){return t.apply(Dw(this),e),ua(X$.get(this))}:function(...e){return ua(t.apply(Dw(this),e))}}function Kte(t){return typeof t=="function"?Hte(t):(t instanceof IDBTransaction&&zte(t),Fte(t,Bte())?new Proxy(t,_x):t)}function ua(t){if(t instanceof IDBRequest)return qte(t);if(Mw.has(t))return Mw.get(t);const e=Kte(t);return e!==t&&(Mw.set(t,e),JE.set(e,t)),e}const Dw=t=>JE.get(t);function Gte(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=ua(s);return n&&s.addEventListener("upgradeneeded",c=>{n(ua(s.result),c.oldVersion,c.newVersion,ua(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Xte=["get","getKey","getAll","getAllKeys","count"],Yte=["put","add","delete","clear"],Lw=new Map;function _N(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lw.get(e))return Lw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Yte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Xte.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return Lw.set(e,o),o}Wte(t=>({...t,get:(e,r,n)=>_N(e,r)||t.get(e,r,n),has:(e,r)=>!!_N(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Jte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Jte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bx="@firebase/app",bN="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new QE("@firebase/app"),Zte="@firebase/app-compat",ere="@firebase/analytics-compat",tre="@firebase/analytics",rre="@firebase/app-check-compat",nre="@firebase/app-check",ire="@firebase/auth",ore="@firebase/auth-compat",are="@firebase/database",sre="@firebase/data-connect",ure="@firebase/database-compat",lre="@firebase/functions",cre="@firebase/functions-compat",fre="@firebase/installations",hre="@firebase/installations-compat",dre="@firebase/messaging",pre="@firebase/messaging-compat",mre="@firebase/performance",gre="@firebase/performance-compat",vre="@firebase/remote-config",yre="@firebase/remote-config-compat",_re="@firebase/storage",bre="@firebase/storage-compat",wre="@firebase/firestore",xre="@firebase/ai",Ere="@firebase/firestore-compat",Sre="firebase",Tre="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="[DEFAULT]",Are={[bx]:"fire-core",[Zte]:"fire-core-compat",[tre]:"fire-analytics",[ere]:"fire-analytics-compat",[nre]:"fire-app-check",[rre]:"fire-app-check-compat",[ire]:"fire-auth",[ore]:"fire-auth-compat",[are]:"fire-rtdb",[sre]:"fire-data-connect",[ure]:"fire-rtdb-compat",[lre]:"fire-fn",[cre]:"fire-fn-compat",[fre]:"fire-iid",[hre]:"fire-iid-compat",[dre]:"fire-fcm",[pre]:"fire-fcm-compat",[mre]:"fire-perf",[gre]:"fire-perf-compat",[vre]:"fire-rc",[yre]:"fire-rc-compat",[_re]:"fire-gcs",[bre]:"fire-gcs-compat",[wre]:"fire-fst",[Ere]:"fire-fst-compat",[xre]:"fire-vertex","fire-js":"fire-js",[Sre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map,Pre=new Map,xx=new Map;function wN(t,e){try{t.container.addComponent(e)}catch(r){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bl(t){const e=t.name;if(xx.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;xx.set(e,t);for(const r of Om.values())wN(r,t);for(const r of Pre.values())wN(r,t);return!0}function ZE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ni(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ire={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new wh("app","Firebase",Ire);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=Tre;function Q$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:wx,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(r||(r=W$()),!r)throw la.create("no-options");const o=Om.get(i);if(o){if(Ss(r,o.options)&&Ss(n,o.config))return o;throw la.create("duplicate-app",{appName:i})}const s=new Mte(i);for(const c of xx.values())s.addComponent(c);const l=new Ore(r,n,s);return Om.set(i,l),l}function J$(t=wx){const e=Om.get(t);if(!e&&t===wx&&W$())return Q$();if(!e)throw la.create("no-app",{appName:t});return e}function ca(t,e,r){var n;let i=(n=Are[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(l.join(" "));return}bl(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre="firebase-heartbeat-database",kre=1,Zf="firebase-heartbeat-store";let $w=null;function Z$(){return $w||($w=Gte(Cre,kre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(r){console.warn(r)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),$w}async function Rre(t){try{const r=(await Z$()).transaction(Zf),n=await r.objectStore(Zf).get(eV(t));return await r.done,n}catch(e){if(e instanceof To)go.warn(e.message);else{const r=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(r.message)}}}async function xN(t,e){try{const n=(await Z$()).transaction(Zf,"readwrite");await n.objectStore(Zf).put(e,eV(t)),await n.done}catch(r){if(r instanceof To)go.warn(r.message);else{const n=la.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});go.warn(n.message)}}}function eV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre=1024,jre=30;class Mre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Lre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jre){const s=$re(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){go.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=EN(),{heartbeatsToSend:n,unsentEntries:i}=Dre(this._heartbeatsCache.heartbeats),o=Im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return go.warn(r),""}}}function EN(){return new Date().toISOString().substring(0,10)}function Dre(t,e=Nre){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),SN(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),SN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Lre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ete()?Ste().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Rre(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return xN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return xN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SN(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}function $re(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(t){bl(new Ts("platform-logger",e=>new Qte(e),"PRIVATE")),bl(new Ts("heartbeat",e=>new Mre(e),"PRIVATE")),ca(bx,bN,t),ca(bx,bN,"esm2017"),ca("fire-js","")}Vre("");function eS(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function tV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fre=tV,rV=new wh("auth","Firebase",tV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new QE("@firebase/auth");function Bre(t,...e){Cm.logLevel<=et.WARN&&Cm.warn(`Auth (${Vl}): ${t}`,...e)}function _p(t,...e){Cm.logLevel<=et.ERROR&&Cm.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,...e){throw tS(t,...e)}function Ti(t,...e){return tS(t,...e)}function nV(t,e,r){const n=Object.assign(Object.assign({},Fre()),{[e]:r});return new wh("auth","Firebase",n).create(e,{appName:t.name})}function fa(t){return nV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tS(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return rV.create(t,...e)}function qe(t,e,...r){if(!t)throw tS(e,...r)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function vo(t,e){t||io(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ure(){return TN()==="http:"||TN()==="https:"}function TN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ure()||_te()||"connection"in navigator)?navigator.onLine:!0}function zre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r){this.shortDelay=e,this.longDelay=r,vo(r>e,"Short delay should be less than long delay!"),this.isMobile=gte()||bte()}get(){return qre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e){vo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kre=new Eh(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,r,n,i={}){return oV(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const l=xh(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return yte()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&bh(t.emulatorConfig.host)&&(f.credentials="include"),iV.fetch()(await aV(t,t.config.apiHost,r,l),f)})}async function oV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Wre),e);try{const i=new Xre(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw up(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw up(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw up(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw nV(t,d,f);si(t,d)}}catch(i){if(i instanceof To)throw i;si(t,"network-request-failed",{message:String(i)})}}async function Lg(t,e,r,n,i={}){const o=await Aa(t,e,r,n,i);return"mfaPendingCredential"in o&&si(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function aV(t,e,r,n){const i=`${e}${r}?${n}`,o=t,s=o.config.emulator?rS(t.config,i):`${t.config.apiScheme}://${i}`;return Hre.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Gre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ti(this.auth,"network-request-failed")),Kre.get())})}}function up(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ti(t,e,n);return i.customData._tokenResponse=r,i}function AN(t){return t!==void 0&&t.enterprise!==void 0}class Yre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Gre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qre(t,e){return Aa(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jre(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function km(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zre(t,e=!1){const r=vn(t),n=await r.getIdToken(e),i=nS(n);qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:hf(Vw(i.auth_time)),issuedAtTime:hf(Vw(i.iat)),expirationTime:hf(Vw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vw(t){return Number(t)*1e3}function nS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=q$(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PN(t){const e=nS(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof To&&ene(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function ene({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await eh(t,km(r,{idToken:n}));qe(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sV(o.providerUserInfo):[],l=nne(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Sx(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function rne(t){const e=vn(t);await Rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nne(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function sV(t){return t.map(e=>{var{providerId:r}=e,n=eS(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ine(t,e){const r=await oV(t,{},async()=>{const n=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await aV(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",iV.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function one(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=PN(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await ine(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new zu;return n&&(qe(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(qe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return io("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=eS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Zre(this,e)}reload(){return rne(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Rm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await eh(this,Jre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,s,l,c,f,d;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,y=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=r.photoURL)!==null&&s!==void 0?s:void 0,x=(l=r.tenantId)!==null&&l!==void 0?l:void 0,_=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,T=(f=r.createdAt)!==null&&f!==void 0?f:void 0,A=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:M,isAnonymous:C,providerData:N,stsTokenManager:P}=r;qe(O&&P,e,"internal-error");const I=zu.fromJSON(this.name,P);qe(typeof O=="string",e,"internal-error"),Yo(p,e.name),Yo(v,e.name),qe(typeof M=="boolean",e,"internal-error"),qe(typeof C=="boolean",e,"internal-error"),Yo(y,e.name),Yo(w,e.name),Yo(x,e.name),Yo(_,e.name),Yo(T,e.name),Yo(A,e.name);const k=new ii({uid:O,auth:e,email:v,emailVerified:M,displayName:p,isAnonymous:C,photoURL:w,phoneNumber:y,tenantId:x,stsTokenManager:I,createdAt:T,lastLoginAt:A});return N&&Array.isArray(N)&&(k.providerData=N.map(V=>Object.assign({},V))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,r,n=!1){const i=new zu;i.updateFromServerResponse(r);const o=new ii({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Rm(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?sV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new zu;l.updateFromIdToken(n);const c=new ii({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new Map;function oo(t){vo(t instanceof Function,"Expected a class definition");let e=IN.get(t);return e?(vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}uV.type="NONE";const ON=uV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e,r){return`firebase:${t}:${e}:${r}`}class Wu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await km(this.auth,{idToken:e}).catch(()=>{});return r?ii._fromGetAccountInfoResponse(this.auth,r,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wu(oo(ON),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||oo(ON);const s=bp(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const d=await f._get(s);if(d){let p;if(typeof d=="string"){const v=await km(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ii._fromGetAccountInfoResponse(e,v,d)}else p=ii._fromJSON(e,d);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Wu(o,e,n):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Wu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pV(e))return"Blackberry";if(mV(e))return"Webos";if(cV(e))return"Safari";if((e.includes("chrome/")||fV(e))&&!e.includes("edge/"))return"Chrome";if(dV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function lV(t=Nr()){return/firefox\//i.test(t)}function cV(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fV(t=Nr()){return/crios\//i.test(t)}function hV(t=Nr()){return/iemobile/i.test(t)}function dV(t=Nr()){return/android/i.test(t)}function pV(t=Nr()){return/blackberry/i.test(t)}function mV(t=Nr()){return/webos/i.test(t)}function iS(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ane(t=Nr()){var e;return iS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sne(){return wte()&&document.documentMode===10}function gV(t=Nr()){return iS(t)||dV(t)||mV(t)||pV(t)||/windows phone/i.test(t)||hV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t,e=[]){let r;switch(t){case"Browser":r=CN(Nr());break;case"Worker":r=`${CN(Nr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lne(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=6;class fne{constructor(e){var r,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:cne,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kN(this),this.idTokenSubscription=new kN(this),this.beforeStateQueue=new une(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=oo(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await km(this,{idToken:e}),n=await ii._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ni(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Rm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(fa(this));const r=e?vn(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lne(this),r=new fne(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await one(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&oo(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[oo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Bre(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fl(t){return vn(t)}class kN{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ote(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dne(t){$g=t}function yV(t){return $g.loadJS(t)}function pne(){return $g.recaptchaEnterpriseScript}function mne(){return $g.gapiScript}function gne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class vne{constructor(){this.enterprise=new yne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class yne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const _ne="recaptcha-enterprise",_V="NO_RECAPTCHA";class bne{constructor(e){this.type=_ne,this.auth=Fl(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{Qre(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Yre(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;AN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(_V)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vne().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{n(this.auth).then(l=>{if(!r&&AN(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=pne();c.length!==0&&(c+=l),yV(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function RN(t,e,r,n=!1,i=!1){const o=new bne(t);let s;if(i)s=_V;else try{s=await o.verify(r)}catch{s=await o.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function NN(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RN(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await RN(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wne(t,e){const r=ZE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Ss(o,e??{}))return i;si(i,"already-initialized")}return r.initialize({options:e})}function xne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Ene(t,e,r){const n=Fl(t);qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=bV(e),{host:s,port:l}=Sne(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){qe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qe(Ss(f,n.config.emulator)&&Ss(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,bh(s)?(K$(`${o}//${s}${c}`),G$("Auth",!0)):Tne()}function bV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sne(t){const e=bV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:jN(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:jN(s)}}}function jN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Tne(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,r){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function Ane(t,e){return Aa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pne(t,e){return Lg(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ine(t,e){return Lg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function One(t,e){return Lg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends oS{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new th(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new th(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NN(e,r,"signInWithPassword",Pne);case"emailLink":return Ine(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NN(e,n,"signUpPassword",Ane);case"emailLink":return One(e,{idToken:r,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e){return Lg(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne="http://localhost";class As extends oS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):si("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=eS(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new As(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Hu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hu(e,r)}buildRequest(){const e={requestUri:Cne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rne(t){const e=Zc(ef(t)).link,r=e?Zc(ef(e)).deep_link_id:null,n=Zc(ef(t)).deep_link_id;return(n?Zc(ef(n)).link:null)||n||r||e||t}class aS{constructor(e){var r,n,i,o,s,l;const c=Zc(ef(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,p=kne((i=c.mode)!==null&&i!==void 0?i:null);qe(f&&d&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=Rne(e);try{return new aS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,r){return th._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=aS.parseLink(r);return qe(n,"argument-error"),th._fromEmailAndCode(e,n.code,n.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends wV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Sh{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return As._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Sh{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sh{constructor(){super("twitter.com")}static credential(e,r){return As._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return na.credential(r,n)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ii._fromIdTokenResponse(e,n,i),s=MN(n);return new wl({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=MN(n);return new wl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function MN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends To{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Nm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Nm(e,r,n,i)}}function xV(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nm._fromErrorAndOperation(t,o,e,n):o})}async function Nne(t,e,r=!1){const n=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jne(t,e,r=!1){const{auth:n}=t;if(ni(n.app))return Promise.reject(fa(n));const i="reauthenticate";try{const o=await eh(t,xV(n,i,e,t),r);qe(o.idToken,n,"internal-error");const s=nS(o.idToken);qe(s,n,"internal-error");const{sub:l}=s;return qe(t.uid===l,n,"user-mismatch"),wl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&si(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,r=!1){if(ni(t.app))return Promise.reject(fa(t));const n="signIn",i=await xV(t,n,e),o=await wl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function Mne(t,e){return EV(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dne(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Lne(t,e,r){return ni(t.app)?Promise.reject(fa(t)):Mne(vn(t),Bl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Dne(t),n})}function $ne(t,e,r,n){return vn(t).onIdTokenChanged(e,r,n)}function Vne(t,e,r){return vn(t).beforeAuthStateChanged(e,r)}function Fne(t,e,r,n){return vn(t).onAuthStateChanged(e,r,n)}function Fw(t){return vn(t).signOut()}const jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=1e3,Une=10;class TV extends SV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);sne()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Une):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Bne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}TV.type="LOCAL";const qne=TV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV extends SV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}AV.type="SESSION";const PV=AV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Vg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,o)),c=await zne(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=sS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function Hne(t){Ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Kne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xne(){return IV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="firebaseLocalStorageDb",Yne=1,Mm="firebaseLocalStorage",CV="fbase_key";class Th{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fg(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function Qne(){const t=indexedDB.deleteDatabase(OV);return new Th(t).toPromise()}function Tx(){const t=indexedDB.open(OV,Yne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Mm,{keyPath:CV})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Mm)?e(n):(n.close(),await Qne(),e(await Tx()))})})}async function DN(t,e,r){const n=Fg(t,!0).put({[CV]:e,value:r});return new Th(n).toPromise()}async function Jne(t,e){const r=Fg(t,!1).get(e),n=await new Th(r).toPromise();return n===void 0?null:n.value}function LN(t,e){const r=Fg(t,!0).delete(e);return new Th(r).toPromise()}const Zne=800,eie=3;class kV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>eie)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vg._getInstance(Xne()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Kne(),!this.activeServiceWorker)return;this.sender=new Wne(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tx();return await DN(e,jm,"1"),await LN(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>DN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Jne(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>LN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Fg(i,!1).getAll();return new Th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kV.type="LOCAL";const tie=kV;new Eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t,e){return e?oo(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends oS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function nie(t){return EV(t.auth,new uS(t),t.bypassAuthState)}function iie(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),jne(r,new uS(t),t.bypassAuthState)}async function oie(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),Nne(r,new uS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nie;case"linkViaPopup":case"linkViaRedirect":return oie;case"reauthViaPopup":case"reauthViaRedirect":return iie;default:si(this.auth,"internal-error")}}resolve(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=new Eh(2e3,1e4);class Vu extends RV{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){vo(this.filter.length===1,"Popup operations only handle one event");const e=sS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aie.get())};e()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie="pendingRedirect",wp=new Map;class uie extends RV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await lie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lie(t,e){const r=hie(e),n=fie(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function cie(t,e){wp.set(t._key(),e)}function fie(t){return oo(t._redirectPersistence)}function hie(t){return bp(sie,t.config.apiKey,t.name)}async function die(t,e,r=!1){if(ni(t.app))return Promise.reject(fa(t));const n=Fl(t),i=rie(n,e),s=await new uie(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=10*60*1e3;class mie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gie(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!NV(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ti(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pie&&this.cachedEventUids.clear(),this.cachedEventUids.has($N(e))}saveEventToCache(e){this.cachedEventUids.add($N(e)),this.lastProcessedEventTime=Date.now()}}function $N(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vie(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_ie=/^https?/;async function bie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vie(t);for(const r of e)try{if(wie(r))return}catch{}si(t,"unauthorized-domain")}function wie(t){const e=Ex(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!_ie.test(r))return!1;if(yie.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=new Eh(3e4,6e4);function VN(){const t=Ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Eie(t){return new Promise((e,r)=>{var n,i,o;function s(){VN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VN(),r(Ti(t,"network-request-failed"))},timeout:xie.get()})}if(!((i=(n=Ai().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)s();else{const l=gne("iframefcb");return Ai()[l]=()=>{gapi.load?s():r(Ti(t,"network-request-failed"))},yV(`${mne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw xp=null,e})}let xp=null;function Sie(t){return xp=xp||Eie(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie=new Eh(5e3,15e3),Aie="__/auth/iframe",Pie="emulator/auth/iframe",Iie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cie(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?rS(e,Pie):`https://${t.config.authDomain}/${Aie}`,n={apiKey:e.apiKey,appName:t.name,v:Vl},i=Oie.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${xh(n).slice(1)}`}async function kie(t){const e=await Sie(t),r=Ai().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:Cie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iie,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=Ti(t,"network-request-failed"),l=Ai().setTimeout(()=>{o(s)},Tie.get());function c(){Ai().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nie=500,jie=600,Mie="_blank",Die="http://localhost";class FN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lie(t,e,r,n=Nie,i=jie){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Rie),{width:n.toString(),height:i.toString(),top:o,left:s}),f=Nr().toLowerCase();r&&(l=fV(f)?Mie:r),lV(f)&&(e=e||Die,c.scrollbars="yes");const d=Object.entries(c).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(ane(f)&&l!=="_self")return $ie(e||"",l),new FN(null);const p=window.open(e||"",l,d);qe(p,t,"popup-blocked");try{p.focus()}catch{}return new FN(p)}function $ie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie="__/auth/handler",Fie="emulator/auth/handler",Bie=encodeURIComponent("fac");async function BN(t,e,r,n,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vl,eventId:i};if(e instanceof wV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ite(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))s[d]=p}if(e instanceof Sh){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),f=c?`#${Bie}=${encodeURIComponent(c)}`:"";return`${Uie(t)}?${xh(l).slice(1)}${f}`}function Uie({config:t}){return t.emulator?rS(t,Fie):`https://${t.authDomain}/${Vie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="webStorageSupport";class qie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PV,this._completeRedirectFn=die,this._overrideRedirectResult=cie}async _openPopup(e,r,n,i){var o;vo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await BN(e,r,n,Ex(),i);return Lie(e,s,sS())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await BN(e,r,n,Ex(),i);return Hne(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(vo(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await kie(e),n=new mie(e);return r.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Bw,{type:Bw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Bw];s!==void 0&&r(!!s),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=bie(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return gV()||cV()||iS()}}const zie=qie;var UN="@firebase/auth",qN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kie(t){bl(new Ts("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;qe(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vV(t)},f=new hne(n,i,o,c);return xne(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bl(new Ts("auth-internal",e=>{const r=Fl(e.getProvider("auth").getImmediate());return(n=>new Wie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(UN,qN,Hie(t)),ca(UN,qN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gie=5*60,Xie=H$("authIdTokenMaxAge")||Gie;let zN=null;const Yie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Xie)return;const i=r==null?void 0:r.token;zN!==i&&(zN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Qie(t=J$()){const e=ZE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=wne(t,{popupRedirectResolver:zie,persistence:[tie,qne,PV]}),n=H$("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=Yie(o.toString());Vne(r,s,()=>s(r.currentUser)),$ne(r,l=>s(l))}}const i=z$("auth");return i&&Ene(r,`http://${i}`),r}function Jie(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Ti("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Jie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kie("Browser");var WN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,jV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function k(){}k.prototype=I.prototype,P.D=I.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(V,D,F){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return I.prototype[D].apply(V,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,I,k){k||(k=0);var V=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)V[D]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(D=0;16>D;++D)V[D]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=P.g[0],k=P.g[1],D=P.g[2];var F=P.g[3],L=I+(F^k&(D^F))+V[0]+3614090360&4294967295;I=k+(L<<7&4294967295|L>>>25),L=F+(D^I&(k^D))+V[1]+3905402710&4294967295,F=I+(L<<12&4294967295|L>>>20),L=D+(k^F&(I^k))+V[2]+606105819&4294967295,D=F+(L<<17&4294967295|L>>>15),L=k+(I^D&(F^I))+V[3]+3250441966&4294967295,k=D+(L<<22&4294967295|L>>>10),L=I+(F^k&(D^F))+V[4]+4118548399&4294967295,I=k+(L<<7&4294967295|L>>>25),L=F+(D^I&(k^D))+V[5]+1200080426&4294967295,F=I+(L<<12&4294967295|L>>>20),L=D+(k^F&(I^k))+V[6]+2821735955&4294967295,D=F+(L<<17&4294967295|L>>>15),L=k+(I^D&(F^I))+V[7]+4249261313&4294967295,k=D+(L<<22&4294967295|L>>>10),L=I+(F^k&(D^F))+V[8]+1770035416&4294967295,I=k+(L<<7&4294967295|L>>>25),L=F+(D^I&(k^D))+V[9]+2336552879&4294967295,F=I+(L<<12&4294967295|L>>>20),L=D+(k^F&(I^k))+V[10]+4294925233&4294967295,D=F+(L<<17&4294967295|L>>>15),L=k+(I^D&(F^I))+V[11]+2304563134&4294967295,k=D+(L<<22&4294967295|L>>>10),L=I+(F^k&(D^F))+V[12]+1804603682&4294967295,I=k+(L<<7&4294967295|L>>>25),L=F+(D^I&(k^D))+V[13]+4254626195&4294967295,F=I+(L<<12&4294967295|L>>>20),L=D+(k^F&(I^k))+V[14]+2792965006&4294967295,D=F+(L<<17&4294967295|L>>>15),L=k+(I^D&(F^I))+V[15]+1236535329&4294967295,k=D+(L<<22&4294967295|L>>>10),L=I+(D^F&(k^D))+V[1]+4129170786&4294967295,I=k+(L<<5&4294967295|L>>>27),L=F+(k^D&(I^k))+V[6]+3225465664&4294967295,F=I+(L<<9&4294967295|L>>>23),L=D+(I^k&(F^I))+V[11]+643717713&4294967295,D=F+(L<<14&4294967295|L>>>18),L=k+(F^I&(D^F))+V[0]+3921069994&4294967295,k=D+(L<<20&4294967295|L>>>12),L=I+(D^F&(k^D))+V[5]+3593408605&4294967295,I=k+(L<<5&4294967295|L>>>27),L=F+(k^D&(I^k))+V[10]+38016083&4294967295,F=I+(L<<9&4294967295|L>>>23),L=D+(I^k&(F^I))+V[15]+3634488961&4294967295,D=F+(L<<14&4294967295|L>>>18),L=k+(F^I&(D^F))+V[4]+3889429448&4294967295,k=D+(L<<20&4294967295|L>>>12),L=I+(D^F&(k^D))+V[9]+568446438&4294967295,I=k+(L<<5&4294967295|L>>>27),L=F+(k^D&(I^k))+V[14]+3275163606&4294967295,F=I+(L<<9&4294967295|L>>>23),L=D+(I^k&(F^I))+V[3]+4107603335&4294967295,D=F+(L<<14&4294967295|L>>>18),L=k+(F^I&(D^F))+V[8]+1163531501&4294967295,k=D+(L<<20&4294967295|L>>>12),L=I+(D^F&(k^D))+V[13]+2850285829&4294967295,I=k+(L<<5&4294967295|L>>>27),L=F+(k^D&(I^k))+V[2]+4243563512&4294967295,F=I+(L<<9&4294967295|L>>>23),L=D+(I^k&(F^I))+V[7]+1735328473&4294967295,D=F+(L<<14&4294967295|L>>>18),L=k+(F^I&(D^F))+V[12]+2368359562&4294967295,k=D+(L<<20&4294967295|L>>>12),L=I+(k^D^F)+V[5]+4294588738&4294967295,I=k+(L<<4&4294967295|L>>>28),L=F+(I^k^D)+V[8]+2272392833&4294967295,F=I+(L<<11&4294967295|L>>>21),L=D+(F^I^k)+V[11]+1839030562&4294967295,D=F+(L<<16&4294967295|L>>>16),L=k+(D^F^I)+V[14]+4259657740&4294967295,k=D+(L<<23&4294967295|L>>>9),L=I+(k^D^F)+V[1]+2763975236&4294967295,I=k+(L<<4&4294967295|L>>>28),L=F+(I^k^D)+V[4]+1272893353&4294967295,F=I+(L<<11&4294967295|L>>>21),L=D+(F^I^k)+V[7]+4139469664&4294967295,D=F+(L<<16&4294967295|L>>>16),L=k+(D^F^I)+V[10]+3200236656&4294967295,k=D+(L<<23&4294967295|L>>>9),L=I+(k^D^F)+V[13]+681279174&4294967295,I=k+(L<<4&4294967295|L>>>28),L=F+(I^k^D)+V[0]+3936430074&4294967295,F=I+(L<<11&4294967295|L>>>21),L=D+(F^I^k)+V[3]+3572445317&4294967295,D=F+(L<<16&4294967295|L>>>16),L=k+(D^F^I)+V[6]+76029189&4294967295,k=D+(L<<23&4294967295|L>>>9),L=I+(k^D^F)+V[9]+3654602809&4294967295,I=k+(L<<4&4294967295|L>>>28),L=F+(I^k^D)+V[12]+3873151461&4294967295,F=I+(L<<11&4294967295|L>>>21),L=D+(F^I^k)+V[15]+530742520&4294967295,D=F+(L<<16&4294967295|L>>>16),L=k+(D^F^I)+V[2]+3299628645&4294967295,k=D+(L<<23&4294967295|L>>>9),L=I+(D^(k|~F))+V[0]+4096336452&4294967295,I=k+(L<<6&4294967295|L>>>26),L=F+(k^(I|~D))+V[7]+1126891415&4294967295,F=I+(L<<10&4294967295|L>>>22),L=D+(I^(F|~k))+V[14]+2878612391&4294967295,D=F+(L<<15&4294967295|L>>>17),L=k+(F^(D|~I))+V[5]+4237533241&4294967295,k=D+(L<<21&4294967295|L>>>11),L=I+(D^(k|~F))+V[12]+1700485571&4294967295,I=k+(L<<6&4294967295|L>>>26),L=F+(k^(I|~D))+V[3]+2399980690&4294967295,F=I+(L<<10&4294967295|L>>>22),L=D+(I^(F|~k))+V[10]+4293915773&4294967295,D=F+(L<<15&4294967295|L>>>17),L=k+(F^(D|~I))+V[1]+2240044497&4294967295,k=D+(L<<21&4294967295|L>>>11),L=I+(D^(k|~F))+V[8]+1873313359&4294967295,I=k+(L<<6&4294967295|L>>>26),L=F+(k^(I|~D))+V[15]+4264355552&4294967295,F=I+(L<<10&4294967295|L>>>22),L=D+(I^(F|~k))+V[6]+2734768916&4294967295,D=F+(L<<15&4294967295|L>>>17),L=k+(F^(D|~I))+V[13]+1309151649&4294967295,k=D+(L<<21&4294967295|L>>>11),L=I+(D^(k|~F))+V[4]+4149444226&4294967295,I=k+(L<<6&4294967295|L>>>26),L=F+(k^(I|~D))+V[11]+3174756917&4294967295,F=I+(L<<10&4294967295|L>>>22),L=D+(I^(F|~k))+V[2]+718787259&4294967295,D=F+(L<<15&4294967295|L>>>17),L=k+(F^(D|~I))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+F&4294967295}n.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var k=I-this.blockSize,V=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=k;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<I;)if(V[D++]=P.charCodeAt(F++),D==this.blockSize){i(this,V),D=0;break}}else for(;F<I;)if(V[D++]=P[F++],D==this.blockSize){i(this,V),D=0;break}}this.h=D,this.o+=I},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var k=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=k&255,k/=256;for(this.u(P),P=Array(16),I=k=0;4>I;++I)for(var V=0;32>V;V+=8)P[k++]=this.g[I]>>>V&255;return P};function o(P,I){var k=l;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=I(P)}function s(P,I){this.h=I;for(var k=[],V=!0,D=P.length-1;0<=D;D--){var F=P[D]|0;V&&F==I||(k[D]=F,V=!1)}this.g=k}var l={};function c(P){return-128<=P&&128>P?o(P,function(I){return new s([I|0],0>I?-1:0)}):new s([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return _(f(-P));for(var I=[],k=1,V=0;P>=k;V++)I[V]=P/k|0,k*=4294967296;return new s(I,0)}function d(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return _(d(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(I,8)),V=p,D=0;D<P.length;D+=8){var F=Math.min(8,P.length-D),L=parseInt(P.substring(D,D+F),I);8>F?(F=f(Math.pow(I,F)),V=V.j(F).add(f(L))):(V=V.j(k),V=V.add(f(L)))}return V}var p=c(0),v=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-_(this).m();for(var P=0,I=1,k=0;k<this.g.length;k++){var V=this.i(k);P+=(0<=V?V:4294967296+V)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(x(this))return"-"+_(this).toString(P);for(var I=f(Math.pow(P,6)),k=this,V="";;){var D=M(k,I).g;k=T(k,D.j(I));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=D,w(k))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=T(this,P),x(P)?-1:w(P)?0:1};function _(P){for(var I=P.g.length,k=[],V=0;V<I;V++)k[V]=~P.g[V];return new s(k,~P.h).add(v)}t.abs=function(){return x(this)?_(this):this},t.add=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],V=0,D=0;D<=I;D++){var F=V+(this.i(D)&65535)+(P.i(D)&65535),L=(F>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);V=L>>>16,F&=65535,L&=65535,k[D]=L<<16|F}return new s(k,k[k.length-1]&-2147483648?-1:0)};function T(P,I){return P.add(_(I))}t.j=function(P){if(w(this)||w(P))return p;if(x(this))return x(P)?_(this).j(_(P)):_(_(this).j(P));if(x(P))return _(this.j(_(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var I=this.g.length+P.g.length,k=[],V=0;V<2*I;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var D=0;D<P.g.length;D++){var F=this.i(V)>>>16,L=this.i(V)&65535,H=P.i(D)>>>16,Q=P.i(D)&65535;k[2*V+2*D]+=L*Q,A(k,2*V+2*D),k[2*V+2*D+1]+=F*Q,A(k,2*V+2*D+1),k[2*V+2*D+1]+=L*H,A(k,2*V+2*D+1),k[2*V+2*D+2]+=F*H,A(k,2*V+2*D+2)}for(V=0;V<I;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=I;V<2*I;V++)k[V]=0;return new s(k,0)};function A(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function O(P,I){this.g=P,this.h=I}function M(P,I){if(w(I))throw Error("division by zero");if(w(P))return new O(p,p);if(x(P))return I=M(_(P),I),new O(_(I.g),_(I.h));if(x(I))return I=M(P,_(I)),new O(_(I.g),I.h);if(30<P.g.length){if(x(P)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var k=v,V=I;0>=V.l(P);)k=C(k),V=C(V);var D=N(k,1),F=N(V,1);for(V=N(V,2),k=N(k,2);!w(V);){var L=F.add(V);0>=L.l(P)&&(D=D.add(k),F=L),V=N(V,1),k=N(k,1)}return I=T(P,D.j(I)),new O(D,I)}for(D=p;0<=P.l(I);){for(k=Math.max(1,Math.floor(P.m()/I.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=f(k),L=F.j(I);x(L)||0<L.l(P);)k-=V,F=f(k),L=F.j(I);w(F)&&(F=v),D=D.add(F),P=T(P,L)}return new O(D,P)}t.A=function(P){return M(this,P).h},t.and=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],V=0;V<I;V++)k[V]=this.i(V)&P.i(V);return new s(k,this.h&P.h)},t.or=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],V=0;V<I;V++)k[V]=this.i(V)|P.i(V);return new s(k,this.h|P.h)},t.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),k=[],V=0;V<I;V++)k[V]=this.i(V)^P.i(V);return new s(k,this.h^P.h)};function C(P){for(var I=P.g.length+1,k=[],V=0;V<I;V++)k[V]=P.i(V)<<1|P.i(V-1)>>>31;return new s(k,P.h)}function N(P,I){var k=I>>5;I%=32;for(var V=P.g.length-k,D=[],F=0;F<V;F++)D[F]=0<I?P.i(F+k)>>>I|P.i(F+k+1)<<32-I:P.i(F+k);return new s(D,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,jV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,ha=s}).apply(typeof WN<"u"?WN:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MV,tf,DV,Ep,Ax,LV,$V,VV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,R){return m==Array.prototype||m==Object.prototype||(m[E]=R.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var E=0;E<m.length;++E){var R=m[E];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(m,E){if(E)e:{var R=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var Z=m[B];if(!(Z in R))break e;R=R[Z]}m=m[m.length-1],B=R[m],E=E(B),E!=B&&E!=null&&e(R,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var R=0,B=!1,Z={next:function(){if(!B&&R<m.length){var se=R++;return{value:E(se,m[se]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function d(m,E,R){return m.call.apply(m.bind,arguments)}function p(m,E,R){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,B),m.apply(E,Z)}}return function(){return m.apply(E,arguments)}}function v(m,E,R){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function y(m,E){var R=Array.prototype.slice.call(arguments,1);return function(){var B=R.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,E){function R(){}R.prototype=E.prototype,m.aa=E.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(B,Z,se){for(var xe=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)xe[mt-2]=arguments[mt];return E.prototype[Z].apply(B,xe)}}function x(m){const E=m.length;if(0<E){const R=Array(E);for(let B=0;B<E;B++)R[B]=m[B];return R}return[]}function _(m,E){for(let R=1;R<arguments.length;R++){const B=arguments[R];if(c(B)){const Z=m.length||0,se=B.length||0;m.length=Z+se;for(let xe=0;xe<se;xe++)m[Z+xe]=B[xe]}else m.push(B)}}class T{constructor(E,R){this.i=E,this.j=R,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function A(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var C=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function N(m,E,R){for(const B in m)E.call(R,m[B],B,m)}function P(m,E){for(const R in m)E.call(void 0,m[R],R,m)}function I(m){const E={};for(const R in m)E[R]=m[R];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,E){let R,B;for(let Z=1;Z<arguments.length;Z++){B=arguments[Z];for(R in B)m[R]=B[R];for(let se=0;se<k.length;se++)R=k[se],Object.prototype.hasOwnProperty.call(B,R)&&(m[R]=B[R])}}function D(m){var E=1;m=m.split(":");const R=[];for(;0<E&&m.length;)R.push(m.shift()),E--;return m.length&&R.push(m.join(":")),R}function F(m){l.setTimeout(()=>{throw m},0)}function L(){var m=oe;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class H{constructor(){this.h=this.g=null}add(E,R){const B=Q.get();B.set(E,R),this.h?this.h.next=B:this.g=B,this.h=B}}var Q=new T(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,R){this.h=E,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let te,J=!1,oe=new H,ne=()=>{const m=l.Promise.resolve(void 0);te=()=>{m.then(q)}};var q=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(R){F(R)}var E=Q;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}J=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};l.addEventListener("test",R,E),l.removeEventListener("test",R,E)}catch{}return m}();function Ae(m,E){if(ue.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(C){e:{try{M(E.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(E=null)}}else R=="mouseover"?E=m.fromElement:R=="mouseout"&&(E=m.toElement);this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:fe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ae.aa.h.call(this)}}w(Ae,ue);var fe={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),we=0;function le(m,E,R,B,Z){this.listener=m,this.proxy=null,this.src=E,this.type=R,this.capture=!!B,this.ha=Z,this.key=++we,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,E,R,B,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var xe=je(m,E,B,Z);return-1<xe?(E=m[xe],R||(E.fa=!1)):(E=new le(E,this.src,se,!!B,Z),E.fa=R,m.push(E)),E};function ie(m,E){var R=E.type;if(R in m.g){var B=m.g[R],Z=Array.prototype.indexOf.call(B,E,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(B,Z,1),se&&(Te(E),m.g[R].length==0&&(delete m.g[R],m.h--))}}function je(m,E,R,B){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==E&&se.capture==!!R&&se.ha==B)return Z}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Me={};function Ye(m,E,R,B,Z){if(Array.isArray(E)){for(var se=0;se<E.length;se++)Ye(m,E[se],R,B,Z);return null}return R=yn(R),m&&m[me]?m.K(E,R,f(B)?!!B.capture:!1,Z):st(m,E,R,!1,B,Z)}function st(m,E,R,B,Z,se){if(!E)throw Error("Invalid event type");var xe=f(Z)?!!Z.capture:!!Z,mt=nn(m);if(mt||(m[Se]=mt=new be(m)),R=mt.add(E,R,B,xe,se),R.proxy)return R;if(B=Ge(),R.proxy=B,B.src=m,B.listener=R,m.addEventListener)Ee||(Z=xe),Z===void 0&&(Z=!1),m.addEventListener(E.toString(),B,Z);else if(m.attachEvent)m.attachEvent(Lt(E.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ge(){function m(R){return E.call(m.src,m.listener,R)}const E=ar;return m}function _t(m,E,R,B,Z){if(Array.isArray(E))for(var se=0;se<E.length;se++)_t(m,E[se],R,B,Z);else B=f(B)?!!B.capture:!!B,R=yn(R),m&&m[me]?(m=m.i,E=String(E).toString(),E in m.g&&(se=m.g[E],R=je(se,R,B,Z),-1<R&&(Te(se[R]),Array.prototype.splice.call(se,R,1),se.length==0&&(delete m.g[E],m.h--)))):m&&(m=nn(m))&&(E=m.g[E.toString()],m=-1,E&&(m=je(E,R,B,Z)),(R=-1<m?E[m]:null)&&or(R))}function or(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[me])ie(E.i,m);else{var R=m.type,B=m.proxy;E.removeEventListener?E.removeEventListener(R,B,m.capture):E.detachEvent?E.detachEvent(Lt(R),B):E.addListener&&E.removeListener&&E.removeListener(B),(R=nn(E))?(ie(R,m),R.h==0&&(R.src=null,E[Se]=null)):Te(m)}}}function Lt(m){return m in Me?Me[m]:Me[m]="on"+m}function ar(m,E){if(m.da)m=!0;else{E=new Ae(E,this);var R=m.listener,B=m.ha||m.src;m.fa&&or(m),m=R.call(B,E)}return m}function nn(m){return m=m[Se],m instanceof be?m:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(m){return typeof m=="function"?m:(m[Ur]||(m[Ur]=function(E){return m.handleEvent(E)}),m[Ur])}function $t(){X.call(this),this.i=new be(this),this.M=this,this.F=null}w($t,X),$t.prototype[me]=!0,$t.prototype.removeEventListener=function(m,E,R,B){_t(this,m,E,R,B)};function Kt(m,E){var R,B=m.F;if(B)for(R=[];B;B=B.F)R.push(B);if(m=m.M,B=E.type||E,typeof E=="string")E=new ue(E,m);else if(E instanceof ue)E.target=E.target||m;else{var Z=E;E=new ue(B,m),V(E,Z)}if(Z=!0,R)for(var se=R.length-1;0<=se;se--){var xe=E.g=R[se];Z=Li(xe,B,!0,E)&&Z}if(xe=E.g=m,Z=Li(xe,B,!0,E)&&Z,Z=Li(xe,B,!1,E)&&Z,R)for(se=0;se<R.length;se++)xe=E.g=R[se],Z=Li(xe,B,!1,E)&&Z}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var R=m.g[E],B=0;B<R.length;B++)Te(R[B]);delete m.g[E],m.h--}}this.F=null},$t.prototype.K=function(m,E,R,B){return this.i.add(String(m),E,!1,R,B)},$t.prototype.L=function(m,E,R,B){return this.i.add(String(m),E,!0,R,B)};function Li(m,E,R,B){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Z=!0,se=0;se<E.length;++se){var xe=E[se];if(xe&&!xe.da&&xe.capture==R){var mt=xe.listener,Gt=xe.ha||xe.src;xe.fa&&ie(m.i,xe),Z=mt.call(Gt,B)!==!1&&Z}}return Z&&!B.defaultPrevented}function Hl(m,E,R){if(typeof m=="function")R&&(m=v(m,R));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(m,E||0)}function Ao(m){m.g=Hl(()=>{m.g=null,m.i&&(m.i=!1,Ao(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Pa extends X{constructor(E,R){super(),this.m=E,this.l=R,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(m){X.call(this),this.h=m,this.g={}}w(Ia,X);var Kl=[];function Gl(m){N(m.g,function(E,R){this.g.hasOwnProperty(R)&&or(E)},m),m.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Gl(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=l.JSON.stringify,Yl=l.JSON.parse,Ql=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Oa(){}Oa.prototype.h=null;function Fs(m){return m.h||(m.h=m.i())}function Bs(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){ue.call(this,"d")}w(li,ue);function Us(){ue.call(this,"c")}w(Us,ue);var ci={},Jl=null;function Ca(){return Jl=Jl||new $t}ci.La="serverreachability";function Zl(m){ue.call(this,ci.La,m)}w(Zl,ue);function $i(m){const E=Ca();Kt(E,new Zl(E))}ci.STAT_EVENT="statevent";function ec(m,E){ue.call(this,ci.STAT_EVENT,m),this.stat=E}w(ec,ue);function Vt(m){const E=Ca();Kt(E,new ec(E,m))}ci.Ma="timingevent";function qs(m,E){ue.call(this,ci.Ma,m),this.size=E}w(qs,ue);function $n(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},E)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function Ra(m,E,R,B,Z,se){m.info(function(){if(m.g)if(se)for(var xe="",mt=se.split("&"),Gt=0;Gt<mt.length;Gt++){var nt=mt[Gt].split("=");if(1<nt.length){var sr=nt[0];nt=nt[1];var Ut=sr.split("_");xe=2<=Ut.length&&Ut[1]=="type"?xe+(sr+"="+nt+"&"):xe+(sr+"=redacted&")}}else xe=null;else xe=se;return"XMLHTTP REQ ("+B+") [attempt "+Z+"]: "+E+`
`+R+`
`+xe})}function zs(m,E,R,B,Z,se,xe){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Z+"]: "+E+`
`+R+`
`+se+" "+xe})}function Vn(m,E,R,B){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Zg(m,R)+(B?" "+B:"")})}function tc(m,E){m.info(function(){return"TIMEOUT: "+E})}ka.prototype.info=function(){};function Zg(m,E){if(!m.g)return E;if(!E)return null;try{var R=JSON.parse(E);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var B=R[m];if(!(2>B.length)){var Z=B[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var xe=1;xe<Z.length;xe++)Z[xe]=""}}}}return Xl(R)}catch{return E}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ch={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function Na(){}w(Na,Oa),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Fn=new Na;function Bn(m,E,R,B){this.j=m,this.i=E,this.l=R,this.R=B||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kh}function kh(){this.i=null,this.g="",this.h=!1}var rc={},Hs={};function Ks(m,E,R){m.L=1,m.v=ko(an(E)),m.m=R,m.P=!0,nc(m,null)}function nc(m,E){m.F=Date.now(),bt(m),m.A=an(m.v);var R=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),No(R.i,"t",B),m.C=0,R=m.j.J,m.h=new kh,m.g=Xh(m.j,R?E:null,!m.m),0<m.O&&(m.M=new Pa(v(m.Y,m,m.g),m.O)),E=m.U,R=m.g,B=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Kl[0]=Z.toString()),Z=Kl);for(var se=0;se<Z.length;se++){var xe=Ye(R,Z[se],B||E.handleEvent,!1,E.h||E);if(!xe)break;E.g[xe.key]=xe}E=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),$i(),Ra(m.i,m.u,m.A,m.l,m.R,m.m)}Bn.prototype.ca=function(m){m=m.target;const E=this.M;E&&zr(m)==3?E.j():this.Y(m)},Bn.prototype.Y=function(m){try{if(m==this.g)e:{const Ut=zr(this.g);var E=this.g.Ba();const xn=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Ut!=4||E==7||(E==8||0>=xn?$i(3):$i(2)),ja(this);var R=this.g.Z();this.X=R;t:if(Rh(this)){var B=lc(this.g);m="";var Z=B.length,se=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Po(this);var xe="";break t}this.h.i=new l.TextDecoder}for(E=0;E<Z;E++)this.h.h=!0,m+=this.h.i.decode(B[E],{stream:!(se&&E==Z-1)});B.length=0,this.h.g+=m,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=R==200,zs(this.i,this.u,this.A,this.l,this.R,Ut,R),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Gt=this.g;if((mt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(mt)){var nt=mt;break t}}nt=null}if(R=nt)Vn(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,R);else{this.o=!1,this.s=3,Vt(12),bn(this),Po(this);break e}}if(this.P){R=!0;let un;for(;!this.J&&this.C<xe.length;)if(un=ev(this,xe),un==Hs){Ut==4&&(this.s=4,Vt(14),R=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==rc){this.s=4,Vt(15),Vn(this.i,this.l,xe,"[Invalid Chunk]"),R=!1;break}else Vn(this.i,this.l,un,null),ic(this,un);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||xe.length!=0||this.h.h||(this.s=1,Vt(16),R=!1),this.o=this.o&&R,!R)Vn(this.i,this.l,xe,"[Invalid Chunked Response]"),bn(this),Po(this);else if(0<xe.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),fc(sr),sr.M=!0,Vt(11))}}else Vn(this.i,this.l,xe,null),ic(this,xe);Ut==4&&bn(this),this.o&&!this.J&&(Ut==4?iu(this.j,this):(this.o=!1,bt(this)))}else Zs(this.g),R==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),bn(this),Po(this)}}}catch{}finally{}};function Rh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ev(m,E){var R=m.C,B=E.indexOf(`
`,R);return B==-1?Hs:(R=Number(E.substring(R,B)),isNaN(R)?rc:(B+=1,B+R>E.length?Hs:(E=E.slice(B,B+R),m.C=B+R,E)))}Bn.prototype.cancel=function(){this.J=!0,bn(this)};function bt(m){m.S=Date.now()+m.I,Nh(m,m.I)}function Nh(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=$n(v(m.ba,m),E)}function ja(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Bn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(tc(this.i,this.A),this.L!=2&&($i(),Vt(17)),bn(this),this.s=2,Po(this)):Nh(this,this.S-m)};function Po(m){m.j.G==0||m.J||iu(m.j,m)}function bn(m){ja(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Gl(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ic(m,E){try{var R=m.j;if(R.G!=0&&(R.g==m||jr(R.h,m))){if(!m.K&&jr(R.h,m)&&R.G==3){try{var B=R.Da.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Z=B;if(Z[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)nu(R),Hn(R);else break e;ru(R),Vt(18)}}else R.za=Z[1],0<R.za-R.T&&37500>Z[2]&&R.F&&R.v==0&&!R.C&&(R.C=$n(v(R.Za,R),6e3));if(1>=Mh(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else qi(R,11)}else if((m.K||R.g==m)&&nu(R),!A(E))for(Z=R.Da.g.parse(E),E=0;E<Z.length;E++){let nt=Z[E];if(R.T=nt[0],nt=nt[1],R.G==2)if(nt[0]=="c"){R.K=nt[1],R.ia=nt[2];const sr=nt[3];sr!=null&&(R.la=sr,R.j.info("VER="+R.la));const Ut=nt[4];Ut!=null&&(R.Aa=Ut,R.j.info("SVER="+R.Aa));const xn=nt[5];xn!=null&&typeof xn=="number"&&0<xn&&(B=1.5*xn,R.L=B,R.j.info("backChannelRequestTimeoutMs_="+B)),B=R;const un=m.g;if(un){const Ba=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var se=B.h;se.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(oc(se,se.h),se.h=null))}if(B.D){const au=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(B.ya=au,vt(B.I,B.D,au))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),B=R;var xe=m;if(B.qa=Gh(B,B.J?B.ia:null,B.W),xe.K){Dh(B.h,xe);var mt=xe,Gt=B.L;Gt&&(mt.I=Gt),mt.B&&(ja(mt),bt(mt)),B.g=xe}else Fa(B);0<R.i.length&&pi(R)}else nt[0]!="stop"&&nt[0]!="close"||qi(R,7);else R.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?qi(R,7):gr(R):nt[0]!="noop"&&R.l&&R.l.ta(nt),R.v=0)}}$i(4)}catch{}}var jh=class{constructor(m,E){this.g=m,this.map=E}};function Ma(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Mh(m){return m.h?1:m.g?m.g.size:0}function jr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function oc(m,E){m.g?m.g.add(E):m.h=E}function Dh(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ma.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Lh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const R of m.g.values())E=E.concat(R.D);return E}return x(m.i)}function Gs(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var E=[],R=m.length,B=0;B<R;B++)E.push(m[B]);return E}E=[],R=0;for(B in m)E[R++]=m[B];return E}function Xs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var E=[];m=m.length;for(var R=0;R<m;R++)E.push(R);return E}E=[],R=0;for(const B in m)E[R++]=B;return E}}}function Io(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var R=Xs(m),B=Gs(m),Z=B.length,se=0;se<Z;se++)E.call(void 0,B[se],R&&R[se],m)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tv(m,E){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var B=m[R].indexOf("="),Z=null;if(0<=B){var se=m[R].substring(0,B);Z=m[R].substring(B+1)}else se=m[R];E(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Vi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Vi){this.h=m.h,La(this,m.j),this.o=m.o,this.g=m.g,Oo(this,m.s),this.l=m.l;var E=m.i,R=new fi;R.i=E.i,E.g&&(R.g=new Map(E.g),R.h=E.h),Co(this,R),this.m=m.m}else m&&(E=String(m).match(Da))?(this.h=!1,La(this,E[1]||"",!0),this.o=rt(E[2]||""),this.g=rt(E[3]||"",!0),Oo(this,E[4]),this.l=rt(E[5]||"",!0),Co(this,E[6]||"",!0),this.m=rt(E[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Vi.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Ro(E,Ys,!0),":");var R=this.g;return(R||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ro(E,Ys,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Ro(R,R.charAt(0)=="/"?Fh:Vh,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Ro(R,ac)),m.join("")};function an(m){return new Vi(m)}function La(m,E,R){m.j=R?rt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Oo(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Co(m,E,R){E instanceof fi?(m.i=E,hi(m.i,m.h)):(R||(E=Ro(E,Bh)),m.i=new fi(E,m.h))}function vt(m,E,R){m.i.set(E,R)}function ko(m){return vt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function rt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ro(m,E,R){return typeof m=="string"?(m=encodeURI(m).replace(E,$h),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $h(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ys=/[#\/\?@]/g,Vh=/[#\?:]/g,Fh=/[#\?]/g,Bh=/[#\?@]/g,ac=/#/g;function fi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function mr(m){m.g||(m.g=new Map,m.h=0,m.i&&tv(m.i,function(E,R){m.add(decodeURIComponent(E.replace(/\+/g," ")),R)}))}t=fi.prototype,t.add=function(m,E){mr(this),this.i=null,m=wn(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(E),this.h+=1,this};function Un(m,E){mr(m),E=wn(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function qn(m,E){return mr(m),E=wn(m,E),m.g.has(E)}t.forEach=function(m,E){mr(this),this.g.forEach(function(R,B){R.forEach(function(Z){m.call(E,Z,B,this)},this)},this)},t.na=function(){mr(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),R=[];for(let B=0;B<E.length;B++){const Z=m[B];for(let se=0;se<Z.length;se++)R.push(E[B])}return R},t.V=function(m){mr(this);let E=[];if(typeof m=="string")qn(this,m)&&(E=E.concat(this.g.get(wn(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)E=E.concat(m[R])}return E},t.set=function(m,E){return mr(this),this.i=null,m=wn(this,m),qn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function No(m,E,R){Un(m,E),0<R.length&&(m.i=null,m.g.set(wn(m,E),x(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var R=0;R<E.length;R++){var B=E[R];const se=encodeURIComponent(String(B)),xe=this.V(B);for(B=0;B<xe.length;B++){var Z=se;xe[B]!==""&&(Z+="="+encodeURIComponent(String(xe[B]))),m.push(Z)}}return this.i=m.join("&")};function wn(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function hi(m,E){E&&!m.j&&(mr(m),m.i=null,m.g.forEach(function(R,B){var Z=B.toLowerCase();B!=Z&&(Un(this,B),No(this,Z,R))},m)),m.j=E}function rv(m,E){const R=new ka;if(l.Image){const B=new Image;B.onload=y(qr,R,"TestLoadImage: loaded",!0,E,B),B.onerror=y(qr,R,"TestLoadImage: error",!1,E,B),B.onabort=y(qr,R,"TestLoadImage: abort",!1,E,B),B.ontimeout=y(qr,R,"TestLoadImage: timeout",!1,E,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else E(!1)}function Uh(m,E){const R=new ka,B=new AbortController,Z=setTimeout(()=>{B.abort(),qr(R,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:B.signal}).then(se=>{clearTimeout(Z),se.ok?qr(R,"TestPingServer: ok",!0,E):qr(R,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Z),qr(R,"TestPingServer: error",!1,E)})}function qr(m,E,R,B,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),B(R)}catch{}}function nv(){this.g=new Ql}function qh(m,E,R){const B=R||"";try{Io(m,function(Z,se){let xe=Z;f(Z)&&(xe=Xl(Z)),E.push(B+se+"="+encodeURIComponent(xe))})}catch(Z){throw E.push(B+"type="+encodeURIComponent("_badmap")),Z}}function Fi(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Fi,Oa),Fi.prototype.g=function(){return new $a(this.l,this.j)},Fi.prototype.i=function(m){return function(){return m}}({});function $a(m,E){$t.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w($a,$t),t=$a.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Wn(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?zn(this):Wn(this),this.readyState==3&&zh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,zn(this))},t.Qa=function(m){this.g&&(this.response=m,zn(this))},t.ga=function(){this.g&&zn(this)};function zn(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Wn(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var R=E.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=E.next();return m.join(`\r
`)};function Wn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Bi(m){let E="";return N(m,function(R,B){E+=B,E+=":",E+=R,E+=`\r
`}),E}function jo(m,E,R){e:{for(B in R){var B=!1;break e}B=!0}B||(R=Bi(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):vt(m,E,R))}function It(m){$t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(It,$t);var iv=/^https?$/i,sc=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,R,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?Fs(this.o):Fs(Fn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(se){Va(this,se);return}if(m=R||"",R=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Z in B)R.set(Z,B[Z]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const se of B.keys())R.set(se,B.get(se));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(R.keys()).find(se=>se.toLowerCase()=="content-type"),Z=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(sc,E,void 0))||B||Z||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,xe]of R)this.g.setRequestHeader(se,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){Va(this,se)}};function Va(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Qs(m),sn(m)}function Qs(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Kt(this,"complete"),Kt(this,"abort"),sn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},t.bb=function(){uc(this)};function uc(m){if(m.h&&typeof s<"u"&&(!m.v[1]||zr(m)!=4||m.Z()!=2)){if(m.u&&zr(m)==4)Hl(m.Ea,0,m);else if(Kt(m,"readystatechange"),zr(m)==4){m.h=!1;try{const xe=m.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var R;if(!(R=E)){var B;if(B=xe===0){var Z=String(m.D).match(Da)[1]||null;!Z&&l.self&&l.self.location&&(Z=l.self.location.protocol.slice(0,-1)),B=!iv.test(Z?Z.toLowerCase():"")}R=B}if(R)Kt(m,"complete"),Kt(m,"success");else{m.m=6;try{var se=2<zr(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",Qs(m)}}finally{sn(m)}}}}function sn(m,E){if(m.g){Js(m);const R=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Kt(m,"ready");try{R.onreadystatechange=B}catch{}}}function Js(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function zr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Yl(E)}};function lc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(m){const E={};m=(m.g&&2<=zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(A(m[B]))continue;var R=D(m[B]);const Z=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const se=E[Z]||[];E[Z]=se,se.push(R)}P(E,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(m,E,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||E}function cc(m){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,m),this.cb=di("retryDelaySeedMs",1e4,m),this.Wa=di("forwardChannelMaxRetries",2,m),this.wa=di("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ma(m&&m.concurrentRequestLimit),this.Da=new nv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(m,E,R,B){Vt(0),this.W=m,this.H=E||{},R&&B!==void 0&&(this.H.OSID=R,this.H.OAID=B),this.F=this.X,this.I=Gh(this,null,this.W),pi(this)};function gr(m){if(eu(m),m.G==3){var E=m.U++,R=an(m.I);if(vt(R,"SID",m.K),vt(R,"RID",E),vt(R,"TYPE","terminate"),Ui(m,R),E=new Bn(m,m.j,E),E.L=2,E.v=ko(an(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!R&&l.Image&&(new Image().src=E.v,R=!0),R||(E.g=Xh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),bt(E)}Kh(m)}function Hn(m){m.g&&(fc(m),m.g.cancel(),m.g=null)}function eu(m){Hn(m),m.u&&(l.clearTimeout(m.u),m.u=null),nu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function pi(m){if(!on(m.h)&&!m.s){m.s=!0;var E=m.Ga;te||ne(),J||(te(),J=!0),oe.add(E,m),m.B=0}}function ov(m,E){return Mh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=$n(v(m.Ga,m,E),Hh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new Bn(this,this.j,m);let se=this.o;if(this.S&&(se?(se=I(se),V(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var E=0,R=0;R<this.i.length;R++){t:{var B=this.i[R];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,4096<E){E=R;break e}if(E===4096||R===this.i.length-1){E=R+1;break e}}E=1e3}else E=1e3;E=Mo(this,Z,E),R=an(this.I),vt(R,"RID",m),vt(R,"CVER",22),this.D&&vt(R,"X-HTTP-Session-Id",this.D),Ui(this,R),se&&(this.O?E="headers="+encodeURIComponent(String(Bi(se)))+"&"+E:this.m&&jo(R,this.m,se)),oc(this.h,Z),this.Ua&&vt(R,"TYPE","init"),this.P?(vt(R,"$req",E),vt(R,"SID","null"),Z.T=!0,Ks(Z,R,null)):Ks(Z,R,E),this.G=2}}else this.G==3&&(m?tu(this,m):this.i.length==0||on(this.h)||tu(this))};function tu(m,E){var R;E?R=E.l:R=m.U++;const B=an(m.I);vt(B,"SID",m.K),vt(B,"RID",R),vt(B,"AID",m.T),Ui(m,B),m.m&&m.o&&jo(B,m.m,m.o),R=new Bn(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Mo(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),oc(m.h,R),Ks(R,B,E)}function Ui(m,E){m.H&&N(m.H,function(R,B){vt(E,B,R)}),m.l&&Io({},function(R,B){vt(E,B,R)})}function Mo(m,E,R){R=Math.min(m.i.length,R);var B=m.l?v(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const xe=["count="+R];se==-1?0<R?(se=Z[0].g,xe.push("ofs="+se)):se=0:xe.push("ofs="+se);let mt=!0;for(let Gt=0;Gt<R;Gt++){let nt=Z[Gt].g;const sr=Z[Gt].map;if(nt-=se,0>nt)se=Math.max(0,Z[Gt].g-100),mt=!1;else try{qh(sr,xe,"req"+nt+"_")}catch{B&&B(sr)}}if(mt){B=xe.join("&");break e}}}return m=m.i.splice(0,R),E.D=m,B}function Fa(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;te||ne(),J||(te(),J=!0),oe.add(E,m),m.v=0}}function ru(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=$n(v(m.Fa,m),Hh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Wh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$n(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Hn(this),Wh(this))};function fc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Wh(m){m.g=new Bn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=an(m.qa);vt(E,"RID","rpc"),vt(E,"SID",m.K),vt(E,"AID",m.T),vt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&vt(E,"TO",m.ja),vt(E,"TYPE","xmlhttp"),Ui(m,E),m.m&&m.o&&jo(E,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=ko(an(E)),R.m=null,R.P=!0,nc(R,m)}t.Za=function(){this.C!=null&&(this.C=null,Hn(this),ru(this),Vt(19))};function nu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function iu(m,E){var R=null;if(m.g==E){nu(m),fc(m),m.g=null;var B=2}else if(jr(m.h,E))R=E.D,Dh(m.h,E),B=1;else return;if(m.G!=0){if(E.o)if(B==1){R=E.m?E.m.length:0,E=Date.now()-E.F;var Z=m.B;B=Ca(),Kt(B,new qs(B,R)),pi(m)}else Fa(m);else if(Z=E.s,Z==3||Z==0&&0<E.X||!(B==1&&ov(m,E)||B==2&&ru(m)))switch(R&&0<R.length&&(E=m.h,E.i=E.i.concat(R)),Z){case 1:qi(m,5);break;case 4:qi(m,10);break;case 3:qi(m,6);break;default:qi(m,2)}}}function Hh(m,E){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*E}function qi(m,E){if(m.j.info("Error code "+E),E==2){var R=v(m.fb,m),B=m.Xa;const Z=!B;B=new Vi(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||La(B,"https"),ko(B),Z?rv(B.toString(),R):Uh(B.toString(),R)}else Vt(2);m.G=0,m.l&&m.l.sa(E),Kh(m),eu(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Kh(m){if(m.G=0,m.ka=[],m.l){const E=Lh(m.h);(E.length!=0||m.i.length!=0)&&(_(m.ka,E),_(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function Gh(m,E,R){var B=R instanceof Vi?an(R):new Vi(R);if(B.g!="")E&&(B.g=E+"."+B.g),Oo(B,B.s);else{var Z=l.location;B=Z.protocol,E=E?E+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new Vi(null);B&&La(se,B),E&&(se.g=E),Z&&Oo(se,Z),R&&(se.l=R),B=se}return R=m.D,E=m.ya,R&&E&&vt(B,R,E),vt(B,"VER",m.la),Ui(m,B),B}function Xh(m,E,R){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new It(new Fi({eb:R})):new It(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}t=hc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(m,E){return new Mr(m,E)};function Mr(m,E){$t.call(this),this.g=new cc(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!A(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!A(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new mi(this)}w(Mr,$t),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){gr(this.g)},Mr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Xl(m),m=R);E.i.push(new jh(E.Ya++,m)),E.G==3&&pi(E)},Mr.prototype.N=function(){this.g.l=null,delete this.j,gr(this.g),delete this.g,Mr.aa.N.call(this)};function Yh(m){li.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const R in E){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(Yh,li);function Qh(){Us.call(this),this.status=1}w(Qh,Us);function mi(m){this.g=m}w(mi,hc),mi.prototype.ua=function(){Kt(this.g,"a")},mi.prototype.ta=function(m){Kt(this.g,new Yh(m))},mi.prototype.sa=function(m){Kt(this.g,new Qh)},mi.prototype.ra=function(){Kt(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,VV=function(){return new ou},$V=function(){return Ca()},LV=ci,Ax={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Ep=Ws,Ch.COMPLETE="complete",DV=Ch,Bs.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",$t.prototype.listen=$t.prototype.K,tf=Bs,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,MV=It}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const HN="@firebase/firestore",KN="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new QE("@firebase/firestore");function Cu(){return Ps.logLevel}function Ie(t,...e){if(Ps.logLevel<=et.DEBUG){const r=e.map(lS);Ps.debug(`Firestore (${Ul}): ${t}`,...r)}}function yo(t,...e){if(Ps.logLevel<=et.ERROR){const r=e.map(lS);Ps.error(`Firestore (${Ul}): ${t}`,...r)}}function xl(t,...e){if(Ps.logLevel<=et.WARN){const r=e.map(lS);Ps.warn(`Firestore (${Ul}): ${t}`,...r)}}function lS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,FV(t,n,r)}function FV(t,e,r){let n=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw yo(n),new Error(n)}function dt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||FV(e,i,n)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends To{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Cr.UNAUTHENTICATED))}shutdown(){}}class eoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class toe{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new da;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new da,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new da)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string",31837,{l:n}),new BV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Cr(e)}}class roe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class noe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new roe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ioe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){dt(this.o===void 0,3512);const n=o=>{o.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new GN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new GN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ooe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ooe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Je(t,e){return t<e?-1:t>e?1:0}function Px(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Je(n,i);{const o=UV(),s=aoe(o.encode(XN(t,r)),o.encode(XN(e,r)));return s!==0?s:Je(n,i)}}r+=n>65535?2:1}return Je(t.length,e.length)}function XN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function aoe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Je(t[r],e[r]);return Je(t.length,e.length)}function El(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=-62135596800,QN=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*QN);return new rr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<YN)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QN}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new rr(0,0))}static max(){return new He(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="__name__";class bi{constructor(e,r,n){r===void 0?r=0:r>e.length&&ze(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ze(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=bi.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Je(e.length,r.length)}static compareSegments(e,r){const n=bi.isNumericId(e),i=bi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?bi.extractNumericId(e).compare(bi.extractNumericId(r)):Px(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class Dt extends bi{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const soe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends bi{construct(e,r,n){return new xr(e,r,n)}static isValidIdentifier(e){return soe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JN}static keyField(){return new xr([JN])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Ve(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ve(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ve(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Ve(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(r)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Dt.fromString(e))}static fromName(e){return new Fe(Dt.fromString(e).popFirst(5))}static empty(){return new Fe(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function uoe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(n===1e9?new rr(r+1,0):new rr(r,n));return new ma(i,Fe.empty(),e)}function loe(t){return new ma(t.readTime,t.key,rh)}class ma{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ma(He.min(),Fe.empty(),rh)}static max(){return new ma(He.max(),Fe.empty(),rh)}}function coe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==foe)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):he.reject(r)}static resolve(e){return new he((r,n)=>{r(e)})}static reject(e){return new he((r,n)=>{n(e)})}static waitFor(e){return new he((r,n)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&r()},c=>n(c))}),s=!0,o===i&&r()})}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next(i=>i?he.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new he((n,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next(d=>{s[f]=d,++l,l===o&&n(s)},d=>i(d))}})}static doWhile(e,r){return new he((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function doe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=-1;function Ug(t){return t==null}function Dm(t){return t===0&&1/t==-1/0}function poe(t){return typeof t=="number"&&Number.isInteger(t)&&!Dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="";function moe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ZN(e)),e=goe(t.get(r),e);return ZN(e)}function goe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case zV:r+="";break;default:r+=o}}return r}function ZN(t){return t+zV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ds(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function WV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||wr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??wr.RED,this.left=i??wr.EMPTY,this.right=o??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new wr(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return wr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new wr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new tj(this.data.getIterator())}getIteratorFrom(e){return new tj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new nr(this.comparator);return r.data=e,r}}class tj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new oi([])}unionWith(e){let r=new nr(xr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new oi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new HV("Invalid base64 string: "+o):o}}(e);return new Er(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Er(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const voe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const r=voe.exec(t);if(dt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="server_timestamp",GV="__type__",XV="__previous_value__",YV="__local_write_time__";function fS(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GV])===null||r===void 0?void 0:r.stringValue)===KV}function qg(t){const e=t.mapValue.fields[XV];return fS(e)?qg(e):e}function nh(t){const e=ga(t.mapValue.fields[YV].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e,r,n,i,o,s,l,c,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const Lm="(default)";class ih{constructor(e,r){this.projectId=e,this.database=r||Lm}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Lm}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="__type__",_oe="__max__",fp={mapValue:{}},JV="__vector__",$m="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fS(t)?4:woe(t)?9007199254740991:boe(t)?10:11:ze(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const r=ya(t);if(r!==ya(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ga(i.timestampValue),l=ga(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return va(i.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Bt(i.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(i.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Bt(i.integerValue)===Bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Bt(i.doubleValue),l=Bt(o.doubleValue);return s===l?Dm(s)===Dm(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(ej(s)!==ej(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ri(s[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function oh(t,e){return(t.values||[]).find(r=>Ri(r,e))!==void 0}function Sl(t,e){if(t===e)return 0;const r=ya(t),n=ya(e);if(r!==n)return Je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Bt(o.integerValue||o.doubleValue),c=Bt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return rj(t.timestampValue,e.timestampValue);case 4:return rj(nh(t),nh(e));case 5:return Px(t.stringValue,e.stringValue);case 6:return function(o,s){const l=va(o),c=va(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=Je(l[f],c[f]);if(d!==0)return d}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Je(Bt(o.latitude),Bt(s.latitude));return l!==0?l:Je(Bt(o.longitude),Bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,f,d;const p=o.fields||{},v=s.fields||{},y=(l=p[$m])===null||l===void 0?void 0:l.arrayValue,w=(c=v[$m])===null||c===void 0?void 0:c.arrayValue,x=Je(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:nj(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fp.mapValue&&s===fp.mapValue)return 0;if(o===fp.mapValue)return 1;if(s===fp.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=Px(c[p],d[p]);if(v!==0)return v;const y=Sl(l[c[p]],f[d[p]]);if(y!==0)return y}return Je(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:r})}}function rj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const r=ga(t),n=ga(e),i=Je(r.seconds,n.seconds);return i!==0?i:Je(r.nanos,n.nanos)}function nj(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Sl(r[i],n[i]);if(o)return o}return Je(r.length,n.length)}function Tl(t){return Ix(t)}function Ix(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ga(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return va(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Ix(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${Ix(r.fields[s])}`;return i+"}"}(t.mapValue):ze(61005,{value:t})}function Sp(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qg(t);return e?16+Sp(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Sp(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Ds(n.fields,(o,s)=>{i+=o.length+Sp(s)}),i}(t.mapValue);default:throw ze(13486,{value:t})}}function Ox(t){return!!t&&"integerValue"in t}function hS(t){return!!t&&"arrayValue"in t}function ij(t){return!!t&&"nullValue"in t}function oj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function boe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QV])===null||r===void 0?void 0:r.stringValue)===JV}function df(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=df(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=df(t.arrayValue.values[r]);return e}return Object.assign({},t)}function woe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_oe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(r)}setAll(e){let r=xr.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=df(s):i.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ds(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Rn(df(this.value))}}function ZV(t){const e=[];return Ds(t.fields,(r,n)=>{const i=new xr([r]);if(Tp(n)){const o=ZV(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,r,n,i,o,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Rr(e,0,He.min(),He.min(),He.min(),Rn.empty(),0)}static newFoundDocument(e,r,n,i){return new Rr(e,1,r,He.min(),n,i,0)}static newNoDocument(e,r){return new Rr(e,2,r,He.min(),He.min(),Rn.empty(),0)}static newUnknownDocument(e,r){return new Rr(e,3,r,He.min(),He.min(),Rn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r){this.position=e,this.inclusive=r}}function aj(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=Fe.comparator(Fe.fromName(s.referenceValue),r.key):n=Sl(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function sj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ri(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r="asc"){this.field=e,this.dir=r}}function xoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{}class Zt extends e4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Soe(e,r,n):r==="array-contains"?new Poe(e,n):r==="in"?new Ioe(e,n):r==="not-in"?new Ooe(e,n):r==="array-contains-any"?new Coe(e,n):new Zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Toe(e,n):new Aoe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Sl(r,this.value)):r!==null&&ya(this.value)===ya(r)&&this.matchesComparison(Sl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends e4{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Ni(e,r)}matches(e){return t4(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function t4(t){return t.op==="and"}function r4(t){return Eoe(t)&&t4(t)}function Eoe(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function Cx(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(r4(t))return t.filters.map(e=>Cx(e)).join(",");{const e=t.filters.map(r=>Cx(r)).join(",");return`${t.op}(${e})`}}function n4(t,e){return t instanceof Zt?function(n,i){return i instanceof Zt&&n.op===i.op&&n.field.isEqual(i.field)&&Ri(n.value,i.value)}(t,e):t instanceof Ni?function(n,i){return i instanceof Ni&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,l)=>o&&n4(s,i.filters[l]),!0):!1}(t,e):void ze(19439)}function i4(t){return t instanceof Zt?function(r){return`${r.field.canonicalString()} ${r.op} ${Tl(r.value)}`}(t):t instanceof Ni?function(r){return r.op.toString()+" {"+r.getFilters().map(i4).join(" ,")+"}"}(t):"Filter"}class Soe extends Zt{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class Toe extends Zt{constructor(e,r){super(e,"in",r),this.keys=o4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Aoe extends Zt{constructor(e,r){super(e,"not-in",r),this.keys=o4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function o4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class Poe extends Zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return hS(r)&&oh(r.arrayValue,this.value)}}class Ioe extends Zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&oh(this.value.arrayValue,r)}}class Ooe extends Zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!oh(this.value.arrayValue,r)}}class Coe extends Zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!hS(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>oh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,r=null,n=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Ie=null}}function uj(t,e=null,r=[],n=[],i=null,o=null,s=null){return new koe(t,e,r,n,i,o,s)}function dS(t){const e=Ke(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Cx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ug(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tl(n)).join(",")),e.Ie=r}return e.Ie}function pS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!xoe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!n4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sj(t.startAt,e.startAt)&&sj(t.endAt,e.endAt)}function kx(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,r=null,n=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Roe(t,e,r,n,i,o,s,l){return new zg(t,e,r,n,i,o,s,l)}function mS(t){return new zg(t)}function lj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Noe(t){return t.collectionGroup!==null}function pf(t){const e=Ke(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new nr(xr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Fm(o,n))}),r.has(xr.keyField().canonicalString())||e.Ee.push(new Fm(xr.keyField(),n))}return e.Ee}function Pi(t){const e=Ke(t);return e.de||(e.de=joe(e,pf(t))),e.de}function joe(t,e){if(t.limitType==="F")return uj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fm(i.field,o)});const r=t.endAt?new Vm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Vm(t.startAt.position,t.startAt.inclusive):null;return uj(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Rx(t,e,r){return new zg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Wg(t,e){return pS(Pi(t),Pi(e))&&t.limitType===e.limitType}function a4(t){return`${dS(Pi(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>i4(i)).join(", ")}]`),Ug(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Tl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Tl(i)).join(",")),`Target(${n})`}(Pi(t))}; limitType=${t.limitType})`}function Hg(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Fe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of pf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,c){const f=aj(s,l,c);return s.inclusive?f<=0:f<0}(n.startAt,pf(n),i)||n.endAt&&!function(s,l,c){const f=aj(s,l,c);return s.inclusive?f>=0:f>0}(n.endAt,pf(n),i))}(t,e)}function Moe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function s4(t){return(e,r)=>{let n=!1;for(const i of pf(t)){const o=Doe(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Doe(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Sl(c,f):ze(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return WV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Loe=new Nt(Fe.comparator);function _o(){return Loe}const u4=new Nt(Fe.comparator);function rf(...t){let e=u4;for(const r of t)e=e.insert(r.key,r);return e}function l4(t){let e=u4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function hs(){return mf()}function c4(){return mf()}function mf(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const $oe=new Nt(Fe.comparator),Voe=new nr(Fe.comparator);function tt(...t){let e=Voe;for(const r of t)e=e.add(r);return e}const Foe=new nr(Je);function Boe(){return Foe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dm(e)?"-0":e}}function f4(t){return{integerValue:""+t}}function Uoe(t,e){return poe(e)?f4(e):gS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function qoe(t,e,r){return t instanceof Bm?function(i,o){const s={fields:{[GV]:{stringValue:KV},[YV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fS(o)&&(o=qg(o)),o&&(s.fields[XV]=o),{mapValue:s}}(r,e):t instanceof ah?d4(t,e):t instanceof sh?p4(t,e):function(i,o){const s=h4(i,o),l=cj(s)+cj(i.Re);return Ox(s)&&Ox(i.Re)?f4(l):gS(i.serializer,l)}(t,e)}function zoe(t,e,r){return t instanceof ah?d4(t,e):t instanceof sh?p4(t,e):r}function h4(t,e){return t instanceof Um?function(n){return Ox(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Bm extends Kg{}class ah extends Kg{constructor(e){super(),this.elements=e}}function d4(t,e){const r=m4(e);for(const n of t.elements)r.some(i=>Ri(i,n))||r.push(n);return{arrayValue:{values:r}}}class sh extends Kg{constructor(e){super(),this.elements=e}}function p4(t,e){let r=m4(e);for(const n of t.elements)r=r.filter(i=>!Ri(i,n));return{arrayValue:{values:r}}}class Um extends Kg{constructor(e,r){super(),this.serializer=e,this.Re=r}}function cj(t){return Bt(t.integerValue||t.doubleValue)}function m4(t){return hS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Woe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ah&&i instanceof ah||n instanceof sh&&i instanceof sh?El(n.elements,i.elements,Ri):n instanceof Um&&i instanceof Um?Ri(n.Re,i.Re):n instanceof Bm&&i instanceof Bm}(t.transform,e.transform)}class Hoe{constructor(e,r){this.version=e,this.transformResults=r}}class co{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function g4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y4(t.key,co.none()):new Ah(t.key,t.data,co.none());{const r=t.data,n=Rn.empty();let i=new nr(xr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new $s(t.key,n,new oi(i.toArray()),co.none())}}function Koe(t,e,r){t instanceof Ah?function(i,o,s){const l=i.value.clone(),c=hj(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof $s?function(i,o,s){if(!Ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=hj(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(v4(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function gf(t,e,r,n){return t instanceof Ah?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=o.value.clone(),d=dj(o.fieldTransforms,c,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof $s?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=dj(o.fieldTransforms,c,s),d=s.data;return d.setAll(v4(o)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(o,s,l){return Ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function Goe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=h4(n.transform,i||null);o!=null&&(r===null&&(r=Rn.empty()),r.set(n.field,o))}return r||null}function fj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&El(n,i,(o,s)=>Woe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends Gg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Gg{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function v4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function hj(t,e,r){const n=new Map;dt(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);n.set(o.field,zoe(s,l,r[i]))}return n}function dj(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,qoe(o,s,e))}return n}class y4 extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xoe extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Koe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=c4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(i.key)?null:l;const c=g4(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(He.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),tt())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(r,n)=>fj(r,n))&&El(this.baseMutations,e.baseMutations,(r,n)=>fj(r,n))}}class vS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return $oe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new vS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,it;function Zoe(t){switch(t){case ve.OK:return ze(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function _4(t){if(t===void 0)return yo("GRPC error has no .code"),ve.UNKNOWN;switch(t){case zt.OK:return ve.OK;case zt.CANCELLED:return ve.CANCELLED;case zt.UNKNOWN:return ve.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ve.INTERNAL;case zt.UNAVAILABLE:return ve.UNAVAILABLE;case zt.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case zt.NOT_FOUND:return ve.NOT_FOUND;case zt.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case zt.ABORTED:return ve.ABORTED;case zt.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case zt.DATA_LOSS:return ve.DATA_LOSS;default:return ze(39323,{code:t})}}(it=zt||(zt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae=new ha([4294967295,4294967295],0);function pj(t){const e=UV().encode(t),r=new jV;return r.update(e),new Uint8Array(r.digest())}function mj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ha([r,n],0),new ha([i,o],0)]}class yS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new nf(`Invalid padding: ${r}`);if(n<0)throw new nf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new nf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new nf(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ha.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(ha.fromNumber(n)));return i.compare(eae)===1&&(i=new ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=pj(e),[n,i]=mj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);if(!this.Se(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new yS(o,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const r=pj(e),[n,i]=mj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Xg(He.min(),i,new Nt(Je),_o(),tt())}}class Ph{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ph(n,r,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class b4{constructor(e,r){this.targetId=e,this.Ce=r}}class w4{constructor(e,r,n=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class gj{constructor(){this.Fe=0,this.Me=vj(),this.xe=Er.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),r=tt(),n=tt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ze(38017,{changeType:o})}}),new Ph(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=vj()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tae{constructor(e){this.ze=e,this.je=new Map,this.He=_o(),this.Je=hp(),this.Ye=hp(),this.Ze=new Nt(Je)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const o=i.target;if(kx(o))if(n===0){const s=new Fe(o.path);this.tt(r,s,Rr.newNoDocument(s,He.min()))}else dt(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,l;try{s=va(n).toUint8Array()}catch(c){if(c instanceof HV)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new yS(s,i,o)}catch(c){return xl(c instanceof nf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(r,o,null),i++)}),i}It(e){const r=new Map;this.je.forEach((o,s)=>{const l=this._t(s);if(l){if(o.current&&kx(l.target)){const c=new Fe(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Rr.newNoDocument(c,e))}o.Le&&(r.set(s,o.qe()),o.Qe())}});let n=tt();this.Ye.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new Xg(e,r,this.Ze,this.He,n);return this.He=_o(),this.Je=hp(),this.Ye=hp(),this.Ze=new Nt(Je),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new gj,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new nr(Je),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new nr(Je),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gj),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function hp(){return new Nt(Fe.comparator)}function vj(){return new Nt(Fe.comparator)}const rae={asc:"ASCENDING",desc:"DESCENDING"},nae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iae={and:"AND",or:"OR"};class oae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Nx(t,e){return t.useProto3Json||Ug(e)?e:{value:e}}function qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aae(t,e){return qm(t,e.toTimestamp())}function Ii(t){return dt(!!t,49232),He.fromTimestamp(function(r){const n=ga(r);return new rr(n.seconds,n.nanos)}(t))}function _S(t,e){return jx(t,e).canonicalString()}function jx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function E4(t){const e=Dt.fromString(t);return dt(I4(e),10190,{key:e.toString()}),e}function Mx(t,e){return _S(t.databaseId,e.path)}function Uw(t,e){const r=E4(e);if(r.get(1)!==t.databaseId.projectId)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ve(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(T4(r))}function S4(t,e){return _S(t.databaseId,e)}function sae(t){const e=E4(t);return e.length===4?Dt.emptyPath():T4(e)}function Dx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T4(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yj(t,e,r){return{name:Mx(t,e),fields:r.value.mapValue.fields}}function uae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,d){return f.useProto3Json?(dt(d===void 0||typeof d=="string",58123),Er.fromBase64String(d||"")):(dt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Er.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const d=f.code===void 0?ve.UNKNOWN:_4(f.code);return new Ve(d,f.message||"")}(s);r=new w4(n,i,o,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Uw(t,n.document.name),o=Ii(n.document.updateTime),s=n.document.createTime?Ii(n.document.createTime):He.min(),l=new Rn({mapValue:{fields:n.document.fields}}),c=Rr.newFoundDocument(i,o,s,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new Pp(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Uw(t,n.document),o=n.readTime?Ii(n.readTime):He.min(),s=Rr.newNoDocument(i,o),l=n.removedTargetIds||[];r=new Pp([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Uw(t,n.document),o=n.removedTargetIds||[];r=new Pp([],o,i,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new Joe(i,o),l=n.targetId;r=new b4(l,s)}}return r}function lae(t,e){let r;if(e instanceof Ah)r={update:yj(t,e.key,e.value)};else if(e instanceof y4)r={delete:Mx(t,e.key)};else if(e instanceof $s)r={update:yj(t,e.key,e.data),updateMask:yae(e.fieldMask)};else{if(!(e instanceof Xoe))return ze(16599,{ft:e.type});r={verify:Mx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const l=s.transform;if(l instanceof Bm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ah)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Um)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw ze(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aae(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),r}function cae(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(r=>function(i,o){let s=i.updateTime?Ii(i.updateTime):Ii(o);return s.isEqual(He.min())&&(s=Ii(o)),new Hoe(s,i.transformResults||[])}(r,e))):[]}function fae(t,e){return{documents:[S4(t,e.path)]}}function hae(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=S4(t,i);const o=function(f){if(f.length!==0)return P4(Ni.create(f,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(d=>function(v){return{field:Ru(v.field),direction:mae(v.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=Nx(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:r,parent:i}}function dae(t){let e=sae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dt(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];r.where&&(o=function(p){const v=A4(p);return v instanceof Ni&&r4(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(v=>function(w){return new Fm(Nu(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(r.orderBy));let l=null;r.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Ug(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(p){const v=!!p.before,y=p.values||[];return new Vm(y,v)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const v=!p.before,y=p.values||[];return new Vm(y,v)}(r.endAt)),Roe(e,i,s,o,l,"F",c,f)}function pae(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function A4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nu(r.unaryFilter.field);return Zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(r.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(r.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nu(r.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(r){return Zt.create(Nu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ni.create(r.compositeFilter.filters.map(n=>A4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(r.compositeFilter.op))}(t):ze(30097,{filter:t})}function mae(t){return rae[t]}function gae(t){return nae[t]}function vae(t){return iae[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Nu(t){return xr.fromServerFormat(t.fieldPath)}function P4(t){return t instanceof Zt?function(r){if(r.op==="=="){if(oj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NAN"}};if(ij(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(oj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NAN"}};if(ij(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(r.field),op:gae(r.op),value:r.value}}}(t):t instanceof Ni?function(r){const n=r.getFilters().map(i=>P4(i));return n.length===1?n[0]:{compositeFilter:{op:vae(r.op),filters:n}}}(t):ze(54877,{filter:t})}function yae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function I4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r,n,i,o=He.min(),s=He.min(),l=Er.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e){this.wt=e}}function bae(t){const e=dae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(){this.Cn=new xae}addToCollectionParentIndex(e,r){return this.Cn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(ma.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class xae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new nr(Dt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new nr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O4=41943040;class Jr{static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(O4,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Al(0)}static lr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="LruGarbageCollector",Eae=1048576;function wj([t,e],[r,n]){const i=Je(t,r);return i===0?Je(e,n):i}class Sae{constructor(e){this.Er=e,this.buffer=new nr(wj),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();wj(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Tae{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ie(bj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zl(r)?Ie(bj,"Ignoring IndexedDB error during garbage collection: ",r):await ql(r)}await this.mr(3e5)})}}class Aae{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return he.resolve(Bg.le);const n=new Sae(r);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(_j)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_j):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,i,o,s,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,r))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(f=Date.now(),Cu()<=et.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Pae(t,e){return new Aae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(){this.changes=new Ls(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&gf(n.mutation,i,oi.empty(),rr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,tt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=tt()){const i=hs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=rf();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=hs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,tt()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let o=_o();const s=mf(),l=function(){return mf()}();return r.forEach((c,f)=>{const d=n.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof $s)?o=o.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),gf(d.mutation,f,d.mutation.getFieldMask(),rr.now())):s.set(f.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,d)=>s.set(f,d)),r.forEach((f,d)=>{var p;return l.set(f,new Oae(d,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=mf();let i=new Nt((s,l)=>s-l),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let d=n.get(c)||oi.empty();d=l.applyToLocalView(f,d),n.set(c,d);const p=(i.get(l.batchId)||tt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,p=c4();d.forEach(v=>{if(!o.has(v)){const y=g4(r.get(v),n.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return he.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Noe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):he.resolve(hs());let l=rh,c=o;return s.next(f=>he.forEach(f,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?he.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,tt())).next(d=>({batchId:l,changes:l4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=rf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=rf();return this.indexManager.getCollectionParents(e,o).next(l=>he.forEach(l,c=>{const f=function(p,v){return new zg(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((c,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,Rr.newInvalidDocument(d)))});let l=rf();return s.forEach((c,f)=>{const d=o.get(c);d!==void 0&&gf(d.mutation,f,oi.empty(),rr.now()),Hg(r,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return he.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(i){return{name:i.name,query:bae(i.bundledQuery),readTime:Ii(i.readTime)}}(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.overlays=new Nt(Fe.comparator),this.Qr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=hs();return he.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.bt(e,r,o)}),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=hs(),o=r.length+1,s=new Fe(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Nt((f,d)=>f-d);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=o.get(f.largestBatchId);d===null&&(d=hs(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=hs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=i)););return he.resolve(l)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Qoe(r,n));let o=this.Qr.get(r);o===void 0&&(o=tt(),this.Qr.set(r,o)),this.Qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.$r=new nr(hr.Ur),this.Kr=new nr(hr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new hr(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new hr(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Fe(new Dt([])),n=new hr(r,e),i=new hr(r,e+1),o=[];return this.Kr.forEachInRange([n,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Fe(new Dt([])),n=new hr(r,e),i=new hr(r,e+1);let o=tt();return this.Kr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new hr(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class hr{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Fe.comparator(e.key,r.key)||Je(e.Zr,r.Zr)}static Wr(e,r){return Je(e.Zr,r.Zr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new nr(hr.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Yoe(o,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new hr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(s)}lookupMutationBatch(e,r){return he.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ti(n),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?cS:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new hr(r,0),i=new hr(r,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],s=>{const l=this.ei(s.Zr);o.push(l)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nr(Je);return r.forEach(i=>{const o=new hr(i,0),s=new hr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],l=>{n=n.add(l.Zr)})}),he.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;Fe.isDocumentKey(o)||(o=o.child(""));const s=new hr(new Fe(o),0);let l=new nr(Je);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Zr)),!0)},s),he.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){dt(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return he.forEach(r.mutations,i=>{const o=new hr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new hr(r,0),i=this.Xr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(e){this.ii=e,this.docs=function(){return new Nt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():Rr.newInvalidDocument(r))}getEntries(e,r){let n=_o();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Rr.newInvalidDocument(i))}),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=_o();const s=r.path,l=new Fe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||coe(loe(d),n)<=0||(i.has(d.key)||Hg(r,d))&&(o=o.insert(d.key,d.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,r,n,i){ze(9500)}si(e,r){return he.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Dae(this)}getSize(e){return he.resolve(this.size)}}class Dae extends Iae{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),he.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.persistence=e,this.oi=new Ls(r=>dS(r),pS),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new bS,this.targetCount=0,this.ui=Al.cr()}forEachTarget(e,r){return this.oi.forEach((n,i)=>r(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),he.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Al(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.Tr(r),he.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,r){this.ci={},this.overlays={},this.li=new Bg(0),this.hi=!1,this.hi=!0,this.Pi=new Nae,this.referenceDelegate=e(this),this.Ti=new Lae(this),this.indexManager=new wae,this.remoteDocumentCache=function(i){return new Mae(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new _ae(r),this.Ei=new kae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Rae,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new jae(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ie("MemoryPersistence","Starting transaction:",e);const i=new $ae(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,r){return he.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class $ae extends hoe{constructor(e){super(),this.currentSequenceNumber=e}}class wS{constructor(e){this.persistence=e,this.Vi=new bS,this.mi=null}static fi(e){return new wS(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,n=>{const i=Fe.fromPath(n);return this.pi(e,i).next(o=>{o||r.removeEntry(i,He.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return he.or([()=>he.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class zm{constructor(e,r){this.persistence=e,this.yi=new Ls(n=>moe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Pae(this,r)}static fi(e,r){return new zm(e,r)}di(){}Ai(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return he.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?he.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,r).next(l=>{l||(n++,o.removeEntry(s,He.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Sp(e.data.value)),r}Dr(e,r,n){return he.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.yi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ds=n,this.As=i}static Rs(e,r){let n=tt(),i=tt();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xS(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fae{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xte()?8:doe(Nr())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ws(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Vae;return this.bs(e,r,s).next(l=>{if(o.result=l,this.fs)return this.Ds(e,r,s,l.size)})}).next(()=>o.result)}Ds(e,r,n,i){return n.documentReadCount<this.gs?(Cu()<=et.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",ku(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(Cu()<=et.DEBUG&&Ie("QueryEngine","Query:",ku(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Cu()<=et.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",ku(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(r))):he.resolve())}ws(e,r){if(lj(r))return he.resolve(null);let n=Pi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Rx(r,null,"F"),n=Pi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=tt(...o);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.vs(r,l);return this.Cs(r,f,s,c.readTime)?this.ws(e,Rx(r,null,"F")):this.Fs(e,f,r,c)}))})))}Ss(e,r,n,i){return lj(r)||i.isEqual(He.min())?he.resolve(null):this.ys.getDocuments(e,n).next(o=>{const s=this.vs(r,o);return this.Cs(r,s,n,i)?he.resolve(null):(Cu()<=et.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(r)),this.Fs(e,s,r,uoe(i,rh)).next(l=>l))})}vs(e,r){let n=new nr(s4(e));return r.forEach((i,o)=>{Hg(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,r,n){return Cu()<=et.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ku(r)),this.ys.getDocumentsMatchingQuery(e,r,ma.min(),n)}Fs(e,r,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="LocalStore",Bae=3e8;class Uae{constructor(e,r,n,i){this.persistence=e,this.Ms=r,this.serializer=i,this.xs=new Nt(Je),this.Os=new Ls(o=>dS(o),pS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cae(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function qae(t,e,r,n){return new Uae(t,e,r,n)}async function k4(t,e){const r=Ke(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let c=tt();for(const f of i){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of o){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(f=>({ks:f,removedBatchIds:s,addedBatchIds:l}))})})}function zae(t,e){const r=Ke(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,d){const p=f.batch,v=p.keys();let y=he.resolve();return v.forEach(w=>{y=y.next(()=>d.getEntry(c,w)).next(x=>{const _=f.docVersions.get(w);dt(_!==null,48541),x.version.compareTo(_)<0&&(p.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),d.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=tt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function R4(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Wae(t,e){const r=Ke(t),n=e.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const l=[];e.targetChanges.forEach((d,p)=>{const v=i.get(p);if(!v)return;l.push(r.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>r.Ti.addMatchingKeys(o,d.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Er.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),function(x,_,T){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Bae?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(v,y,d)&&l.push(r.Ti.updateTargetData(o,y))});let c=_o(),f=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(Hae(o,s,e.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!n.isEqual(He.min())){const d=r.Ti.getLastRemoteSnapshotVersion(o).next(p=>r.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(d)}return he.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(r.xs=i,o))}function Hae(t,e,r){let n=tt(),i=tt();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=_o();return r.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Ie(ES,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function Kae(t,e){const r=Ke(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=cS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Gae(t,e){const r=Ke(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ti.getTargetData(n,e).next(o=>o?(i=o,he.resolve(i)):r.Ti.allocateTargetId(n).next(s=>(i=new aa(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function Lx(t,e,r){const n=Ke(t),i=n.xs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zl(s))throw s;Ie(ES,`Failed to update sequence numbers for target ${e}: ${s}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function xj(t,e,r){const n=Ke(t);let i=He.min(),o=tt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,d){const p=Ke(c),v=p.Os.get(d);return v!==void 0?he.resolve(p.xs.get(v)):p.Ti.getTargetData(f,d)}(n,s,Pi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>n.Ms.getDocumentsMatchingQuery(s,e,r?i:He.min(),r?o:tt())).next(l=>(Xae(n,Moe(e),l),{documents:l,$s:o})))}function Xae(t,e,r){let n=t.Ns.get(e)||He.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ns.set(e,n)}class Ej{constructor(){this.activeTargetIds=Boe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yae{constructor(){this.xo=new Ej,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ej,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="ConnectivityMonitor";class Tj{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ie(Sj,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ie(Sj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function $x(){return dp===null?dp=function(){return 268435456+Math.round(2147483648*Math.random())}():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="RestConnection",Jae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zae{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===Lm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,r,n,i,o){const s=$x(),l=this.jo(e,r.toUriEncodedString());Ie(qw,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);const{host:f}=new URL(l),d=bh(f);return this.Jo(e,l,c,n,d).then(p=>(Ie(qw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw xl(qw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",n),p})}Yo(e,r,n,i,o,s){return this.zo(e,r,n,i,o)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,r){const n=Jae[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class tse extends Zae{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const s=$x();return new Promise((l,c)=>{const f=new MV;f.setWithCredentials(!0),f.listenOnce(DV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ep.NO_ERROR:const p=f.getResponseJson();Ie(Ir,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Ep.TIMEOUT:Ie(Ir,`RPC '${e}' ${s} timed out`),c(new Ve(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const v=f.getStatus();if(Ie(Ir,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(T){const A=T.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(A)>=0?A:ve.UNKNOWN}(w.status);c(new Ve(x,w.message))}else c(new Ve(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ve(ve.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ie(Ir,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ie(Ir,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",d,n,15)})}T_(e,r,n){const i=$x(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=VV(),l=$V(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=o.join("");Ie(Ir,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=s.createWebChannel(d,c);let v=!1,y=!1;const w=new ese({Zo:_=>{y?Ie(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(v||(Ie(Ir,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ie(Ir,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Xo:()=>p.close()}),x=(_,T,A)=>{_.listen(T,O=>{try{A(O)}catch(M){setTimeout(()=>{throw M},0)}})};return x(p,tf.EventType.OPEN,()=>{y||(Ie(Ir,`RPC '${e}' stream ${i} transport opened.`),w.__())}),x(p,tf.EventType.CLOSE,()=>{y||(y=!0,Ie(Ir,`RPC '${e}' stream ${i} transport closed`),w.u_())}),x(p,tf.EventType.ERROR,_=>{y||(y=!0,xl(Ir,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),w.u_(new Ve(ve.UNAVAILABLE,"The operation could not be completed")))}),x(p,tf.EventType.MESSAGE,_=>{var T;if(!y){const A=_.data[0];dt(!!A,16349);const O=A,M=(O==null?void 0:O.error)||((T=O[0])===null||T===void 0?void 0:T.error);if(M){Ie(Ir,`RPC '${e}' stream ${i} received error:`,M);const C=M.status;let N=function(k){const V=zt[k];if(V!==void 0)return _4(V)}(C),P=M.message;N===void 0&&(N=ve.INTERNAL,P="Unknown error status: "+C+" with message "+M.message),y=!0,w.u_(new Ve(N,P)),p.close()}else Ie(Ir,`RPC '${e}' stream ${i} received:`,A),w.c_(A)}}),x(l,LV.STAT_EVENT,_=>{_.stat===Ax.PROXY?Ie(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ax.NOPROXY&&Ie(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function zw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return new oae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,r,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),i=Math.max(0,r-n);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="PersistentStream";class j4{constructor(e,r,n,i,o,s,l,c){this.xi=e,this.y_=n,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new N4(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(yo(r.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.S_===r&&this.K_(n,i)},n=>{e(()=>{const i=new Ve(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(i)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.W_(i))}),this.stream.onMessage(i=>{n(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ie(Aj,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Ie(Aj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rse extends j4{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}G_(e,r){return this.connection.T_("Listen",e,r)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const r=uae(this.serializer,e),n=function(o){if(!("targetChange"in o))return He.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Ii(s.readTime):He.min()}(e);return this.listener.j_(r,n)}H_(e){const r={};r.database=Dx(this.serializer),r.addTarget=function(o,s){let l;const c=s.target;if(l=kx(c)?{documents:fae(o,c)}:{query:hae(o,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=x4(o,s.resumeToken);const f=Nx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(He.min())>0){l.readTime=qm(o,s.snapshotVersion.toTimestamp());const f=Nx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=pae(this.serializer,e);n&&(r.labels=n),this.L_(r)}J_(e){const r={};r.database=Dx(this.serializer),r.removeTarget=e,this.L_(r)}}class nse extends j4{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=cae(e.writeResults,e.commitTime),n=Ii(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=Dx(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>lae(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{}class ose extends ise{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,jx(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(ve.UNKNOWN,o.toString())})}Yo(e,r,n,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,jx(r,n),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ve.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class ase{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(yo(r),this.oa=!1):Ie("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class sse{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{n.enqueueAndForget(async()=>{Vs(this)&&(Ie(Is,"Restarting streams for network reachability change."),await async function(c){const f=Ke(c);f.Ta.add(4),await Ih(f),f.da.set("Unknown"),f.Ta.delete(4),await Qg(f)}(this))})}),this.da=new ase(n,i)}}async function Qg(t){if(Vs(t))for(const e of t.Ia)await e(!0)}async function Ih(t){for(const e of t.Ia)await e(!1)}function M4(t,e){const r=Ke(t);r.Pa.has(e.targetId)||(r.Pa.set(e.targetId,e),PS(r)?AS(r):Wl(r).M_()&&TS(r,e))}function SS(t,e){const r=Ke(t),n=Wl(r);r.Pa.delete(e),n.M_()&&D4(r,e),r.Pa.size===0&&(n.M_()?n.N_():Vs(r)&&r.da.set("Unknown"))}function TS(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wl(t).H_(e)}function D4(t,e){t.Aa.Ke(e),Wl(t).J_(e)}function AS(t){t.Aa=new tae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.da._a()}function PS(t){return Vs(t)&&!Wl(t).F_()&&t.Pa.size>0}function Vs(t){return Ke(t).Ta.size===0}function L4(t){t.Aa=void 0}async function use(t){t.da.set("Online")}async function lse(t){t.Pa.forEach((e,r)=>{TS(t,e)})}async function cse(t,e){L4(t),PS(t)?(t.da.ca(e),AS(t)):t.da.set("Unknown")}async function fse(t,e,r){if(t.da.set("Online"),e instanceof w4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Pa.delete(l),i.Aa.removeTarget(l))}(t,e)}catch(n){Ie(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Wm(t,n)}else if(e instanceof Pp?t.Aa.Xe(e):e instanceof b4?t.Aa.ot(e):t.Aa.nt(e),!r.isEqual(He.min()))try{const n=await R4(t.localStore);r.compareTo(n)>=0&&await function(o,s){const l=o.Aa.It(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Pa.get(f);d&&o.Pa.set(f,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(Er.EMPTY_BYTE_STRING,d.snapshotVersion)),D4(o,c);const p=new aa(d.target,c,f,d.sequenceNumber);TS(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ie(Is,"Failed to raise snapshot:",n),await Wm(t,n)}}async function Wm(t,e,r){if(!zl(e))throw e;t.Ta.add(1),await Ih(t),t.da.set("Offline"),r||(r=()=>R4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(Is,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await Qg(t)})}function $4(t,e){return e().catch(r=>Wm(t,r,e))}async function Jg(t){const e=Ke(t),r=_a(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:cS;for(;hse(e);)try{const i=await Kae(e.localStore,n);if(i===null){e.ha.length===0&&r.N_();break}n=i.batchId,dse(e,i)}catch(i){await Wm(e,i)}V4(e)&&F4(e)}function hse(t){return Vs(t)&&t.ha.length<10}function dse(t,e){t.ha.push(e);const r=_a(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function V4(t){return Vs(t)&&!_a(t).F_()&&t.ha.length>0}function F4(t){_a(t).start()}async function pse(t){_a(t).ta()}async function mse(t){const e=_a(t);for(const r of t.ha)e.Z_(r.mutations)}async function gse(t,e,r){const n=t.ha.shift(),i=vS.from(n,e,r);await $4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jg(t)}async function vse(t,e){e&&_a(t).Y_&&await async function(n,i){if(function(s){return Zoe(s)&&s!==ve.ABORTED}(i.code)){const o=n.ha.shift();_a(n).O_(),await $4(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jg(n)}}(t,e),V4(t)&&F4(t)}async function Pj(t,e){const r=Ke(t);r.asyncQueue.verifyOperationInProgress(),Ie(Is,"RemoteStore received new credentials");const n=Vs(r);r.Ta.add(3),await Ih(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Qg(r)}async function yse(t,e){const r=Ke(t);e?(r.Ta.delete(2),await Qg(r)):e||(r.Ta.add(2),await Ih(r),r.da.set("Unknown"))}function Wl(t){return t.Ra||(t.Ra=function(r,n,i){const o=Ke(r);return o.ra(),new rse(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:use.bind(null,t),n_:lse.bind(null,t),i_:cse.bind(null,t),j_:fse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),PS(t)?AS(t):t.da.set("Unknown")):(await t.Ra.stop(),L4(t))})),t.Ra}function _a(t){return t.Va||(t.Va=function(r,n,i){const o=Ke(r);return o.ra(),new nse(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:pse.bind(null,t),i_:vse.bind(null,t),X_:mse.bind(null,t),ea:gse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Jg(t)):(await t.Va.stop(),t.ha.length>0&&(Ie(Is,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,l=new IS(e,r,s,i,o);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OS(t,e){if(yo("AsyncQueue",`${e}: ${t}`),zl(t))return new Ve(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=rf(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ku;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.ma=new Nt(Fe.comparator)}track(e){const r=e.doc.key,n=this.ma.get(r);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(r,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(r):e.type===1&&n.type===2?this.ma=this.ma.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):ze(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(r,e)}ga(){const e=[];return this.ma.inorderTraversal((r,n)=>{e.push(n)}),e}}class Pl{constructor(e,r,n,i,o,s,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Pl(e,r,Ku.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class bse{constructor(){this.queries=Oj(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const i=Ke(r),o=i.queries;i.queries=Oj(),o.forEach((s,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Ve(ve.ABORTED,"Firestore shutting down"))}}function Oj(){return new Ls(t=>a4(t),Wg)}async function wse(t,e){const r=Ke(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.wa()&&e.Sa()&&(n=2):(o=new _se,n=e.Sa()?0:1);try{switch(n){case 0:o.pa=await r.onListen(i,!0);break;case 1:o.pa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=OS(s,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,o),o.ya.push(e),e.Da(r.onlineState),o.pa&&e.va(o.pa)&&CS(r)}async function xse(t,e){const r=Ke(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ese(t,e){const r=Ke(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const l of s.ya)l.va(i)&&(n=!0);s.pa=i}}n&&CS(r)}function Sse(t,e,r){const n=Ke(t),i=n.queries.get(e);if(i)for(const o of i.ya)o.onError(r);n.queries.delete(e)}function CS(t){t.ba.forEach(e=>{e.next()})}var Vx,Cj;(Cj=Vx||(Vx={})).Ca="default",Cj.Cache="cache";class Tse{constructor(e,r,n){this.query=e,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Pl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),r=!0):this.Na(e,this.onlineState)&&(this.Ba(e),r=!0),this.xa=e,r}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),r=!0),r}Na(e,r){if(!e.fromCache||!this.Sa())return!0;const n=r!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Vx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.key=e}}class U4{constructor(e){this.key=e}}class Ase{constructor(e,r){this.query=e,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=s4(e),this.Ja=new Ku(this.Ha)}get Ya(){return this.Ga}Za(e,r){const n=r?r.Xa:new Ij,i=r?r.Ja:this.Ja;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const v=i.get(d),y=Hg(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;v&&y?v.data.isEqual(y.data)?w!==x&&(n.track({type:3,doc:y}),_=!0):this.eu(v,y)||(n.track({type:2,doc:y}),_=!0,(c&&this.Ha(y,c)>0||f&&this.Ha(y,f)<0)&&(l=!0)):!v&&y?(n.track({type:0,doc:y}),_=!0):v&&!y&&(n.track({type:1,doc:v}),_=!0,(c||f)&&(l=!0)),_&&(y?(s=s.add(y),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Ja:s,Xa:n,Cs:l,mutatedKeys:o}}eu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((d,p)=>function(y,w){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:_})}};return x(y)-x(w)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(n),i=i!=null&&i;const l=r&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,f=c!==this.za;return this.za=c,s.length!==0||f?{snapshot:new Pl(this.query,e.Ja,o,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Ij,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const r=[];return e.forEach(n=>{this.ja.has(n)||r.push(new U4(n))}),this.ja.forEach(n=>{e.has(n)||r.push(new B4(n))}),r}su(e){this.Ga=e.$s,this.ja=tt();const r=this.Za(e.documents);return this.applyChanges(r,!0)}ou(){return Pl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const kS="SyncEngine";class Pse{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Ise{constructor(e){this.key=e,this._u=!1}}class Ose{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ls(l=>a4(l),Wg),this.cu=new Map,this.lu=new Set,this.hu=new Nt(Fe.comparator),this.Pu=new Map,this.Tu=new bS,this.Iu={},this.Eu=new Map,this.du=Al.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Cse(t,e,r=!0){const n=G4(t);let i;const o=n.uu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await q4(n,e,r,!0),i}async function kse(t,e){const r=G4(t);await q4(r,e,!0,!1)}async function q4(t,e,r,n){const i=await Gae(t.localStore,Pi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let l;return n&&(l=await Rse(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&M4(t.remoteStore,i),l}async function Rse(t,e,r,n,i){t.Ru=(p,v,y)=>async function(x,_,T,A){let O=_.view.Za(T);O.Cs&&(O=await xj(x.localStore,_.query,!1).then(({documents:P})=>_.view.Za(P,O)));const M=A&&A.targetChanges.get(_.targetId),C=A&&A.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(O,x.isPrimaryClient,M,C);return Rj(x,_.targetId,N.ru),N.snapshot}(t,p,v,y);const o=await xj(t.localStore,e,!0),s=new Ase(e,o.$s),l=s.Za(o.documents),c=Ph.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);Rj(t,r,f.ru);const d=new Pse(e,r,s);return t.uu.set(e,d),t.cu.has(r)?t.cu.get(r).push(e):t.cu.set(r,[e]),f.snapshot}async function Nse(t,e,r){const n=Ke(t),i=n.uu.get(e),o=n.cu.get(i.targetId);if(o.length>1)return n.cu.set(i.targetId,o.filter(s=>!Wg(s,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Lx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&SS(n.remoteStore,i.targetId),Fx(n,i.targetId)}).catch(ql)):(Fx(n,i.targetId),await Lx(n.localStore,i.targetId,!0))}async function jse(t,e){const r=Ke(t),n=r.uu.get(e),i=r.cu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),SS(r.remoteStore,n.targetId))}async function Mse(t,e,r){const n=Use(t);try{const i=await function(s,l){const c=Ke(s),f=rr.now(),d=l.reduce((y,w)=>y.add(w.key),tt());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=_o(),x=tt();return c.Bs.getEntries(y,d).next(_=>{w=_,w.forEach((T,A)=>{A.isValidDocument()||(x=x.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(_=>{p=_;const T=[];for(const A of l){const O=Goe(A,p.get(A.key).overlayedDocument);O!=null&&T.push(new $s(A.key,O,ZV(O.value.mapValue),co.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,T,l)}).next(_=>{v=_;const T=_.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,_.batchId,T)})}).then(()=>({batchId:v.batchId,changes:l4(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let f=s.Iu[s.currentUser.toKey()];f||(f=new Nt(Je)),f=f.insert(l,c),s.Iu[s.currentUser.toKey()]=f}(n,i.batchId,r),await Oh(n,i.changes),await Jg(n.remoteStore)}catch(i){const o=OS(i,"Failed to persist write");r.reject(o)}}async function z4(t,e){const r=Ke(t);try{const n=await Wae(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Pu.get(o);s&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?dt(s._u,14607):i.removedDocuments.size>0&&(dt(s._u,42227),s._u=!1))}),await Oh(r,n,e)}catch(n){await ql(n)}}function kj(t,e,r){const n=Ke(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.uu.forEach((o,s)=>{const l=s.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Ke(s);c.onlineState=l;let f=!1;c.queries.forEach((d,p)=>{for(const v of p.ya)v.Da(l)&&(f=!0)}),f&&CS(c)}(n.eventManager,e),i.length&&n.au.j_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Dse(t,e,r){const n=Ke(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Pu.get(e),o=i&&i.key;if(o){let s=new Nt(Fe.comparator);s=s.insert(o,Rr.newNoDocument(o,He.min()));const l=tt().add(o),c=new Xg(He.min(),new Map,new Nt(Je),s,l);await z4(n,c),n.hu=n.hu.remove(o),n.Pu.delete(e),RS(n)}else await Lx(n.localStore,e,!1).then(()=>Fx(n,e,r)).catch(ql)}async function Lse(t,e){const r=Ke(t),n=e.batch.batchId;try{const i=await zae(r.localStore,e);H4(r,n,null),W4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Oh(r,i)}catch(i){await ql(i)}}async function $se(t,e,r){const n=Ke(t);try{const i=await function(s,l){const c=Ke(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(dt(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(n.localStore,e);H4(n,e,r),W4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Oh(n,i)}catch(i){await ql(i)}}function W4(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function H4(t,e,r){const n=Ke(t);let i=n.Iu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Iu[n.currentUser.toKey()]=i}}function Fx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.cu.get(e))t.uu.delete(n),r&&t.au.Vu(n,r);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(n=>{t.Tu.containsKey(n)||K4(t,n)})}function K4(t,e){t.lu.delete(e.path.canonicalString());const r=t.hu.get(e);r!==null&&(SS(t.remoteStore,r),t.hu=t.hu.remove(e),t.Pu.delete(r),RS(t))}function Rj(t,e,r){for(const n of r)n instanceof B4?(t.Tu.addReference(n.key,e),Vse(t,n)):n instanceof U4?(Ie(kS,"Document no longer in limbo: "+n.key),t.Tu.removeReference(n.key,e),t.Tu.containsKey(n.key)||K4(t,n.key)):ze(19791,{mu:n})}function Vse(t,e){const r=e.key,n=r.path.canonicalString();t.hu.get(r)||t.lu.has(n)||(Ie(kS,"New document in limbo: "+r),t.lu.add(n),RS(t))}function RS(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const r=new Fe(Dt.fromString(e)),n=t.du.next();t.Pu.set(n,new Ise(r)),t.hu=t.hu.insert(r,n),M4(t.remoteStore,new aa(Pi(mS(r.path)),n,"TargetPurposeLimboResolution",Bg.le))}}async function Oh(t,e,r){const n=Ke(t),i=[],o=[],s=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{s.push(n.Ru(c,e,r).then(f=>{var d;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=xS.Rs(c.targetId,f);o.push(p)}}))}),await Promise.all(s),n.au.j_(i),await async function(c,f){const d=Ke(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>he.forEach(f,v=>he.forEach(v.ds,y=>d.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>he.forEach(v.As,y=>d.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!zl(p))throw p;Ie(ES,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const y=d.xs.get(v),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(v,x)}}}(n.localStore,o))}async function Fse(t,e){const r=Ke(t);if(!r.currentUser.isEqual(e)){Ie(kS,"User change. New user:",e.toKey());const n=await k4(r.localStore,e);r.currentUser=e,function(o,s){o.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Ve(ve.CANCELLED,s))})}),o.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Oh(r,n.ks)}}function Bse(t,e){const r=Ke(t),n=r.Pu.get(e);if(n&&n._u)return tt().add(n.key);{let i=tt();const o=r.cu.get(e);if(!o)return i;for(const s of o){const l=r.uu.get(s);i=i.unionWith(l.view.Ya)}return i}}function G4(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dse.bind(null,e),e.au.j_=Ese.bind(null,e.eventManager),e.au.Vu=Sse.bind(null,e.eventManager),e}function Use(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Lse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$se.bind(null,e),e}class Hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return qae(this.persistence,new Fae,e.initialUser,this.serializer)}yu(e){return new C4(wS.fi,this.serializer)}pu(e){return new Yae}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hm.provider={build:()=>new Hm};class qse extends Hm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){dt(this.persistence.referenceDelegate instanceof zm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Tae(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new C4(n=>zm.fi(n,r),this.serializer)}}class Bx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>kj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fse.bind(null,this.syncEngine),await yse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bse}()}createDatastore(e){const r=Yg(e.databaseInfo.databaseId),n=function(o){return new tse(o)}(e.databaseInfo);return function(o,s,l,c){return new ose(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,l){return new sse(n,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>kj(this.syncEngine,r,0),function(){return Tj.C()?new Tj:new Qae}())}createSyncEngine(e,r){return function(i,o,s,l,c,f,d){const p=new Ose(i,o,s,l,c,f);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=Ke(i);Ie(Is,"RemoteStore shutting down."),o.Ta.add(5),await Ih(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Bx.provider={build:()=>new Bx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class Wse{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=qV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{Ie(ba,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ie(ba,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=OS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ww(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(ba,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await k4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Hse(t);Ie(ba,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Pj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Pj(e.remoteStore,i)),t._onlineComponents=e}async function Hse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(ba,"Using user provided OfflineComponentProvider");try{await Ww(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;xl("Error using user provided cache. Falling back to memory cache: "+r),await Ww(t,new Hm)}}else Ie(ba,"Using default OfflineComponentProvider"),await Ww(t,new qse(void 0));return t._offlineComponents}async function X4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(ba,"Using user provided OnlineComponentProvider"),await Nj(t,t._uninitializedComponentsProvider._online)):(Ie(ba,"Using default OnlineComponentProvider"),await Nj(t,new Bx))),t._onlineComponents}function Kse(t){return X4(t).then(e=>e.syncEngine)}async function Gse(t){const e=await X4(t),r=e.eventManager;return r.onListen=Cse.bind(null,e.syncEngine),r.onUnlisten=Nse.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=kse.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=jse.bind(null,e.syncEngine),r}function Xse(t,e,r={}){const n=new da;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const d=new zse({next:v=>{d.Cu(),s.enqueueAndForget(()=>xse(o,p));const y=v.docs.has(l);!y&&v.fromCache?f.reject(new Ve(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new Ve(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new Tse(mS(l.path),d,{includeMetadataChanges:!0,La:!0});return wse(o,p)}(await Gse(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yse(t,e,r){if(!r)throw new Ve(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qse(t,e,r,n){if(e===!0&&n===!0)throw new Ve(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Mj(t){if(!Fe.isDocumentKey(t))throw new Ve(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=NS(t);throw new Ve(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="firestore.googleapis.com",Dj=!0;class Lj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q4,this.ssl=Dj}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Dj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Eae)throw new Ve(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zie;switch(n.type){case"firstParty":return new noe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=jj.get(r);n&&(Ie("ComponentProvider","Removing Datastore"),jj.delete(r),n.terminate())}(this),Promise.resolve()}}function Jse(t,e,r,n={}){var i;t=uh(t,jS);const o=bh(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;o&&(K$(`https://${c}`),G$("Firestore",!0)),s.host!==Q4&&s.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!Ss(f,l)&&(t._setSettings(f),n.mockUserToken)){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=Cr.MOCK_USER;else{d=dte(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Ve(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cr(v)}t._authCredentials=new eoe(new BV(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new MS(this.firestore,e,this._query)}}class Mn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class lh extends MS{constructor(e,r,n){super(e,r,mS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Fe(e))}withConverter(e){return new lh(this.firestore,e,this._path)}}function Hw(t,e,...r){if(t=vn(t),arguments.length===1&&(e=qV.newId()),Yse("doc","path",e),t instanceof jS){const n=Dt.fromString(e,...r);return Mj(n),new Mn(t,null,new Fe(n))}{if(!(t instanceof Mn||t instanceof lh))throw new Ve(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return Mj(n),new Mn(t.firestore,t instanceof lh?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="AsyncQueue";class Vj{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new N4(this,"async_queue_retry"),this.ec=()=>{const n=zw();n&&Ie($j,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=zw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=zw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new da;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!zl(e))throw e;Ie($j,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,yo("INTERNAL UNHANDLED ERROR: ",Fj(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const i=IS.createAndSchedule(this,e,r,n,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&ze(47125,{_c:Fj(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function Fj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class DS extends jS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Vj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vj(e),this._firestoreClient=void 0,await e}}}function Zse(t,e){const r=typeof t=="object"?t:J$(),n=typeof t=="string"?t:Lm,i=ZE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=fte("firestore");o&&Jse(i,...o)}return i}function J4(t){if(t._terminated)throw new Ve(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eue(t),t._firestoreClient}function eue(t){var e,r,n;const i=t._freezeSettings(),o=function(l,c,f,d){return new yoe(l,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Y4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wse(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(Er.fromBase64String(e))}catch(r){throw new Ve(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Il(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ve(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ve(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue=/^__.*__$/;class rue{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ah(e,this.data,r,this.fieldTransforms)}}function e3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{hc:t})}}class FS{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new FS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.dc(e),i}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Km(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(e3(this.hc)&&tue.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class nue{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Yg(e)}gc(e,r,n,i=!1){return new FS({hc:e,methodName:r,fc:n,path:xr.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iue(t){const e=t._freezeSettings(),r=Yg(t._databaseId);return new nue(t._databaseId,!!e.ignoreUndefinedProperties,r)}function oue(t,e,r,n,i,o={}){const s=t.gc(o.merge||o.mergeFields?2:0,e,r,i);i3("Data must be an object, but it was:",s,n);const l=r3(n,s);let c,f;if(o.merge)c=new oi(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const v=aue(e,p,r);if(!s.contains(v))throw new Ve(ve.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);uue(d,v)||d.push(v)}c=new oi(d),f=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=s.fieldTransforms;return new rue(new Rn(l),c,f)}function t3(t,e){if(n3(t=vn(t)))return i3("Unsupported field value:",e,t),r3(t,e);if(t instanceof Z4)return function(n,i){if(!e3(i.hc))throw i.Vc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const l of n){let c=t3(l,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=vn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Uoe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=rr.fromDate(n);return{timestampValue:qm(i.serializer,o)}}if(n instanceof rr){const o=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qm(i.serializer,o)}}if(n instanceof $S)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:x4(i.serializer,n._byteString)};if(n instanceof Mn){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_S(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof VS)return function(s,l){return{mapValue:{fields:{[QV]:{stringValue:JV},[$m]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Vc("VectorValues must only contain numeric values.");return gS(l.serializer,f)})}}}}}}(n,i);throw i.Vc(`Unsupported field value: ${NS(n)}`)}(t,e)}function r3(t,e){const r={};return WV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(n,i)=>{const o=t3(i,e.Ic(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function n3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof $S||t instanceof Il||t instanceof Mn||t instanceof Z4||t instanceof VS)}function i3(t,e,r){if(!n3(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=NS(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function aue(t,e,r){if((e=vn(e))instanceof LS)return e._internalPath;if(typeof e=="string")return o3(t,e);throw Km("Field path arguments must be of type string or ",t,!1,void 0,r)}const sue=new RegExp("[~\\*/\\[\\]]");function o3(t,e,r){if(e.search(sue)>=0)throw Km(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new LS(...e.split("."))._internalPath}catch{throw Km(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Km(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ve(ve.INVALID_ARGUMENT,l+t+c)}function uue(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(s3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class lue extends a3{data(){return super.data()}}function s3(t,e){return typeof e=="string"?o3(t,e):e instanceof LS?e._internalPath:e._delegate._internalPath}class cue{convertValue(e,r="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ds(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[$m].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Bt(s.doubleValue));return new VS(o)}convertGeoPoint(e){return new $S(Bt(e.latitude),Bt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=qg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const r=ga(e);return new rr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);dt(I4(n),9688,{name:e});const i=new ih(n.get(1),n.get(3)),o=new Fe(n.popFirst(5));return i.isEqual(r)||yo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u3 extends a3{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new due(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(s3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class due extends u3{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){t=uh(t,Mn);const e=uh(t.firestore,DS);return Xse(J4(e),t._key).then(r=>vue(e,t,r))}class mue extends cue{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,r)}}function Bj(t,e,r){t=uh(t,Mn);const n=uh(t.firestore,DS),i=fue(t.converter,e,r);return gue(n,[oue(iue(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,co.none())])}function gue(t,e){return function(n,i){const o=new da;return n.asyncQueue.enqueueAndForget(async()=>Mse(await Kse(n),i,o)),o.promise}(J4(t),e)}function vue(t,e,r){const n=r.docs.get(e._key),i=new mue(t);return new u3(t,i,e._key,n,new hue(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Ul=i})(Vl),bl(new Ts("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),l=new DS(new toe(n.getProvider("auth-internal")),new ioe(s,n.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(f.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),ca(HN,KN,e),ca(HN,KN,"esm2017")})();var yue="firebase",_ue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(yue,_ue,"app");const bue={apiKey:"AIzaSyAsJodYue9gdmCJsjgWXkn3p4EQuRGYMoY",authDomain:"kiosko-app-1ec1a.firebaseapp.com",projectId:"kiosko-app-1ec1a",storageBucket:"kiosko-app-1ec1a.firebasestorage.app",messagingSenderId:"76541564793",appId:"1:76541564793:web:b826d42d0bd4237d3841a8",measurementId:"G-9MWJ2E95DW"},l3=Q$(bue),Xc=Qie(l3),Kw=Zse(l3),_r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function wue(t,e=0){return(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase()}let Gw;const xue=new Uint8Array(16);function Eue(){if(!Gw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gw=crypto.getRandomValues.bind(crypto)}return Gw(xue)}const Sue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Uj={randomUUID:Sue};function Tue(t,e,r){var i;if(Uj.randomUUID&&!t)return Uj.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Eue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,wue(n)}const c3=U.createContext(void 0),f3=()=>{const t=U.useContext(c3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Aue=()=>{let t=localStorage.getItem("deviceId");return t||(t=Tue(),localStorage.setItem("deviceId",t)),t},Pue=({children:t})=>{const[e,r]=U.useState(null),[n,i]=U.useState(!0),[o,s]=U.useState(!1),l=Aue();U.useEffect(()=>Fne(Xc,async v=>{v?await c(v.uid)?(r(v),s(!0)):(await Fw(Xc),r(null),s(!1)):(r(null),s(!1)),i(!1)}),[]);const c=async p=>{try{const v=await pue(Hw(Kw,"usuarios_dispositivo",p));if(!v.exists())return await Bj(Hw(Kw,"usuarios_dispositivo",p),{uid:p,deviceId:l,createdAt:new Date,lastAccess:new Date}),!0;const y=v.data();return y.deviceId===l?(await Bj(Hw(Kw,"usuarios_dispositivo",p),{...y,lastAccess:new Date},{merge:!0}),!0):!1}catch(v){return console.error("Error checking device authorization:",v),!1}},f=async(p,v)=>{try{i(!0);const w=(await Lne(Xc,p,v)).user;return await c(w.uid)?{success:!0}:(await Fw(Xc),{success:!1,error:"Esta cuenta ya est siendo usada en otro dispositivo. Solo se permite un dispositivo por cuenta."})}catch(y){let w="Error al iniciar sesin";switch(y.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":w="Email o contrasea incorrectos";break;case"auth/too-many-requests":w="Demasiados intentos fallidos. Intenta ms tarde";break;case"auth/network-request-failed":w="Error de conexin. Verifica tu internet";break;case"auth/invalid-email":w="El formato del email no es vlido";break}return{success:!1,error:w}}finally{i(!1)}},d=async()=>{try{await Fw(Xc)}catch(p){console.error("Error during logout:",p)}};return j.jsx(c3.Provider,{value:{isAuthenticated:o,currentUser:e,deviceId:l,login:f,logout:d,loading:n},children:t})},Iue=()=>{const[t,e]=U.useState(""),[r,n]=U.useState(""),[i,o]=U.useState(!1),[s,l]=U.useState(""),[c,f]=U.useState(!1),{login:d,deviceId:p}=f3(),v=async y=>{if(y.preventDefault(),f(!0),l(""),!t||!r){l("Por favor completa todos los campos"),f(!1);return}try{const w=await d(t,r);w.success||l(w.error||"Error al iniciar sesin")}catch{l("Error inesperado al iniciar sesin")}finally{f(!1)}};return j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full space-y-6",children:[j.jsxs("div",{className:"text-center space-y-2",children:[j.jsx("div",{className:"flex justify-center",children:j.jsx(dP,{className:"text-blue-600 h-8 w-8"})}),j.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Acceso al Kiosko"}),j.jsx("p",{className:"text-gray-500",children:"Ingrese sus credenciales"}),j.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[j.jsx(uM,{size:12}),j.jsxs("span",{children:["ID: ",p.slice(-8)]})]})]}),j.jsxs("form",{onSubmit:v,className:"space-y-4",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),j.jsxs("div",{className:"relative",children:[j.jsx(s5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),j.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",disabled:c,autoComplete:"email"})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contrasea"}),j.jsxs("div",{className:"relative",children:[j.jsx(dP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),j.jsx("input",{type:i?"text":"password",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contrasea",disabled:c,autoComplete:"current-password"}),j.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:c,children:i?j.jsx(n5,{size:20}):j.jsx(i5,{size:20})})]})]}),s&&j.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[j.jsx(aM,{className:"text-red-600 h-5 w-5 mt-0.5 flex-shrink-0"}),j.jsxs("div",{className:"text-sm text-red-800",children:[j.jsx("p",{className:"font-medium",children:"Error de autenticacin"}),j.jsx("p",{children:s})]})]}),j.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?j.jsxs("div",{className:"flex items-center justify-center gap-2",children:[j.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"Iniciar Sesin"})]}),j.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[j.jsx("p",{children:" Solo se permite un dispositivo por cuenta"}),j.jsx("p",{children:"Contacto: 3834997640"})]})]})})},Oue=()=>{const[t,e]=U.useState(0),{isAuthenticated:r,currentUser:n,deviceId:i,logout:o}=f3();if(!r)return j.jsx(Iue,{});const s=[{title:" Dashboard",content:j.jsx(Wee,{})},{title:"Gestin de Productos",content:j.jsx(Gee,{})},{title:"Registro de Ventas",content:j.jsx(tte,{})},{title:"Reportes",content:j.jsx(rte,{})}];return j.jsxs("div",{className:"min-h-screen bg-gray-50",children:[j.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-md",children:j.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx(Op,{size:24}),j.jsx("h1",{className:"text-xl font-bold",children:"Sistema de Gestin de Stock para Kiosko"})]}),j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[j.jsx(uM,{size:16}),j.jsxs("span",{children:["Usuario: ",(n==null?void 0:n.email)||"Usuario"]}),j.jsx("span",{className:"text-blue-200",children:"|"}),j.jsxs("span",{children:["ID: ",i.slice(-8)]})]}),j.jsx(m5,{}),j.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-800 px-3 py-2 rounded-lg transition-colors",children:[j.jsx(a5,{size:16}),"Salir"]})]})]})}),j.jsxs("main",{className:"container mx-auto p-4 mt-4",children:[j.jsx(X6,{tabs:s.map(l=>l.title),activeTab:t,onTabChange:e}),j.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-md p-6",children:s[t].content})]}),j.jsx("footer",{className:"bg-gray-100 p-4 border-t mt-auto",children:j.jsxs("div",{className:"container mx-auto text-center text-gray-600 text-sm",children:[" ",new Date().getFullYear()," Sistema de Gestin de Stock para Kiosko"]})})]})};function Cue(){return j.jsx(Pue,{children:j.jsx(Z6,{children:j.jsx(Kee,{children:j.jsx(Zee,{children:j.jsx(Oue,{})})})})})}SF.createRoot(document.getElementById("root")).render(j.jsx(W.StrictMode,{children:j.jsx(V6,{children:j.jsx(Cue,{})})}));
