(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iy={exports:{}},Fc={},Cy={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function S3(){if(eP)return Je;eP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function _(U,X,se){this.props=U,this.context=X,this.refs=x,this.updater=se||y}_.prototype.isReactComponent={},_.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=_.prototype;function T(U,X,se){this.props=U,this.context=X,this.refs=x,this.updater=se||y}var C=T.prototype=new A;C.constructor=T,w(C,_.prototype),C.isPureReactComponent=!0;var M=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(U,X,se){var ye,we={},Se=null,je=null;if(X!=null)for(ye in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(Se=""+X.key),X)I.call(X,ye)&&!P.hasOwnProperty(ye)&&(we[ye]=X[ye]);var ke=arguments.length-2;if(ke===1)we.children=se;else if(1<ke){for(var fe=Array(ke),Te=0;Te<ke;Te++)fe[Te]=arguments[Te+2];we.children=fe}if(U&&U.defaultProps)for(ye in ke=U.defaultProps,ke)we[ye]===void 0&&(we[ye]=ke[ye]);return{$$typeof:t,type:U,key:Se,ref:je,props:we,_owner:N.current}}function R(U,X){return{$$typeof:t,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return X[se]})}var L=/\/+/g;function j(U,X){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):X.toString(36)}function J(U,X,se,ye,we){var Se=typeof U;(Se==="undefined"||Se==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Se){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,we=we(je),U=ye===""?"."+j(je,0):ye,M(we)?(se="",U!=null&&(se=U.replace(L,"$&/")+"/"),J(we,X,se,"",function(Te){return Te})):we!=null&&(F(we)&&(we=R(we,se+(!we.key||je&&je.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+U)),X.push(we)),1;if(je=0,ye=ye===""?".":ye+":",M(U))for(var ke=0;ke<U.length;ke++){Se=U[ke];var fe=ye+j(Se,ke);je+=J(Se,X,se,fe,we)}else if(fe=v(U),typeof fe=="function")for(U=fe.call(U),ke=0;!(Se=U.next()).done;)Se=Se.value,fe=ye+j(Se,ke++),je+=J(Se,X,se,fe,we);else if(Se==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function Z(U,X,se){if(U==null)return U;var ye=[],we=0;return J(U,ye,"","",function(Se){return X.call(se,Se,we++)}),ye}function re(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var G={current:null},H={transition:null},Q={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:H,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Z,forEach:function(U,X,se){Z(U,function(){X.apply(this,arguments)},se)},count:function(U){var X=0;return Z(U,function(){X++}),X},toArray:function(U){return Z(U,function(X){return X})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Je.Component=_,Je.Fragment=r,Je.Profiler=i,Je.PureComponent=T,Je.StrictMode=n,Je.Suspense=c,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Je.act=ae,Je.cloneElement=function(U,X,se){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=w({},U.props),we=U.key,Se=U.ref,je=U._owner;if(X!=null){if(X.ref!==void 0&&(Se=X.ref,je=N.current),X.key!==void 0&&(we=""+X.key),U.type&&U.type.defaultProps)var ke=U.type.defaultProps;for(fe in X)I.call(X,fe)&&!P.hasOwnProperty(fe)&&(ye[fe]=X[fe]===void 0&&ke!==void 0?ke[fe]:X[fe])}var fe=arguments.length-2;if(fe===1)ye.children=se;else if(1<fe){ke=Array(fe);for(var Te=0;Te<fe;Te++)ke[Te]=arguments[Te+2];ye.children=ke}return{$$typeof:t,type:U.type,key:we,ref:Se,props:ye,_owner:je}},Je.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Je.createElement=O,Je.createFactory=function(U){var X=O.bind(null,U);return X.type=U,X},Je.createRef=function(){return{current:null}},Je.forwardRef=function(U){return{$$typeof:l,render:U}},Je.isValidElement=F,Je.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:re}},Je.memo=function(U,X){return{$$typeof:f,type:U,compare:X===void 0?null:X}},Je.startTransition=function(U){var X=H.transition;H.transition={};try{U()}finally{H.transition=X}},Je.unstable_act=ae,Je.useCallback=function(U,X){return G.current.useCallback(U,X)},Je.useContext=function(U){return G.current.useContext(U)},Je.useDebugValue=function(){},Je.useDeferredValue=function(U){return G.current.useDeferredValue(U)},Je.useEffect=function(U,X){return G.current.useEffect(U,X)},Je.useId=function(){return G.current.useId()},Je.useImperativeHandle=function(U,X,se){return G.current.useImperativeHandle(U,X,se)},Je.useInsertionEffect=function(U,X){return G.current.useInsertionEffect(U,X)},Je.useLayoutEffect=function(U,X){return G.current.useLayoutEffect(U,X)},Je.useMemo=function(U,X){return G.current.useMemo(U,X)},Je.useReducer=function(U,X,se){return G.current.useReducer(U,X,se)},Je.useRef=function(U){return G.current.useRef(U)},Je.useState=function(U){return G.current.useState(U)},Je.useSyncExternalStore=function(U,X,se){return G.current.useSyncExternalStore(U,X,se)},Je.useTransition=function(){return G.current.useTransition()},Je.version="18.3.1",Je}var tP;function eg(){return tP||(tP=1,Cy.exports=S3()),Cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function A3(){if(rP)return Fc;rP=1;var t=eg(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var d,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(d in c)n.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:l,key:v,ref:y,props:p,_owner:i.current}}return Fc.Fragment=r,Fc.jsx=s,Fc.jsxs=s,Fc}var nP;function T3(){return nP||(nP=1,Iy.exports=A3()),Iy.exports}var V=T3(),W=eg();const z=ft(W);var Qd={},ky={exports:{}},Xr={},Ry={exports:{}},Ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP;function P3(){return iP||(iP=1,function(t){function e(H,Q){var ae=H.length;H.push(Q);e:for(;0<ae;){var U=ae-1>>>1,X=H[U];if(0<i(X,Q))H[U]=Q,H[ae]=X,ae=U;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Q=H[0],ae=H.pop();if(ae!==Q){H[0]=ae;e:for(var U=0,X=H.length,se=X>>>1;U<se;){var ye=2*(U+1)-1,we=H[ye],Se=ye+1,je=H[Se];if(0>i(we,ae))Se<X&&0>i(je,we)?(H[U]=je,H[Se]=ae,U=Se):(H[U]=we,H[ye]=ae,U=ye);else if(Se<X&&0>i(je,ae))H[U]=je,H[Se]=ae,U=Se;else break e}}return Q}function i(H,Q){var ae=H.sortIndex-Q.sortIndex;return ae!==0?ae:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],d=1,p=null,v=3,y=!1,w=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=H)n(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(f)}}function M(H){if(x=!1,C(H),!w)if(r(c)!==null)w=!0,re(I);else{var Q=r(f);Q!==null&&G(M,Q.startTime-H)}}function I(H,Q){w=!1,x&&(x=!1,A(O),O=-1),y=!0;var ae=v;try{for(C(Q),p=r(c);p!==null&&(!(p.expirationTime>Q)||H&&!D());){var U=p.callback;if(typeof U=="function"){p.callback=null,v=p.priorityLevel;var X=U(p.expirationTime<=Q);Q=t.unstable_now(),typeof X=="function"?p.callback=X:p===r(c)&&n(c),C(Q)}else n(c);p=r(c)}if(p!==null)var se=!0;else{var ye=r(f);ye!==null&&G(M,ye.startTime-Q),se=!1}return se}finally{p=null,v=ae,y=!1}}var N=!1,P=null,O=-1,R=5,F=-1;function D(){return!(t.unstable_now()-F<R)}function L(){if(P!==null){var H=t.unstable_now();F=H;var Q=!0;try{Q=P(!0,H)}finally{Q?j():(N=!1,P=null)}}else N=!1}var j;if(typeof T=="function")j=function(){T(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=L,j=function(){Z.postMessage(null)}}else j=function(){_(L,0)};function re(H){P=H,N||(N=!0,j())}function G(H,Q){O=_(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,re(I))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ae=v;v=Q;try{return H()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=v;v=H;try{return Q()}finally{v=ae}},t.unstable_scheduleCallback=function(H,Q,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,H={id:d++,callback:Q,priorityLevel:H,startTime:ae,expirationTime:X,sortIndex:-1},ae>U?(H.sortIndex=ae,e(f,H),r(c)===null&&H===r(f)&&(x?(A(O),O=-1):x=!0,G(M,ae-U))):(H.sortIndex=X,e(c,H),w||y||(w=!0,re(I))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var Q=v;return function(){var ae=v;v=Q;try{return H.apply(this,arguments)}finally{v=ae}}}}(Ny)),Ny}var oP;function O3(){return oP||(oP=1,Ry.exports=P3()),Ry.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP;function I3(){if(aP)return Xr;aP=1;var t=eg(),e=O3();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(a){return c.call(p,a)?!0:c.call(d,a)?!1:f.test(a)?p[a]=!0:(d[a]=!0,!1)}function y(a,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,h,g){if(u===null||typeof u>"u"||y(a,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,h,g,b,S,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=S,this.removeEmptyString=$}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];_[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(A,T);_[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(A,T);_[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(A,T);_[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function C(a,u,h,g){var b=_.hasOwnProperty(u)?_[u]:null;(b!==null?b.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,h,b,g)&&(h=null),g||b===null?v(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):b.mustUseProperty?a[b.propertyName]=h===null?b.type===3?!1:"":h:(u=b.attributeName,g=b.attributeNamespace,h===null?a.removeAttribute(u):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?a.setAttributeNS(g,u,h):a.setAttribute(u,h))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),H=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,U;function X(a){if(U===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+a}var se=!1;function ye(a,u){if(!a||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var g=ie}Reflect.construct(a,[],u)}else{try{u.call()}catch(ie){g=ie}a.call(u.prototype)}else{try{throw Error()}catch(ie){g=ie}a()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var b=ie.stack.split(`
`),S=g.stack.split(`
`),$=b.length-1,q=S.length-1;1<=$&&0<=q&&b[$]!==S[q];)q--;for(;1<=$&&0<=q;$--,q--)if(b[$]!==S[q]){if($!==1||q!==1)do if($--,q--,0>q||b[$]!==S[q]){var K=`
`+b[$].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=$&&0<=q);break}}}finally{se=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?X(a):""}function we(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case N:return"Portal";case R:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case J:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case F:return(a._context.displayName||"Context")+".Provider";case L:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return u=a.displayName||null,u!==null?u:Se(a.type)||"Memo";case re:u=a._payload,a=a._init;try{return Se(a(u))}catch{}}return null}function je(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fe(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Te(a){var u=fe(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,S=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return b.call(this)},set:function($){g=""+$,S.call(this,$)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function be(a){a._valueTracker||(a._valueTracker=Te(a))}function oe(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=fe(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function Be(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function xe(a,u){var h=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function We(a,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=ke(u.value!=null?u.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Qe(a,u){u=u.checked,u!=null&&C(a,"checked",u,!1)}function ht(a,u){Qe(a,u);var h=ke(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Ct(a,u.type,h):u.hasOwnProperty("defaultValue")&&Ct(a,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function vt(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Ct(a,u,h){(u!=="number"||Be(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var Er=Array.isArray;function dr(a,u,h,g){if(a=a.options,u){u={};for(var b=0;b<h.length;b++)u["$"+h[b]]=!0;for(h=0;h<a.length;h++)b=u.hasOwnProperty("$"+a[h].value),a[h].selected!==b&&(a[h].selected=b),b&&g&&(a[h].defaultSelected=!0)}else{for(h=""+ke(h),u=null,b=0;b<a.length;b++){if(a[b].value===h){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}u!==null||a[b].disabled||(u=a[b])}u!==null&&(u.selected=!0)}}function Zr(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ui(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(Er(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:ke(h)}}function Li(a,u){var h=ke(u.value),g=ke(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function To(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var $i,Yl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,b){MSApp.execUnsafeLocalFunction(function(){return a(u,h,g,b)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=$i.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Po(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ra=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(a){Ra.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),ka[u]=ka[a]})});function Ql(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||ka.hasOwnProperty(a)&&ka[a]?(""+u).trim():u+"px"}function Jl(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=Ql(h,u[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,b):a[h]=b}}var Zl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(a,u){if(u){if(Zl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function tc(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function Ws(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hs=null,gn=null,li=null;function Ks(a){if(a=Ac(a)){if(typeof Hs!="function")throw Error(r(280));var u=a.stateNode;u&&(u=fd(u),Hs(a.stateNode,a.type,u))}}function ci(a){gn?li?li.push(a):li=[a]:gn=a}function rc(){if(gn){var a=gn,u=li;if(li=gn=null,Ks(a),u)for(a=0;a<u.length;a++)Ks(u[a])}}function ja(a,u){return a(u)}function nc(){}var Vi=!1;function ic(a,u,h){if(Vi)return a(u,h);Vi=!0;try{return ja(a,u,h)}finally{Vi=!1,(gn!==null||li!==null)&&(nc(),rc())}}function Lt(a,u){var h=a.stateNode;if(h===null)return null;var g=fd(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Gs=!1;if(l)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Gs=!1}function Ma(a,u,h,g,b,S,$,q,K){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(de){this.onError(de)}}var Da=!1,Xs=null,Dn=!1,oc=null,nv={onError:function(a){Da=!0,Xs=a}};function Ys(a,u,h,g,b,S,$,q,K){Da=!1,Xs=null,Ma.apply(nv,arguments)}function Dh(a,u,h,g,b,S,$,q,K){if(Ys.apply(this,arguments),Da){if(Da){var ie=Xs;Da=!1,Xs=null}else throw Error(r(198));Dn||(Dn=!0,oc=ie)}}function Ln(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function La(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function $n(a){if(Ln(a)!==a)throw Error(r(188))}function Lh(a){var u=a.alternate;if(!u){if(u=Ln(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,g=u;;){var b=h.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===h)return $n(b),a;if(S===g)return $n(b),u;S=S.sibling}throw Error(r(188))}if(h.return!==g.return)h=b,g=S;else{for(var $=!1,q=b.child;q;){if(q===h){$=!0,h=b,g=S;break}if(q===g){$=!0,g=b,h=S;break}q=q.sibling}if(!$){for(q=S.child;q;){if(q===h){$=!0,h=S,g=b;break}if(q===g){$=!0,g=S,h=b;break}q=q.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function ac(a){return a=Lh(a),a!==null?Qs(a):null}function Qs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Qs(a);if(u!==null)return u;a=a.sibling}return null}var Js=e.unstable_scheduleCallback,sc=e.unstable_cancelCallback,$h=e.unstable_shouldYield,iv=e.unstable_requestPaint,yt=e.unstable_now,Vh=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,Oo=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,uc=e.unstable_LowPriority,Fh=e.unstable_IdlePriority,Va=null,en=null;function Bh(a){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Va,a,void 0,(a.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:qh,lc=Math.log,Uh=Math.LN2;function qh(a){return a>>>=0,a===0?32:31-(lc(a)/Uh|0)|0}var Zs=64,eu=4194304;function Io(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Fa(a,u){var h=a.pendingLanes;if(h===0)return 0;var g=0,b=a.suspendedLanes,S=a.pingedLanes,$=h&268435455;if($!==0){var q=$&~b;q!==0?g=Io(q):(S&=$,S!==0&&(g=Io(S)))}else $=h&~b,$!==0?g=Io($):S!==0&&(g=Io(S));if(g===0)return 0;if(u!==0&&u!==g&&(u&b)===0&&(b=g&-g,S=u&-u,b>=S||b===16&&(S&4194240)!==0))return u;if((g&4)!==0&&(g|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)h=31-jr(u),b=1<<h,g|=a[h],u&=~b;return g}function ov(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes;0<S;){var $=31-jr(S),q=1<<$,K=b[$];K===-1?((q&h)===0||(q&g)!==0)&&(b[$]=ov(q,u)):K<=u&&(a.expiredLanes|=q),S&=~q}}function tn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ba(){var a=Zs;return Zs<<=1,(Zs&4194240)===0&&(Zs=64),a}function Co(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function ko(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-jr(u),a[u]=h}function mt(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var b=31-jr(h),S=1<<b;u[b]=0,g[b]=-1,a[b]=-1,h&=~S}}function Ro(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-jr(h),b=1<<g;b&u|a[g]&u&&(a[g]|=u),h&=~b}}var rt=0;function No(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var zh,tu,Wh,Hh,Kh,cc=!1,fi=[],pr=null,Vn=null,Fn=null,jo=new Map,yn=new Map,hi=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(a,u){switch(a){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":jo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(u.pointerId)}}function Ur(a,u,h,g,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},u!==null&&(u=Ac(u),u!==null&&tu(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),a)}function sv(a,u,h,g,b){switch(u){case"focusin":return pr=Ur(pr,a,u,h,g,b),!0;case"dragenter":return Vn=Ur(Vn,a,u,h,g,b),!0;case"mouseover":return Fn=Ur(Fn,a,u,h,g,b),!0;case"pointerover":var S=b.pointerId;return jo.set(S,Ur(jo.get(S)||null,a,u,h,g,b)),!0;case"gotpointercapture":return S=b.pointerId,yn.set(S,Ur(yn.get(S)||null,a,u,h,g,b)),!0}return!1}function Xh(a){var u=Ha(a.target);if(u!==null){var h=Ln(u);if(h!==null){if(u=h.tag,u===13){if(u=La(h),u!==null){a.blockedOn=u,Kh(a.priority,function(){Wh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Bi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=ru(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Na=g,h.target.dispatchEvent(g),Na=null}else return u=Ac(h),u!==null&&tu(u),a.blockedOn=h,!1;u.shift()}return!0}function Ua(a,u,h){Bi(a)&&h.delete(u)}function Yh(){cc=!1,pr!==null&&Bi(pr)&&(pr=null),Vn!==null&&Bi(Vn)&&(Vn=null),Fn!==null&&Bi(Fn)&&(Fn=null),jo.forEach(Ua),yn.forEach(Ua)}function Bn(a,u){a.blockedOn===u&&(a.blockedOn=null,cc||(cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yh)))}function Un(a){function u(b){return Bn(b,a)}if(0<fi.length){Bn(fi[0],a);for(var h=1;h<fi.length;h++){var g=fi[h];g.blockedOn===a&&(g.blockedOn=null)}}for(pr!==null&&Bn(pr,a),Vn!==null&&Bn(Vn,a),Fn!==null&&Bn(Fn,a),jo.forEach(u),yn.forEach(u),h=0;h<hi.length;h++)g=hi[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<hi.length&&(h=hi[0],h.blockedOn===null);)Xh(h),h.blockedOn===null&&hi.shift()}var Ui=M.ReactCurrentBatchConfig,Mo=!0;function Pt(a,u,h,g){var b=rt,S=Ui.transition;Ui.transition=null;try{rt=1,fc(a,u,h,g)}finally{rt=b,Ui.transition=S}}function uv(a,u,h,g){var b=rt,S=Ui.transition;Ui.transition=null;try{rt=4,fc(a,u,h,g)}finally{rt=b,Ui.transition=S}}function fc(a,u,h,g){if(Mo){var b=ru(a,u,h,g);if(b===null)_v(a,u,g,qa,h),Gh(a,g);else if(sv(b,a,u,h,g))g.stopPropagation();else if(Gh(a,g),u&4&&-1<av.indexOf(a)){for(;b!==null;){var S=Ac(b);if(S!==null&&zh(S),S=ru(a,u,h,g),S===null&&_v(a,u,g,qa,h),S===b)break;b=S}b!==null&&g.stopPropagation()}else _v(a,u,g,null,h)}}var qa=null;function ru(a,u,h,g){if(qa=null,a=Ws(g),a=Ha(a),a!==null)if(u=Ln(a),u===null)a=null;else if(h=u.tag,h===13){if(a=La(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return qa=a,null}function hc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vh()){case $a:return 1;case Oo:return 4;case vn:case uc:return 16;case Fh:return 536870912;default:return 16}default:return 16}}var rn=null,nu=null,qr=null;function dc(){if(qr)return qr;var a,u=nu,h=u.length,g,b="value"in rn?rn.value:rn.textContent,S=b.length;for(a=0;a<h&&u[a]===b[a];a++);var $=h-a;for(g=1;g<=$&&u[h-g]===b[S-g];g++);return qr=b.slice(a,1<g?1-g:void 0)}function iu(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function di(){return!0}function pc(){return!1}function mr(a){function u(h,g,b,S,$){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(h=a[q],this[q]=h?h(S):S[q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?di:pc,this.isPropagationStopped=pc,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),u}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=mr(qn),pi=ae({},qn,{view:0,detail:0}),lv=mr(pi),au,qi,Do,za=ae({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Do&&(Do&&a.type==="mousemove"?(au=a.screenX-Do.screenX,qi=a.screenY-Do.screenY):qi=au=0,Do=a),au)},movementY:function(a){return"movementY"in a?a.movementY:qi}}),su=mr(za),mc=ae({},za,{dataTransfer:0}),Qh=mr(mc),uu=ae({},pi,{relatedTarget:0}),lu=mr(uu),Jh=ae({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),zi=mr(Jh),Zh=ae({},qn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ed=mr(Zh),td=ae({},qn,{data:0}),gc=mr(td),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=rd[a])?!!u[a]:!1}function mi(){return nd}var m=ae({},pi,{key:function(a){if(a.key){var u=cu[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=iu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Mr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(a){return a.type==="keypress"?iu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?iu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=mr(m),k=ae({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=mr(k),ee=ae({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),ue=mr(ee),_e=ae({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=mr(_e),Gt=ae({},za,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=mr(Gt),or=[9,13,27,32],Bt=l&&"CompositionEvent"in window,_n=null;l&&"documentMode"in document&&(_n=document.documentMode);var nn=l&&"TextEvent"in window&&!_n,Wa=l&&(!Bt||_n&&8<_n&&11>=_n),fu=" ",GS=!1;function XS(a,u){switch(a){case"keyup":return or.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hu=!1;function wF(a,u){switch(a){case"compositionend":return YS(u);case"keypress":return u.which!==32?null:(GS=!0,fu);case"textInput":return a=u.data,a===fu&&GS?null:a;default:return null}}function xF(a,u){if(hu)return a==="compositionend"||!Bt&&XS(a,u)?(a=dc(),qr=nu=rn=null,hu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Wa&&u.locale!=="ko"?null:u.data;default:return null}}var EF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QS(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!EF[a.type]:u==="textarea"}function JS(a,u,h,g){ci(g),u=ud(u,"onChange"),0<u.length&&(h=new ou("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var vc=null,yc=null;function SF(a){gA(a,0)}function id(a){var u=vu(a);if(oe(u))return a}function AF(a,u){if(a==="change")return u}var ZS=!1;if(l){var cv;if(l){var fv="oninput"in document;if(!fv){var eA=document.createElement("div");eA.setAttribute("oninput","return;"),fv=typeof eA.oninput=="function"}cv=fv}else cv=!1;ZS=cv&&(!document.documentMode||9<document.documentMode)}function tA(){vc&&(vc.detachEvent("onpropertychange",rA),yc=vc=null)}function rA(a){if(a.propertyName==="value"&&id(yc)){var u=[];JS(u,yc,a,Ws(a)),ic(SF,u)}}function TF(a,u,h){a==="focusin"?(tA(),vc=u,yc=h,vc.attachEvent("onpropertychange",rA)):a==="focusout"&&tA()}function PF(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return id(yc)}function OF(a,u){if(a==="click")return id(u)}function IF(a,u){if(a==="input"||a==="change")return id(u)}function CF(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var zn=typeof Object.is=="function"?Object.is:CF;function _c(a,u){if(zn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!c.call(u,b)||!zn(a[b],u[b]))return!1}return!0}function nA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function iA(a,u){var h=nA(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=nA(h)}}function oA(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?oA(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function aA(){for(var a=window,u=Be();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=Be(a.document)}return u}function hv(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function kF(a){var u=aA(),h=a.focusedElem,g=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&oA(h.ownerDocument.documentElement,h)){if(g!==null&&hv(h)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var b=h.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!a.extend&&S>g&&(b=g,g=S,S=b),b=iA(h,S);var $=iA(h,g);b&&$&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(b.node,b.offset),a.removeAllRanges(),S>g?(a.addRange(u),a.extend($.node,$.offset)):(u.setEnd($.node,$.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var RF=l&&"documentMode"in document&&11>=document.documentMode,du=null,dv=null,bc=null,pv=!1;function sA(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;pv||du==null||du!==Be(g)||(g=du,"selectionStart"in g&&hv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bc&&_c(bc,g)||(bc=g,g=ud(dv,"onSelect"),0<g.length&&(u=new ou("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=du)))}function od(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var pu={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},mv={},uA={};l&&(uA=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function ad(a){if(mv[a])return mv[a];if(!pu[a])return a;var u=pu[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in uA)return mv[a]=u[h];return a}var lA=ad("animationend"),cA=ad("animationiteration"),fA=ad("animationstart"),hA=ad("transitionend"),dA=new Map,pA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(a,u){dA.set(a,u),o(u,[a])}for(var gv=0;gv<pA.length;gv++){var vv=pA[gv],NF=vv.toLowerCase(),jF=vv[0].toUpperCase()+vv.slice(1);Lo(NF,"on"+jF)}Lo(lA,"onAnimationEnd"),Lo(cA,"onAnimationIteration"),Lo(fA,"onAnimationStart"),Lo("dblclick","onDoubleClick"),Lo("focusin","onFocus"),Lo("focusout","onBlur"),Lo(hA,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MF=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function mA(a,u,h){var g=a.type||"unknown-event";a.currentTarget=h,Dh(g,u,void 0,a),a.currentTarget=null}function gA(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],b=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var $=g.length-1;0<=$;$--){var q=g[$],K=q.instance,ie=q.currentTarget;if(q=q.listener,K!==S&&b.isPropagationStopped())break e;mA(b,q,ie),S=K}else for($=0;$<g.length;$++){if(q=g[$],K=q.instance,ie=q.currentTarget,q=q.listener,K!==S&&b.isPropagationStopped())break e;mA(b,q,ie),S=K}}}if(Dn)throw a=oc,Dn=!1,oc=null,a}function Et(a,u){var h=u[Av];h===void 0&&(h=u[Av]=new Set);var g=a+"__bubble";h.has(g)||(vA(u,a,2,!1),h.add(g))}function yv(a,u,h){var g=0;u&&(g|=4),vA(h,a,g,u)}var sd="_reactListening"+Math.random().toString(36).slice(2);function xc(a){if(!a[sd]){a[sd]=!0,n.forEach(function(h){h!=="selectionchange"&&(MF.has(h)||yv(h,!1,a),yv(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[sd]||(u[sd]=!0,yv("selectionchange",!1,u))}}function vA(a,u,h,g){switch(hc(u)){case 1:var b=Pt;break;case 4:b=uv;break;default:b=fc}h=b.bind(null,u,h,a),b=void 0,!Gs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(u,h,{capture:!0,passive:b}):a.addEventListener(u,h,!0):b!==void 0?a.addEventListener(u,h,{passive:b}):a.addEventListener(u,h,!1)}function _v(a,u,h,g,b){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var q=g.stateNode.containerInfo;if(q===b||q.nodeType===8&&q.parentNode===b)break;if($===4)for($=g.return;$!==null;){var K=$.tag;if((K===3||K===4)&&(K=$.stateNode.containerInfo,K===b||K.nodeType===8&&K.parentNode===b))return;$=$.return}for(;q!==null;){if($=Ha(q),$===null)return;if(K=$.tag,K===5||K===6){g=S=$;continue e}q=q.parentNode}}g=g.return}ic(function(){var ie=S,de=Ws(h),pe=[];e:{var he=dA.get(a);if(he!==void 0){var Ee=ou,Ie=a;switch(a){case"keypress":if(iu(h)===0)break e;case"keydown":case"keyup":Ee=E;break;case"focusin":Ie="focus",Ee=lu;break;case"focusout":Ie="blur",Ee=lu;break;case"beforeblur":case"afterblur":Ee=lu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ue;break;case lA:case cA:case fA:Ee=zi;break;case hA:Ee=dt;break;case"scroll":Ee=lv;break;case"wheel":Ee=nt;break;case"copy":case"cut":case"paste":Ee=ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Ce=(u&4)!==0,$t=!Ce&&a==="scroll",te=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var Y=ie,ne;Y!==null;){ne=Y;var ve=ne.stateNode;if(ne.tag===5&&ve!==null&&(ne=ve,te!==null&&(ve=Lt(Y,te),ve!=null&&Ce.push(Ec(Y,ve,ne)))),$t)break;Y=Y.return}0<Ce.length&&(he=new Ee(he,Ie,null,h,de),pe.push({event:he,listeners:Ce}))}}if((u&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",he&&h!==Na&&(Ie=h.relatedTarget||h.fromElement)&&(Ha(Ie)||Ie[Wi]))break e;if((Ee||he)&&(he=de.window===de?de:(he=de.ownerDocument)?he.defaultView||he.parentWindow:window,Ee?(Ie=h.relatedTarget||h.toElement,Ee=ie,Ie=Ie?Ha(Ie):null,Ie!==null&&($t=Ln(Ie),Ie!==$t||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Ee=null,Ie=ie),Ee!==Ie)){if(Ce=su,ve="onMouseLeave",te="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=B,ve="onPointerLeave",te="onPointerEnter",Y="pointer"),$t=Ee==null?he:vu(Ee),ne=Ie==null?he:vu(Ie),he=new Ce(ve,Y+"leave",Ee,h,de),he.target=$t,he.relatedTarget=ne,ve=null,Ha(de)===ie&&(Ce=new Ce(te,Y+"enter",Ie,h,de),Ce.target=ne,Ce.relatedTarget=$t,ve=Ce),$t=ve,Ee&&Ie)t:{for(Ce=Ee,te=Ie,Y=0,ne=Ce;ne;ne=mu(ne))Y++;for(ne=0,ve=te;ve;ve=mu(ve))ne++;for(;0<Y-ne;)Ce=mu(Ce),Y--;for(;0<ne-Y;)te=mu(te),ne--;for(;Y--;){if(Ce===te||te!==null&&Ce===te.alternate)break t;Ce=mu(Ce),te=mu(te)}Ce=null}else Ce=null;Ee!==null&&yA(pe,he,Ee,Ce,!1),Ie!==null&&$t!==null&&yA(pe,$t,Ie,Ce,!0)}}e:{if(he=ie?vu(ie):window,Ee=he.nodeName&&he.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&he.type==="file")var Re=AF;else if(QS(he))if(ZS)Re=IF;else{Re=PF;var Me=TF}else(Ee=he.nodeName)&&Ee.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Re=OF);if(Re&&(Re=Re(a,ie))){JS(pe,Re,h,de);break e}Me&&Me(a,he,ie),a==="focusout"&&(Me=he._wrapperState)&&Me.controlled&&he.type==="number"&&Ct(he,"number",he.value)}switch(Me=ie?vu(ie):window,a){case"focusin":(QS(Me)||Me.contentEditable==="true")&&(du=Me,dv=ie,bc=null);break;case"focusout":bc=dv=du=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,sA(pe,h,de);break;case"selectionchange":if(RF)break;case"keydown":case"keyup":sA(pe,h,de)}var De;if(Bt)e:{switch(a){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else hu?XS(a,h)&&(ze="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ze="onCompositionStart");ze&&(Wa&&h.locale!=="ko"&&(hu||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&hu&&(De=dc()):(rn=de,nu="value"in rn?rn.value:rn.textContent,hu=!0)),Me=ud(ie,ze),0<Me.length&&(ze=new gc(ze,a,null,h,de),pe.push({event:ze,listeners:Me}),De?ze.data=De:(De=YS(h),De!==null&&(ze.data=De)))),(De=nn?wF(a,h):xF(a,h))&&(ie=ud(ie,"onBeforeInput"),0<ie.length&&(de=new gc("onBeforeInput","beforeinput",null,h,de),pe.push({event:de,listeners:ie}),de.data=De))}gA(pe,u)})}function Ec(a,u,h){return{instance:a,listener:u,currentTarget:h}}function ud(a,u){for(var h=u+"Capture",g=[];a!==null;){var b=a,S=b.stateNode;b.tag===5&&S!==null&&(b=S,S=Lt(a,h),S!=null&&g.unshift(Ec(a,S,b)),S=Lt(a,u),S!=null&&g.push(Ec(a,S,b))),a=a.return}return g}function mu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function yA(a,u,h,g,b){for(var S=u._reactName,$=[];h!==null&&h!==g;){var q=h,K=q.alternate,ie=q.stateNode;if(K!==null&&K===g)break;q.tag===5&&ie!==null&&(q=ie,b?(K=Lt(h,S),K!=null&&$.unshift(Ec(h,K,q))):b||(K=Lt(h,S),K!=null&&$.push(Ec(h,K,q)))),h=h.return}$.length!==0&&a.push({event:u,listeners:$})}var DF=/\r\n?/g,LF=/\u0000|\uFFFD/g;function _A(a){return(typeof a=="string"?a:""+a).replace(DF,`
`).replace(LF,"")}function ld(a,u,h){if(u=_A(u),_A(a)!==u&&h)throw Error(r(425))}function cd(){}var bv=null,wv=null;function xv(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,$F=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,VF=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(a){return bA.resolve(null).then(a).catch(FF)}:Ev;function FF(a){setTimeout(function(){throw a})}function Sv(a,u){var h=u,g=0;do{var b=h.nextSibling;if(a.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){a.removeChild(b),Un(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);Un(u)}function $o(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function wA(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var gu=Math.random().toString(36).slice(2),gi="__reactFiber$"+gu,Sc="__reactProps$"+gu,Wi="__reactContainer$"+gu,Av="__reactEvents$"+gu,BF="__reactListeners$"+gu,UF="__reactHandles$"+gu;function Ha(a){var u=a[gi];if(u)return u;for(var h=a.parentNode;h;){if(u=h[Wi]||h[gi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=wA(a);a!==null;){if(h=a[gi])return h;a=wA(a)}return u}a=h,h=a.parentNode}return null}function Ac(a){return a=a[gi]||a[Wi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function vu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function fd(a){return a[Sc]||null}var Tv=[],yu=-1;function Vo(a){return{current:a}}function St(a){0>yu||(a.current=Tv[yu],Tv[yu]=null,yu--)}function _t(a,u){yu++,Tv[yu]=a.current,a.current=u}var Fo={},Sr=Vo(Fo),zr=Vo(!1),Ka=Fo;function _u(a,u){var h=a.type.contextTypes;if(!h)return Fo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var b={},S;for(S in h)b[S]=u[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function Wr(a){return a=a.childContextTypes,a!=null}function hd(){St(zr),St(Sr)}function xA(a,u,h){if(Sr.current!==Fo)throw Error(r(168));_t(Sr,u),_t(zr,h)}function EA(a,u,h){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in u))throw Error(r(108,je(a)||"Unknown",b));return ae({},h,g)}function dd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Fo,Ka=Sr.current,_t(Sr,a),_t(zr,zr.current),!0}function SA(a,u,h){var g=a.stateNode;if(!g)throw Error(r(169));h?(a=EA(a,u,Ka),g.__reactInternalMemoizedMergedChildContext=a,St(zr),St(Sr),_t(Sr,a)):St(zr),_t(zr,h)}var Hi=null,pd=!1,Pv=!1;function AA(a){Hi===null?Hi=[a]:Hi.push(a)}function qF(a){pd=!0,AA(a)}function Bo(){if(!Pv&&Hi!==null){Pv=!0;var a=0,u=rt;try{var h=Hi;for(rt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}Hi=null,pd=!1}catch(b){throw Hi!==null&&(Hi=Hi.slice(a+1)),Js($a,Bo),b}finally{rt=u,Pv=!1}}return null}var bu=[],wu=0,md=null,gd=0,bn=[],wn=0,Ga=null,Ki=1,Gi="";function Xa(a,u){bu[wu++]=gd,bu[wu++]=md,md=a,gd=u}function TA(a,u,h){bn[wn++]=Ki,bn[wn++]=Gi,bn[wn++]=Ga,Ga=a;var g=Ki;a=Gi;var b=32-jr(g)-1;g&=~(1<<b),h+=1;var S=32-jr(u)+b;if(30<S){var $=b-b%5;S=(g&(1<<$)-1).toString(32),g>>=$,b-=$,Ki=1<<32-jr(u)+b|h<<b|g,Gi=S+a}else Ki=1<<S|h<<b|g,Gi=a}function Ov(a){a.return!==null&&(Xa(a,1),TA(a,1,0))}function Iv(a){for(;a===md;)md=bu[--wu],bu[wu]=null,gd=bu[--wu],bu[wu]=null;for(;a===Ga;)Ga=bn[--wn],bn[wn]=null,Gi=bn[--wn],bn[wn]=null,Ki=bn[--wn],bn[wn]=null}var on=null,an=null,Ot=!1,Wn=null;function PA(a,u){var h=An(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function OA(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,on=a,an=$o(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,on=a,an=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Ga!==null?{id:Ki,overflow:Gi}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=An(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,on=a,an=null,!0):!1;default:return!1}}function Cv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function kv(a){if(Ot){var u=an;if(u){var h=u;if(!OA(a,u)){if(Cv(a))throw Error(r(418));u=$o(h.nextSibling);var g=on;u&&OA(a,u)?PA(g,h):(a.flags=a.flags&-4097|2,Ot=!1,on=a)}}else{if(Cv(a))throw Error(r(418));a.flags=a.flags&-4097|2,Ot=!1,on=a}}}function IA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;on=a}function vd(a){if(a!==on)return!1;if(!Ot)return IA(a),Ot=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!xv(a.type,a.memoizedProps)),u&&(u=an)){if(Cv(a))throw CA(),Error(r(418));for(;u;)PA(a,u),u=$o(u.nextSibling)}if(IA(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){an=$o(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}an=null}}else an=on?$o(a.stateNode.nextSibling):null;return!0}function CA(){for(var a=an;a;)a=$o(a.nextSibling)}function xu(){an=on=null,Ot=!1}function Rv(a){Wn===null?Wn=[a]:Wn.push(a)}var zF=M.ReactCurrentBatchConfig;function Tc(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,a));var b=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function($){var q=b.refs;$===null?delete q[S]:q[S]=$},u._stringRef=S,u)}if(typeof a!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,a))}return a}function yd(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function kA(a){var u=a._init;return u(a._payload)}function RA(a){function u(te,Y){if(a){var ne=te.deletions;ne===null?(te.deletions=[Y],te.flags|=16):ne.push(Y)}}function h(te,Y){if(!a)return null;for(;Y!==null;)u(te,Y),Y=Y.sibling;return null}function g(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function b(te,Y){return te=Xo(te,Y),te.index=0,te.sibling=null,te}function S(te,Y,ne){return te.index=ne,a?(ne=te.alternate,ne!==null?(ne=ne.index,ne<Y?(te.flags|=2,Y):ne):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function $(te){return a&&te.alternate===null&&(te.flags|=2),te}function q(te,Y,ne,ve){return Y===null||Y.tag!==6?(Y=Ey(ne,te.mode,ve),Y.return=te,Y):(Y=b(Y,ne),Y.return=te,Y)}function K(te,Y,ne,ve){var Re=ne.type;return Re===P?de(te,Y,ne.props.children,ve,ne.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===re&&kA(Re)===Y.type)?(ve=b(Y,ne.props),ve.ref=Tc(te,Y,ne),ve.return=te,ve):(ve=Ud(ne.type,ne.key,ne.props,null,te.mode,ve),ve.ref=Tc(te,Y,ne),ve.return=te,ve)}function ie(te,Y,ne,ve){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=Sy(ne,te.mode,ve),Y.return=te,Y):(Y=b(Y,ne.children||[]),Y.return=te,Y)}function de(te,Y,ne,ve,Re){return Y===null||Y.tag!==7?(Y=ns(ne,te.mode,ve,Re),Y.return=te,Y):(Y=b(Y,ne),Y.return=te,Y)}function pe(te,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Ey(""+Y,te.mode,ne),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return ne=Ud(Y.type,Y.key,Y.props,null,te.mode,ne),ne.ref=Tc(te,null,Y),ne.return=te,ne;case N:return Y=Sy(Y,te.mode,ne),Y.return=te,Y;case re:var ve=Y._init;return pe(te,ve(Y._payload),ne)}if(Er(Y)||Q(Y))return Y=ns(Y,te.mode,ne,null),Y.return=te,Y;yd(te,Y)}return null}function he(te,Y,ne,ve){var Re=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Re!==null?null:q(te,Y,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return ne.key===Re?K(te,Y,ne,ve):null;case N:return ne.key===Re?ie(te,Y,ne,ve):null;case re:return Re=ne._init,he(te,Y,Re(ne._payload),ve)}if(Er(ne)||Q(ne))return Re!==null?null:de(te,Y,ne,ve,null);yd(te,ne)}return null}function Ee(te,Y,ne,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return te=te.get(ne)||null,q(Y,te,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case I:return te=te.get(ve.key===null?ne:ve.key)||null,K(Y,te,ve,Re);case N:return te=te.get(ve.key===null?ne:ve.key)||null,ie(Y,te,ve,Re);case re:var Me=ve._init;return Ee(te,Y,ne,Me(ve._payload),Re)}if(Er(ve)||Q(ve))return te=te.get(ne)||null,de(Y,te,ve,Re,null);yd(Y,ve)}return null}function Ie(te,Y,ne,ve){for(var Re=null,Me=null,De=Y,ze=Y=0,ur=null;De!==null&&ze<ne.length;ze++){De.index>ze?(ur=De,De=null):ur=De.sibling;var at=he(te,De,ne[ze],ve);if(at===null){De===null&&(De=ur);break}a&&De&&at.alternate===null&&u(te,De),Y=S(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at,De=ur}if(ze===ne.length)return h(te,De),Ot&&Xa(te,ze),Re;if(De===null){for(;ze<ne.length;ze++)De=pe(te,ne[ze],ve),De!==null&&(Y=S(De,Y,ze),Me===null?Re=De:Me.sibling=De,Me=De);return Ot&&Xa(te,ze),Re}for(De=g(te,De);ze<ne.length;ze++)ur=Ee(De,te,ze,ne[ze],ve),ur!==null&&(a&&ur.alternate!==null&&De.delete(ur.key===null?ze:ur.key),Y=S(ur,Y,ze),Me===null?Re=ur:Me.sibling=ur,Me=ur);return a&&De.forEach(function(Yo){return u(te,Yo)}),Ot&&Xa(te,ze),Re}function Ce(te,Y,ne,ve){var Re=Q(ne);if(typeof Re!="function")throw Error(r(150));if(ne=Re.call(ne),ne==null)throw Error(r(151));for(var Me=Re=null,De=Y,ze=Y=0,ur=null,at=ne.next();De!==null&&!at.done;ze++,at=ne.next()){De.index>ze?(ur=De,De=null):ur=De.sibling;var Yo=he(te,De,at.value,ve);if(Yo===null){De===null&&(De=ur);break}a&&De&&Yo.alternate===null&&u(te,De),Y=S(Yo,Y,ze),Me===null?Re=Yo:Me.sibling=Yo,Me=Yo,De=ur}if(at.done)return h(te,De),Ot&&Xa(te,ze),Re;if(De===null){for(;!at.done;ze++,at=ne.next())at=pe(te,at.value,ve),at!==null&&(Y=S(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at);return Ot&&Xa(te,ze),Re}for(De=g(te,De);!at.done;ze++,at=ne.next())at=Ee(De,te,ze,at.value,ve),at!==null&&(a&&at.alternate!==null&&De.delete(at.key===null?ze:at.key),Y=S(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at);return a&&De.forEach(function(E3){return u(te,E3)}),Ot&&Xa(te,ze),Re}function $t(te,Y,ne,ve){if(typeof ne=="object"&&ne!==null&&ne.type===P&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:e:{for(var Re=ne.key,Me=Y;Me!==null;){if(Me.key===Re){if(Re=ne.type,Re===P){if(Me.tag===7){h(te,Me.sibling),Y=b(Me,ne.props.children),Y.return=te,te=Y;break e}}else if(Me.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===re&&kA(Re)===Me.type){h(te,Me.sibling),Y=b(Me,ne.props),Y.ref=Tc(te,Me,ne),Y.return=te,te=Y;break e}h(te,Me);break}else u(te,Me);Me=Me.sibling}ne.type===P?(Y=ns(ne.props.children,te.mode,ve,ne.key),Y.return=te,te=Y):(ve=Ud(ne.type,ne.key,ne.props,null,te.mode,ve),ve.ref=Tc(te,Y,ne),ve.return=te,te=ve)}return $(te);case N:e:{for(Me=ne.key;Y!==null;){if(Y.key===Me)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){h(te,Y.sibling),Y=b(Y,ne.children||[]),Y.return=te,te=Y;break e}else{h(te,Y);break}else u(te,Y);Y=Y.sibling}Y=Sy(ne,te.mode,ve),Y.return=te,te=Y}return $(te);case re:return Me=ne._init,$t(te,Y,Me(ne._payload),ve)}if(Er(ne))return Ie(te,Y,ne,ve);if(Q(ne))return Ce(te,Y,ne,ve);yd(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(h(te,Y.sibling),Y=b(Y,ne),Y.return=te,te=Y):(h(te,Y),Y=Ey(ne,te.mode,ve),Y.return=te,te=Y),$(te)):h(te,Y)}return $t}var Eu=RA(!0),NA=RA(!1),_d=Vo(null),bd=null,Su=null,Nv=null;function jv(){Nv=Su=bd=null}function Mv(a){var u=_d.current;St(_d),a._currentValue=u}function Dv(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function Au(a,u){bd=a,Nv=Su=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Hr=!0),a.firstContext=null)}function xn(a){var u=a._currentValue;if(Nv!==a)if(a={context:a,memoizedValue:u,next:null},Su===null){if(bd===null)throw Error(r(308));Su=a,bd.dependencies={lanes:0,firstContext:a}}else Su=Su.next=a;return u}var Ya=null;function Lv(a){Ya===null?Ya=[a]:Ya.push(a)}function jA(a,u,h,g){var b=u.interleaved;return b===null?(h.next=h,Lv(u)):(h.next=b.next,b.next=h),u.interleaved=h,Xi(a,g)}function Xi(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Uo=!1;function $v(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Yi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function qo(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,Xi(a,h)}return b=g.interleaved,b===null?(u.next=u,Lv(g)):(u.next=b.next,b.next=u),g.interleaved=u,Xi(a,h)}function wd(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,Ro(a,h)}}function DA(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?b=S=$:S=S.next=$,h=h.next}while(h!==null);S===null?b=S=u:S=S.next=u}else b=S=u;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function xd(a,u,h,g){var b=a.updateQueue;Uo=!1;var S=b.firstBaseUpdate,$=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var K=q,ie=K.next;K.next=null,$===null?S=ie:$.next=ie,$=K;var de=a.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==$&&(q===null?de.firstBaseUpdate=ie:q.next=ie,de.lastBaseUpdate=K))}if(S!==null){var pe=b.baseState;$=0,de=ie=K=null,q=S;do{var he=q.lane,Ee=q.eventTime;if((g&he)===he){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ie=a,Ce=q;switch(he=u,Ee=h,Ce.tag){case 1:if(Ie=Ce.payload,typeof Ie=="function"){pe=Ie.call(Ee,pe,he);break e}pe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ce.payload,he=typeof Ie=="function"?Ie.call(Ee,pe,he):Ie,he==null)break e;pe=ae({},pe,he);break e;case 2:Uo=!0}}q.callback!==null&&q.lane!==0&&(a.flags|=64,he=b.effects,he===null?b.effects=[q]:he.push(q))}else Ee={eventTime:Ee,lane:he,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(ie=de=Ee,K=pe):de=de.next=Ee,$|=he;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;he=q,q=he.next,he.next=null,b.lastBaseUpdate=he,b.shared.pending=null}}while(!0);if(de===null&&(K=pe),b.baseState=K,b.firstBaseUpdate=ie,b.lastBaseUpdate=de,u=b.shared.interleaved,u!==null){b=u;do $|=b.lane,b=b.next;while(b!==u)}else S===null&&(b.shared.lanes=0);Za|=$,a.lanes=$,a.memoizedState=pe}}function LA(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var Pc={},vi=Vo(Pc),Oc=Vo(Pc),Ic=Vo(Pc);function Qa(a){if(a===Pc)throw Error(r(174));return a}function Vv(a,u){switch(_t(Ic,u),_t(Oc,a),_t(vi,Pc),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Kt(u,a)}St(vi),_t(vi,u)}function Tu(){St(vi),St(Oc),St(Ic)}function $A(a){Qa(Ic.current);var u=Qa(vi.current),h=Kt(u,a.type);u!==h&&(_t(Oc,a),_t(vi,h))}function Fv(a){Oc.current===a&&(St(vi),St(Oc))}var kt=Vo(0);function Ed(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Bv=[];function Uv(){for(var a=0;a<Bv.length;a++)Bv[a]._workInProgressVersionPrimary=null;Bv.length=0}var Sd=M.ReactCurrentDispatcher,qv=M.ReactCurrentBatchConfig,Ja=0,Rt=null,Xt=null,ar=null,Ad=!1,Cc=!1,kc=0,WF=0;function Ar(){throw Error(r(321))}function zv(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!zn(a[h],u[h]))return!1;return!0}function Wv(a,u,h,g,b,S){if(Ja=S,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Sd.current=a===null||a.memoizedState===null?XF:YF,a=h(g,b),Cc){S=0;do{if(Cc=!1,kc=0,25<=S)throw Error(r(301));S+=1,ar=Xt=null,u.updateQueue=null,Sd.current=QF,a=h(g,b)}while(Cc)}if(Sd.current=Od,u=Xt!==null&&Xt.next!==null,Ja=0,ar=Xt=Rt=null,Ad=!1,u)throw Error(r(300));return a}function Hv(){var a=kc!==0;return kc=0,a}function yi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Rt.memoizedState=ar=a:ar=ar.next=a,ar}function En(){if(Xt===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=Xt.next;var u=ar===null?Rt.memoizedState:ar.next;if(u!==null)ar=u,Xt=a;else{if(a===null)throw Error(r(310));Xt=a,a={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ar===null?Rt.memoizedState=ar=a:ar=ar.next=a}return ar}function Rc(a,u){return typeof u=="function"?u(a):u}function Kv(a){var u=En(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=Xt,b=g.baseQueue,S=h.pending;if(S!==null){if(b!==null){var $=b.next;b.next=S.next,S.next=$}g.baseQueue=b=S,h.pending=null}if(b!==null){S=b.next,g=g.baseState;var q=$=null,K=null,ie=S;do{var de=ie.lane;if((Ja&de)===de)K!==null&&(K=K.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:a(g,ie.action);else{var pe={lane:de,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};K===null?(q=K=pe,$=g):K=K.next=pe,Rt.lanes|=de,Za|=de}ie=ie.next}while(ie!==null&&ie!==S);K===null?$=g:K.next=q,zn(g,u.memoizedState)||(Hr=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=K,h.lastRenderedState=g}if(a=h.interleaved,a!==null){b=a;do S=b.lane,Rt.lanes|=S,Za|=S,b=b.next;while(b!==a)}else b===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Gv(a){var u=En(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=h.dispatch,b=h.pending,S=u.memoizedState;if(b!==null){h.pending=null;var $=b=b.next;do S=a(S,$.action),$=$.next;while($!==b);zn(S,u.memoizedState)||(Hr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function VA(){}function FA(a,u){var h=Rt,g=En(),b=u(),S=!zn(g.memoizedState,b);if(S&&(g.memoizedState=b,Hr=!0),g=g.queue,Xv(qA.bind(null,h,g,a),[a]),g.getSnapshot!==u||S||ar!==null&&ar.memoizedState.tag&1){if(h.flags|=2048,Nc(9,UA.bind(null,h,g,b,u),void 0,null),sr===null)throw Error(r(349));(Ja&30)!==0||BA(h,u,b)}return b}function BA(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function UA(a,u,h,g){u.value=h,u.getSnapshot=g,zA(u)&&WA(a)}function qA(a,u,h){return h(function(){zA(u)&&WA(a)})}function zA(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!zn(a,h)}catch{return!0}}function WA(a){var u=Xi(a,1);u!==null&&Xn(u,a,1,-1)}function HA(a){var u=yi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rc,lastRenderedState:a},u.queue=a,a=a.dispatch=GF.bind(null,Rt,a),[u.memoizedState,a]}function Nc(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a)),a}function KA(){return En().memoizedState}function Td(a,u,h,g){var b=yi();Rt.flags|=a,b.memoizedState=Nc(1|u,h,void 0,g===void 0?null:g)}function Pd(a,u,h,g){var b=En();g=g===void 0?null:g;var S=void 0;if(Xt!==null){var $=Xt.memoizedState;if(S=$.destroy,g!==null&&zv(g,$.deps)){b.memoizedState=Nc(u,h,S,g);return}}Rt.flags|=a,b.memoizedState=Nc(1|u,h,S,g)}function GA(a,u){return Td(8390656,8,a,u)}function Xv(a,u){return Pd(2048,8,a,u)}function XA(a,u){return Pd(4,2,a,u)}function YA(a,u){return Pd(4,4,a,u)}function QA(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function JA(a,u,h){return h=h!=null?h.concat([a]):null,Pd(4,4,QA.bind(null,u,a),h)}function Yv(){}function ZA(a,u){var h=En();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&zv(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function eT(a,u){var h=En();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&zv(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function tT(a,u,h){return(Ja&21)===0?(a.baseState&&(a.baseState=!1,Hr=!0),a.memoizedState=h):(zn(h,u)||(h=Ba(),Rt.lanes|=h,Za|=h,a.baseState=!0),u)}function HF(a,u){var h=rt;rt=h!==0&&4>h?h:4,a(!0);var g=qv.transition;qv.transition={};try{a(!1),u()}finally{rt=h,qv.transition=g}}function rT(){return En().memoizedState}function KF(a,u,h){var g=Ko(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},nT(a))iT(u,h);else if(h=jA(a,u,h,g),h!==null){var b=Lr();Xn(h,a,g,b),oT(h,u,g)}}function GF(a,u,h){var g=Ko(a),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(nT(a))iT(u,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var $=u.lastRenderedState,q=S($,h);if(b.hasEagerState=!0,b.eagerState=q,zn(q,$)){var K=u.interleaved;K===null?(b.next=b,Lv(u)):(b.next=K.next,K.next=b),u.interleaved=b;return}}catch{}finally{}h=jA(a,u,b,g),h!==null&&(b=Lr(),Xn(h,a,g,b),oT(h,u,g))}}function nT(a){var u=a.alternate;return a===Rt||u!==null&&u===Rt}function iT(a,u){Cc=Ad=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function oT(a,u,h){if((h&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,Ro(a,h)}}var Od={readContext:xn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},XF={readContext:xn,useCallback:function(a,u){return yi().memoizedState=[a,u===void 0?null:u],a},useContext:xn,useEffect:GA,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,Td(4194308,4,QA.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Td(4194308,4,a,u)},useInsertionEffect:function(a,u){return Td(4,2,a,u)},useMemo:function(a,u){var h=yi();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=yi();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=KF.bind(null,Rt,a),[g.memoizedState,a]},useRef:function(a){var u=yi();return a={current:a},u.memoizedState=a},useState:HA,useDebugValue:Yv,useDeferredValue:function(a){return yi().memoizedState=a},useTransition:function(){var a=HA(!1),u=a[0];return a=HF.bind(null,a[1]),yi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var g=Rt,b=yi();if(Ot){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),sr===null)throw Error(r(349));(Ja&30)!==0||BA(g,u,h)}b.memoizedState=h;var S={value:h,getSnapshot:u};return b.queue=S,GA(qA.bind(null,g,S,a),[a]),g.flags|=2048,Nc(9,UA.bind(null,g,S,h,u),void 0,null),h},useId:function(){var a=yi(),u=sr.identifierPrefix;if(Ot){var h=Gi,g=Ki;h=(g&~(1<<32-jr(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=kc++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=WF++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},YF={readContext:xn,useCallback:ZA,useContext:xn,useEffect:Xv,useImperativeHandle:JA,useInsertionEffect:XA,useLayoutEffect:YA,useMemo:eT,useReducer:Kv,useRef:KA,useState:function(){return Kv(Rc)},useDebugValue:Yv,useDeferredValue:function(a){var u=En();return tT(u,Xt.memoizedState,a)},useTransition:function(){var a=Kv(Rc)[0],u=En().memoizedState;return[a,u]},useMutableSource:VA,useSyncExternalStore:FA,useId:rT,unstable_isNewReconciler:!1},QF={readContext:xn,useCallback:ZA,useContext:xn,useEffect:Xv,useImperativeHandle:JA,useInsertionEffect:XA,useLayoutEffect:YA,useMemo:eT,useReducer:Gv,useRef:KA,useState:function(){return Gv(Rc)},useDebugValue:Yv,useDeferredValue:function(a){var u=En();return Xt===null?u.memoizedState=a:tT(u,Xt.memoizedState,a)},useTransition:function(){var a=Gv(Rc)[0],u=En().memoizedState;return[a,u]},useMutableSource:VA,useSyncExternalStore:FA,useId:rT,unstable_isNewReconciler:!1};function Hn(a,u){if(a&&a.defaultProps){u=ae({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function Qv(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:ae({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Id={isMounted:function(a){return(a=a._reactInternals)?Ln(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Lr(),b=Ko(a),S=Yi(g,b);S.payload=u,h!=null&&(S.callback=h),u=qo(a,S,b),u!==null&&(Xn(u,a,b,g),wd(u,a,b))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Lr(),b=Ko(a),S=Yi(g,b);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=qo(a,S,b),u!==null&&(Xn(u,a,b,g),wd(u,a,b))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Lr(),g=Ko(a),b=Yi(h,g);b.tag=2,u!=null&&(b.callback=u),u=qo(a,b,g),u!==null&&(Xn(u,a,g,h),wd(u,a,g))}};function aT(a,u,h,g,b,S,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,$):u.prototype&&u.prototype.isPureReactComponent?!_c(h,g)||!_c(b,S):!0}function sT(a,u,h){var g=!1,b=Fo,S=u.contextType;return typeof S=="object"&&S!==null?S=xn(S):(b=Wr(u)?Ka:Sr.current,g=u.contextTypes,S=(g=g!=null)?_u(a,b):Fo),u=new u(h,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Id,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=S),u}function uT(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Id.enqueueReplaceState(u,u.state,null)}function Jv(a,u,h,g){var b=a.stateNode;b.props=h,b.state=a.memoizedState,b.refs={},$v(a);var S=u.contextType;typeof S=="object"&&S!==null?b.context=xn(S):(S=Wr(u)?Ka:Sr.current,b.context=_u(a,S)),b.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Qv(a,u,S,h),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&Id.enqueueReplaceState(b,b.state,null),xd(a,h,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Pu(a,u){try{var h="",g=u;do h+=we(g),g=g.return;while(g);var b=h}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:b,digest:null}}function Zv(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function ey(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var JF=typeof WeakMap=="function"?WeakMap:Map;function lT(a,u,h){h=Yi(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){Dd||(Dd=!0,my=g),ey(a,u)},h}function cT(a,u,h){h=Yi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=u.value;h.payload=function(){return g(b)},h.callback=function(){ey(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){ey(a,u),typeof g!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),h}function fT(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new JF;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(h)||(b.add(h),a=h3.bind(null,a,u,h),u.then(a,a))}function hT(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function dT(a,u,h,g,b){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Yi(-1,1),u.tag=2,qo(h,u,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var ZF=M.ReactCurrentOwner,Hr=!1;function Dr(a,u,h,g){u.child=a===null?NA(u,null,h,g):Eu(u,a.child,h,g)}function pT(a,u,h,g,b){h=h.render;var S=u.ref;return Au(u,b),g=Wv(a,u,h,g,S,b),h=Hv(),a!==null&&!Hr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,Qi(a,u,b)):(Ot&&h&&Ov(u),u.flags|=1,Dr(a,u,g,b),u.child)}function mT(a,u,h,g,b){if(a===null){var S=h.type;return typeof S=="function"&&!xy(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=S,gT(a,u,S,g,b)):(a=Ud(h.type,null,g,u,u.mode,b),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,(a.lanes&b)===0){var $=S.memoizedProps;if(h=h.compare,h=h!==null?h:_c,h($,g)&&a.ref===u.ref)return Qi(a,u,b)}return u.flags|=1,a=Xo(S,g),a.ref=u.ref,a.return=u,u.child=a}function gT(a,u,h,g,b){if(a!==null){var S=a.memoizedProps;if(_c(S,g)&&a.ref===u.ref)if(Hr=!1,u.pendingProps=g=S,(a.lanes&b)!==0)(a.flags&131072)!==0&&(Hr=!0);else return u.lanes=a.lanes,Qi(a,u,b)}return ty(a,u,h,g,b)}function vT(a,u,h){var g=u.pendingProps,b=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Iu,sn),sn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,_t(Iu,sn),sn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,_t(Iu,sn),sn|=g}else S!==null?(g=S.baseLanes|h,u.memoizedState=null):g=h,_t(Iu,sn),sn|=g;return Dr(a,u,b,h),u.child}function yT(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function ty(a,u,h,g,b){var S=Wr(h)?Ka:Sr.current;return S=_u(u,S),Au(u,b),h=Wv(a,u,h,g,S,b),g=Hv(),a!==null&&!Hr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~b,Qi(a,u,b)):(Ot&&g&&Ov(u),u.flags|=1,Dr(a,u,h,b),u.child)}function _T(a,u,h,g,b){if(Wr(h)){var S=!0;dd(u)}else S=!1;if(Au(u,b),u.stateNode===null)kd(a,u),sT(u,h,g),Jv(u,h,g,b),g=!0;else if(a===null){var $=u.stateNode,q=u.memoizedProps;$.props=q;var K=$.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=xn(ie):(ie=Wr(h)?Ka:Sr.current,ie=_u(u,ie));var de=h.getDerivedStateFromProps,pe=typeof de=="function"||typeof $.getSnapshotBeforeUpdate=="function";pe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==g||K!==ie)&&uT(u,$,g,ie),Uo=!1;var he=u.memoizedState;$.state=he,xd(u,g,$,b),K=u.memoizedState,q!==g||he!==K||zr.current||Uo?(typeof de=="function"&&(Qv(u,h,de,g),K=u.memoizedState),(q=Uo||aT(u,h,q,g,he,K,ie))?(pe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=K),$.props=g,$.state=K,$.context=ie,g=q):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,MA(a,u),q=u.memoizedProps,ie=u.type===u.elementType?q:Hn(u.type,q),$.props=ie,pe=u.pendingProps,he=$.context,K=h.contextType,typeof K=="object"&&K!==null?K=xn(K):(K=Wr(h)?Ka:Sr.current,K=_u(u,K));var Ee=h.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==pe||he!==K)&&uT(u,$,g,K),Uo=!1,he=u.memoizedState,$.state=he,xd(u,g,$,b);var Ie=u.memoizedState;q!==pe||he!==Ie||zr.current||Uo?(typeof Ee=="function"&&(Qv(u,h,Ee,g),Ie=u.memoizedState),(ie=Uo||aT(u,h,ie,g,he,Ie,K)||!1)?(de||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Ie,K),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Ie,K)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Ie),$.props=g,$.state=Ie,$.context=K,g=ie):(typeof $.componentDidUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),g=!1)}return ry(a,u,h,g,S,b)}function ry(a,u,h,g,b,S){yT(a,u);var $=(u.flags&128)!==0;if(!g&&!$)return b&&SA(u,h,!1),Qi(a,u,S);g=u.stateNode,ZF.current=u;var q=$&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&$?(u.child=Eu(u,a.child,null,S),u.child=Eu(u,null,q,S)):Dr(a,u,q,S),u.memoizedState=g.state,b&&SA(u,h,!0),u.child}function bT(a){var u=a.stateNode;u.pendingContext?xA(a,u.pendingContext,u.pendingContext!==u.context):u.context&&xA(a,u.context,!1),Vv(a,u.containerInfo)}function wT(a,u,h,g,b){return xu(),Rv(b),u.flags|=256,Dr(a,u,h,g),u.child}var ny={dehydrated:null,treeContext:null,retryLane:0};function iy(a){return{baseLanes:a,cachePool:null,transitions:null}}function xT(a,u,h){var g=u.pendingProps,b=kt.current,S=!1,$=(u.flags&128)!==0,q;if((q=$)||(q=a!==null&&a.memoizedState===null?!1:(b&2)!==0),q?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),_t(kt,b&1),a===null)return kv(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):($=g.children,a=g.fallback,S?(g=u.mode,S=u.child,$={mode:"hidden",children:$},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=qd($,g,0,null),a=ns(a,g,h,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=iy(h),u.memoizedState=ny,a):oy(u,$));if(b=a.memoizedState,b!==null&&(q=b.dehydrated,q!==null))return e3(a,u,$,g,q,b,h);if(S){S=g.fallback,$=u.mode,b=a.child,q=b.sibling;var K={mode:"hidden",children:g.children};return($&1)===0&&u.child!==b?(g=u.child,g.childLanes=0,g.pendingProps=K,u.deletions=null):(g=Xo(b,K),g.subtreeFlags=b.subtreeFlags&14680064),q!==null?S=Xo(q,S):(S=ns(S,$,h,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,g=S,S=u.child,$=a.child.memoizedState,$=$===null?iy(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=a.childLanes&~h,u.memoizedState=ny,g}return S=a.child,a=S.sibling,g=Xo(S,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=h),g.return=u,g.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=g,u.memoizedState=null,g}function oy(a,u){return u=qd({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Cd(a,u,h,g){return g!==null&&Rv(g),Eu(u,a.child,null,h),a=oy(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function e3(a,u,h,g,b,S,$){if(h)return u.flags&256?(u.flags&=-257,g=Zv(Error(r(422))),Cd(a,u,$,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=g.fallback,b=u.mode,g=qd({mode:"visible",children:g.children},b,0,null),S=ns(S,b,$,null),S.flags|=2,g.return=u,S.return=u,g.sibling=S,u.child=g,(u.mode&1)!==0&&Eu(u,a.child,null,$),u.child.memoizedState=iy($),u.memoizedState=ny,S);if((u.mode&1)===0)return Cd(a,u,$,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var q=g.dgst;return g=q,S=Error(r(419)),g=Zv(S,g,void 0),Cd(a,u,$,g)}if(q=($&a.childLanes)!==0,Hr||q){if(g=sr,g!==null){switch($&-$){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|$))!==0?0:b,b!==0&&b!==S.retryLane&&(S.retryLane=b,Xi(a,b),Xn(g,a,b,-1))}return wy(),g=Zv(Error(r(421))),Cd(a,u,$,g)}return b.data==="$?"?(u.flags|=128,u.child=a.child,u=d3.bind(null,a),b._reactRetry=u,null):(a=S.treeContext,an=$o(b.nextSibling),on=u,Ot=!0,Wn=null,a!==null&&(bn[wn++]=Ki,bn[wn++]=Gi,bn[wn++]=Ga,Ki=a.id,Gi=a.overflow,Ga=u),u=oy(u,g.children),u.flags|=4096,u)}function ET(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Dv(a.return,u,h)}function ay(a,u,h,g,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=b)}function ST(a,u,h){var g=u.pendingProps,b=g.revealOrder,S=g.tail;if(Dr(a,u,g.children,h),g=kt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ET(a,h,u);else if(a.tag===19)ET(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(_t(kt,g),(u.mode&1)===0)u.memoizedState=null;else switch(b){case"forwards":for(h=u.child,b=null;h!==null;)a=h.alternate,a!==null&&Ed(a)===null&&(b=h),h=h.sibling;h=b,h===null?(b=u.child,u.child=null):(b=h.sibling,h.sibling=null),ay(u,!1,b,h,S);break;case"backwards":for(h=null,b=u.child,u.child=null;b!==null;){if(a=b.alternate,a!==null&&Ed(a)===null){u.child=b;break}a=b.sibling,b.sibling=h,h=b,b=a}ay(u,!0,h,null,S);break;case"together":ay(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function kd(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Qi(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Za|=u.lanes,(h&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Xo(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Xo(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function t3(a,u,h){switch(u.tag){case 3:bT(u),xu();break;case 5:$A(u);break;case 1:Wr(u.type)&&dd(u);break;case 4:Vv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,b=u.memoizedProps.value;_t(_d,g._currentValue),g._currentValue=b;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(_t(kt,kt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?xT(a,u,h):(_t(kt,kt.current&1),a=Qi(a,u,h),a!==null?a.sibling:null);_t(kt,kt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,(a.flags&128)!==0){if(g)return ST(a,u,h);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_t(kt,kt.current),g)break;return null;case 22:case 23:return u.lanes=0,vT(a,u,h)}return Qi(a,u,h)}var AT,sy,TT,PT;AT=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},sy=function(){},TT=function(a,u,h,g){var b=a.memoizedProps;if(b!==g){a=u.stateNode,Qa(vi.current);var S=null;switch(h){case"input":b=xe(a,b),g=xe(a,g),S=[];break;case"select":b=ae({},b,{value:void 0}),g=ae({},g,{value:void 0}),S=[];break;case"textarea":b=Zr(a,b),g=Zr(a,g),S=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=cd)}ec(h,g);var $;h=null;for(ie in b)if(!g.hasOwnProperty(ie)&&b.hasOwnProperty(ie)&&b[ie]!=null)if(ie==="style"){var q=b[ie];for($ in q)q.hasOwnProperty($)&&(h||(h={}),h[$]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?S||(S=[]):(S=S||[]).push(ie,null));for(ie in g){var K=g[ie];if(q=b!=null?b[ie]:void 0,g.hasOwnProperty(ie)&&K!==q&&(K!=null||q!=null))if(ie==="style")if(q){for($ in q)!q.hasOwnProperty($)||K&&K.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in K)K.hasOwnProperty($)&&q[$]!==K[$]&&(h||(h={}),h[$]=K[$])}else h||(S||(S=[]),S.push(ie,h)),h=K;else ie==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,q=q?q.__html:void 0,K!=null&&q!==K&&(S=S||[]).push(ie,K)):ie==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(ie,""+K):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(K!=null&&ie==="onScroll"&&Et("scroll",a),S||q===K||(S=[])):(S=S||[]).push(ie,K))}h&&(S=S||[]).push("style",h);var ie=S;(u.updateQueue=ie)&&(u.flags|=4)}},PT=function(a,u,h,g){h!==g&&(u.flags|=4)};function jc(a,u){if(!Ot)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Tr(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function r3(a,u,h){var g=u.pendingProps;switch(Iv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return Wr(u.type)&&hd(),Tr(u),null;case 3:return g=u.stateNode,Tu(),St(zr),St(Sr),Uv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(vd(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Wn!==null&&(yy(Wn),Wn=null))),sy(a,u),Tr(u),null;case 5:Fv(u);var b=Qa(Ic.current);if(h=u.type,a!==null&&u.stateNode!=null)TT(a,u,h,g,b),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}if(a=Qa(vi.current),vd(u)){g=u.stateNode,h=u.type;var S=u.memoizedProps;switch(g[gi]=u,g[Sc]=S,a=(u.mode&1)!==0,h){case"dialog":Et("cancel",g),Et("close",g);break;case"iframe":case"object":case"embed":Et("load",g);break;case"video":case"audio":for(b=0;b<wc.length;b++)Et(wc[b],g);break;case"source":Et("error",g);break;case"img":case"image":case"link":Et("error",g),Et("load",g);break;case"details":Et("toggle",g);break;case"input":We(g,S),Et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Et("invalid",g);break;case"textarea":ui(g,S),Et("invalid",g)}ec(h,S),b=null;for(var $ in S)if(S.hasOwnProperty($)){var q=S[$];$==="children"?typeof q=="string"?g.textContent!==q&&(S.suppressHydrationWarning!==!0&&ld(g.textContent,q,a),b=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(S.suppressHydrationWarning!==!0&&ld(g.textContent,q,a),b=["children",""+q]):i.hasOwnProperty($)&&q!=null&&$==="onScroll"&&Et("scroll",g)}switch(h){case"input":be(g),vt(g,S,!0);break;case"textarea":be(g),To(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=cd)}g=b,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=$.createElement(h,{is:g.is}):(a=$.createElement(h),h==="select"&&($=a,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):a=$.createElementNS(a,h),a[gi]=u,a[Sc]=g,AT(a,u,!1,!1),u.stateNode=a;e:{switch($=tc(h,g),h){case"dialog":Et("cancel",a),Et("close",a),b=g;break;case"iframe":case"object":case"embed":Et("load",a),b=g;break;case"video":case"audio":for(b=0;b<wc.length;b++)Et(wc[b],a);b=g;break;case"source":Et("error",a),b=g;break;case"img":case"image":case"link":Et("error",a),Et("load",a),b=g;break;case"details":Et("toggle",a),b=g;break;case"input":We(a,g),b=xe(a,g),Et("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=ae({},g,{value:void 0}),Et("invalid",a);break;case"textarea":ui(a,g),b=Zr(a,g),Et("invalid",a);break;default:b=g}ec(h,b),q=b;for(S in q)if(q.hasOwnProperty(S)){var K=q[S];S==="style"?Jl(a,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Yl(a,K)):S==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&Po(a,K):typeof K=="number"&&Po(a,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?K!=null&&S==="onScroll"&&Et("scroll",a):K!=null&&C(a,S,K,$))}switch(h){case"input":be(a),vt(a,g,!1);break;case"textarea":be(a),To(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ke(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?dr(a,!!g.multiple,S,!1):g.defaultValue!=null&&dr(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=cd)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tr(u),null;case 6:if(a&&u.stateNode!=null)PT(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(h=Qa(Ic.current),Qa(vi.current),vd(u)){if(g=u.stateNode,h=u.memoizedProps,g[gi]=u,(S=g.nodeValue!==h)&&(a=on,a!==null))switch(a.tag){case 3:ld(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&ld(g.nodeValue,h,(a.mode&1)!==0)}S&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[gi]=u,u.stateNode=g}return Tr(u),null;case 13:if(St(kt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ot&&an!==null&&(u.mode&1)!==0&&(u.flags&128)===0)CA(),xu(),u.flags|=98560,S=!1;else if(S=vd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[gi]=u}else xu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),S=!1}else Wn!==null&&(yy(Wn),Wn=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(kt.current&1)!==0?Yt===0&&(Yt=3):wy())),u.updateQueue!==null&&(u.flags|=4),Tr(u),null);case 4:return Tu(),sy(a,u),a===null&&xc(u.stateNode.containerInfo),Tr(u),null;case 10:return Mv(u.type._context),Tr(u),null;case 17:return Wr(u.type)&&hd(),Tr(u),null;case 19:if(St(kt),S=u.memoizedState,S===null)return Tr(u),null;if(g=(u.flags&128)!==0,$=S.rendering,$===null)if(g)jc(S,!1);else{if(Yt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if($=Ed(a),$!==null){for(u.flags|=128,jc(S,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)S=h,a=g,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,a=$.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return _t(kt,kt.current&1|2),u.child}a=a.sibling}S.tail!==null&&yt()>Cu&&(u.flags|=128,g=!0,jc(S,!1),u.lanes=4194304)}else{if(!g)if(a=Ed($),a!==null){if(u.flags|=128,g=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),jc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Ot)return Tr(u),null}else 2*yt()-S.renderingStartTime>Cu&&h!==1073741824&&(u.flags|=128,g=!0,jc(S,!1),u.lanes=4194304);S.isBackwards?($.sibling=u.child,u.child=$):(h=S.last,h!==null?h.sibling=$:u.child=$,S.last=$)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=yt(),u.sibling=null,h=kt.current,_t(kt,g?h&1|2:h&1),u):(Tr(u),null);case 22:case 23:return by(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(sn&1073741824)!==0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function n3(a,u){switch(Iv(u),u.tag){case 1:return Wr(u.type)&&hd(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Tu(),St(zr),St(Sr),Uv(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Fv(u),null;case 13:if(St(kt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));xu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return St(kt),null;case 4:return Tu(),null;case 10:return Mv(u.type._context),null;case 22:case 23:return by(),null;case 24:return null;default:return null}}var Rd=!1,Pr=!1,i3=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ou(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){jt(a,u,g)}else h.current=null}function uy(a,u,h){try{h()}catch(g){jt(a,u,g)}}var OT=!1;function o3(a,u){if(bv=Mo,a=aA(),hv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var $=0,q=-1,K=-1,ie=0,de=0,pe=a,he=null;t:for(;;){for(var Ee;pe!==h||b!==0&&pe.nodeType!==3||(q=$+b),pe!==S||g!==0&&pe.nodeType!==3||(K=$+g),pe.nodeType===3&&($+=pe.nodeValue.length),(Ee=pe.firstChild)!==null;)he=pe,pe=Ee;for(;;){if(pe===a)break t;if(he===h&&++ie===b&&(q=$),he===S&&++de===g&&(K=$),(Ee=pe.nextSibling)!==null)break;pe=he,he=pe.parentNode}pe=Ee}h=q===-1||K===-1?null:{start:q,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(wv={focusedElem:a,selectionRange:h},Mo=!1,Pe=u;Pe!==null;)if(u=Pe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Pe=a;else for(;Pe!==null;){u=Pe;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ce=Ie.memoizedProps,$t=Ie.memoizedState,te=u.stateNode,Y=te.getSnapshotBeforeUpdate(u.elementType===u.type?Ce:Hn(u.type,Ce),$t);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){jt(u,u.return,ve)}if(a=u.sibling,a!==null){a.return=u.return,Pe=a;break}Pe=u.return}return Ie=OT,OT=!1,Ie}function Mc(a,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var S=b.destroy;b.destroy=void 0,S!==void 0&&uy(u,h,S)}b=b.next}while(b!==g)}}function Nd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function ly(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function IT(a){var u=a.alternate;u!==null&&(a.alternate=null,IT(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[gi],delete u[Sc],delete u[Av],delete u[BF],delete u[UF])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function CT(a){return a.tag===5||a.tag===3||a.tag===4}function kT(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||CT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cy(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=cd));else if(g!==4&&(a=a.child,a!==null))for(cy(a,u,h),a=a.sibling;a!==null;)cy(a,u,h),a=a.sibling}function fy(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(fy(a,u,h),a=a.sibling;a!==null;)fy(a,u,h),a=a.sibling}var gr=null,Kn=!1;function zo(a,u,h){for(h=h.child;h!==null;)RT(a,u,h),h=h.sibling}function RT(a,u,h){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Va,h)}catch{}switch(h.tag){case 5:Pr||Ou(h,u);case 6:var g=gr,b=Kn;gr=null,zo(a,u,h),gr=g,Kn=b,gr!==null&&(Kn?(a=gr,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):gr.removeChild(h.stateNode));break;case 18:gr!==null&&(Kn?(a=gr,h=h.stateNode,a.nodeType===8?Sv(a.parentNode,h):a.nodeType===1&&Sv(a,h),Un(a)):Sv(gr,h.stateNode));break;case 4:g=gr,b=Kn,gr=h.stateNode.containerInfo,Kn=!0,zo(a,u,h),gr=g,Kn=b;break;case 0:case 11:case 14:case 15:if(!Pr&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var S=b,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&uy(h,u,$),b=b.next}while(b!==g)}zo(a,u,h);break;case 1:if(!Pr&&(Ou(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(q){jt(h,u,q)}zo(a,u,h);break;case 21:zo(a,u,h);break;case 22:h.mode&1?(Pr=(g=Pr)||h.memoizedState!==null,zo(a,u,h),Pr=g):zo(a,u,h);break;default:zo(a,u,h)}}function NT(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new i3),u.forEach(function(g){var b=p3.bind(null,a,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Gn(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var S=a,$=u,q=$;e:for(;q!==null;){switch(q.tag){case 5:gr=q.stateNode,Kn=!1;break e;case 3:gr=q.stateNode.containerInfo,Kn=!0;break e;case 4:gr=q.stateNode.containerInfo,Kn=!0;break e}q=q.return}if(gr===null)throw Error(r(160));RT(S,$,b),gr=null,Kn=!1;var K=b.alternate;K!==null&&(K.return=null),b.return=null}catch(ie){jt(b,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)jT(u,a),u=u.sibling}function jT(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Gn(u,a),_i(a),g&4){try{Mc(3,a,a.return),Nd(3,a)}catch(Ce){jt(a,a.return,Ce)}try{Mc(5,a,a.return)}catch(Ce){jt(a,a.return,Ce)}}break;case 1:Gn(u,a),_i(a),g&512&&h!==null&&Ou(h,h.return);break;case 5:if(Gn(u,a),_i(a),g&512&&h!==null&&Ou(h,h.return),a.flags&32){var b=a.stateNode;try{Po(b,"")}catch(Ce){jt(a,a.return,Ce)}}if(g&4&&(b=a.stateNode,b!=null)){var S=a.memoizedProps,$=h!==null?h.memoizedProps:S,q=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{q==="input"&&S.type==="radio"&&S.name!=null&&Qe(b,S),tc(q,$);var ie=tc(q,S);for($=0;$<K.length;$+=2){var de=K[$],pe=K[$+1];de==="style"?Jl(b,pe):de==="dangerouslySetInnerHTML"?Yl(b,pe):de==="children"?Po(b,pe):C(b,de,pe,ie)}switch(q){case"input":ht(b,S);break;case"textarea":Li(b,S);break;case"select":var he=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!S.multiple;var Ee=S.value;Ee!=null?dr(b,!!S.multiple,Ee,!1):he!==!!S.multiple&&(S.defaultValue!=null?dr(b,!!S.multiple,S.defaultValue,!0):dr(b,!!S.multiple,S.multiple?[]:"",!1))}b[Sc]=S}catch(Ce){jt(a,a.return,Ce)}}break;case 6:if(Gn(u,a),_i(a),g&4){if(a.stateNode===null)throw Error(r(162));b=a.stateNode,S=a.memoizedProps;try{b.nodeValue=S}catch(Ce){jt(a,a.return,Ce)}}break;case 3:if(Gn(u,a),_i(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Un(u.containerInfo)}catch(Ce){jt(a,a.return,Ce)}break;case 4:Gn(u,a),_i(a);break;case 13:Gn(u,a),_i(a),b=a.child,b.flags&8192&&(S=b.memoizedState!==null,b.stateNode.isHidden=S,!S||b.alternate!==null&&b.alternate.memoizedState!==null||(py=yt())),g&4&&NT(a);break;case 22:if(de=h!==null&&h.memoizedState!==null,a.mode&1?(Pr=(ie=Pr)||de,Gn(u,a),Pr=ie):Gn(u,a),_i(a),g&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!de&&(a.mode&1)!==0)for(Pe=a,de=a.child;de!==null;){for(pe=Pe=de;Pe!==null;){switch(he=Pe,Ee=he.child,he.tag){case 0:case 11:case 14:case 15:Mc(4,he,he.return);break;case 1:Ou(he,he.return);var Ie=he.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=he,h=he.return;try{u=g,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch(Ce){jt(g,h,Ce)}}break;case 5:Ou(he,he.return);break;case 22:if(he.memoizedState!==null){LT(pe);continue}}Ee!==null?(Ee.return=he,Pe=Ee):LT(pe)}de=de.sibling}e:for(de=null,pe=a;;){if(pe.tag===5){if(de===null){de=pe;try{b=pe.stateNode,ie?(S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(q=pe.stateNode,K=pe.memoizedProps.style,$=K!=null&&K.hasOwnProperty("display")?K.display:null,q.style.display=Ql("display",$))}catch(Ce){jt(a,a.return,Ce)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Ce){jt(a,a.return,Ce)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===a)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===a)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===a)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Gn(u,a),_i(a),g&4&&NT(a);break;case 21:break;default:Gn(u,a),_i(a)}}function _i(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(CT(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Po(b,""),g.flags&=-33);var S=kT(a);fy(a,S,b);break;case 3:case 4:var $=g.stateNode.containerInfo,q=kT(a);cy(a,q,$);break;default:throw Error(r(161))}}catch(K){jt(a,a.return,K)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function a3(a,u,h){Pe=a,MT(a)}function MT(a,u,h){for(var g=(a.mode&1)!==0;Pe!==null;){var b=Pe,S=b.child;if(b.tag===22&&g){var $=b.memoizedState!==null||Rd;if(!$){var q=b.alternate,K=q!==null&&q.memoizedState!==null||Pr;q=Rd;var ie=Pr;if(Rd=$,(Pr=K)&&!ie)for(Pe=b;Pe!==null;)$=Pe,K=$.child,$.tag===22&&$.memoizedState!==null?$T(b):K!==null?(K.return=$,Pe=K):$T(b);for(;S!==null;)Pe=S,MT(S),S=S.sibling;Pe=b,Rd=q,Pr=ie}DT(a)}else(b.subtreeFlags&8772)!==0&&S!==null?(S.return=b,Pe=S):DT(a)}}function DT(a){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Pr||Nd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Pr)if(h===null)g.componentDidMount();else{var b=u.elementType===u.type?h.memoizedProps:Hn(u.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&LA(u,S,g);break;case 3:var $=u.updateQueue;if($!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}LA(u,$,h)}break;case 5:var q=u.stateNode;if(h===null&&u.flags&4){h=q;var K=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var de=ie.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Un(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pr||u.flags&512&&ly(u)}catch(he){jt(u,u.return,he)}}if(u===a){Pe=null;break}if(h=u.sibling,h!==null){h.return=u.return,Pe=h;break}Pe=u.return}}function LT(a){for(;Pe!==null;){var u=Pe;if(u===a){Pe=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Pe=h;break}Pe=u.return}}function $T(a){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Nd(4,u)}catch(K){jt(u,h,K)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var b=u.return;try{g.componentDidMount()}catch(K){jt(u,b,K)}}var S=u.return;try{ly(u)}catch(K){jt(u,S,K)}break;case 5:var $=u.return;try{ly(u)}catch(K){jt(u,$,K)}}}catch(K){jt(u,u.return,K)}if(u===a){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var s3=Math.ceil,jd=M.ReactCurrentDispatcher,hy=M.ReactCurrentOwner,Sn=M.ReactCurrentBatchConfig,ot=0,sr=null,Ut=null,vr=0,sn=0,Iu=Vo(0),Yt=0,Dc=null,Za=0,Md=0,dy=0,Lc=null,Kr=null,py=0,Cu=1/0,Ji=null,Dd=!1,my=null,Wo=null,Ld=!1,Ho=null,$d=0,$c=0,gy=null,Vd=-1,Fd=0;function Lr(){return(ot&6)!==0?yt():Vd!==-1?Vd:Vd=yt()}function Ko(a){return(a.mode&1)===0?1:(ot&2)!==0&&vr!==0?vr&-vr:zF.transition!==null?(Fd===0&&(Fd=Ba()),Fd):(a=rt,a!==0||(a=window.event,a=a===void 0?16:hc(a.type)),a)}function Xn(a,u,h,g){if(50<$c)throw $c=0,gy=null,Error(r(185));ko(a,h,g),((ot&2)===0||a!==sr)&&(a===sr&&((ot&2)===0&&(Md|=h),Yt===4&&Go(a,vr)),Gr(a,g),h===1&&ot===0&&(u.mode&1)===0&&(Cu=yt()+500,pd&&Bo()))}function Gr(a,u){var h=a.callbackNode;Fi(a,u);var g=Fa(a,a===sr?vr:0);if(g===0)h!==null&&sc(h),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(h!=null&&sc(h),u===1)a.tag===0?qF(FT.bind(null,a)):AA(FT.bind(null,a)),VF(function(){(ot&6)===0&&Bo()}),h=null;else{switch(No(g)){case 1:h=$a;break;case 4:h=Oo;break;case 16:h=vn;break;case 536870912:h=Fh;break;default:h=vn}h=GT(h,VT.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function VT(a,u){if(Vd=-1,Fd=0,(ot&6)!==0)throw Error(r(327));var h=a.callbackNode;if(ku()&&a.callbackNode!==h)return null;var g=Fa(a,a===sr?vr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=Bd(a,g);else{u=g;var b=ot;ot|=2;var S=UT();(sr!==a||vr!==u)&&(Ji=null,Cu=yt()+500,ts(a,u));do try{c3();break}catch(q){BT(a,q)}while(!0);jv(),jd.current=S,ot=b,Ut!==null?u=0:(sr=null,vr=0,u=Yt)}if(u!==0){if(u===2&&(b=tn(a),b!==0&&(g=b,u=vy(a,b))),u===1)throw h=Dc,ts(a,0),Go(a,g),Gr(a,yt()),h;if(u===6)Go(a,g);else{if(b=a.current.alternate,(g&30)===0&&!u3(b)&&(u=Bd(a,g),u===2&&(S=tn(a),S!==0&&(g=S,u=vy(a,S))),u===1))throw h=Dc,ts(a,0),Go(a,g),Gr(a,yt()),h;switch(a.finishedWork=b,a.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:rs(a,Kr,Ji);break;case 3:if(Go(a,g),(g&130023424)===g&&(u=py+500-yt(),10<u)){if(Fa(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){Lr(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Ev(rs.bind(null,a,Kr,Ji),u);break}rs(a,Kr,Ji);break;case 4:if(Go(a,g),(g&4194240)===g)break;for(u=a.eventTimes,b=-1;0<g;){var $=31-jr(g);S=1<<$,$=u[$],$>b&&(b=$),g&=~S}if(g=b,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*s3(g/1960))-g,10<g){a.timeoutHandle=Ev(rs.bind(null,a,Kr,Ji),g);break}rs(a,Kr,Ji);break;case 5:rs(a,Kr,Ji);break;default:throw Error(r(329))}}}return Gr(a,yt()),a.callbackNode===h?VT.bind(null,a):null}function vy(a,u){var h=Lc;return a.current.memoizedState.isDehydrated&&(ts(a,u).flags|=256),a=Bd(a,u),a!==2&&(u=Kr,Kr=h,u!==null&&yy(u)),a}function yy(a){Kr===null?Kr=a:Kr.push.apply(Kr,a)}function u3(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],S=b.getSnapshot;b=b.value;try{if(!zn(S(),b))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Go(a,u){for(u&=~dy,u&=~Md,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-jr(u),g=1<<h;a[h]=-1,u&=~g}}function FT(a){if((ot&6)!==0)throw Error(r(327));ku();var u=Fa(a,0);if((u&1)===0)return Gr(a,yt()),null;var h=Bd(a,u);if(a.tag!==0&&h===2){var g=tn(a);g!==0&&(u=g,h=vy(a,g))}if(h===1)throw h=Dc,ts(a,0),Go(a,u),Gr(a,yt()),h;if(h===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,rs(a,Kr,Ji),Gr(a,yt()),null}function _y(a,u){var h=ot;ot|=1;try{return a(u)}finally{ot=h,ot===0&&(Cu=yt()+500,pd&&Bo())}}function es(a){Ho!==null&&Ho.tag===0&&(ot&6)===0&&ku();var u=ot;ot|=1;var h=Sn.transition,g=rt;try{if(Sn.transition=null,rt=1,a)return a()}finally{rt=g,Sn.transition=h,ot=u,(ot&6)===0&&Bo()}}function by(){sn=Iu.current,St(Iu)}function ts(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,$F(h)),Ut!==null)for(h=Ut.return;h!==null;){var g=h;switch(Iv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&hd();break;case 3:Tu(),St(zr),St(Sr),Uv();break;case 5:Fv(g);break;case 4:Tu();break;case 13:St(kt);break;case 19:St(kt);break;case 10:Mv(g.type._context);break;case 22:case 23:by()}h=h.return}if(sr=a,Ut=a=Xo(a.current,null),vr=sn=u,Yt=0,Dc=null,dy=Md=Za=0,Kr=Lc=null,Ya!==null){for(u=0;u<Ya.length;u++)if(h=Ya[u],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,S=h.pending;if(S!==null){var $=S.next;S.next=b,g.next=$}h.pending=g}Ya=null}return a}function BT(a,u){do{var h=Ut;try{if(jv(),Sd.current=Od,Ad){for(var g=Rt.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Ad=!1}if(Ja=0,ar=Xt=Rt=null,Cc=!1,kc=0,hy.current=null,h===null||h.return===null){Yt=1,Dc=u,Ut=null;break}e:{var S=a,$=h.return,q=h,K=u;if(u=vr,q.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=K,de=q,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var he=de.alternate;he?(de.updateQueue=he.updateQueue,de.memoizedState=he.memoizedState,de.lanes=he.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=hT($);if(Ee!==null){Ee.flags&=-257,dT(Ee,$,q,S,u),Ee.mode&1&&fT(S,ie,u),u=Ee,K=ie;var Ie=u.updateQueue;if(Ie===null){var Ce=new Set;Ce.add(K),u.updateQueue=Ce}else Ie.add(K);break e}else{if((u&1)===0){fT(S,ie,u),wy();break e}K=Error(r(426))}}else if(Ot&&q.mode&1){var $t=hT($);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),dT($t,$,q,S,u),Rv(Pu(K,q));break e}}S=K=Pu(K,q),Yt!==4&&(Yt=2),Lc===null?Lc=[S]:Lc.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var te=lT(S,K,u);DA(S,te);break e;case 1:q=K;var Y=S.type,ne=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Wo===null||!Wo.has(ne)))){S.flags|=65536,u&=-u,S.lanes|=u;var ve=cT(S,q,u);DA(S,ve);break e}}S=S.return}while(S!==null)}zT(h)}catch(Re){u=Re,Ut===h&&h!==null&&(Ut=h=h.return);continue}break}while(!0)}function UT(){var a=jd.current;return jd.current=Od,a===null?Od:a}function wy(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),sr===null||(Za&268435455)===0&&(Md&268435455)===0||Go(sr,vr)}function Bd(a,u){var h=ot;ot|=2;var g=UT();(sr!==a||vr!==u)&&(Ji=null,ts(a,u));do try{l3();break}catch(b){BT(a,b)}while(!0);if(jv(),ot=h,jd.current=g,Ut!==null)throw Error(r(261));return sr=null,vr=0,Yt}function l3(){for(;Ut!==null;)qT(Ut)}function c3(){for(;Ut!==null&&!$h();)qT(Ut)}function qT(a){var u=KT(a.alternate,a,sn);a.memoizedProps=a.pendingProps,u===null?zT(a):Ut=u,hy.current=null}function zT(a){var u=a;do{var h=u.alternate;if(a=u.return,(u.flags&32768)===0){if(h=r3(h,u,sn),h!==null){Ut=h;return}}else{if(h=n3(h,u),h!==null){h.flags&=32767,Ut=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=a}while(u!==null);Yt===0&&(Yt=5)}function rs(a,u,h){var g=rt,b=Sn.transition;try{Sn.transition=null,rt=1,f3(a,u,h,g)}finally{Sn.transition=b,rt=g}return null}function f3(a,u,h,g){do ku();while(Ho!==null);if((ot&6)!==0)throw Error(r(327));h=a.finishedWork;var b=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(mt(a,S),a===sr&&(Ut=sr=null,vr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ld||(Ld=!0,GT(vn,function(){return ku(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Sn.transition,Sn.transition=null;var $=rt;rt=1;var q=ot;ot|=4,hy.current=null,o3(a,h),jT(h,a),kF(wv),Mo=!!bv,wv=bv=null,a.current=h,a3(h),iv(),ot=q,rt=$,Sn.transition=S}else a.current=h;if(Ld&&(Ld=!1,Ho=a,$d=b),S=a.pendingLanes,S===0&&(Wo=null),Bh(h.stateNode),Gr(a,yt()),u!==null)for(g=a.onRecoverableError,h=0;h<u.length;h++)b=u[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Dd)throw Dd=!1,a=my,my=null,a;return($d&1)!==0&&a.tag!==0&&ku(),S=a.pendingLanes,(S&1)!==0?a===gy?$c++:($c=0,gy=a):$c=0,Bo(),null}function ku(){if(Ho!==null){var a=No($d),u=Sn.transition,h=rt;try{if(Sn.transition=null,rt=16>a?16:a,Ho===null)var g=!1;else{if(a=Ho,Ho=null,$d=0,(ot&6)!==0)throw Error(r(331));var b=ot;for(ot|=4,Pe=a.current;Pe!==null;){var S=Pe,$=S.child;if((Pe.flags&16)!==0){var q=S.deletions;if(q!==null){for(var K=0;K<q.length;K++){var ie=q[K];for(Pe=ie;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:Mc(8,de,S)}var pe=de.child;if(pe!==null)pe.return=de,Pe=pe;else for(;Pe!==null;){de=Pe;var he=de.sibling,Ee=de.return;if(IT(de),de===ie){Pe=null;break}if(he!==null){he.return=Ee,Pe=he;break}Pe=Ee}}}var Ie=S.alternate;if(Ie!==null){var Ce=Ie.child;if(Ce!==null){Ie.child=null;do{var $t=Ce.sibling;Ce.sibling=null,Ce=$t}while(Ce!==null)}}Pe=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,Pe=$;else e:for(;Pe!==null;){if(S=Pe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Mc(9,S,S.return)}var te=S.sibling;if(te!==null){te.return=S.return,Pe=te;break e}Pe=S.return}}var Y=a.current;for(Pe=Y;Pe!==null;){$=Pe;var ne=$.child;if(($.subtreeFlags&2064)!==0&&ne!==null)ne.return=$,Pe=ne;else e:for($=Y;Pe!==null;){if(q=Pe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Nd(9,q)}}catch(Re){jt(q,q.return,Re)}if(q===$){Pe=null;break e}var ve=q.sibling;if(ve!==null){ve.return=q.return,Pe=ve;break e}Pe=q.return}}if(ot=b,Bo(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Va,a)}catch{}g=!0}return g}finally{rt=h,Sn.transition=u}}return!1}function WT(a,u,h){u=Pu(h,u),u=lT(a,u,1),a=qo(a,u,1),u=Lr(),a!==null&&(ko(a,1,u),Gr(a,u))}function jt(a,u,h){if(a.tag===3)WT(a,a,h);else for(;u!==null;){if(u.tag===3){WT(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Wo===null||!Wo.has(g))){a=Pu(h,a),a=cT(u,a,1),u=qo(u,a,1),a=Lr(),u!==null&&(ko(u,1,a),Gr(u,a));break}}u=u.return}}function h3(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=Lr(),a.pingedLanes|=a.suspendedLanes&h,sr===a&&(vr&h)===h&&(Yt===4||Yt===3&&(vr&130023424)===vr&&500>yt()-py?ts(a,0):dy|=h),Gr(a,u)}function HT(a,u){u===0&&((a.mode&1)===0?u=1:(u=eu,eu<<=1,(eu&130023424)===0&&(eu=4194304)));var h=Lr();a=Xi(a,u),a!==null&&(ko(a,u,h),Gr(a,h))}function d3(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),HT(a,h)}function p3(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),HT(a,h)}var KT;KT=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||zr.current)Hr=!0;else{if((a.lanes&h)===0&&(u.flags&128)===0)return Hr=!1,t3(a,u,h);Hr=(a.flags&131072)!==0}else Hr=!1,Ot&&(u.flags&1048576)!==0&&TA(u,gd,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;kd(a,u),a=u.pendingProps;var b=_u(u,Sr.current);Au(u,h),b=Wv(null,u,g,a,b,h);var S=Hv();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Wr(g)?(S=!0,dd(u)):S=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,$v(u),b.updater=Id,u.stateNode=b,b._reactInternals=u,Jv(u,g,a,h),u=ry(null,u,g,!0,S,h)):(u.tag=0,Ot&&S&&Ov(u),Dr(null,u,b,h),u=u.child),u;case 16:g=u.elementType;e:{switch(kd(a,u),a=u.pendingProps,b=g._init,g=b(g._payload),u.type=g,b=u.tag=g3(g),a=Hn(g,a),b){case 0:u=ty(null,u,g,a,h);break e;case 1:u=_T(null,u,g,a,h);break e;case 11:u=pT(null,u,g,a,h);break e;case 14:u=mT(null,u,g,Hn(g.type,a),h);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Hn(g,b),ty(a,u,g,b,h);case 1:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Hn(g,b),_T(a,u,g,b,h);case 3:e:{if(bT(u),a===null)throw Error(r(387));g=u.pendingProps,S=u.memoizedState,b=S.element,MA(a,u),xd(u,g,null,h);var $=u.memoizedState;if(g=$.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){b=Pu(Error(r(423)),u),u=wT(a,u,g,h,b);break e}else if(g!==b){b=Pu(Error(r(424)),u),u=wT(a,u,g,h,b);break e}else for(an=$o(u.stateNode.containerInfo.firstChild),on=u,Ot=!0,Wn=null,h=NA(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(xu(),g===b){u=Qi(a,u,h);break e}Dr(a,u,g,h)}u=u.child}return u;case 5:return $A(u),a===null&&kv(u),g=u.type,b=u.pendingProps,S=a!==null?a.memoizedProps:null,$=b.children,xv(g,b)?$=null:S!==null&&xv(g,S)&&(u.flags|=32),yT(a,u),Dr(a,u,$,h),u.child;case 6:return a===null&&kv(u),null;case 13:return xT(a,u,h);case 4:return Vv(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=Eu(u,null,g,h):Dr(a,u,g,h),u.child;case 11:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Hn(g,b),pT(a,u,g,b,h);case 7:return Dr(a,u,u.pendingProps,h),u.child;case 8:return Dr(a,u,u.pendingProps.children,h),u.child;case 12:return Dr(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,b=u.pendingProps,S=u.memoizedProps,$=b.value,_t(_d,g._currentValue),g._currentValue=$,S!==null)if(zn(S.value,$)){if(S.children===b.children&&!zr.current){u=Qi(a,u,h);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var q=S.dependencies;if(q!==null){$=S.child;for(var K=q.firstContext;K!==null;){if(K.context===g){if(S.tag===1){K=Yi(-1,h&-h),K.tag=2;var ie=S.updateQueue;if(ie!==null){ie=ie.shared;var de=ie.pending;de===null?K.next=K:(K.next=de.next,de.next=K),ie.pending=K}}S.lanes|=h,K=S.alternate,K!==null&&(K.lanes|=h),Dv(S.return,h,u),q.lanes|=h;break}K=K.next}}else if(S.tag===10)$=S.type===u.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(r(341));$.lanes|=h,q=$.alternate,q!==null&&(q.lanes|=h),Dv($,h,u),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===u){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}Dr(a,u,b.children,h),u=u.child}return u;case 9:return b=u.type,g=u.pendingProps.children,Au(u,h),b=xn(b),g=g(b),u.flags|=1,Dr(a,u,g,h),u.child;case 14:return g=u.type,b=Hn(g,u.pendingProps),b=Hn(g.type,b),mT(a,u,g,b,h);case 15:return gT(a,u,u.type,u.pendingProps,h);case 17:return g=u.type,b=u.pendingProps,b=u.elementType===g?b:Hn(g,b),kd(a,u),u.tag=1,Wr(g)?(a=!0,dd(u)):a=!1,Au(u,h),sT(u,g,b),Jv(u,g,b,h),ry(null,u,g,!0,a,h);case 19:return ST(a,u,h);case 22:return vT(a,u,h)}throw Error(r(156,u.tag))};function GT(a,u){return Js(a,u)}function m3(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(a,u,h,g){return new m3(a,u,h,g)}function xy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function g3(a){if(typeof a=="function")return xy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===L)return 11;if(a===Z)return 14}return 2}function Xo(a,u){var h=a.alternate;return h===null?(h=An(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Ud(a,u,h,g,b,S){var $=2;if(g=a,typeof a=="function")xy(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case P:return ns(h.children,b,S,u);case O:$=8,b|=8;break;case R:return a=An(12,h,u,b|2),a.elementType=R,a.lanes=S,a;case j:return a=An(13,h,u,b),a.elementType=j,a.lanes=S,a;case J:return a=An(19,h,u,b),a.elementType=J,a.lanes=S,a;case G:return qd(h,b,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:$=10;break e;case D:$=9;break e;case L:$=11;break e;case Z:$=14;break e;case re:$=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=An($,h,u,b),u.elementType=a,u.type=g,u.lanes=S,u}function ns(a,u,h,g){return a=An(7,a,g,u),a.lanes=h,a}function qd(a,u,h,g){return a=An(22,a,g,u),a.elementType=G,a.lanes=h,a.stateNode={isHidden:!1},a}function Ey(a,u,h){return a=An(6,a,null,u),a.lanes=h,a}function Sy(a,u,h){return u=An(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function v3(a,u,h,g,b){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Ay(a,u,h,g,b,S,$,q,K){return a=new v3(a,u,h,q,K),u===1?(u=1,S===!0&&(u|=8)):u=0,S=An(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},$v(S),a}function y3(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}}function XT(a){if(!a)return Fo;a=a._reactInternals;e:{if(Ln(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Wr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var h=a.type;if(Wr(h))return EA(a,h,u)}return u}function YT(a,u,h,g,b,S,$,q,K){return a=Ay(h,g,!0,a,b,S,$,q,K),a.context=XT(null),h=a.current,g=Lr(),b=Ko(h),S=Yi(g,b),S.callback=u??null,qo(h,S,b),a.current.lanes=b,ko(a,b,g),Gr(a,g),a}function zd(a,u,h,g){var b=u.current,S=Lr(),$=Ko(b);return h=XT(h),u.context===null?u.context=h:u.pendingContext=h,u=Yi(S,$),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=qo(b,u,$),a!==null&&(Xn(a,b,$,S),wd(a,b,$)),$}function Wd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function QT(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Ty(a,u){QT(a,u),(a=a.alternate)&&QT(a,u)}function _3(){return null}var JT=typeof reportError=="function"?reportError:function(a){console.error(a)};function Py(a){this._internalRoot=a}Hd.prototype.render=Py.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));zd(a,u,null,null)},Hd.prototype.unmount=Py.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;es(function(){zd(null,a,null,null)}),u[Wi]=null}};function Hd(a){this._internalRoot=a}Hd.prototype.unstable_scheduleHydration=function(a){if(a){var u=Hh();a={blockedOn:null,target:a,priority:u};for(var h=0;h<hi.length&&u!==0&&u<hi[h].priority;h++);hi.splice(h,0,a),h===0&&Xh(a)}};function Oy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Kd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function b3(a,u,h,g,b){if(b){if(typeof g=="function"){var S=g;g=function(){var ie=Wd($);S.call(ie)}}var $=YT(u,g,a,0,null,!1,!1,"",ZT);return a._reactRootContainer=$,a[Wi]=$.current,xc(a.nodeType===8?a.parentNode:a),es(),$}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var q=g;g=function(){var ie=Wd(K);q.call(ie)}}var K=Ay(a,0,!1,null,null,!1,!1,"",ZT);return a._reactRootContainer=K,a[Wi]=K.current,xc(a.nodeType===8?a.parentNode:a),es(function(){zd(u,K,h,g)}),K}function Gd(a,u,h,g,b){var S=h._reactRootContainer;if(S){var $=S;if(typeof b=="function"){var q=b;b=function(){var K=Wd($);q.call(K)}}zd(u,$,a,b)}else $=b3(h,u,a,b,g);return Wd($)}zh=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=Io(u.pendingLanes);h!==0&&(Ro(u,h|1),Gr(u,yt()),(ot&6)===0&&(Cu=yt()+500,Bo()))}break;case 13:es(function(){var g=Xi(a,1);if(g!==null){var b=Lr();Xn(g,a,1,b)}}),Ty(a,1)}},tu=function(a){if(a.tag===13){var u=Xi(a,134217728);if(u!==null){var h=Lr();Xn(u,a,134217728,h)}Ty(a,134217728)}},Wh=function(a){if(a.tag===13){var u=Ko(a),h=Xi(a,u);if(h!==null){var g=Lr();Xn(h,a,u,g)}Ty(a,u)}},Hh=function(){return rt},Kh=function(a,u){var h=rt;try{return rt=a,u()}finally{rt=h}},Hs=function(a,u,h){switch(u){case"input":if(ht(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var b=fd(g);if(!b)throw Error(r(90));oe(g),ht(g,b)}}}break;case"textarea":Li(a,h);break;case"select":u=h.value,u!=null&&dr(a,!!h.multiple,u,!1)}},ja=_y,nc=es;var w3={usingClientEntryPoint:!1,Events:[Ac,vu,fd,ci,rc,_y]},Vc={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x3={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ac(a),a===null?null:a.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||_3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Va=Xd.inject(x3),en=Xd}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w3,Xr.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(u))throw Error(r(200));return y3(a,u,null,h)},Xr.createRoot=function(a,u){if(!Oy(a))throw Error(r(299));var h=!1,g="",b=JT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),u=Ay(a,1,!1,null,null,h,!1,g,b),a[Wi]=u.current,xc(a.nodeType===8?a.parentNode:a),new Py(u)},Xr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=ac(u),a=a===null?null:a.stateNode,a},Xr.flushSync=function(a){return es(a)},Xr.hydrate=function(a,u,h){if(!Kd(u))throw Error(r(200));return Gd(null,a,u,!0,h)},Xr.hydrateRoot=function(a,u,h){if(!Oy(a))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,b=!1,S="",$=JT;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),u=YT(u,null,a,1,h??null,b,!1,S,$),a[Wi]=u.current,xc(a),g)for(a=0;a<g.length;a++)h=g[a],b=h._getVersion,b=b(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,b]:u.mutableSourceEagerHydrationData.push(h,b);return new Hd(u)},Xr.render=function(a,u,h){if(!Kd(u))throw Error(r(200));return Gd(null,a,u,!1,h)},Xr.unmountComponentAtNode=function(a){if(!Kd(a))throw Error(r(40));return a._reactRootContainer?(es(function(){Gd(null,null,a,!1,function(){a._reactRootContainer=null,a[Wi]=null})}),!0):!1},Xr.unstable_batchedUpdates=_y,Xr.unstable_renderSubtreeIntoContainer=function(a,u,h,g){if(!Kd(h))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Gd(a,u,h,!1,g)},Xr.version="18.3.1-next-f1338f8080-20240426",Xr}var sP;function C3(){if(sP)return ky.exports;sP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ky.exports=I3(),ky.exports}var uP;function k3(){if(uP)return Qd;uP=1;var t=C3();return Qd.createRoot=t.createRoot,Qd.hydrateRoot=t.hydrateRoot,Qd}var R3=k3();const N3=ft(R3);var Bc={},lP;function j3(){if(lP)return Bc;lP=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.parse=s,Bc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const w=new o,x=v.length;if(x<2)return w;const _=(y==null?void 0:y.decode)||d;let A=0;do{const T=v.indexOf("=",A);if(T===-1)break;const C=v.indexOf(";",A),M=C===-1?x:C;if(T>M){A=v.lastIndexOf(";",T-1)+1;continue}const I=l(v,A,T),N=c(v,T,I),P=v.slice(I,N);if(w[P]===void 0){let O=l(v,T+1,M),R=c(v,M,O);const F=_(v.slice(O,R));w[P]=F}A=M+1}while(A<x);return w}function l(v,y,w){do{const x=v.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<w);return w}function c(v,y,w){for(;y>w;){const x=v.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return w}function f(v,y,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=x(y);if(!e.test(_))throw new TypeError(`argument val is invalid: ${y}`);let A=v+"="+_;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function d(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return i.call(v)==="[object Date]"}return Bc}j3();var cP="popstate";function M3(t={}){function e(n,i){let{pathname:o,search:s,hash:l}=n.location;return Jw("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:wf(i)}return L3(e,r,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D3(){return Math.random().toString(36).substring(2,10)}function fP(t,e){return{usr:t.state,key:t.key,idx:e}}function Jw(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ph(e):e,state:r,key:e&&e.key||n||D3()}}function wf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ph(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function L3(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l="POP",c=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let _=d(),A=_==null?null:_-f;f=_,c&&c({action:l,location:x.location,delta:A})}function v(_,A){l="PUSH";let T=Jw(x.location,_,A);f=d()+1;let C=fP(T,f),M=x.createHref(T);try{s.pushState(C,"",M)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(M)}o&&c&&c({action:l,location:x.location,delta:1})}function y(_,A){l="REPLACE";let T=Jw(x.location,_,A);f=d();let C=fP(T,f),M=x.createHref(T);s.replaceState(C,"",M),o&&c&&c({action:l,location:x.location,delta:0})}function w(_){return $3(_)}let x={get action(){return l},get location(){return t(i,s)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(cP,p),c=_,()=>{i.removeEventListener(cP,p),c=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let A=w(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:y,go(_){return s.go(_)}};return x}function $3(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:wf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Zj(t,e,r="/"){return V3(t,e,r,!1)}function V3(t,e,r,n){let i=typeof e=="string"?ph(e):e,o=fo(i.pathname||"/",r);if(o==null)return null;let s=eM(t);F3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=Q3(o);l=X3(s[c],f,n)}return l}function eM(t,e=[],r=[],n=""){let i=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(tr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=so([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(tr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),eM(o.children,e,d,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:K3(f,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let c of tM(o.path))i(o,s,c)}),e}function tM(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=tM(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function F3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:G3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var B3=/^:[\w-]+$/,U3=3,q3=2,z3=1,W3=10,H3=-2,hP=t=>t==="*";function K3(t,e){let r=t.split("/"),n=r.length;return r.some(hP)&&(n+=H3),e&&(n+=q3),r.filter(i=>!hP(i)).reduce((i,o)=>i+(B3.test(o)?U3:o===""?z3:W3),n)}function G3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function X3(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),v=c.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Np({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:so([o,p.pathname]),pathnameBase:t6(so([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=so([o,p.pathnameBase]))}return s}function Np(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Y3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:p},v)=>{if(d==="*"){let w=l[v]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[v];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function Y3(t,e=!1,r=!0){Ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Q3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function J3(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ph(t):t;return{pathname:r?r.startsWith("/")?r:Z3(r,e):e,search:r6(n),hash:n6(i)}}function Z3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function jy(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rM(t){let e=e6(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function nM(t,e,r,n=!1){let i;typeof t=="string"?i=ph(t):(i={...t},tr(!i.pathname||!i.pathname.includes("?"),jy("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),jy("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),jy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=J3(i,l),f=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var so=t=>t.join("/").replace(/\/\/+/g,"/"),t6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iM=["POST","PUT","PATCH","DELETE"];new Set(iM);var o6=["GET",...iM];new Set(o6);var jl=W.createContext(null);jl.displayName="DataRouter";var tg=W.createContext(null);tg.displayName="DataRouterState";var oM=W.createContext({isTransitioning:!1});oM.displayName="ViewTransition";var a6=W.createContext(new Map);a6.displayName="Fetchers";var s6=W.createContext(null);s6.displayName="Await";var ji=W.createContext(null);ji.displayName="Navigation";var rg=W.createContext(null);rg.displayName="Location";var bo=W.createContext({outlet:null,matches:[],isDataRoute:!1});bo.displayName="Route";var Xx=W.createContext(null);Xx.displayName="RouteError";function u6(t,{relative:e}={}){tr(mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=W.useContext(ji),{hash:i,pathname:o,search:s}=gh(t,{relative:e}),l=o;return r!=="/"&&(l=o==="/"?r:so([r,o])),n.createHref({pathname:l,search:s,hash:i})}function mh(){return W.useContext(rg)!=null}function js(){return tr(mh(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(rg).location}var aM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sM(t){W.useContext(ji).static||W.useLayoutEffect(t)}function l6(){let{isDataRoute:t}=W.useContext(bo);return t?x6():c6()}function c6(){tr(mh(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(jl),{basename:e,navigator:r}=W.useContext(ji),{matches:n}=W.useContext(bo),{pathname:i}=js(),o=JSON.stringify(rM(n)),s=W.useRef(!1);return sM(()=>{s.current=!0}),W.useCallback((c,f={})=>{if(Ci(s.current,aM),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=nM(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:so([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,o,i,t])}W.createContext(null);function gh(t,{relative:e}={}){let{matches:r}=W.useContext(bo),{pathname:n}=js(),i=JSON.stringify(rM(r));return W.useMemo(()=>nM(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function f6(t,e,r,n){tr(mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=W.useContext(ji),{matches:o}=W.useContext(bo),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",d=s&&s.route;{let A=d&&d.path||"";uM(c,!d||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=js(),v;v=p;let y=v.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=Zj(t,{pathname:w});return Ci(d||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ci(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),g6(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:so([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:so([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n)}function h6(){let t=w6(),e=i6(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:i},r):null,s)}var d6=W.createElement(h6,null),p6=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(bo.Provider,{value:this.props.routeContext},W.createElement(Xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m6({routeContext:t,match:e,children:r}){let n=W.useContext(jl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(bo.Provider,{value:t},r)}function g6(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);tr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=r,v=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,d)=>{let p,v=!1,y=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||d6,s&&(l<0&&d===0?(uM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===d&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,d+1)),_=()=>{let A;return p?A=y:v?A=w:f.route.Component?A=W.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=c,W.createElement(m6,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?W.createElement(p6,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}function Yx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v6(t){let e=W.useContext(jl);return tr(e,Yx(t)),e}function y6(t){let e=W.useContext(tg);return tr(e,Yx(t)),e}function _6(t){let e=W.useContext(bo);return tr(e,Yx(t)),e}function Qx(t){let e=_6(t),r=e.matches[e.matches.length-1];return tr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function b6(){return Qx("useRouteId")}function w6(){var n;let t=W.useContext(Xx),e=y6("useRouteError"),r=Qx("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function x6(){let{router:t}=v6("useNavigate"),e=Qx("useNavigate"),r=W.useRef(!1);return sM(()=>{r.current=!0}),W.useCallback(async(i,o={})=>{Ci(r.current,aM),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var dP={};function uM(t,e,r){!e&&!dP[t]&&(dP[t]=!0,Ci(!1,r))}W.memo(E6);function E6({routes:t,future:e,state:r}){return f6(t,void 0,r,e)}function S6({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){tr(!mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=W.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=ph(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:v="default"}=r,y=W.useMemo(()=>{let w=fo(c,s);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:v},navigationType:n}},[s,c,f,d,p,v,n]);return Ci(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:W.createElement(ji.Provider,{value:l},W.createElement(rg.Provider,{children:e,value:y}))}var _p="get",bp="application/x-www-form-urlencoded";function ng(t){return t!=null&&typeof t.tagName=="string"}function A6(t){return ng(t)&&t.tagName.toLowerCase()==="button"}function T6(t){return ng(t)&&t.tagName.toLowerCase()==="form"}function P6(t){return ng(t)&&t.tagName.toLowerCase()==="input"}function O6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I6(t,e){return t.button===0&&(!e||e==="_self")&&!O6(t)}var Jd=null;function C6(){if(Jd===null)try{new FormData(document.createElement("form"),0),Jd=!1}catch{Jd=!0}return Jd}var k6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(t){return t!=null&&!k6.has(t)?(Ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bp}"`),null):t}function R6(t,e){let r,n,i,o,s;if(T6(t)){let l=t.getAttribute("action");n=l?fo(l,e):null,r=t.getAttribute("method")||_p,i=My(t.getAttribute("enctype"))||bp,o=new FormData(t)}else if(A6(t)||P6(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?fo(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||_p,i=My(t.getAttribute("formenctype"))||My(l.getAttribute("enctype"))||bp,o=new FormData(l,t),!C6()){let{name:f,type:d,value:p}=t;if(d==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,p)}}else{if(ng(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_p,n=null,i=bp,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function Jx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function N6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function M6(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await N6(o,r);return s.links?s.links():[]}return[]}));return V6(n.flat(1).filter(j6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pP(t,e,r,n,i,o){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>{var d;return r[f].pathname!==c.pathname||((d=r[f].route.path)==null?void 0:d.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function D6(t,e,{includeHydrateFallback:r}={}){return L6(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function L6(t){return[...new Set(t)]}function $6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function V6(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify($6(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F6=new Set([100,101,204,205]);function B6(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&fo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function lM(){let t=W.useContext(jl);return Jx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U6(){let t=W.useContext(tg);return Jx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zx=W.createContext(void 0);Zx.displayName="FrameworkContext";function cM(){let t=W.useContext(Zx);return Jx(t,"You must render this element inside a <HydratedRouter> element"),t}function q6(t,e){let r=W.useContext(Zx),[n,i]=W.useState(!1),[o,s]=W.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=e,v=W.useRef(null);W.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=A=>{A.forEach(T=>{s(T.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),W.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,v,{}]:[o,v,{onFocus:Uc(l,y),onBlur:Uc(c,w),onMouseEnter:Uc(f,y),onMouseLeave:Uc(d,w),onTouchStart:Uc(p,y)}]:[!1,v,{}]}function Uc(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function z6({page:t,...e}){let{router:r}=lM(),n=W.useMemo(()=>Zj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?W.createElement(H6,{page:t,matches:n,...e}):null}function W6(t){let{manifest:e,routeModules:r}=cM(),[n,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return M6(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function H6({page:t,matches:e,...r}){let n=js(),{manifest:i,routeModules:o}=cM(),{basename:s}=lM(),{loaderData:l,matches:c}=U6(),f=W.useMemo(()=>pP(t,e,c,i,n,"data"),[t,e,c,i,n]),d=W.useMemo(()=>pP(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=W.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(A=>{var C;let T=i.routes[A.route.id];!T||!T.hasLoader||(!f.some(M=>M.route.id===A.route.id)&&A.route.id in l&&((C=o[A.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(A.route.id))}),w.size===0)return[];let _=B6(t,s);return x&&w.size>0&&_.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[s,l,n,i,f,e,t,o]),v=W.useMemo(()=>D6(d,i),[d,i]),y=W6(d);return W.createElement(W.Fragment,null,p.map(w=>W.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>W.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:x})=>W.createElement("link",{key:w,...x})))}function K6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var fM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fM&&(window.__reactRouterVersion="7.6.1")}catch{}function G6({basename:t,children:e,window:r}){let n=W.useRef();n.current==null&&(n.current=M3({window:r,v5Compat:!0}));let i=n.current,[o,s]=W.useState({action:i.action,location:i.location}),l=W.useCallback(c=>{W.startTransition(()=>s(c))},[s]);return W.useLayoutEffect(()=>i.listen(l),[i,l]),W.createElement(S6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dM=W.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:l,target:c,to:f,preventScrollReset:d,viewTransition:p,...v},y){let{basename:w}=W.useContext(ji),x=typeof f=="string"&&hM.test(f),_,A=!1;if(typeof f=="string"&&x&&(_=f,fM))try{let R=new URL(window.location.href),F=f.startsWith("//")?new URL(R.protocol+f):new URL(f),D=fo(F.pathname,w);F.origin===R.origin&&D!=null?f=D+F.search+F.hash:A=!0}catch{Ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=u6(f,{relative:i}),[C,M,I]=q6(n,v),N=J6(f,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function P(R){e&&e(R),R.defaultPrevented||N(R)}let O=W.createElement("a",{...v,...I,href:_||T,onClick:A||o?e:P,ref:K6(y,M),target:c,"data-discover":!x&&r==="render"?"true":void 0});return C&&!x?W.createElement(W.Fragment,null,O,W.createElement(z6,{page:T})):O});dM.displayName="Link";var X6=W.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:l,children:c,...f},d){let p=gh(s,{relative:f.relative}),v=js(),y=W.useContext(tg),{navigator:w,basename:x}=W.useContext(ji),_=y!=null&&nB(p)&&l===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,T=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(T=T.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&x&&(C=fo(C,x)||C);const M=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let I=T===A||!i&&T.startsWith(A)&&T.charAt(M)==="/",N=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),P={isActive:I,isPending:N,isTransitioning:_},O=I?e:void 0,R;typeof n=="function"?R=n(P):R=[n,I?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(P):o;return W.createElement(dM,{...f,"aria-current":O,className:R,ref:d,style:F,to:s,viewTransition:l},typeof c=="function"?c(P):c)});X6.displayName="NavLink";var Y6=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=_p,action:l,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:p,...v},y)=>{let w=tB(),x=rB(l,{relative:f}),_=s.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&hM.test(l),T=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||s;w(M||C.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:i,state:o,relative:f,preventScrollReset:d,viewTransition:p})};return W.createElement("form",{ref:y,method:_,action:x,onSubmit:n?c:T,...v,"data-discover":!A&&t==="render"?"true":void 0})});Y6.displayName="Form";function Q6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(t){let e=W.useContext(jl);return tr(e,Q6(t)),e}function J6(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=l6(),c=js(),f=gh(t,{relative:o});return W.useCallback(d=>{if(I6(d,e)){d.preventDefault();let p=r!==void 0?r:wf(c)===wf(f);l(t,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,f,r,n,e,t,i,o,s])}var Z6=0,eB=()=>`__${String(++Z6)}__`;function tB(){let{router:t}=pM("useSubmit"),{basename:e}=W.useContext(ji),r=b6();return W.useCallback(async(n,i={})=>{let{action:o,method:s,encType:l,formData:c,body:f}=R6(n,e);if(i.navigate===!1){let d=i.fetcherKey||eB();await t.fetch(d,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function rB(t,{relative:e}={}){let{basename:r}=W.useContext(ji),n=W.useContext(bo);tr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...gh(t||".",{relative:e})},s=js();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:so([r,o.pathname])),wf(o)}function nB(t,e={}){let r=W.useContext(oM);tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pM("useViewTransitionState"),i=gh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=fo(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=fo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Np(i.pathname,s)!=null||Np(i.pathname,o)!=null}[...F6];const iB=({tabs:t,activeTab:e,onTabChange:r})=>V.jsx("div",{className:"border-b border-gray-200",children:V.jsx("nav",{className:"flex -mb-px",children:t.map((n,i)=>V.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-colors duration-200 ${e===i?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,onClick:()=>r(i),children:n},i))})}),mM=W.createContext(void 0),vh=()=>{const t=W.useContext(mM);if(!t)throw new Error("useData must be used within a DataProvider");return t},oB=t=>{const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e},mP=(t,e,r)=>{try{const n=[e.join(","),...t.map(o=>e.map(s=>oB(o[s])).join(","))].join(`
`);localStorage.setItem(r,n);const i=new Date().toISOString().replace(/[:.]/g,"-");return localStorage.setItem(`${r}.${i}.backup`,n),!0}catch(n){return console.error(`Error saving CSV at ${r}:`,n),!1}},gP=t=>{try{const e=localStorage.getItem(t);return e||(t.includes("products")?`codigo,nombre,stock,precio_costo,precio_venta,categoria,imagen,stockMinimo
`:t.includes("sales")?`fecha_hora,codigo_barra,nombre_producto,cantidad_vendida,precio_unitario,total_linea,cajero
`:"")}catch(e){return console.error(`Error loading CSV from ${t}:`,e),""}},aB=t=>{try{const e=t.split(`
`);if(e.length<=1)return{};const r=e[0].split(","),n={},i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={codigo:i(s[0]||""),nombre:i(s[1]||""),stock:parseInt(i(s[2]||"0"))||0,precio_costo:parseFloat(i(s[3]||"0"))||0,precio_venta:parseFloat(i(s[4]||"0"))||0,categoria:i(s[5]||"Sin Categoría"),imagen:i(s[6]||""),stockMinimo:parseInt(i(s[7]||"5"))||5,precio:0};l.codigo&&(n[l.codigo]=l)}}}),n}catch(e){return console.error("Error parsing products CSV:",e),{}}},sB=t=>{try{const e=t.split(`
`);if(e.length<=1)return[];const r=e[0].split(","),n=[],i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={fecha_hora:i(s[0]||""),codigo_barra:i(s[1]||""),nombre_producto:i(s[2]||""),cantidad_vendida:parseInt(i(s[3]||"0"))||0,precio_unitario:parseFloat(i(s[4]||"0"))||0,total_linea:parseFloat(i(s[5]||"0"))||0,cajero:i(s[6]||"")};l.codigo_barra&&l.fecha_hora&&n.push(l)}}}),n}catch(e){return console.error("Error parsing sales CSV:",e),[]}},uB=({children:t})=>{const[e,r]=W.useState({}),[n,i]=W.useState([]),[o,s]=W.useState(!0),[l,c]=W.useState(null),f=W.useRef(null);W.useEffect(()=>{(async()=>{try{s(!0);const A=gP("products.csv"),T=gP("sales.csv"),C=aB(A),M=sB(T);r(C),i(M),console.log("Data loaded successfully")}catch(A){console.error("Error loading data:",A)}finally{s(!1)}})()},[]);const d=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{const _=["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo"],A=["fecha_hora","codigo_barra","nombre_producto","cantidad_vendida","precio_unitario","total_linea","cajero"],T=Object.values(e),C=mP(T,_,"products.csv"),M=mP(n,A,"sales.csv");C&&M&&(c(new Date),console.log("Data saved successfully"))}catch(_){console.error("Error saving data:",_)}},1e3)};W.useEffect(()=>{o||d()},[e,n,o]);const p=_=>{r(A=>({...A,[_.codigo]:{..._,categoria:_.categoria||"Sin Categoría",imagen:_.imagen||"",stockMinimo:_.stockMinimo||5}}))},v=_=>{r(A=>{const T=A[_.codigo];return T?{...A,[_.codigo]:{...T,..._,stock:T.stock+_.stock}}:A})},y=_=>{i(A=>[...A,_])},w=(_,A)=>{const T=e[_];return!T||T.stock<A?!1:(r(C=>({...C,[_]:{...T,stock:T.stock-A}})),!0)},x=_=>e[_]||null;return V.jsx(mM.Provider,{value:{products:e,sales:n,addProduct:p,updateProduct:v,addSale:y,decreaseStock:w,getProduct:x,isLoading:o,lastSaved:l},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Tt=(t,e)=>{const r=W.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},d)=>W.createElement("svg",{ref:d,...lB,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${cB(t)}`,l].join(" "),...f},[...e.map(([p,v])=>W.createElement(p,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Tt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=Tt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=Tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=Tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Tt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=Tt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=Tt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Tt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Tt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=Tt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wB=()=>{const{isLoading:t,lastSaved:e}=vh();return t?V.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[V.jsx(pB,{className:"animate-spin",size:16}),V.jsx("span",{className:"text-sm",children:"Cargando datos..."})]}):V.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[V.jsx(_M,{size:16}),V.jsx("span",{className:"text-sm",children:e?`Guardado: ${e.toLocaleTimeString()}`:"Datos sincronizados"})]})};function bM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=bM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=bM(t))&&(n&&(n+=" "),n+=e);return n}var Dy,SP;function Jr(){if(SP)return Dy;SP=1;var t=Array.isArray;return Dy=t,Dy}var Ly,AP;function wM(){if(AP)return Ly;AP=1;var t=typeof Yd=="object"&&Yd&&Yd.Object===Object&&Yd;return Ly=t,Ly}var $y,TP;function Mi(){if(TP)return $y;TP=1;var t=wM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return $y=r,$y}var Vy,PP;function yh(){if(PP)return Vy;PP=1;var t=Mi(),e=t.Symbol;return Vy=e,Vy}var Fy,OP;function xB(){if(OP)return Fy;OP=1;var t=yh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var d=n.call(s);return f&&(l?s[i]=c:delete s[i]),d}return Fy=o,Fy}var By,IP;function EB(){if(IP)return By;IP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return By=r,By}var Uy,CP;function wo(){if(CP)return Uy;CP=1;var t=yh(),e=xB(),r=EB(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:o&&o in Object(l)?e(l):r(l)}return Uy=s,Uy}var qy,kP;function xo(){if(kP)return qy;kP=1;function t(e){return e!=null&&typeof e=="object"}return qy=t,qy}var zy,RP;function Ml(){if(RP)return zy;RP=1;var t=wo(),e=xo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return zy=n,zy}var Wy,NP;function eE(){if(NP)return Wy;NP=1;var t=Jr(),e=Ml(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Wy=i,Wy}var Hy,jP;function Sa(){if(jP)return Hy;jP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Hy=t,Hy}var Ky,MP;function tE(){if(MP)return Ky;MP=1;var t=wo(),e=Sa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==o}return Ky=s,Ky}var Gy,DP;function SB(){if(DP)return Gy;DP=1;var t=Mi(),e=t["__core-js_shared__"];return Gy=e,Gy}var Xy,LP;function AB(){if(LP)return Xy;LP=1;var t=SB(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Xy=r,Xy}var Yy,$P;function xM(){if($P)return Yy;$P=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Yy=r,Yy}var Qy,VP;function TB(){if(VP)return Qy;VP=1;var t=tE(),e=AB(),r=Sa(),n=xM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var y=t(v)?d:o;return y.test(n(v))}return Qy=p,Qy}var Jy,FP;function PB(){if(FP)return Jy;FP=1;function t(e,r){return e==null?void 0:e[r]}return Jy=t,Jy}var Zy,BP;function Ms(){if(BP)return Zy;BP=1;var t=TB(),e=PB();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Zy=r,Zy}var e0,UP;function ig(){if(UP)return e0;UP=1;var t=Ms(),e=t(Object,"create");return e0=e,e0}var t0,qP;function OB(){if(qP)return t0;qP=1;var t=ig();function e(){this.__data__=t?t(null):{},this.size=0}return t0=e,t0}var r0,zP;function IB(){if(zP)return r0;zP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return r0=t,r0}var n0,WP;function CB(){if(WP)return n0;WP=1;var t=ig(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return n.call(s,o)?s[o]:void 0}return n0=i,n0}var i0,HP;function kB(){if(HP)return i0;HP=1;var t=ig(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return i0=n,i0}var o0,KP;function RB(){if(KP)return o0;KP=1;var t=ig(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return o0=r,o0}var a0,GP;function NB(){if(GP)return a0;GP=1;var t=OB(),e=IB(),r=CB(),n=kB(),i=RB();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,a0=o,a0}var s0,XP;function jB(){if(XP)return s0;XP=1;function t(){this.__data__=[],this.size=0}return s0=t,s0}var u0,YP;function rE(){if(YP)return u0;YP=1;function t(e,r){return e===r||e!==e&&r!==r}return u0=t,u0}var l0,QP;function og(){if(QP)return l0;QP=1;var t=rE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return l0=e,l0}var c0,JP;function MB(){if(JP)return c0;JP=1;var t=og(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():r.call(o,s,1),--this.size,!0}return c0=n,c0}var f0,ZP;function DB(){if(ZP)return f0;ZP=1;var t=og();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return f0=e,f0}var h0,eO;function LB(){if(eO)return h0;eO=1;var t=og();function e(r){return t(this.__data__,r)>-1}return h0=e,h0}var d0,tO;function $B(){if(tO)return d0;tO=1;var t=og();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return d0=e,d0}var p0,rO;function ag(){if(rO)return p0;rO=1;var t=jB(),e=MB(),r=DB(),n=LB(),i=$B();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,p0=o,p0}var m0,nO;function nE(){if(nO)return m0;nO=1;var t=Ms(),e=Mi(),r=t(e,"Map");return m0=r,m0}var g0,iO;function VB(){if(iO)return g0;iO=1;var t=NB(),e=ag(),r=nE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return g0=n,g0}var v0,oO;function FB(){if(oO)return v0;oO=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return v0=t,v0}var y0,aO;function sg(){if(aO)return y0;aO=1;var t=FB();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return y0=e,y0}var _0,sO;function BB(){if(sO)return _0;sO=1;var t=sg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return _0=e,_0}var b0,uO;function UB(){if(uO)return b0;uO=1;var t=sg();function e(r){return t(this,r).get(r)}return b0=e,b0}var w0,lO;function qB(){if(lO)return w0;lO=1;var t=sg();function e(r){return t(this,r).has(r)}return w0=e,w0}var x0,cO;function zB(){if(cO)return x0;cO=1;var t=sg();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return x0=e,x0}var E0,fO;function iE(){if(fO)return E0;fO=1;var t=VB(),e=BB(),r=UB(),n=qB(),i=zB();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,E0=o,E0}var S0,hO;function EM(){if(hO)return S0;hO=1;var t=iE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=n.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,S0=r,S0}var A0,dO;function WB(){if(dO)return A0;dO=1;var t=EM(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return A0=r,A0}var T0,pO;function HB(){if(pO)return T0;pO=1;var t=WB(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(r,"$1"):l||s)}),o});return T0=n,T0}var P0,mO;function oE(){if(mO)return P0;mO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return P0=t,P0}var O0,gO;function KB(){if(gO)return O0;gO=1;var t=yh(),e=oE(),r=Jr(),n=Ml(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return O0=s,O0}var I0,vO;function SM(){if(vO)return I0;vO=1;var t=KB();function e(r){return r==null?"":t(r)}return I0=e,I0}var C0,yO;function AM(){if(yO)return C0;yO=1;var t=Jr(),e=eE(),r=HB(),n=SM();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return C0=i,C0}var k0,_O;function ug(){if(_O)return k0;_O=1;var t=Ml();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return k0=e,k0}var R0,bO;function aE(){if(bO)return R0;bO=1;var t=AM(),e=ug();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return R0=r,R0}var N0,wO;function TM(){if(wO)return N0;wO=1;var t=aE();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return N0=e,N0}var GB=TM();const dn=ft(GB);var j0,xO;function XB(){if(xO)return j0;xO=1;function t(e){return e==null}return j0=t,j0}var YB=XB();const Ke=ft(YB);var M0,EO;function QB(){if(EO)return M0;EO=1;var t=wo(),e=Jr(),r=xo(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return M0=i,M0}var JB=QB();const xs=ft(JB);var ZB=tE();const Fe=ft(ZB);var eU=Sa();const Dl=ft(eU);var D0={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function tU(){if(SO)return ut;SO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var A=_.$$typeof;switch(A){case t:switch(_=_.type,_){case r:case i:case n:case f:case d:return _;default:switch(_=_&&_.$$typeof,_){case l:case s:case c:case v:case p:case o:return _;default:return A}}case e:return A}}}return ut.ContextConsumer=s,ut.ContextProvider=o,ut.Element=t,ut.ForwardRef=c,ut.Fragment=r,ut.Lazy=v,ut.Memo=p,ut.Portal=e,ut.Profiler=i,ut.StrictMode=n,ut.Suspense=f,ut.SuspenseList=d,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(_){return x(_)===s},ut.isContextProvider=function(_){return x(_)===o},ut.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},ut.isForwardRef=function(_){return x(_)===c},ut.isFragment=function(_){return x(_)===r},ut.isLazy=function(_){return x(_)===v},ut.isMemo=function(_){return x(_)===p},ut.isPortal=function(_){return x(_)===e},ut.isProfiler=function(_){return x(_)===i},ut.isStrictMode=function(_){return x(_)===n},ut.isSuspense=function(_){return x(_)===f},ut.isSuspenseList=function(_){return x(_)===d},ut.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===f||_===d||_===y||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===s||_.$$typeof===c||_.$$typeof===w||_.getModuleId!==void 0)},ut.typeOf=x,ut}var AO;function rU(){return AO||(AO=1,D0.exports=tU()),D0.exports}var nU=rU(),L0,TO;function PM(){if(TO)return L0;TO=1;var t=wo(),e=xo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return L0=n,L0}var $0,PO;function iU(){if(PO)return $0;PO=1;var t=PM();function e(r){return t(r)&&r!=+r}return $0=e,$0}var oU=iU();const Ll=ft(oU);var aU=PM();const sU=ft(aU);var Vr=function(e){return e===0?0:e>0?1:-1},fs=function(e){return xs(e)&&e.indexOf("%")===e.length-1},ge=function(e){return sU(e)&&!Ll(e)},er=function(e){return ge(e)||xs(e)},uU=0,Ds=function(e){var r=++uU;return"".concat(e||"").concat(r)},Fr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!xs(e))return n;var o;if(fs(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Ll(o)&&(o=n),i&&o>r&&(o=r),o},ta=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lU=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Jt=function(e,r){return ge(e)&&ge(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):dn(n,e))===r})}var cU=function(e,r){return ge(e)&&ge(r)?e-r:xs(e)&&xs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function r1(t){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r1(t)}var fU=["viewBox","children"],hU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OO=["points","pathLength"],V0={svg:fU,polygon:OO,polyline:OO},sE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Dp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(W.isValidElement(e)&&(n=e.props),!Dl(n))return null;var i={};return Object.keys(n).forEach(function(o){sE.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},dU=function(e,r,n){return function(i){return e(r,n,i),null}},Es=function(e,r,n){if(!Dl(e)||r1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];sE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=dU(s,r,n))}),i},pU=["children"],mU=["children"];function IO(t,e){if(t==null)return{};var r=gU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n1(t){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n1(t)}var CO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},kO=null,F0=null,uE=function t(e){if(e===kO&&Array.isArray(F0))return F0;var r=[];return W.Children.forEach(e,function(n){Ke(n)||(nU.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),F0=r,kO=e,r};function pn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return uo(i)}):n=[uo(e)],uE(t).forEach(function(i){var o=dn(i,"type.displayName")||dn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function cn(t,e){var r=pn(t,e);return r&&r[0]}var RO=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},vU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yU=function(e){return e&&e.type&&xs(e.type)&&vU.indexOf(e.type)>=0},OM=function(e){return e&&n1(e)==="object"&&"clipDot"in e},_U=function(e,r,n,i){var o,s=(o=V0==null?void 0:V0[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Fe(e)&&(i&&s.includes(r)||hU.includes(r))||n&&sE.includes(r)},Ne=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(W.isValidElement(e)&&(i=e.props),!Dl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;_U((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=i[s])}),o},i1=function t(e,r){if(e===r)return!0;var n=W.Children.count(e);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return NO(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!NO(o,s))return!1}return!0},NO=function(e,r){if(Ke(e)&&Ke(r))return!0;if(!Ke(e)&&!Ke(r)){var n=e.props||{},i=n.children,o=IO(n,pU),s=r.props||{},l=s.children,c=IO(s,mU);return i&&l?Hu(o,c)&&i1(i,l):!i&&!l?Hu(o,c):!1}return!1},jO=function(e,r){var n=[],i={};return uE(e).forEach(function(o,s){if(yU(o))n.push(o);else if(o){var l=uo(o.type),c=r[l]||{},f=c.handler,d=c.once;if(f&&(!d||!i[l])){var p=f(o,l,s);n.push(p),i[l]=!0}}}),n},bU=function(e){var r=e&&e.type;return r&&CO[r]?CO[r]:null},wU=function(e,r){return uE(r).indexOf(e)},xU=["children","width","height","viewBox","className","style","title","desc"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function EU(t,e){if(t==null)return{};var r=SU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=EU(t,xU),d=i||{width:r,height:n,x:0,y:0},p=Xe("recharts-surface",o);return z.createElement("svg",o1({},Ne(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),e)}var AU=["children","className"];function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function TU(t,e){if(t==null)return{};var r=PU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ze=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=TU(t,AU),o=Xe("recharts-layer",n);return z.createElement("g",s1({className:o},Ne(i,!0),{ref:e}),r)}),ii=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},B0,MO;function OU(){if(MO)return B0;MO=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return B0=t,B0}var U0,DO;function IU(){if(DO)return U0;DO=1;var t=OU();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return U0=e,U0}var q0,LO;function IM(){if(LO)return q0;LO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return q0=c,q0}var z0,$O;function CU(){if($O)return z0;$O=1;function t(e){return e.split("")}return z0=t,z0}var W0,VO;function kU(){if(VO)return W0;VO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",x="["+o+"]?",_="(?:"+y+"(?:"+[d,p,v].join("|")+")"+x+w+")*",A=x+w+_,T="(?:"+[d+l+"?",l,p,v,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+T+A,"g");function M(I){return I.match(C)||[]}return W0=M,W0}var H0,FO;function RU(){if(FO)return H0;FO=1;var t=CU(),e=IM(),r=kU();function n(i){return e(i)?r(i):t(i)}return H0=n,H0}var K0,BO;function NU(){if(BO)return K0;BO=1;var t=IU(),e=IM(),r=RU(),n=SM();function i(o){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return K0=i,K0}var G0,UO;function jU(){if(UO)return G0;UO=1;var t=NU(),e=t("toUpperCase");return G0=e,G0}var MU=jU();const lg=ft(MU);function wt(t){return function(){return t}}const CM=Math.cos,Lp=Math.sin,si=Math.sqrt,$p=Math.PI,cg=2*$p,u1=Math.PI,l1=2*u1,ss=1e-6,DU=l1-ss;function kM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function LU(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kM;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $U{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kM:LU(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-e,f=i-r,d=s-e,p=l-r,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ss)if(!(Math.abs(p*c-f*d)>ss)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,w=i-l,x=c*c+f*f,_=y*y+w*w,A=Math.sqrt(x),T=Math.sqrt(v),C=o*Math.tan((u1-Math.acos((x+v-_)/(2*A*T)))/2),M=C/T,I=C/A;Math.abs(M-1)>ss&&this._append`L${e+M*d},${r+M*p}`,this._append`A${o},${o},0,0,${+(p*y>d*w)},${this._x1=e+I*c},${this._y1=r+I*f}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,d=r+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ss||Math.abs(this._y1-d)>ss)&&this._append`L${f},${d}`,n&&(v<0&&(v=v%l1+l1),v>DU?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:v>ss&&this._append`A${n},${n},0,${+(v>=u1)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $U(e)}function cE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RM(t){this._context=t}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fg(t){return new RM(t)}function NM(t){return t[0]}function jM(t){return t[1]}function MM(t,e){var r=wt(!0),n=null,i=fg,o=null,s=lE(l);t=typeof t=="function"?t:t===void 0?NM:wt(t),e=typeof e=="function"?e:e===void 0?jM:wt(e);function l(c){var f,d=(c=cE(c)).length,p,v=!1,y;for(n==null&&(o=i(y=s())),f=0;f<=d;++f)!(f<d&&r(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(y)return o=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:wt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:wt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),l):n},l}function Zd(t,e,r){var n=null,i=wt(!0),o=null,s=fg,l=null,c=lE(f);t=typeof t=="function"?t:t===void 0?NM:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jM:wt(+r);function f(p){var v,y,w,x=(p=cE(p)).length,_,A=!1,T,C=new Array(x),M=new Array(x);for(o==null&&(l=s(T=c())),v=0;v<=x;++v){if(!(v<x&&i(_=p[v],v,p))===A)if(A=!A)y=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=y;--w)l.point(C[w],M[w]);l.lineEnd(),l.areaEnd()}A&&(C[v]=+t(_,v,p),M[v]=+e(_,v,p),l.point(n?+n(_,v,p):C[v],r?+r(_,v,p):M[v]))}if(T)return l=null,T+""||null}function d(){return MM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:wt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:wt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:wt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wt(+p),f):r},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(r)},f.lineX1=function(){return d().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:wt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class DM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function VU(t){return new DM(t,!0)}function FU(t){return new DM(t,!1)}const fE={draw(t,e){const r=si(e/$p);t.moveTo(r,0),t.arc(0,0,r,0,cg)}},BU={draw(t,e){const r=si(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},LM=si(1/3),UU=LM*2,qU={draw(t,e){const r=si(e/UU),n=r*LM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},zU={draw(t,e){const r=si(e),n=-r/2;t.rect(n,n,r,r)}},WU=.8908130915292852,$M=Lp($p/10)/Lp(7*$p/10),HU=Lp(cg/10)*$M,KU=-CM(cg/10)*$M,GU={draw(t,e){const r=si(e*WU),n=HU*r,i=KU*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=cg*o/5,l=CM(s),c=Lp(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},X0=si(3),XU={draw(t,e){const r=-si(e/(X0*3));t.moveTo(0,r*2),t.lineTo(-X0*r,-r),t.lineTo(X0*r,-r),t.closePath()}},Tn=-.5,Pn=si(3)/2,c1=1/si(12),YU=(c1/2+1)*3,QU={draw(t,e){const r=si(e/YU),n=r/2,i=r*c1,o=n,s=r*c1+r,l=-o,c=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(Tn*n-Pn*i,Pn*n+Tn*i),t.lineTo(Tn*o-Pn*s,Pn*o+Tn*s),t.lineTo(Tn*l-Pn*c,Pn*l+Tn*c),t.lineTo(Tn*n+Pn*i,Tn*i-Pn*n),t.lineTo(Tn*o+Pn*s,Tn*s-Pn*o),t.lineTo(Tn*l+Pn*c,Tn*c-Pn*l),t.closePath()}};function JU(t,e){let r=null,n=lE(i);t=typeof t=="function"?t:wt(t||fE),e=typeof e=="function"?e:wt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:wt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Vp(){}function Fp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZU(t){return new VM(t)}function FM(t){this._context=t}FM.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e5(t){return new FM(t)}function BM(t){this._context=t}BM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t5(t){return new BM(t)}function UM(t){this._context=t}UM.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function r5(t){return new UM(t)}function qO(t){return t<0?-1:1}function zO(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(o*i+s*n)/(n+i);return(qO(o)+qO(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function WO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Y0(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-n)/3;t._context.bezierCurveTo(n+l,i+l*e,o-l,s-l*r,o,s)}function Bp(t){this._context=t}Bp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y0(this,this._t0,WO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y0(this,WO(this,r=zO(this,t,e)),r);break;default:Y0(this,this._t0,r=zO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function qM(t){this._context=new zM(t)}(qM.prototype=Object.create(Bp.prototype)).point=function(t,e){Bp.prototype.point.call(this,e,t)};function zM(t){this._context=t}zM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function n5(t){return new Bp(t)}function i5(t){return new qM(t)}function WM(t){this._context=t}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=HO(t),i=HO(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HO(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function o5(t){return new WM(t)}function hg(t,e){this._context=t,this._t=e}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function a5(t){return new hg(t,.5)}function s5(t){return new hg(t,0)}function u5(t){return new hg(t,1)}function Zu(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,l=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function f1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function l5(t,e){return t[e]}function c5(t){const e=[];return e.key=t,e}function f5(){var t=wt([]),e=f1,r=Zu,n=l5;function i(o){var s=Array.from(t.apply(this,arguments),c5),l,c=s.length,f=-1,d;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+n(p,s[l].key,f,o)]).data=p;for(l=0,d=cE(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:wt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?f1:typeof o=="function"?o:wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Zu,i):r},i}function h5(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Zu(t,e)}}function d5(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Zu(t,e)}}function p5(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var l=0,c=0,f=0;l<s;++l){for(var d=t[e[l]],p=d[n][1]||0,v=d[n-1][1]||0,y=(p-v)/2,w=0;w<l;++w){var x=t[e[w]],_=x[n][1]||0,A=x[n-1][1]||0;y+=_-A}c+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Zu(t,e)}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var m5=["type","size","sizeType"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(this,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){g5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g5(t,e,r){return e=v5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v5(t){var e=y5(t,"string");return xf(e)=="symbol"?e:e+""}function y5(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _5(t,e){if(t==null)return{};var r=b5(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HM={symbolCircle:fE,symbolCross:BU,symbolDiamond:qU,symbolSquare:zU,symbolStar:GU,symbolTriangle:XU,symbolWye:QU},w5=Math.PI/180,x5=function(e){var r="symbol".concat(lg(e));return HM[r]||fE},E5=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*w5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S5=function(e,r){HM["symbol".concat(lg(e))]=r},hE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=_5(e,m5),f=GO(GO({},c),{},{type:n,size:o,sizeType:l}),d=function(){var _=x5(n),A=JU().type(_).size(E5(o,l,n));return A()},p=f.className,v=f.cx,y=f.cy,w=Ne(f,!0);return v===+v&&y===+y&&o===+o?z.createElement("path",h1({},w,{className:Xe("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:d()})):null};hE.registerSymbol=S5;function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Ef(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GM(n.key),n)}}function O5(t,e,r){return e&&P5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I5(t,e,r){return e=Up(e),C5(t,KM()?Reflect.construct(e,r||[],Up(t).constructor):e.apply(t,r))}function C5(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k5(t)}function k5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KM=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(t)}function R5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function Ef(t,e,r){return e=GM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GM(t){var e=N5(t,"string");return el(e)=="symbol"?e:e+""}function N5(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yn=32,dE=function(t){function e(){return T5(this,e),I5(this,e,arguments)}return R5(e,t),O5(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Yn/2,s=Yn/6,l=Yn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Yn,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=A5({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(hE,{fill:c,cx:o,cy:o,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:Yn,height:Yn},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,w){var x=y.formatter||c,_=Xe(Ef(Ef({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var A=Fe(y.value)?null:y.value;ii(!Fe(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=y.inactive?f:y.color;return z.createElement("li",d1({className:_,style:p,key:"legend-item-".concat(w)},Es(n.props,y,w)),z.createElement(a1,{width:s,height:s,viewBox:d,style:v},n.renderIcon(y)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},x?x(A,y,w):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(W.PureComponent);Ef(dE,"displayName","Legend");Ef(dE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Q0,YO;function j5(){if(YO)return Q0;YO=1;var t=ag();function e(){this.__data__=new t,this.size=0}return Q0=e,Q0}var J0,QO;function M5(){if(QO)return J0;QO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return J0=t,J0}var Z0,JO;function D5(){if(JO)return Z0;JO=1;function t(e){return this.__data__.get(e)}return Z0=t,Z0}var e_,ZO;function L5(){if(ZO)return e_;ZO=1;function t(e){return this.__data__.has(e)}return e_=t,e_}var t_,eI;function $5(){if(eI)return t_;eI=1;var t=ag(),e=nE(),r=iE(),n=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(o,s),this.size=l.size,this}return t_=i,t_}var r_,tI;function XM(){if(tI)return r_;tI=1;var t=ag(),e=j5(),r=M5(),n=D5(),i=L5(),o=$5();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,r_=s,r_}var n_,rI;function V5(){if(rI)return n_;rI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return n_=e,n_}var i_,nI;function F5(){if(nI)return i_;nI=1;function t(e){return this.__data__.has(e)}return i_=t,i_}var o_,iI;function YM(){if(iI)return o_;iI=1;var t=iE(),e=V5(),r=F5();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,o_=n,o_}var a_,oI;function QM(){if(oI)return a_;oI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return a_=t,a_}var s_,aI;function JM(){if(aI)return s_;aI=1;function t(e,r){return e.has(r)}return s_=t,s_}var u_,sI;function ZM(){if(sI)return u_;sI=1;var t=YM(),e=QM(),r=JM(),n=1,i=2;function o(s,l,c,f,d,p){var v=c&n,y=s.length,w=l.length;if(y!=w&&!(v&&w>y))return!1;var x=p.get(s),_=p.get(l);if(x&&_)return x==l&&_==s;var A=-1,T=!0,C=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++A<y;){var M=s[A],I=l[A];if(f)var N=v?f(I,M,A,l,s,p):f(M,I,A,s,l,p);if(N!==void 0){if(N)continue;T=!1;break}if(C){if(!e(l,function(P,O){if(!r(C,O)&&(M===P||d(M,P,c,f,p)))return C.push(O)})){T=!1;break}}else if(!(M===I||d(M,I,c,f,p))){T=!1;break}}return p.delete(s),p.delete(l),T}return u_=o,u_}var l_,uI;function B5(){if(uI)return l_;uI=1;var t=Mi(),e=t.Uint8Array;return l_=e,l_}var c_,lI;function U5(){if(lI)return c_;lI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return c_=t,c_}var f_,cI;function pE(){if(cI)return f_;cI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return f_=t,f_}var h_,fI;function q5(){if(fI)return h_;fI=1;var t=yh(),e=B5(),r=rE(),n=ZM(),i=U5(),o=pE(),s=1,l=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",x="[object String]",_="[object Symbol]",A="[object ArrayBuffer]",T="[object DataView]",C=t?t.prototype:void 0,M=C?C.valueOf:void 0;function I(N,P,O,R,F,D,L){switch(O){case T:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case A:return!(N.byteLength!=P.byteLength||!D(new e(N),new e(P)));case c:case f:case v:return r(+N,+P);case d:return N.name==P.name&&N.message==P.message;case y:case x:return N==P+"";case p:var j=i;case w:var J=R&s;if(j||(j=o),N.size!=P.size&&!J)return!1;var Z=L.get(N);if(Z)return Z==P;R|=l,L.set(N,P);var re=n(j(N),j(P),R,F,D,L);return L.delete(N),re;case _:if(M)return M.call(N)==M.call(P)}return!1}return h_=I,h_}var d_,hI;function eD(){if(hI)return d_;hI=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return d_=t,d_}var p_,dI;function z5(){if(dI)return p_;dI=1;var t=eD(),e=Jr();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return p_=r,p_}var m_,pI;function W5(){if(pI)return m_;pI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[o++]=l)}return s}return m_=t,m_}var g_,mI;function H5(){if(mI)return g_;mI=1;function t(){return[]}return g_=t,g_}var v_,gI;function K5(){if(gI)return v_;gI=1;var t=W5(),e=H5(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return v_=o,v_}var y_,vI;function G5(){if(vI)return y_;vI=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return y_=t,y_}var __,yI;function X5(){if(yI)return __;yI=1;var t=wo(),e=xo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return __=n,__}var b_,_I;function mE(){if(_I)return b_;_I=1;var t=X5(),e=xo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return b_=o,b_}var Zc={exports:{}},w_,bI;function Y5(){if(bI)return w_;bI=1;function t(){return!1}return w_=t,w_}Zc.exports;var wI;function tD(){return wI||(wI=1,function(t,e){var r=Mi(),n=Y5(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||n;t.exports=f}(Zc,Zc.exports)),Zc.exports}var x_,xI;function gE(){if(xI)return x_;xI=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return x_=r,x_}var E_,EI;function vE(){if(EI)return E_;EI=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return E_=e,E_}var S_,SI;function Q5(){if(SI)return S_;SI=1;var t=wo(),e=vE(),r=xo(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",A="[object DataView]",T="[object Float32Array]",C="[object Float64Array]",M="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",D={};D[T]=D[C]=D[M]=D[I]=D[N]=D[P]=D[O]=D[R]=D[F]=!0,D[n]=D[i]=D[_]=D[o]=D[A]=D[s]=D[l]=D[c]=D[f]=D[d]=D[p]=D[v]=D[y]=D[w]=D[x]=!1;function L(j){return r(j)&&e(j.length)&&!!D[t(j)]}return S_=L,S_}var A_,AI;function rD(){if(AI)return A_;AI=1;function t(e){return function(r){return e(r)}}return A_=t,A_}var ef={exports:{}};ef.exports;var TI;function J5(){return TI||(TI=1,function(t,e){var r=wM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(ef,ef.exports)),ef.exports}var T_,PI;function nD(){if(PI)return T_;PI=1;var t=Q5(),e=rD(),r=J5(),n=r&&r.isTypedArray,i=n?e(n):t;return T_=i,T_}var P_,OI;function Z5(){if(OI)return P_;OI=1;var t=G5(),e=mE(),r=Jr(),n=tD(),i=gE(),o=nD(),s=Object.prototype,l=s.hasOwnProperty;function c(f,d){var p=r(f),v=!p&&e(f),y=!p&&!v&&n(f),w=!p&&!v&&!y&&o(f),x=p||v||y||w,_=x?t(f.length,String):[],A=_.length;for(var T in f)(d||l.call(f,T))&&!(x&&(T=="length"||y&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,A)))&&_.push(T);return _}return P_=c,P_}var O_,II;function eq(){if(II)return O_;II=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return O_=e,O_}var I_,CI;function iD(){if(CI)return I_;CI=1;function t(e,r){return function(n){return e(r(n))}}return I_=t,I_}var C_,kI;function tq(){if(kI)return C_;kI=1;var t=iD(),e=t(Object.keys,Object);return C_=e,C_}var k_,RI;function rq(){if(RI)return k_;RI=1;var t=eq(),e=tq(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))n.call(o,l)&&l!="constructor"&&s.push(l);return s}return k_=i,k_}var R_,NI;function _h(){if(NI)return R_;NI=1;var t=tE(),e=vE();function r(n){return n!=null&&e(n.length)&&!t(n)}return R_=r,R_}var N_,jI;function dg(){if(jI)return N_;jI=1;var t=Z5(),e=rq(),r=_h();function n(i){return r(i)?t(i):e(i)}return N_=n,N_}var j_,MI;function nq(){if(MI)return j_;MI=1;var t=z5(),e=K5(),r=dg();function n(i){return t(i,r,e)}return j_=n,j_}var M_,DI;function iq(){if(DI)return M_;DI=1;var t=nq(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,l,c,f,d){var p=l&e,v=t(o),y=v.length,w=t(s),x=w.length;if(y!=x&&!p)return!1;for(var _=y;_--;){var A=v[_];if(!(p?A in s:n.call(s,A)))return!1}var T=d.get(o),C=d.get(s);if(T&&C)return T==s&&C==o;var M=!0;d.set(o,s),d.set(s,o);for(var I=p;++_<y;){A=v[_];var N=o[A],P=s[A];if(c)var O=p?c(P,N,A,s,o,d):c(N,P,A,o,s,d);if(!(O===void 0?N===P||f(N,P,l,c,d):O)){M=!1;break}I||(I=A=="constructor")}if(M&&!I){var R=o.constructor,F=s.constructor;R!=F&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(M=!1)}return d.delete(o),d.delete(s),M}return M_=i,M_}var D_,LI;function oq(){if(LI)return D_;LI=1;var t=Ms(),e=Mi(),r=t(e,"DataView");return D_=r,D_}var L_,$I;function aq(){if($I)return L_;$I=1;var t=Ms(),e=Mi(),r=t(e,"Promise");return L_=r,L_}var $_,VI;function oD(){if(VI)return $_;VI=1;var t=Ms(),e=Mi(),r=t(e,"Set");return $_=r,$_}var V_,FI;function sq(){if(FI)return V_;FI=1;var t=Ms(),e=Mi(),r=t(e,"WeakMap");return V_=r,V_}var F_,BI;function uq(){if(BI)return F_;BI=1;var t=oq(),e=nE(),r=aq(),n=oD(),i=sq(),o=wo(),s=xM(),l="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",y=s(t),w=s(e),x=s(r),_=s(n),A=s(i),T=o;return(t&&T(new t(new ArrayBuffer(1)))!=v||e&&T(new e)!=l||r&&T(r.resolve())!=f||n&&T(new n)!=d||i&&T(new i)!=p)&&(T=function(C){var M=o(C),I=M==c?C.constructor:void 0,N=I?s(I):"";if(N)switch(N){case y:return v;case w:return l;case x:return f;case _:return d;case A:return p}return M}),F_=T,F_}var B_,UI;function lq(){if(UI)return B_;UI=1;var t=XM(),e=ZM(),r=q5(),n=iq(),i=uq(),o=Jr(),s=tD(),l=nD(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(x,_,A,T,C,M){var I=o(x),N=o(_),P=I?d:i(x),O=N?d:i(_);P=P==f?p:P,O=O==f?p:O;var R=P==p,F=O==p,D=P==O;if(D&&s(x)){if(!s(_))return!1;I=!0,R=!1}if(D&&!R)return M||(M=new t),I||l(x)?e(x,_,A,T,C,M):r(x,_,P,A,T,C,M);if(!(A&c)){var L=R&&y.call(x,"__wrapped__"),j=F&&y.call(_,"__wrapped__");if(L||j){var J=L?x.value():x,Z=j?_.value():_;return M||(M=new t),C(J,Z,A,T,M)}}return D?(M||(M=new t),n(x,_,A,T,C,M)):!1}return B_=w,B_}var U_,qI;function yE(){if(qI)return U_;qI=1;var t=lq(),e=xo();function r(n,i,o,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,l)}return U_=r,U_}var q_,zI;function cq(){if(zI)return q_;zI=1;var t=XM(),e=yE(),r=1,n=2;function i(o,s,l,c){var f=l.length,d=f,p=!c;if(o==null)return!d;for(o=Object(o);f--;){var v=l[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<d;){v=l[f];var y=v[0],w=o[y],x=v[1];if(p&&v[2]){if(w===void 0&&!(y in o))return!1}else{var _=new t;if(c)var A=c(w,x,y,o,s,_);if(!(A===void 0?e(x,w,r|n,c,_):A))return!1}}return!0}return q_=i,q_}var z_,WI;function aD(){if(WI)return z_;WI=1;var t=Sa();function e(r){return r===r&&!t(r)}return z_=e,z_}var W_,HI;function fq(){if(HI)return W_;HI=1;var t=aD(),e=dg();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],l=n[s];i[o]=[s,l,t(l)]}return i}return W_=r,W_}var H_,KI;function sD(){if(KI)return H_;KI=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return H_=t,H_}var K_,GI;function hq(){if(GI)return K_;GI=1;var t=cq(),e=fq(),r=sD();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return K_=n,K_}var G_,XI;function dq(){if(XI)return G_;XI=1;function t(e,r){return e!=null&&r in Object(e)}return G_=t,G_}var X_,YI;function pq(){if(YI)return X_;YI=1;var t=AM(),e=mE(),r=Jr(),n=gE(),i=vE(),o=ug();function s(l,c,f){c=t(c,l);for(var d=-1,p=c.length,v=!1;++d<p;){var y=o(c[d]);if(!(v=l!=null&&f(l,y)))break;l=l[y]}return v||++d!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||e(l)))}return X_=s,X_}var Y_,QI;function mq(){if(QI)return Y_;QI=1;var t=dq(),e=pq();function r(n,i){return n!=null&&e(n,i,t)}return Y_=r,Y_}var Q_,JI;function gq(){if(JI)return Q_;JI=1;var t=yE(),e=TM(),r=mq(),n=eE(),i=aD(),o=sD(),s=ug(),l=1,c=2;function f(d,p){return n(d)&&i(p)?o(s(d),p):function(v){var y=e(v,d);return y===void 0&&y===p?r(v,d):t(p,y,l|c)}}return Q_=f,Q_}var J_,ZI;function $l(){if(ZI)return J_;ZI=1;function t(e){return e}return J_=t,J_}var Z_,eC;function vq(){if(eC)return Z_;eC=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Z_=t,Z_}var eb,tC;function yq(){if(tC)return eb;tC=1;var t=aE();function e(r){return function(n){return t(n,r)}}return eb=e,eb}var tb,rC;function _q(){if(rC)return tb;rC=1;var t=vq(),e=yq(),r=eE(),n=ug();function i(o){return r(o)?t(n(o)):e(o)}return tb=i,tb}var rb,nC;function Di(){if(nC)return rb;nC=1;var t=hq(),e=gq(),r=$l(),n=Jr(),i=_q();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return rb=o,rb}var nb,iC;function uD(){if(iC)return nb;iC=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return nb=t,nb}var ib,oC;function bq(){if(oC)return ib;oC=1;function t(e){return e!==e}return ib=t,ib}var ob,aC;function wq(){if(aC)return ob;aC=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return ob=t,ob}var ab,sC;function xq(){if(sC)return ab;sC=1;var t=uD(),e=bq(),r=wq();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return ab=n,ab}var sb,uC;function Eq(){if(uC)return sb;uC=1;var t=xq();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return sb=e,sb}var ub,lC;function Sq(){if(lC)return ub;lC=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return ub=t,ub}var lb,cC;function Aq(){if(cC)return lb;cC=1;function t(){}return lb=t,lb}var cb,fC;function Tq(){if(fC)return cb;fC=1;var t=oD(),e=Aq(),r=pE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return cb=i,cb}var fb,hC;function Pq(){if(hC)return fb;hC=1;var t=YM(),e=Eq(),r=Sq(),n=JM(),i=Tq(),o=pE(),s=200;function l(c,f,d){var p=-1,v=e,y=c.length,w=!0,x=[],_=x;if(d)w=!1,v=r;else if(y>=s){var A=f?null:i(c);if(A)return o(A);w=!1,v=n,_=new t}else _=f?[]:x;e:for(;++p<y;){var T=c[p],C=f?f(T):T;if(T=d||T!==0?T:0,w&&C===C){for(var M=_.length;M--;)if(_[M]===C)continue e;f&&_.push(C),x.push(T)}else v(_,C,d)||(_!==x&&_.push(C),x.push(T))}return x}return fb=l,fb}var hb,dC;function Oq(){if(dC)return hb;dC=1;var t=Di(),e=Pq();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return hb=r,hb}var Iq=Oq();const pC=ft(Iq);function lD(t,e,r){return e===!0?pC(t,r):Fe(e)?pC(t,e):t}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}var Cq=["ref"];function mC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(r),!0).forEach(function(n){pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fD(n.key),n)}}function Rq(t,e,r){return e&&gC(t.prototype,e),r&&gC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nq(t,e,r){return e=qp(e),jq(t,cD()?Reflect.construct(e,r||[],qp(t).constructor):e.apply(t,r))}function jq(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(t)}function Mq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(t,e)}function pg(t,e,r){return e=fD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fD(t){var e=Lq(t,"string");return tl(e)=="symbol"?e:e+""}function Lq(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $q(t,e){if(t==null)return{};var r=Vq(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fq(t){return t.value}function Bq(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=$q(e,Cq);return z.createElement(dE,r)}var vC=1,vs=function(t){function e(){var r;kq(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Nq(this,e,[].concat(i)),pg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Dq(e,t),Rq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vC||Math.abs(i.height-this.lastBoundingBox.height)>vC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();v={top:((d||0)-w.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Zi(Zi({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=Zi(Zi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},Bq(o,Zi(Zi({},this.props),{},{payload:lD(d,f,Fq)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Zi(Zi({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(W.PureComponent);pg(vs,"displayName","Legend");pg(vs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var db,yC;function Uq(){if(yC)return db;yC=1;var t=yh(),e=mE(),r=Jr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return db=i,db}var pb,_C;function hD(){if(_C)return pb;_C=1;var t=eD(),e=Uq();function r(n,i,o,s,l){var c=-1,f=n.length;for(o||(o=e),l||(l=[]);++c<f;){var d=n[c];i>0&&o(d)?i>1?r(d,i-1,o,s,l):t(l,d):s||(l[l.length]=d)}return l}return pb=r,pb}var mb,bC;function qq(){if(bC)return mb;bC=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),l=i(r),c=l.length;c--;){var f=l[e?c:++o];if(n(s[f],f,s)===!1)break}return r}}return mb=t,mb}var gb,wC;function zq(){if(wC)return gb;wC=1;var t=qq(),e=t();return gb=e,gb}var vb,xC;function dD(){if(xC)return vb;xC=1;var t=zq(),e=dg();function r(n,i){return n&&t(n,i,e)}return vb=r,vb}var yb,EC;function Wq(){if(EC)return yb;EC=1;var t=_h();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return yb=e,yb}var _b,SC;function _E(){if(SC)return _b;SC=1;var t=dD(),e=Wq(),r=e(t);return _b=r,_b}var bb,AC;function pD(){if(AC)return bb;AC=1;var t=_E(),e=_h();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,f){s[++o]=i(l,c,f)}),s}return bb=r,bb}var wb,TC;function Hq(){if(TC)return wb;TC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return wb=t,wb}var xb,PC;function Kq(){if(PC)return xb;PC=1;var t=Ml();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,l=t(r),c=n!==void 0,f=n===null,d=n===n,p=t(n);if(!f&&!p&&!l&&r>n||l&&c&&d&&!f&&!p||o&&c&&d||!i&&d||!s)return 1;if(!o&&!l&&!p&&r<n||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!d)return-1}return 0}return xb=e,xb}var Eb,OC;function Gq(){if(OC)return Eb;OC=1;var t=Kq();function e(r,n,i){for(var o=-1,s=r.criteria,l=n.criteria,c=s.length,f=i.length;++o<c;){var d=t(s[o],l[o]);if(d){if(o>=f)return d;var p=i[o];return d*(p=="desc"?-1:1)}}return r.index-n.index}return Eb=e,Eb}var Sb,IC;function Xq(){if(IC)return Sb;IC=1;var t=oE(),e=aE(),r=Di(),n=pD(),i=Hq(),o=rD(),s=Gq(),l=$l(),c=Jr();function f(d,p,v){p.length?p=t(p,function(x){return c(x)?function(_){return e(_,x.length===1?x[0]:x)}:x}):p=[l];var y=-1;p=t(p,o(r));var w=n(d,function(x,_,A){var T=t(p,function(C){return C(x)});return{criteria:T,index:++y,value:x}});return i(w,function(x,_){return s(x,_,v)})}return Sb=f,Sb}var Ab,CC;function Yq(){if(CC)return Ab;CC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Ab=t,Ab}var Tb,kC;function Qq(){if(kC)return Tb;kC=1;var t=Yq(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=s[l];return d[i]=o(f),t(n,this,d)}}return Tb=r,Tb}var Pb,RC;function Jq(){if(RC)return Pb;RC=1;function t(e){return function(){return e}}return Pb=t,Pb}var Ob,NC;function mD(){if(NC)return Ob;NC=1;var t=Ms(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Ob=e,Ob}var Ib,jC;function Zq(){if(jC)return Ib;jC=1;var t=Jq(),e=mD(),r=$l(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Ib=n,Ib}var Cb,MC;function e9(){if(MC)return Cb;MC=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Cb=n,Cb}var kb,DC;function t9(){if(DC)return kb;DC=1;var t=Zq(),e=e9(),r=e(t);return kb=r,kb}var Rb,LC;function r9(){if(LC)return Rb;LC=1;var t=$l(),e=Qq(),r=t9();function n(i,o){return r(e(i,o,t),i+"")}return Rb=n,Rb}var Nb,$C;function mg(){if($C)return Nb;$C=1;var t=rE(),e=_h(),r=gE(),n=Sa();function i(o,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Nb=i,Nb}var jb,VC;function n9(){if(VC)return jb;VC=1;var t=hD(),e=Xq(),r=r9(),n=mg(),i=r(function(o,s){if(o==null)return[];var l=s.length;return l>1&&n(o,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return jb=i,jb}var i9=n9();const bE=ft(i9);function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function o9(t,e){return l9(t)||u9(t,e)||s9(t,e)||a9()}function a9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s9(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function l9(t){if(Array.isArray(t))return t}function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){c9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c9(t,e,r){return e=f9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9(t){var e=h9(t,"string");return Sf(e)=="symbol"?e:e+""}function h9(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d9(t){return Array.isArray(t)&&er(t[0])&&er(t[1])?t.join(" ~ "):t}var p9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,v=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,x=e.label,_=e.labelFormatter,A=e.accessibilityLayer,T=A===void 0?!1:A,C=function(){if(d&&d.length){var L={padding:0,margin:0},j=(v?bE(d,v):d).map(function(J,Z){if(J.type==="none")return null;var re=Mb({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},l),G=J.formatter||p||d9,H=J.value,Q=J.name,ae=H,U=Q;if(G&&ae!=null&&U!=null){var X=G(H,Q,J,Z,d);if(Array.isArray(X)){var se=o9(X,2);ae=se[0],U=se[1]}else ae=X}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:re},er(U)?z.createElement("span",{className:"recharts-tooltip-item-name"},U):null,er(U)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},ae),z.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:L},j)}return null},M=Mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=Mb({margin:0},f),N=!Ke(x),P=N?x:"",O=Xe("recharts-default-tooltip",y),R=Xe("recharts-tooltip-label",w);N&&_&&d!==void 0&&d!==null&&(P=_(x,d));var F=T?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",g1({className:O,style:M},F),z.createElement("p",{className:R,style:I},z.isValidElement(P)?P:"".concat(P)),C())};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function ep(t,e,r){return e=m9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m9(t){var e=g9(t,"string");return Af(e)=="symbol"?e:e+""}function g9(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qc="recharts-tooltip-wrapper",v9={visibility:"hidden"};function y9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Xe(qc,ep(ep(ep(ep({},"".concat(qc,"-right"),ge(r)&&e&&ge(e.x)&&r>=e.x),"".concat(qc,"-left"),ge(r)&&e&&ge(e.x)&&r<e.x),"".concat(qc,"-bottom"),ge(n)&&e&&ge(e.y)&&n>=e.y),"".concat(qc,"-top"),ge(n)&&e&&ge(e.y)&&n<e.y))}function UC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&ge(o[n]))return o[n];var d=r[n]-l-i,p=r[n]+i;if(e[n])return s[n]?d:p;if(s[n]){var v=d,y=c[n];return v<y?Math.max(p,c[n]):Math.max(d,c[n])}var w=p+l,x=c[n]+f;return w>x?Math.max(d,c[n]):Math.max(p,c[n])}function _9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function b9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,d,p;return s.height>0&&s.width>0&&r?(d=UC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=UC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=_9({translateX:d,translateY:p,useTranslate3d:l})):f=v9,{cssProperties:f,cssClasses:y9({translateX:d,translateY:p,coordinate:r})}}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vD(n.key),n)}}function E9(t,e,r){return e&&x9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S9(t,e,r){return e=zp(e),A9(t,gD()?Reflect.construct(e,r||[],zp(t).constructor):e.apply(t,r))}function A9(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T9(t)}function T9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gD=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(t)}function P9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v1(t,e)}function v1(t,e){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v1(t,e)}function y1(t,e,r){return e=vD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vD(t){var e=O9(t,"string");return rl(e)=="symbol"?e:e+""}function O9(t,e){if(rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WC=1,I9=function(t){function e(){var r;w9(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=S9(this,e,[].concat(i)),y1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),y1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),r}return P9(e,t),E9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WC||Math.abs(n.height-this.state.lastBoundingBox.height)>WC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,y=i.offset,w=i.position,x=i.reverseDirection,_=i.useTranslate3d,A=i.viewBox,T=i.wrapperStyle,C=b9({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:y,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:A}),M=C.cssClasses,I=C.cssProperties,N=zC(zC({transition:v&&o?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},T);return z.createElement("div",{tabIndex:-1,className:M,style:N,ref:function(O){n.wrapperNode=O}},f)}}])}(W.PureComponent),C9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Aa={isSsr:C9()};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){wE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_D(n.key),n)}}function N9(t,e,r){return e&&R9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j9(t,e,r){return e=Wp(e),M9(t,yD()?Reflect.construct(e,r||[],Wp(t).constructor):e.apply(t,r))}function M9(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D9(t)}function D9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}function L9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_1(t,e)}function wE(t,e,r){return e=_D(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _D(t){var e=$9(t,"string");return nl(e)=="symbol"?e:e+""}function $9(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V9(t){return t.dataKey}function F9(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(p9,e)}var fn=function(t){function e(){return k9(this,e),j9(this,e,arguments)}return L9(e,t),N9(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,v=i.isAnimationActive,y=i.offset,w=i.payload,x=i.payloadUniqBy,_=i.position,A=i.reverseDirection,T=i.useTranslate3d,C=i.viewBox,M=i.wrapperStyle,I=w??[];p&&I.length&&(I=lD(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),x,V9));var N=I.length>0;return z.createElement(I9,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:o,coordinate:d,hasPayload:N,offset:y,position:_,reverseDirection:A,useTranslate3d:T,viewBox:C,wrapperStyle:M},F9(f,KC(KC({},this.props),{},{payload:I})))}}])}(W.PureComponent);wE(fn,"displayName","Tooltip");wE(fn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Aa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Db,GC;function B9(){if(GC)return Db;GC=1;var t=Mi(),e=function(){return t.Date.now()};return Db=e,Db}var Lb,XC;function U9(){if(XC)return Lb;XC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Lb=e,Lb}var $b,YC;function q9(){if(YC)return $b;YC=1;var t=U9(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return $b=r,$b}var Vb,QC;function bD(){if(QC)return Vb;QC=1;var t=q9(),e=Sa(),r=Ml(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return Vb=c,Vb}var Fb,JC;function z9(){if(JC)return Fb;JC=1;var t=Sa(),e=B9(),r=bD(),n="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var d,p,v,y,w,x,_=0,A=!1,T=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(A=!!f.leading,T="maxWait"in f,v=T?i(r(f.maxWait)||0,c):v,C="trailing"in f?!!f.trailing:C);function M(j){var J=d,Z=p;return d=p=void 0,_=j,y=l.apply(Z,J),y}function I(j){return _=j,w=setTimeout(O,c),A?M(j):y}function N(j){var J=j-x,Z=j-_,re=c-J;return T?o(re,v-Z):re}function P(j){var J=j-x,Z=j-_;return x===void 0||J>=c||J<0||T&&Z>=v}function O(){var j=e();if(P(j))return R(j);w=setTimeout(O,N(j))}function R(j){return w=void 0,C&&d?M(j):(d=p=void 0,y)}function F(){w!==void 0&&clearTimeout(w),_=0,d=x=p=w=void 0}function D(){return w===void 0?y:R(e())}function L(){var j=e(),J=P(j);if(d=arguments,p=this,x=j,J){if(w===void 0)return I(x);if(T)return clearTimeout(w),w=setTimeout(O,c),M(x)}return w===void 0&&(w=setTimeout(O,c)),y}return L.cancel=F,L.flush=D,L}return Fb=s,Fb}var Bb,ZC;function W9(){if(ZC)return Bb;ZC=1;var t=z9(),e=Sa(),r="Expected a function";function n(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Bb=n,Bb}var H9=W9();const wD=ft(H9);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K9(t,e,r){return e=G9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G9(t){var e=X9(t,"string");return Tf(e)=="symbol"?e:e+""}function X9(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y9(t,e){return ez(t)||Z9(t,e)||J9(t,e)||Q9()}function Q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J9(t,e){if(t){if(typeof t=="string")return tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ez(t){if(Array.isArray(t))return t}var rp=W.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,y=t.children,w=t.debounce,x=w===void 0?0:w,_=t.id,A=t.className,T=t.onResize,C=t.style,M=C===void 0?{}:C,I=W.useRef(null),N=W.useRef();N.current=T,W.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var P=W.useState({containerWidth:i.width,containerHeight:i.height}),O=Y9(P,2),R=O[0],F=O[1],D=W.useCallback(function(j,J){F(function(Z){var re=Math.round(j),G=Math.round(J);return Z.containerWidth===re&&Z.containerHeight===G?Z:{containerWidth:re,containerHeight:G}})},[]);W.useEffect(function(){var j=function(Q){var ae,U=Q[0].contentRect,X=U.width,se=U.height;D(X,se),(ae=N.current)===null||ae===void 0||ae.call(N,X,se)};x>0&&(j=wD(j,x,{trailing:!0,leading:!1}));var J=new ResizeObserver(j),Z=I.current.getBoundingClientRect(),re=Z.width,G=Z.height;return D(re,G),J.observe(I.current),function(){J.disconnect()}},[D,x]);var L=W.useMemo(function(){var j=R.containerWidth,J=R.containerHeight;if(j<0||J<0)return null;ii(fs(s)||fs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ii(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=fs(s)?j:s,re=fs(c)?J:c;r&&r>0&&(Z?re=Z/r:re&&(Z=re*r),v&&re>v&&(re=v)),ii(Z>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,re,s,c,d,p,r);var G=!Array.isArray(y)&&uo(y.type).endsWith("Chart");return z.Children.map(y,function(H){return z.isValidElement(H)?W.cloneElement(H,tp({width:Z,height:re},G?{style:tp({height:"100%",width:"100%",maxHeight:re,maxWidth:Z},H.props.style)}:{})):H})},[r,y,c,v,p,d,R,s]);return z.createElement("div",{id:_?"".concat(_):void 0,className:Xe("recharts-responsive-container",A),style:tp(tp({},M),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:v}),ref:I},L)}),gg=function(e){return null};gg.displayName="Cell";function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(r),!0).forEach(function(n){tz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tz(t,e,r){return e=rz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rz(t){var e=nz(t,"string");return Pf(e)=="symbol"?e:e+""}function nz(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ru={widthCache:{},cacheCount:0},iz=2e3,oz={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nk="recharts_measurement_span";function az(t){var e=b1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var uf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Aa.isSsr)return{width:0,height:0};var n=az(r),i=JSON.stringify({text:e,copyStyle:n});if(Ru.widthCache[i])return Ru.widthCache[i];try{var o=document.getElementById(nk);o||(o=document.createElement("span"),o.setAttribute("id",nk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=b1(b1({},oz),n);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Ru.widthCache[i]=c,++Ru.cacheCount>iz&&(Ru.cacheCount=0,Ru.widthCache={}),c}catch{return{width:0,height:0}}},sz=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Hp(t,e){return fz(t)||cz(t,e)||lz(t,e)||uz()}function uz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(t,e){if(t){if(typeof t=="string")return ik(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function fz(t){if(Array.isArray(t))return t}function hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pz(n.key),n)}}function dz(t,e,r){return e&&ok(t.prototype,e),r&&ok(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pz(t){var e=mz(t,"string");return Of(e)=="symbol"?e:e+""}function mz(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yz=Object.keys(xD),Fu="NaN";function _z(t,e){return t*xD[e]}var np=function(){function t(e,r){hz(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!gz.test(r)&&(this.num=NaN,this.unit=""),yz.includes(r)&&(this.num=_z(e,r),this.unit="px")}return dz(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=vz.exec(r))!==null&&n!==void 0?n:[],o=Hp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function ED(t){if(t.includes(Fu))return Fu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ak.exec(e))!==null&&r!==void 0?r:[],i=Hp(n,4),o=i[1],s=i[2],l=i[3],c=np.parse(o??""),f=np.parse(l??""),d=s==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return Fu;e=e.replace(ak,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=sk.exec(e))!==null&&p!==void 0?p:[],y=Hp(v,4),w=y[1],x=y[2],_=y[3],A=np.parse(w??""),T=np.parse(_??""),C=x==="+"?A.add(T):A.subtract(T);if(C.isNaN())return Fu;e=e.replace(sk,C.toString())}return e}var uk=/\(([^()]*)\)/;function bz(t){for(var e=t;e.includes("(");){var r=uk.exec(e),n=Hp(r,2),i=n[1];e=e.replace(uk,ED(i))}return e}function wz(t){var e=t.replace(/\s+/g,"");return e=bz(e),e=ED(e),e}function xz(t){try{return wz(t)}catch{return Fu}}function Ub(t){var e=xz(t.slice(5,-1));return e===Fu?"":e}var Ez=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sz=["dx","dy","angle","className","breakAll"];function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w1.apply(this,arguments)}function lk(t,e){if(t==null)return{};var r=Az(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Az(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ck(t,e){return Iz(t)||Oz(t,e)||Pz(t,e)||Tz()}function Tz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pz(t,e){if(t){if(typeof t=="string")return fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Iz(t){if(Array.isArray(t))return t}var SD=/[ \f\n\r\t\v\u2028\u2029]+/,AD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Ke(r)||(n?o=r.toString().split(""):o=r.toString().split(SD));var s=o.map(function(c){return{word:c,width:uf(c,i).width}}),l=n?0:uf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Cz=function(e,r,n,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,d=ge(s),p=l,v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(re,G){var H=G.word,Q=G.width,ae=re[re.length-1];if(ae&&(i==null||o||ae.width+Q+n<Number(i)))ae.words.push(H),ae.width+=Q+n;else{var U={words:[H],width:Q};re.push(U)}return re},[])},y=v(r),w=function(Z){return Z.reduce(function(re,G){return re.width>G.width?re:G})};if(!d)return y;for(var x="…",_=function(Z){var re=p.slice(0,Z),G=AD({breakAll:f,style:c,children:re+x}).wordsWithComputedWidth,H=v(G),Q=H.length>s||w(H).width>Number(i);return[Q,H]},A=0,T=p.length-1,C=0,M;A<=T&&C<=p.length-1;){var I=Math.floor((A+T)/2),N=I-1,P=_(N),O=ck(P,2),R=O[0],F=O[1],D=_(I),L=ck(D,1),j=L[0];if(!R&&!j&&(A=I+1),R&&j&&(T=I-1),!R&&j){M=F;break}C++}return M||y},hk=function(e){var r=Ke(e)?[]:e.toString().split(SD);return[{words:r}]},kz=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!Aa.isSsr){var c,f,d=AD({breakAll:s,children:i,style:o});if(d){var p=d.wordsWithComputedWidth,v=d.spaceWidth;c=p,f=v}else return hk(i);return Cz({breakAll:s,children:i,maxLines:l,style:o},c,f,r,n)}return hk(i)},dk="#808080",Ss=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,v=e.textAnchor,y=v===void 0?"start":v,w=e.verticalAnchor,x=w===void 0?"end":w,_=e.fill,A=_===void 0?dk:_,T=lk(e,Ez),C=W.useMemo(function(){return kz({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:p,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,p,T.style,T.width]),M=T.dx,I=T.dy,N=T.angle,P=T.className,O=T.breakAll,R=lk(T,Sz);if(!er(n)||!er(o))return null;var F=n+(ge(M)?M:0),D=o+(ge(I)?I:0),L;switch(x){case"start":L=Ub("calc(".concat(f,")"));break;case"middle":L=Ub("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:L=Ub("calc(".concat(C.length-1," * -").concat(l,")"));break}var j=[];if(p){var J=C[0].width,Z=T.width;j.push("scale(".concat((ge(Z)?Z/J:1)/J,")"))}return N&&j.push("rotate(".concat(N,", ").concat(F,", ").concat(D,")")),j.length&&(R.transform=j.join(" ")),z.createElement("text",w1({},Ne(R,!0),{x:F,y:D,className:Xe("recharts-text",P),textAnchor:y,fill:A.includes("url")?dk:A}),C.map(function(re,G){var H=re.words.join(O?"":" ");return z.createElement("tspan",{x:F,dy:G===0?L:l,key:"".concat(H,"-").concat(G)},H)}))};function ca(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xE(t){let e,r,n;t.length!==2?(e=ca,r=(l,c)=>ca(t(l),c),n=(l,c)=>t(l)-c):(e=t===ca||t===Rz?t:Nz,r=t,n=t);function i(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<0?f=p+1:d=p}while(f<d)}return f}function o(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function s(l,c,f=0,d=l.length){const p=i(l,c,f,d-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function Nz(){return 0}function TD(t){return t===null?NaN:+t}function*jz(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Mz=xE(ca),bh=Mz.right;xE(TD).center;class pk extends Map{constructor(e,r=$z){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(mk(this,e))}has(e){return super.has(mk(this,e))}set(e,r){return super.set(Dz(this,e),r)}delete(e){return super.delete(Lz(this,e))}}function mk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Dz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Lz({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $z(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vz(t=ca){if(t===ca)return PD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function PD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fz=Math.sqrt(50),Bz=Math.sqrt(10),Uz=Math.sqrt(2);function Kp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Fz?10:o>=Bz?5:o>=Uz?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?Kp(t,e,r*2):[l,c,f]}function x1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Kp(e,t,r):Kp(t,e,r);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function E1(t,e,r){return e=+e,t=+t,r=+r,Kp(t,e,r)[2]}function S1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?E1(e,t,r):E1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function gk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?PD:Vz(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/c+v)),w=Math.min(n,Math.floor(e+(c-f)*p/c+v));OD(t,e,y,w,i)}const o=t[e];let s=r,l=n;for(zc(t,r,e),i(t[n],o)>0&&zc(t,r,n);s<l;){for(zc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[r],o)===0?zc(t,r,l):(++l,zc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function zc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function qz(t,e,r){if(t=Float64Array.from(jz(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return vk(t);if(e>=1)return gk(t);var n,i=(n-1)*e,o=Math.floor(i),s=gk(OD(t,o).subarray(0,o+1)),l=vk(t.subarray(o+1));return s+(l-s)*(i-o)}}function zz(t,e,r=TD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),l=+r(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function Wz(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Eo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const A1=Symbol("implicit");function EE(){var t=new pk,e=[],r=[],n=A1;function i(o){let s=t.get(o);if(s===void 0){if(n!==A1)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EE(e,r).unknown(n)},jn.apply(i,arguments),i}function If(){var t=EE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,l=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,y=i<n,w=y?i:n,x=y?n:i;o=(x-w)/Math.max(1,v-c+f*2),l&&(o=Math.floor(o)),w+=(x-w-o*(v-c))*d,s=o*(1-c),l&&(w=Math.round(w),s=Math.round(s));var _=Wz(v).map(function(A){return w+o*A});return r(y?_.reverse():_)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return If(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(d)},jn.apply(p(),arguments)}function ID(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ID(e())},t}function lf(){return ID(If.apply(null,arguments).paddingInner(1))}function SE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function CD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function wh(){}var Cf=.7,Gp=1/Cf,Ku="\\s*([+-]?\\d+)\\s*",kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hz=/^#([0-9a-f]{3,8})$/,Kz=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),Gz=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),Xz=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${kf}\\)$`),Yz=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${kf}\\)$`),Qz=new RegExp(`^hsl\\(${kf},${Ei},${Ei}\\)$`),Jz=new RegExp(`^hsla\\(${kf},${Ei},${Ei},${kf}\\)$`),yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SE(wh,Rf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_k,formatHex:_k,formatHex8:Zz,formatHsl:e8,formatRgb:bk,toString:bk});function _k(){return this.rgb().formatHex()}function Zz(){return this.rgb().formatHex8()}function e8(){return kD(this).formatHsl()}function bk(){return this.rgb().formatRgb()}function Rf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Hz.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?wk(e):r===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ip(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kz.exec(t))?new Qr(e[1],e[2],e[3],1):(e=Gz.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xz.exec(t))?ip(e[1],e[2],e[3],e[4]):(e=Yz.exec(t))?ip(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qz.exec(t))?Sk(e[1],e[2]/100,e[3]/100,1):(e=Jz.exec(t))?Sk(e[1],e[2]/100,e[3]/100,e[4]):yk.hasOwnProperty(t)?wk(yk[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function wk(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function ip(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qr(t,e,r,n)}function t8(t){return t instanceof wh||(t=Rf(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function T1(t,e,r,n){return arguments.length===1?t8(t):new Qr(t,e,r,n??1)}function Qr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}SE(Qr,T1,CD(wh,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cf:Math.pow(Cf,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(ys(this.r),ys(this.g),ys(this.b),Xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xk,formatHex:xk,formatHex8:r8,formatRgb:Ek,toString:Ek}));function xk(){return`#${hs(this.r)}${hs(this.g)}${hs(this.b)}`}function r8(){return`#${hs(this.r)}${hs(this.g)}${hs(this.b)}${hs((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ek(){const t=Xp(this.opacity);return`${t===1?"rgb(":"rgba("}${ys(this.r)}, ${ys(this.g)}, ${ys(this.b)}${t===1?")":`, ${t})`}`}function Xp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ys(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hs(t){return t=ys(t),(t<16?"0":"")+t.toString(16)}function Sk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,r,n)}function kD(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof wh||(t=Rf(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new ei(s,l,c,t.opacity)}function n8(t,e,r,n){return arguments.length===1?kD(t):new ei(t,e,r,n??1)}function ei(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}SE(ei,n8,CD(wh,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cf:Math.pow(Cf,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qr(qb(t>=240?t-240:t+120,i,n),qb(t,i,n),qb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ei(Ak(this.h),op(this.s),op(this.l),Xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xp(this.opacity);return`${t===1?"hsl(":"hsla("}${Ak(this.h)}, ${op(this.s)*100}%, ${op(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ak(t){return t=(t||0)%360,t<0?t+360:t}function op(t){return Math.max(0,Math.min(1,t||0))}function qb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const AE=t=>()=>t;function i8(t,e){return function(r){return t+r*e}}function o8(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function a8(t){return(t=+t)==1?RD:function(e,r){return r-e?o8(e,r,t):AE(isNaN(e)?r:e)}}function RD(t,e){var r=e-t;return r?i8(t,r):AE(isNaN(t)?e:t)}const Tk=function t(e){var r=a8(e);function n(i,o){var s=r((i=T1(i)).r,(o=T1(o)).r),l=r(i.g,o.g),c=r(i.b,o.b),f=RD(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=f(d),i+""}}return n.gamma=t,n}(1);function s8(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function u8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l8(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Vl(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<n;++s)o[s]=i[s](l);return o}}function c8(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function f8(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Vl(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var P1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zb=new RegExp(P1.source,"g");function h8(t){return function(){return t}}function d8(t){return function(e){return t(e)+""}}function p8(t,e){var r=P1.lastIndex=zb.lastIndex=0,n,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=P1.exec(t))&&(i=zb.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Yp(n,i)})),r=zb.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?d8(c[0].x):h8(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)l[(p=c[d]).i]=p.x(f);return l.join("")})}function Vl(t,e){var r=typeof e,n;return e==null||r==="boolean"?AE(e):(r==="number"?Yp:r==="string"?(n=Rf(e))?(e=n,Tk):p8:e instanceof Rf?Tk:e instanceof Date?c8:u8(e)?s8:Array.isArray(e)?l8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?f8:Yp)(t,e)}function TE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function m8(t,e){e===void 0&&(e=t,t=Vl);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function g8(t){return function(){return t}}function Qp(t){return+t}var Pk=[0,1];function Br(t){return t}function O1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:g8(isNaN(e)?NaN:.5)}function v8(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function y8(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=O1(i,n),o=r(s,o)):(n=O1(n,i),o=r(o,s)),function(l){return o(n(l))}}function _8(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=O1(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=bh(t,l,1,n)-1;return o[c](i[c](l))}}function xh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vg(){var t=Pk,e=Pk,r=Vl,n,i,o,s=Br,l,c,f;function d(){var v=Math.min(t.length,e.length);return s!==Br&&(s=v8(t[0],t[v-1])),l=v>2?_8:y8,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=l(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=l(e,t.map(n),Yp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Qp),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=TE,d()},p.clamp=function(v){return arguments.length?(s=v?!0:Br,d()):s!==Br},p.interpolate=function(v){return arguments.length?(r=v,d()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,y){return n=v,i=y,d()}}function PE(){return vg()(Br,Br)}function b8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function il(t){return t=Jp(Math.abs(t)),t?t[1]:NaN}function w8(t,e){return function(r,n){for(var i=r.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function x8(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var E8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nf(t){if(!(e=E8.exec(t)))throw new Error("invalid format: "+t);var e;return new OE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nf.prototype=OE.prototype;function OE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}OE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S8(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ND;function A8(t,e){var r=Jp(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(ND=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Jp(t,Math.max(0,e+o-1))[0]}function Ok(t,e){var r=Jp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Ik={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:b8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ok(t*100,e),r:Ok,s:A8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ck(t){return t}var kk=Array.prototype.map,Rk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T8(t){var e=t.grouping===void 0||t.thousands===void 0?Ck:w8(kk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ck:x8(kk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Nf(p);var v=p.fill,y=p.align,w=p.sign,x=p.symbol,_=p.zero,A=p.width,T=p.comma,C=p.precision,M=p.trim,I=p.type;I==="n"?(T=!0,I="g"):Ik[I]||(C===void 0&&(C=12),M=!0,I="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=x==="$"?n:/[%p]/.test(I)?s:"",O=Ik[I],R=/[defgprs%]/.test(I);C=C===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(D){var L=N,j=P,J,Z,re;if(I==="c")j=O(D)+j,D="";else{D=+D;var G=D<0||1/D<0;if(D=isNaN(D)?c:O(Math.abs(D),C),M&&(D=S8(D)),G&&+D==0&&w!=="+"&&(G=!1),L=(G?w==="("?w:l:w==="-"||w==="("?"":w)+L,j=(I==="s"?Rk[8+ND/3]:"")+j+(G&&w==="("?")":""),R){for(J=-1,Z=D.length;++J<Z;)if(re=D.charCodeAt(J),48>re||re>57){j=(re===46?i+D.slice(J+1):D.slice(J))+j,D=D.slice(0,J);break}}}T&&!_&&(D=e(D,1/0));var H=L.length+D.length+j.length,Q=H<A?new Array(A-H+1).join(v):"";switch(T&&_&&(D=e(Q+D,Q.length?A-j.length:1/0),Q=""),y){case"<":D=L+D+j+Q;break;case"=":D=L+Q+D+j;break;case"^":D=Q.slice(0,H=Q.length>>1)+L+D+j+Q.slice(H);break;default:D=Q+L+D+j;break}return o(D)}return F.toString=function(){return p+""},F}function d(p,v){var y=f((p=Nf(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(il(v)/3)))*3,x=Math.pow(10,-w),_=Rk[8+w/3];return function(A){return y(x*A)+_}}return{format:f,formatPrefix:d}}var ap,IE,jD;P8({thousands:",",grouping:[3],currency:["$",""]});function P8(t){return ap=T8(t),IE=ap.format,jD=ap.formatPrefix,ap}function O8(t){return Math.max(0,-il(Math.abs(t)))}function I8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(il(e)/3)))*3-il(Math.abs(t)))}function C8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,il(e)-il(t))+1}function MD(t,e,r,n){var i=S1(t,e,r),o;switch(n=Nf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=I8(i,s))&&(n.precision=o),jD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=C8(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=O8(i))&&(n.precision=o-(n.type==="%")*2);break}}return IE(n)}function Ta(t){var e=t.domain;return t.ticks=function(r){var n=e();return x1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return MD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],l=n[o],c,f,d=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);d-- >0;){if(f=E1(s,l,r),f===c)return n[i]=s,n[o]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Zp(){var t=PE();return t.copy=function(){return xh(t,Zp())},jn.apply(t,arguments),Ta(t)}function DD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Qp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return DD(t).unknown(e)},t=arguments.length?Array.from(t,Qp):[0,1],Ta(r)}function LD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function Nk(t){return Math.log(t)}function jk(t){return Math.exp(t)}function k8(t){return-Math.log(-t)}function R8(t){return-Math.exp(-t)}function N8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function j8(t){return t===10?N8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mk(t){return(e,r)=>-t(-e,r)}function CE(t){const e=t(Nk,jk),r=e.domain;let n=10,i,o;function s(){return i=M8(n),o=j8(n),r()[0]<0?(i=Mk(i),o=Mk(o),t(k8,R8)):t(Nk,jk),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),y=i(d),w,x;const _=l==null?10:+l;let A=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<n;++w)if(x=v<0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;A.push(x)}}else for(;v<=y;++v)for(w=n-1;w>=1;--w)if(x=v>0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;A.push(x)}A.length*2<_&&(A=x1(f,d,_))}else A=x1(v,y,Math.min(y-v,_)).map(o);return p?A.reverse():A},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Nf(c)).precision==null&&(c.trim=!0),c=IE(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return d=>{let p=d/o(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=f?c(d):""}},e.nice=()=>r(LD(r(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function $D(){const t=CE(vg()).domain([1,10]);return t.copy=()=>xh(t,$D()).base(t.base()),jn.apply(t,arguments),t}function Dk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Lk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kE(t){var e=1,r=t(Dk(e),Lk(e));return r.constant=function(n){return arguments.length?t(Dk(e=+n),Lk(e)):e},Ta(r)}function VD(){var t=kE(vg());return t.copy=function(){return xh(t,VD()).constant(t.constant())},jn.apply(t,arguments)}function $k(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function D8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function L8(t){return t<0?-t*t:t*t}function RE(t){var e=t(Br,Br),r=1;function n(){return r===1?t(Br,Br):r===.5?t(D8,L8):t($k(r),$k(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ta(e)}function NE(){var t=RE(vg());return t.copy=function(){return xh(t,NE()).exponent(t.exponent())},jn.apply(t,arguments),t}function $8(){return NE.apply(null,arguments).exponent(.5)}function Vk(t){return Math.sign(t)*t*t}function V8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function FD(){var t=PE(),e=[0,1],r=!1,n;function i(o){var s=V8(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(Vk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qp)).map(Vk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return FD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},jn.apply(i,arguments),Ta(i)}function BD(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=zz(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:e[bh(r,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ca),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return BD().domain(t).range(e).unknown(n)},jn.apply(o,arguments)}function UD(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[bh(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return UD().domain([t,e]).range(i).unknown(o)},jn.apply(Ta(s),arguments)}function qD(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[bh(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qD().domain(t).range(e).unknown(r)},jn.apply(i,arguments)}const Wb=new Date,Hb=new Date;function ir(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>ir(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Wb.setTime(+o),Hb.setTime(+s),t(Wb),t(Hb),Math.floor(r(Wb,Hb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const em=ir(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);em.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ir(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):em);em.range;const ro=1e3,kn=ro*60,no=kn*60,ho=no*24,jE=ho*7,Fk=ho*30,Kb=ho*365,ds=ir(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCSeconds());ds.range;const ME=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getMinutes());ME.range;const DE=ir(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kn)},(t,e)=>(e-t)/kn,t=>t.getUTCMinutes());DE.range;const LE=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro-t.getMinutes()*kn)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getHours());LE.range;const $E=ir(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCHours());$E.range;const Eh=ir(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kn)/ho,t=>t.getDate()-1);Eh.range;const yg=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>t.getUTCDate()-1);yg.range;const zD=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ho,t=>Math.floor(t/ho));zD.range;function Ls(t){return ir(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*kn)/jE)}const _g=Ls(0),tm=Ls(1),F8=Ls(2),B8=Ls(3),ol=Ls(4),U8=Ls(5),q8=Ls(6);_g.range;tm.range;F8.range;B8.range;ol.range;U8.range;q8.range;function $s(t){return ir(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/jE)}const bg=$s(0),rm=$s(1),z8=$s(2),W8=$s(3),al=$s(4),H8=$s(5),K8=$s(6);bg.range;rm.range;z8.range;W8.range;al.range;H8.range;K8.range;const VE=ir(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VE.range;const FE=ir(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FE.range;const po=ir(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});po.range;const mo=ir(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());mo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});mo.range;function WD(t,e,r,n,i,o){const s=[[ds,1,ro],[ds,5,5*ro],[ds,15,15*ro],[ds,30,30*ro],[o,1,kn],[o,5,5*kn],[o,15,15*kn],[o,30,30*kn],[i,1,no],[i,3,3*no],[i,6,6*no],[i,12,12*no],[n,1,ho],[n,2,2*ho],[r,1,jE],[e,1,Fk],[e,3,3*Fk],[t,1,Kb]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),w=y?y.range(f,+d+1):[];return v?w.reverse():w}function c(f,d,p){const v=Math.abs(d-f)/p,y=xE(([,,_])=>_).right(s,v);if(y===s.length)return t.every(S1(f/Kb,d/Kb,p));if(y===0)return em.every(Math.max(S1(f,d,p),1));const[w,x]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(x)}return[l,c]}const[G8,X8]=WD(mo,FE,bg,zD,$E,DE),[Y8,Q8]=WD(po,VE,_g,Eh,LE,ME);function Gb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function J8(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=Hc(i),d=Kc(i),p=Hc(o),v=Kc(o),y=Hc(s),w=Kc(s),x=Hc(l),_=Kc(l),A=Hc(c),T=Kc(c),C={a:G,A:H,b:Q,B:ae,c:null,d:Hk,e:Hk,f:w7,g:k7,G:N7,H:y7,I:_7,j:b7,L:HD,m:x7,M:E7,p:U,q:X,Q:Xk,s:Yk,S:S7,u:A7,U:T7,V:P7,w:O7,W:I7,x:null,X:null,y:C7,Y:R7,Z:j7,"%":Gk},M={a:se,A:ye,b:we,B:Se,c:null,d:Kk,e:Kk,f:$7,g:G7,G:Y7,H:M7,I:D7,j:L7,L:GD,m:V7,M:F7,p:je,q:ke,Q:Xk,s:Yk,S:B7,u:U7,U:q7,V:z7,w:W7,W:H7,x:null,X:null,y:K7,Y:X7,Z:Q7,"%":Gk},I={a:F,A:D,b:L,B:j,c:J,d:zk,e:zk,f:p7,g:qk,G:Uk,H:Wk,I:Wk,j:c7,L:d7,m:l7,M:f7,p:R,q:u7,Q:g7,s:v7,S:h7,u:n7,U:i7,V:o7,w:r7,W:a7,x:Z,X:re,y:qk,Y:Uk,Z:s7,"%":m7};C.x=N(r,C),C.X=N(n,C),C.c=N(e,C),M.x=N(r,M),M.X=N(n,M),M.c=N(e,M);function N(fe,Te){return function(be){var oe=[],Be=-1,xe=0,We=fe.length,Qe,ht,vt;for(be instanceof Date||(be=new Date(+be));++Be<We;)fe.charCodeAt(Be)===37&&(oe.push(fe.slice(xe,Be)),(ht=Bk[Qe=fe.charAt(++Be)])!=null?Qe=fe.charAt(++Be):ht=Qe==="e"?" ":"0",(vt=Te[Qe])&&(Qe=vt(be,ht)),oe.push(Qe),xe=Be+1);return oe.push(fe.slice(xe,Be)),oe.join("")}}function P(fe,Te){return function(be){var oe=Wc(1900,void 0,1),Be=O(oe,fe,be+="",0),xe,We;if(Be!=be.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Te&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(xe=Xb(Wc(oe.y,0,1)),We=xe.getUTCDay(),xe=We>4||We===0?rm.ceil(xe):rm(xe),xe=yg.offset(xe,(oe.V-1)*7),oe.y=xe.getUTCFullYear(),oe.m=xe.getUTCMonth(),oe.d=xe.getUTCDate()+(oe.w+6)%7):(xe=Gb(Wc(oe.y,0,1)),We=xe.getDay(),xe=We>4||We===0?tm.ceil(xe):tm(xe),xe=Eh.offset(xe,(oe.V-1)*7),oe.y=xe.getFullYear(),oe.m=xe.getMonth(),oe.d=xe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),We="Z"in oe?Xb(Wc(oe.y,0,1)).getUTCDay():Gb(Wc(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(We+5)%7:oe.w+oe.U*7-(We+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Xb(oe)):Gb(oe)}}function O(fe,Te,be,oe){for(var Be=0,xe=Te.length,We=be.length,Qe,ht;Be<xe;){if(oe>=We)return-1;if(Qe=Te.charCodeAt(Be++),Qe===37){if(Qe=Te.charAt(Be++),ht=I[Qe in Bk?Te.charAt(Be++):Qe],!ht||(oe=ht(fe,be,oe))<0)return-1}else if(Qe!=be.charCodeAt(oe++))return-1}return oe}function R(fe,Te,be){var oe=f.exec(Te.slice(be));return oe?(fe.p=d.get(oe[0].toLowerCase()),be+oe[0].length):-1}function F(fe,Te,be){var oe=y.exec(Te.slice(be));return oe?(fe.w=w.get(oe[0].toLowerCase()),be+oe[0].length):-1}function D(fe,Te,be){var oe=p.exec(Te.slice(be));return oe?(fe.w=v.get(oe[0].toLowerCase()),be+oe[0].length):-1}function L(fe,Te,be){var oe=A.exec(Te.slice(be));return oe?(fe.m=T.get(oe[0].toLowerCase()),be+oe[0].length):-1}function j(fe,Te,be){var oe=x.exec(Te.slice(be));return oe?(fe.m=_.get(oe[0].toLowerCase()),be+oe[0].length):-1}function J(fe,Te,be){return O(fe,e,Te,be)}function Z(fe,Te,be){return O(fe,r,Te,be)}function re(fe,Te,be){return O(fe,n,Te,be)}function G(fe){return s[fe.getDay()]}function H(fe){return o[fe.getDay()]}function Q(fe){return c[fe.getMonth()]}function ae(fe){return l[fe.getMonth()]}function U(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function se(fe){return s[fe.getUTCDay()]}function ye(fe){return o[fe.getUTCDay()]}function we(fe){return c[fe.getUTCMonth()]}function Se(fe){return l[fe.getUTCMonth()]}function je(fe){return i[+(fe.getUTCHours()>=12)]}function ke(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Te=N(fe+="",C);return Te.toString=function(){return fe},Te},parse:function(fe){var Te=P(fe+="",!1);return Te.toString=function(){return fe},Te},utcFormat:function(fe){var Te=N(fe+="",M);return Te.toString=function(){return fe},Te},utcParse:function(fe){var Te=P(fe+="",!0);return Te.toString=function(){return fe},Te}}}var Bk={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,Z8=/^%/,e7=/[\\^$*+?|[\]().{}]/g;function st(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function t7(t){return t.replace(e7,"\\$&")}function Hc(t){return new RegExp("^(?:"+t.map(t7).join("|")+")","i")}function Kc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function r7(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function n7(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function i7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function o7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function a7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Uk(t,e,r){var n=hr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function s7(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function u7(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function l7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function c7(t,e,r){var n=hr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Wk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function f7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function h7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function d7(t,e,r){var n=hr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function p7(t,e,r){var n=hr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function m7(t,e,r){var n=Z8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function g7(t,e,r){var n=hr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function v7(t,e,r){var n=hr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Hk(t,e){return st(t.getDate(),e,2)}function y7(t,e){return st(t.getHours(),e,2)}function _7(t,e){return st(t.getHours()%12||12,e,2)}function b7(t,e){return st(1+Eh.count(po(t),t),e,3)}function HD(t,e){return st(t.getMilliseconds(),e,3)}function w7(t,e){return HD(t,e)+"000"}function x7(t,e){return st(t.getMonth()+1,e,2)}function E7(t,e){return st(t.getMinutes(),e,2)}function S7(t,e){return st(t.getSeconds(),e,2)}function A7(t){var e=t.getDay();return e===0?7:e}function T7(t,e){return st(_g.count(po(t)-1,t),e,2)}function KD(t){var e=t.getDay();return e>=4||e===0?ol(t):ol.ceil(t)}function P7(t,e){return t=KD(t),st(ol.count(po(t),t)+(po(t).getDay()===4),e,2)}function O7(t){return t.getDay()}function I7(t,e){return st(tm.count(po(t)-1,t),e,2)}function C7(t,e){return st(t.getFullYear()%100,e,2)}function k7(t,e){return t=KD(t),st(t.getFullYear()%100,e,2)}function R7(t,e){return st(t.getFullYear()%1e4,e,4)}function N7(t,e){var r=t.getDay();return t=r>=4||r===0?ol(t):ol.ceil(t),st(t.getFullYear()%1e4,e,4)}function j7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function Kk(t,e){return st(t.getUTCDate(),e,2)}function M7(t,e){return st(t.getUTCHours(),e,2)}function D7(t,e){return st(t.getUTCHours()%12||12,e,2)}function L7(t,e){return st(1+yg.count(mo(t),t),e,3)}function GD(t,e){return st(t.getUTCMilliseconds(),e,3)}function $7(t,e){return GD(t,e)+"000"}function V7(t,e){return st(t.getUTCMonth()+1,e,2)}function F7(t,e){return st(t.getUTCMinutes(),e,2)}function B7(t,e){return st(t.getUTCSeconds(),e,2)}function U7(t){var e=t.getUTCDay();return e===0?7:e}function q7(t,e){return st(bg.count(mo(t)-1,t),e,2)}function XD(t){var e=t.getUTCDay();return e>=4||e===0?al(t):al.ceil(t)}function z7(t,e){return t=XD(t),st(al.count(mo(t),t)+(mo(t).getUTCDay()===4),e,2)}function W7(t){return t.getUTCDay()}function H7(t,e){return st(rm.count(mo(t)-1,t),e,2)}function K7(t,e){return st(t.getUTCFullYear()%100,e,2)}function G7(t,e){return t=XD(t),st(t.getUTCFullYear()%100,e,2)}function X7(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function Y7(t,e){var r=t.getUTCDay();return t=r>=4||r===0?al(t):al.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function Q7(){return"+0000"}function Gk(){return"%"}function Xk(t){return+t}function Yk(t){return Math.floor(+t/1e3)}var Nu,YD,QD;J7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J7(t){return Nu=J8(t),YD=Nu.format,Nu.parse,QD=Nu.utcFormat,Nu.utcParse,Nu}function Z7(t){return new Date(t)}function eW(t){return t instanceof Date?+t:+new Date(+t)}function BE(t,e,r,n,i,o,s,l,c,f){var d=PE(),p=d.invert,v=d.domain,y=f(".%L"),w=f(":%S"),x=f("%I:%M"),_=f("%I %p"),A=f("%a %d"),T=f("%b %d"),C=f("%B"),M=f("%Y");function I(N){return(c(N)<N?y:l(N)<N?w:s(N)<N?x:o(N)<N?_:n(N)<N?i(N)<N?A:T:r(N)<N?C:M)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?v(Array.from(N,eW)):v().map(Z7)},d.ticks=function(N){var P=v();return t(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?I:f(P)},d.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?v(LD(P,N)):d},d.copy=function(){return xh(d,BE(t,e,r,n,i,o,s,l,c,f))},d}function tW(){return jn.apply(BE(Y8,Q8,po,VE,_g,Eh,LE,ME,ds,YD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rW(){return jn.apply(BE(G8,X8,mo,FE,bg,yg,$E,DE,ds,QD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var t=0,e=1,r,n,i,o,s=Br,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function d(p){return function(v){var y,w;return arguments.length?([y,w]=v,s=p(y,w),f):[s(0),s(1)]}}return f.range=d(Vl),f.rangeRound=d(TE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Pa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function JD(){var t=Ta(wg()(Br));return t.copy=function(){return Pa(t,JD())},Eo.apply(t,arguments)}function ZD(){var t=CE(wg()).domain([1,10]);return t.copy=function(){return Pa(t,ZD()).base(t.base())},Eo.apply(t,arguments)}function eL(){var t=kE(wg());return t.copy=function(){return Pa(t,eL()).constant(t.constant())},Eo.apply(t,arguments)}function UE(){var t=RE(wg());return t.copy=function(){return Pa(t,UE()).exponent(t.exponent())},Eo.apply(t,arguments)}function nW(){return UE.apply(null,arguments).exponent(.5)}function tL(){var t=[],e=Br;function r(n){if(n!=null&&!isNaN(n=+n))return e((bh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ca),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>qz(t,o/n))},r.copy=function(){return tL(e).domain(t)},Eo.apply(r,arguments)}function xg(){var t=0,e=.5,r=1,n=1,i,o,s,l,c,f=Br,d,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+d(x))-o)*(n*x<n*o?l:c),f(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),o=d(e=+e),s=d(r=+r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(f=x,y):f};function w(x){return function(_){var A,T,C;return arguments.length?([A,T,C]=_,f=m8(x,[A,T,C]),y):[f(0),f(.5),f(1)]}}return y.range=w(Vl),y.rangeRound=w(TE),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return d=x,i=x(t),o=x(e),s=x(r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y}}function rL(){var t=Ta(xg()(Br));return t.copy=function(){return Pa(t,rL())},Eo.apply(t,arguments)}function nL(){var t=CE(xg()).domain([.1,1,10]);return t.copy=function(){return Pa(t,nL()).base(t.base())},Eo.apply(t,arguments)}function iL(){var t=kE(xg());return t.copy=function(){return Pa(t,iL()).constant(t.constant())},Eo.apply(t,arguments)}function qE(){var t=RE(xg());return t.copy=function(){return Pa(t,qE()).exponent(t.exponent())},Eo.apply(t,arguments)}function iW(){return qE.apply(null,arguments).exponent(.5)}const Qk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:If,scaleDiverging:rL,scaleDivergingLog:nL,scaleDivergingPow:qE,scaleDivergingSqrt:iW,scaleDivergingSymlog:iL,scaleIdentity:DD,scaleImplicit:A1,scaleLinear:Zp,scaleLog:$D,scaleOrdinal:EE,scalePoint:lf,scalePow:NE,scaleQuantile:BD,scaleQuantize:UD,scaleRadial:FD,scaleSequential:JD,scaleSequentialLog:ZD,scaleSequentialPow:UE,scaleSequentialQuantile:tL,scaleSequentialSqrt:nW,scaleSequentialSymlog:eL,scaleSqrt:$8,scaleSymlog:VD,scaleThreshold:qD,scaleTime:tW,scaleUtc:rW,tickFormat:MD},Symbol.toStringTag,{value:"Module"}));var Yb,Jk;function Eg(){if(Jk)return Yb;Jk=1;var t=Ml();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var l=r[o],c=n(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=l}return d}return Yb=e,Yb}var Qb,Zk;function oL(){if(Zk)return Qb;Zk=1;function t(e,r){return e>r}return Qb=t,Qb}var Jb,eR;function oW(){if(eR)return Jb;eR=1;var t=Eg(),e=oL(),r=$l();function n(i){return i&&i.length?t(i,r,e):void 0}return Jb=n,Jb}var aW=oW();const aa=ft(aW);var Zb,tR;function aL(){if(tR)return Zb;tR=1;function t(e,r){return e<r}return Zb=t,Zb}var ew,rR;function sW(){if(rR)return ew;rR=1;var t=Eg(),e=aL(),r=$l();function n(i){return i&&i.length?t(i,r,e):void 0}return ew=n,ew}var uW=sW();const Sg=ft(uW);var tw,nR;function lW(){if(nR)return tw;nR=1;var t=oE(),e=Di(),r=pD(),n=Jr();function i(o,s){var l=n(o)?t:r;return l(o,e(s,3))}return tw=i,tw}var rw,iR;function cW(){if(iR)return rw;iR=1;var t=hD(),e=lW();function r(n,i){return t(e(n,i),1)}return rw=r,rw}var fW=cW();const hW=ft(fW);var nw,oR;function dW(){if(oR)return nw;oR=1;var t=yE();function e(r,n){return t(r,n)}return nw=e,nw}var pW=dW();const As=ft(pW);var Fl=1e9,mW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WE,It=!0,Nn="[DecimalError] ",_s=Nn+"Invalid argument: ",zE=Nn+"Exponent out of range: ",Bl=Math.floor,us=Math.pow,gW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,lr=1e7,At=7,sL=9007199254740991,nm=Bl(sL/At),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(t){return lo(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,r=e.constructor;return gt(lo(e,new r(t),0,1),r.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Wt(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hn))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(It=!1,e=lo(jf(r,o),jf(t,o),o),It=!0,gt(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cL(e,t):uL(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Nn+"NaN");return r.s?(It=!1,e=lo(r,t,0,1).times(t),It=!0,r.minus(e)):gt(new n(r),i)};Oe.naturalExponential=Oe.exp=function(){return lL(this)};Oe.naturalLogarithm=Oe.ln=function(){return jf(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uL(e,t):cL(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_s+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Oe.squareRoot=Oe.sqrt=function(){var t,e,r,n,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nn+"NaN")}for(t=Wt(l),It=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(o=n,n=o.plus(lo(l,o,s+2)).times(.5),wi(o.d).slice(0,s)===(e=wi(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(gt(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(e!="9999")break;s+=4}return It=!0,gt(n,r)};Oe.times=Oe.mul=function(t){var e,r,n,i,o,s,l,c,f,d=this,p=d.constructor,v=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,r=d.e+t.e,c=v.length,f=y.length,c<f&&(o=v,v=y,y=o,s=c,c=f,f=s),o=[],s=c+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=o[i]+y[n]*v[i-n-1]+e,o[i--]=l%lr|0,e=l/lr|0;o[i]=(o[i]+e)%lr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,It?gt(t,p.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ki(t,0,Fl),e===void 0?e=n.rounding:ki(e,0,8),gt(r,t+Wt(r)+1,e))};Oe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ts(n,!0):(ki(t,0,Fl),e===void 0?e=i.rounding:ki(e,0,8),n=gt(new i(n),t+1,e),r=Ts(n,!0,t+1)),r};Oe.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Ts(i):(ki(t,0,Fl),e===void 0?e=o.rounding:ki(e,0,8),n=gt(new o(i),t+Wt(i)+1,e),r=Ts(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return gt(new e(t),Wt(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,r,n,i,o,s,l=this,c=l.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(hn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Nn+"Infinity");return l}if(l.eq(hn))return l;if(n=c.precision,t.eq(hn))return gt(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=l.s,s){if((r=d<0?-d:d)<=sL){for(i=new c(hn),e=Math.ceil(n/At+4),It=!1;r%2&&(i=i.times(l),sR(i.d,e)),r=Bl(r/2),r!==0;)l=l.times(l),sR(l.d,e);return It=!0,t.s<0?new c(hn).div(i):gt(i,n)}}else if(o<0)throw Error(Nn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,It=!1,i=t.times(jf(l,n+f)),It=!0,i=lL(i),i.s=o,i};Oe.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Wt(i),n=Ts(i,r<=o.toExpNeg||r>=o.toExpPos)):(ki(t,1,Fl),e===void 0?e=o.rounding:ki(e,0,8),i=gt(new o(i),t,e),r=Wt(i),n=Ts(i,t<=r||r<=o.toExpNeg,t)),n};Oe.toSignificantDigits=Oe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ki(t,1,Fl),e===void 0?e=n.rounding:ki(e,0,8)),gt(new n(r),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return Ts(t,e<=r.toExpNeg||e>=r.toExpPos)};function uL(t,e){var r,n,i,o,s,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),It?gt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(n=c,o=-o,l=f.length):(n=f,i=s,l=c.length),s=Math.ceil(p/At),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/lr|0,c[o]%=lr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,It?gt(e,p):e}function ki(t,e,r){if(t!==~~t||t<e||t>r)throw Error(_s+t)}function wi(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=At-n.length,r&&(o+=ea(r)),o+=n;s=t[e],n=s+"",r=At-n.length,r&&(o+=ea(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var lo=function(){function t(n,i){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%lr|0,s=o/lr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*lr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var l,c,f,d,p,v,y,w,x,_,A,T,C,M,I,N,P,O,R=n.constructor,F=n.s==i.s?1:-1,D=n.d,L=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Nn+"Division by zero");for(c=n.e-i.e,P=L.length,I=D.length,y=new R(F),w=y.d=[],f=0;L[f]==(D[f]||0);)++f;if(L[f]>(D[f]||0)&&--c,o==null?T=o=R.precision:s?T=o+(Wt(n)-Wt(i))+1:T=o,T<0)return new R(0);if(T=T/At+2|0,f=0,P==1)for(d=0,L=L[0],T++;(f<I||d)&&T--;f++)C=d*lr+(D[f]||0),w[f]=C/L|0,d=C%L|0;else{for(d=lr/(L[0]+1)|0,d>1&&(L=t(L,d),D=t(D,d),P=L.length,I=D.length),M=P,x=D.slice(0,P),_=x.length;_<P;)x[_++]=0;O=L.slice(),O.unshift(0),N=L[0],L[1]>=lr/2&&++N;do d=0,l=e(L,x,P,_),l<0?(A=x[0],P!=_&&(A=A*lr+(x[1]||0)),d=A/N|0,d>1?(d>=lr&&(d=lr-1),p=t(L,d),v=p.length,_=x.length,l=e(p,x,v,_),l==1&&(d--,r(p,P<v?O:L,v))):(d==0&&(l=d=1),p=L.slice()),v=p.length,v<_&&p.unshift(0),r(x,p,_),l==-1&&(_=x.length,l=e(L,x,P,_),l<1&&(d++,r(x,P<_?O:L,_))),_=x.length):l===0&&(d++,x=[0]),w[f++]=d,l&&x[0]?x[_++]=D[M]||0:(x=[D[M]],_=1);while((M++<I||x[0]!==void 0)&&T--)}return w[0]||w.shift(),y.e=c,gt(y,s?o+Wt(y)+1:o)}}();function lL(t,e){var r,n,i,o,s,l,c=0,f=0,d=t.constructor,p=d.precision;if(Wt(t)>16)throw Error(zE+Wt(t));if(!t.s)return new d(hn);for(It=!1,l=p,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(us(2,f))/Math.LN10*2+5|0,l+=n,r=i=o=new d(hn),d.precision=l;;){if(i=gt(i.times(t),l),r=r.times(++c),s=o.plus(lo(i,r,l)),wi(s.d).slice(0,l)===wi(o.d).slice(0,l)){for(;f--;)o=gt(o.times(o),l);return d.precision=p,e==null?(It=!0,gt(o,p)):o}o=s}}function Wt(t){for(var e=t.e*At,r=t.d[0];r>=10;r/=10)e++;return e}function iw(t,e,r){if(e>t.LN10.sd())throw It=!0,r&&(t.precision=r),Error(Nn+"LN10 precision limit exceeded");return gt(new t(t.LN10),e)}function ea(t){for(var e="";t--;)e+="0";return e}function jf(t,e){var r,n,i,o,s,l,c,f,d,p=1,v=10,y=t,w=y.d,x=y.constructor,_=x.precision;if(y.s<1)throw Error(Nn+(y.s?"NaN":"-Infinity"));if(y.eq(hn))return new x(0);if(e==null?(It=!1,f=_):f=e,y.eq(10))return e==null&&(It=!0),iw(x,f);if(f+=v,x.precision=f,r=wi(w),n=r.charAt(0),o=Wt(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=wi(y.d),n=r.charAt(0),p++;o=Wt(y),n>1?(y=new x("0."+r),o++):y=new x(n+"."+r.slice(1))}else return c=iw(x,f+2,_).times(o+""),y=jf(new x(n+"."+r.slice(1)),f-v).plus(c),x.precision=_,e==null?(It=!0,gt(y,_)):y;for(l=s=y=lo(y.minus(hn),y.plus(hn),f),d=gt(y.times(y),f),i=3;;){if(s=gt(s.times(d),f),c=l.plus(lo(s,new x(i),f)),wi(c.d).slice(0,f)===wi(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(iw(x,f+2,_).times(o+""))),l=lo(l,new x(p),f),x.precision=_,e==null?(It=!0,gt(l,_)):l;l=c,i+=2}}function aR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Bl(r/At),t.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=At;n<i;)t.d.push(+e.slice(n,n+=At));e=e.slice(n),n=At-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),It&&(t.e>nm||t.e<-nm))throw Error(zE+r)}else t.s=0,t.e=0,t.d=[0];return t}function gt(t,e,r){var n,i,o,s,l,c,f,d,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=At,i=e,f=p[d=0];else{if(d=Math.ceil((n+1)/At),o=p.length,d>=o)return t;for(f=o=p[d],s=1;o>=10;o/=10)s++;n%=At,i=n-At+s}if(r!==void 0&&(o=us(10,s-i-1),l=f/o%10|0,c=e<0||p[d+1]!==void 0||f%o,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/us(10,s-i):0:p[d-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=Wt(t),p.length=1,e=e-o-1,p[0]=us(10,(At-e%At)%At),t.e=Bl(-e/At)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=d,o=1,d--):(p.length=d+1,o=us(10,At-n),p[d]=i>0?(f/us(10,s-i)%us(10,i)|0)*o:0),c)for(;;)if(d==0){(p[0]+=o)==lr&&(p[0]=1,++t.e);break}else{if(p[d]+=o,p[d]!=lr)break;p[d--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(It&&(t.e>nm||t.e<-nm))throw Error(zE+Wt(t));return t}function cL(t,e){var r,n,i,o,s,l,c,f,d,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),It?gt(e,y):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(d=s<0,d?(r=c,s=-s,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(y/At),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=lr-1;--c[o],c[i]+=lr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,It?gt(e,y):e):new v(0)}function Ts(t,e,r){var n,i=Wt(t),o=wi(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+ea(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ea(-i-1)+o,r&&(n=r-s)>0&&(o+=ea(n))):i>=s?(o+=ea(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+ea(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=ea(n))),t.s<0?"-"+o:o}function sR(t,e){if(t.length>e)return t.length=e,!0}function fL(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(_s+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return aR(s,o.toString())}else if(typeof o!="string")throw Error(_s+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,gW.test(o))aR(s,o);else throw Error(_s+o)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fL,i.config=i.set=vW,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function vW(t){if(!t||typeof t!="object")throw Error(Nn+"Object expected");var e,r,n,i=["precision",1,Fl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Bl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(_s+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_s+r+": "+n);return this}var WE=fL(mW);hn=new WE(1);const pt=WE;function yW(t){return xW(t)||wW(t)||bW(t)||_W()}function _W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(t,e){if(t){if(typeof t=="string")return I1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(t,e)}}function wW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xW(t){if(Array.isArray(t))return I1(t)}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var EW=function(e){return e},hL={},dL=function(e){return e===hL},uR=function(e){return function r(){return arguments.length===0||arguments.length===1&&dL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},SW=function t(e,r){return e===1?r:uR(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==hL}).length;return s>=e?r.apply(void 0,i):t(e-s,uR(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=i.map(function(p){return dL(p)?c.shift():p});return r.apply(void 0,yW(d).concat(c))}))})},Ag=function(e){return SW(e.length,e)},C1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},AW=Ag(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),TW=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return EW;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},k1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function PW(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function OW(t,e,r){for(var n=new pt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var IW=Ag(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),CW=Ag(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),kW=Ag(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Tg={rangeStep:OW,getDigitCount:PW,interpolateNumber:IW,uninterpolateNumber:CW,uninterpolateTruncation:kW};function R1(t){return jW(t)||NW(t)||mL(t)||RW()}function RW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jW(t){if(Array.isArray(t))return N1(t)}function Mf(t,e){return LW(t)||DW(t,e)||mL(t,e)||MW()}function MW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mL(t,e){if(t){if(typeof t=="string")return N1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(t,e)}}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function LW(t){if(Array.isArray(t))return t}function gL(t){var e=Mf(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function vL(t,e,r){if(t.lte(0))return new pt(0);var n=Tg.getDigitCount(t.toNumber()),i=new pt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,l=new pt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?c:new pt(Math.ceil(c))}function $W(t,e,r){var n=1,i=new pt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new pt(10).pow(Tg.getDigitCount(t)-1),i=new pt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):r||(i=new pt(Math.floor(t)));var s=Math.floor((e-1)/2),l=TW(AW(function(c){return i.add(new pt(c-s).mul(n)).toNumber()}),C1);return l(0,e)}function yL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var o=vL(new pt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new pt(0):(s=new pt(t).add(e).div(2),s=s.sub(new pt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new pt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>r?yL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,l=e>0?l:l+(r-f)),{step:o,tickMin:s.sub(new pt(l).mul(o)),tickMax:s.add(new pt(c).mul(o))})}function VW(t){var e=Mf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=gL([r,n]),c=Mf(l,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(R1(C1(0,i-1).map(function(){return 1/0}))):[].concat(R1(C1(0,i-1).map(function(){return-1/0})),[d]);return r>n?k1(p):p}if(f===d)return $W(f,i,o);var v=yL(f,d,s,o),y=v.step,w=v.tickMin,x=v.tickMax,_=Tg.rangeStep(w,x.add(new pt(.1).mul(y)),y);return r>n?k1(_):_}function FW(t,e){var r=Mf(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=gL([n,i]),l=Mf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var d=Math.max(e,2),p=vL(new pt(f).sub(c).div(d-1),o,0),v=[].concat(R1(Tg.rangeStep(new pt(c),new pt(f).sub(new pt(.99).mul(p)),p)),[f]);return n>i?k1(v):v}var BW=pL(VW),UW=pL(FW),qW="Invariant failed";function Ps(t,e){throw new Error(qW)}var zW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},im.apply(this,arguments)}function WW(t,e){return XW(t)||GW(t,e)||KW(t,e)||HW()}function HW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(t,e){if(t){if(typeof t=="string")return lR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function XW(t){if(Array.isArray(t))return t}function YW(t,e){if(t==null)return{};var r=QW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wL(n.key),n)}}function eH(t,e,r){return e&&ZW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tH(t,e,r){return e=om(e),rH(t,_L()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function rH(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nH(t)}function nH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function iH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j1(t,e)}function bL(t,e,r){return e=wL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wL(t){var e=oH(t,"string");return sl(e)=="symbol"?e:e+""}function oH(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sh=function(t){function e(){return JW(this,e),tH(this,e,arguments)}return iH(e,t),eH(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,l=n.dataKey,c=n.data,f=n.dataPointFormatter,d=n.xAxis,p=n.yAxis,v=YW(n,zW),y=Ne(v,!1);this.props.direction==="x"&&d.type!=="number"&&Ps();var w=c.map(function(x){var _=f(x,l),A=_.x,T=_.y,C=_.value,M=_.errorVal;if(!M)return null;var I=[],N,P;if(Array.isArray(M)){var O=WW(M,2);N=O[0],P=O[1]}else N=P=M;if(o==="vertical"){var R=d.scale,F=T+i,D=F+s,L=F-s,j=R(C-N),J=R(C+P);I.push({x1:J,y1:D,x2:J,y2:L}),I.push({x1:j,y1:F,x2:J,y2:F}),I.push({x1:j,y1:D,x2:j,y2:L})}else if(o==="horizontal"){var Z=p.scale,re=A+i,G=re-s,H=re+s,Q=Z(C-N),ae=Z(C+P);I.push({x1:G,y1:ae,x2:H,y2:ae}),I.push({x1:re,y1:Q,x2:re,y2:ae}),I.push({x1:G,y1:Q,x2:H,y2:Q})}return z.createElement(Ze,im({className:"recharts-errorBar",key:"bar-".concat(I.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},y),I.map(function(U){return z.createElement("line",im({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return z.createElement(Ze,{className:"recharts-errorBars"},w)}}])}(z.Component);bL(Sh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});bL(Sh,"displayName","ErrorBar");function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){aH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aH(t,e,r){return e=sH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sH(t){var e=uH(t,"string");return Df(e)=="symbol"?e:e+""}function uH(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=cn(r,vs);if(!s)return null;var l=vs.defaultProps,c=l!==void 0?is(is({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(n||[]).reduce(function(d,p){var v=p.item,y=p.props,w=y.sectors||y.data||[];return d.concat(w.map(function(x){return{type:s.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(d){var p=d.item,v=p.type.defaultProps,y=v!==void 0?is(is({},v),p.props):{},w=y.dataKey,x=y.name,_=y.legendType,A=y.hide;return{inactive:A,dataKey:w,type:c.iconType||_||"square",color:HE(p),value:x||w,payload:y}}),is(is(is({},c),vs.getWithHeight(s,i)),{},{payload:f,item:s})};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function fR(t){return hH(t)||fH(t)||cH(t)||lH()}function lH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(t,e){if(t){if(typeof t=="string")return M1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(t,e)}}function fH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hH(t){if(Array.isArray(t))return M1(t)}function M1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(n){Gu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gu(t,e,r){return e=dH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dH(t){var e=pH(t,"string");return Lf(e)=="symbol"?e:e+""}function pH(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ft(t,e,r){return Ke(t)||Ke(e)?r:er(e)?dn(t,e,r):Fe(e)?e(t):r}function cf(t,e,r,n){var i=hW(t,function(l){return Ft(l,e)});if(r==="number"){var o=i.filter(function(l){return ge(l)||parseFloat(l)});return o.length?[Sg(o),aa(o)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Ke(l)}):i;return s.map(function(l){return er(l)||l instanceof Date?l:""})}var mH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var d=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if(Vr(p-d)!==Vr(v-p)){var w=[];if(Vr(v-p)===Vr(c[1]-c[0])){y=v;var x=p+c[1]-c[0];w[0]=Math.min(x,(x+d)/2),w[1]=Math.max(x,(x+d)/2)}else{y=d;var _=v+c[1]-c[0];w[0]=Math.min(p,(_+p)/2),w[1]=Math.max(p,(_+p)/2)}var A=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>A[0]&&e<=A[1]||e>=w[0]&&e<=w[1]){s=i[f].index;break}}else{var T=Math.min(d,v),C=Math.max(d,v);if(e>(T+p)/2&&e<=(C+p)/2){s=i[f].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},HE=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},gH=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var d=o[l[c]].stackGroups,p=Object.keys(d),v=0,y=p.length;v<y;v++){var w=d[p[v]],x=w.items,_=w.cateAxisId,A=x.filter(function(P){return uo(P.type).indexOf("Bar")>=0});if(A&&A.length){var T=A[0].type.defaultProps,C=T!==void 0?Mt(Mt({},T),A[0].props):A[0].props,M=C.barSize,I=C[_];s[I]||(s[I]=[]);var N=Ke(M)?r:M;s[I].push({item:A[0],stackList:A.slice(1),barSize:Ke(N)?void 0:Fr(N,n,0)})}}return s},vH=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Fr(r,i,0,!0),d,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,y=i/c,w=s.reduce(function(M,I){return M+I.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&y>0&&(v=!0,y*=.9,w=c*y);var x=(i-w)/2>>0,_={offset:x-f,size:0};d=s.reduce(function(M,I){var N={item:I.item,position:{offset:_.offset+_.size+f,size:v?y:I.barSize}},P=[].concat(fR(M),[N]);return _=P[P.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:_})}),P},p)}else{var A=Fr(n,i,0,!0);i-2*A-(c-1)*f<=0&&(f=0);var T=(i-2*A-(c-1)*f)/c;T>1&&(T>>=0);var C=l===+l?Math.min(T,l):T;d=s.reduce(function(M,I,N){var P=[].concat(fR(M),[{item:I.item,position:{offset:A+(T+f)*N+(T-C)/2,size:C}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},p)}return d},yH=function(e,r,n,i){var o=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),f=xL({children:o,legendWidth:c});if(f){var d=i||{},p=d.width,v=d.height,y=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&y!=="center"&&ge(e[y]))return Mt(Mt({},e),{},Gu({},y,e[y]+(p||0)));if((x==="horizontal"||x==="vertical"&&y==="center")&&w!=="middle"&&ge(e[w]))return Mt(Mt({},e),{},Gu({},w,e[w]+(v||0)))}return e},_H=function(e,r,n){return Ke(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},EL=function(e,r,n,i,o){var s=r.props.children,l=pn(s,Sh).filter(function(f){return _H(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=Ft(d,n);if(Ke(p))return f;var v=Array.isArray(p)?[Sg(p),aa(p)]:[p,p],y=c.reduce(function(w,x){var _=Ft(d,x,0),A=v[0]-Math.abs(Array.isArray(_)?_[0]:_),T=v[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(A,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},bH=function(e,r,n,i,o){var s=r.map(function(l){return EL(e,l,n,o,i)}).filter(function(l){return!Ke(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},SL=function(e,r,n,i,o){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&EL(e,c,f,i)||cf(e,f,n,o)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)l[f[d]]||(l[f[d]]=!0,c.push(f[d]));return c},[])},AL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},TL=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||l.push(r),s||l.push(n),l},io=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Vr(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return d.filter(function(p){return!Ll(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},ow=new WeakMap,sp=function(e,r){if(typeof r!="function")return e;ow.has(e)||ow.set(e,new WeakMap);var n=ow.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},PL=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:If(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Zp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:lf(),realScaleType:"point"}:o==="category"?{scale:If(),realScaleType:"band"}:{scale:Zp(),realScaleType:"linear"};if(xs(i)){var c="scale".concat(lg(i));return{scale:(Qk[c]||lf)(),realScaleType:Qk[c]?c:"point"}}return Fe(i)?{scale:i}:{scale:lf(),realScaleType:"point"}},dR=1e-4,OL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-dR,s=Math.max(i[0],i[1])+dR,l=e(r[0]),c=e(r[n-1]);(l<o||l>s||c<o||c>s)&&e.domain([r[0],r[n-1]])}},wH=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},xH=function(e,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(o[0]=n),(!ge(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},EH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,l=0;l<r;++l){var c=Ll(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},SH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var l=Ll(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},AH={sign:EH,expand:h5,none:Zu,silhouette:d5,wiggle:p5,positive:SH},TH=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),o=AH[n],s=f5().keys(i).value(function(l,c){return+Ft(l,c,0)}).order(f1).offset(o);return s(e)},PH=function(e,r,n,i,o,s){if(!e)return null;var l=s?r.reverse():r,c={},f=l.reduce(function(p,v){var y,w=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Mt(Mt({},v.type.defaultProps),v.props):v.props,x=w.stackId,_=w.hide;if(_)return p;var A=w[n],T=p[A]||{hasStack:!1,stackGroups:{}};if(er(x)){var C=T.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(v),T.hasStack=!0,T.stackGroups[x]=C}else T.stackGroups[Ds("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Mt(Mt({},p),{},Gu({},A,T))},c),d={};return Object.keys(f).reduce(function(p,v){var y=f[v];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,_){var A=y.stackGroups[_];return Mt(Mt({},x),{},Gu({},_,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:TH(e,A.items,o)}))},w)}return Mt(Mt({},p),{},Gu({},v,y))},d)},IL=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=BW(f,o,l);return e.domain([Sg(d),aa(d)]),{niceTicks:d}}if(o&&i==="number"){var p=e.domain(),v=UW(p,o,l);return{niceTicks:v}}return null};function am(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ke(i[e.dataKey])){var l=Mp(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=Ft(i,Ke(s)?e.dataKey:s);return Ke(c)?null:e.scale(c)}var pR=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ft(s,r.dataKey,r.domain[l]);return Ke(c)?null:r.scale(c)-o/2+i},OH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},IH=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(er(o)){var s=r[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},CH=function(e){return e.reduce(function(r,n){return[Sg(n.concat([r[0]]).filter(ge)),aa(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},CL=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,d){var p=CH(d.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,D1=function(e,r,n){if(Fe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ge(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(mR.test(e[0])){var o=+mR.exec(e[0])[1];i[0]=r[0]-o}else Fe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ge(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(gR.test(e[1])){var s=+gR.exec(e[1])[1];i[1]=r[1]+s}else Fe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},sm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=bE(r,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],d=o[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},vR=function(e,r,n){return!e||!e.length||As(e,dn(n,"type.defaultProps.domain"))?r:e},kL=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,f=n.chartType,d=n.hide;return Mt(Mt({},Ne(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:HE(e),value:Ft(r,i),type:c,payload:r,chartType:f,hide:d})};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){RL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RL(t,e,r){return e=kH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kH(t){var e=RH(t,"string");return $f(e)=="symbol"?e:e+""}function RH(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NH(t,e){return LH(t)||DH(t,e)||MH(t,e)||jH()}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MH(t,e){if(t){if(typeof t=="string")return _R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _R(t,e)}}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function LH(t){if(Array.isArray(t))return t}var um=Math.PI/180,$H=function(e){return e*180/Math.PI},xt=function(e,r,n,i){return{x:e+Math.cos(-um*i)*n,y:r+Math.sin(-um*i)*n}},NL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},VH=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.startAngle,f=e.endAngle,d=Fr(e.cx,s,s/2),p=Fr(e.cy,l,l/2),v=NL(s,l,n),y=Fr(e.innerRadius,v,0),w=Fr(e.outerRadius,v,v*.8),x=Object.keys(r);return x.reduce(function(_,A){var T=r[A],C=T.domain,M=T.reversed,I;if(Ke(T.range))i==="angleAxis"?I=[c,f]:i==="radiusAxis"&&(I=[y,w]),M&&(I=[I[1],I[0]]);else{I=T.range;var N=I,P=NH(N,2);c=P[0],f=P[1]}var O=PL(T,o),R=O.realScaleType,F=O.scale;F.domain(C).range(I),OL(F);var D=IL(F,eo(eo({},T),{},{realScaleType:R})),L=eo(eo(eo({},T),D),{},{range:I,radius:w,realScaleType:R,scale:F,cx:d,cy:p,innerRadius:y,outerRadius:w,startAngle:c,endAngle:f});return eo(eo({},_),{},RL({},A,L))},{})},FH=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},BH=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,l=FH({x:n,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(n-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:$H(f),angleInRadian:f}},UH=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},qH=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},bR=function(e,r){var n=e.x,i=e.y,o=BH({x:n,y:i},r),s=o.radius,l=o.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var d=UH(r),p=d.startAngle,v=d.endAngle,y=l,w;if(p<=v){for(;y>v;)y-=360;for(;y<p;)y+=360;w=y>=p&&y<=v}else{for(;y>p;)y-=360;for(;y<v;)y+=360;w=y>=v&&y<=p}return w?eo(eo({},r),{},{radius:s,angle:qH(y,r)}):null},jL=function(e){return!W.isValidElement(e)&&!Fe(e)&&typeof e!="boolean"?e.className:""};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}var zH=["offset"];function WH(t){return XH(t)||GH(t)||KH(t)||HH()}function HH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(t,e){if(t){if(typeof t=="string")return L1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,e)}}function GH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XH(t){if(Array.isArray(t))return L1(t)}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YH(t,e){if(t==null)return{};var r=QH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){JH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JH(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=eK(t,"string");return Vf(e)=="symbol"?e:e+""}function eK(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}var tK=function(e){var r=e.value,n=e.formatter,i=Ke(e.children)?r:e.children;return Fe(n)?n(i):i},rK=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},nK=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,d=c.cy,p=c.innerRadius,v=c.outerRadius,y=c.startAngle,w=c.endAngle,x=c.clockWise,_=(p+v)/2,A=rK(y,w),T=A>=0?1:-1,C,M;i==="insideStart"?(C=y+T*s,M=x):i==="insideEnd"?(C=w-T*s,M=!x):i==="end"&&(C=w+T*s,M=x),M=A<=0?M:!M;var I=xt(f,d,_,C),N=xt(f,d,_,C+(M?1:-1)*359),P="M".concat(I.x,",").concat(I.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(M?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Ke(e.id)?Ds("recharts-radial-line-"):e.id;return z.createElement("text",Ff({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:O,d:P})),z.createElement("textPath",{xlinkHref:"#".concat(O)},r))},iK=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,d=o.startAngle,p=o.endAngle,v=(d+p)/2;if(i==="outside"){var y=xt(s,l,f+n,v),w=y.x,x=y.y;return{x:w,y:x,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+f)/2,A=xt(s,l,_,v),T=A.x,C=A.y;return{x:T,y:C,textAnchor:"middle",verticalAnchor:"middle"}},oK=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,l=s.x,c=s.y,f=s.width,d=s.height,p=d>=0?1:-1,v=p*i,y=p>0?"end":"start",w=p>0?"start":"end",x=f>=0?1:-1,_=x*i,A=x>0?"end":"start",T=x>0?"start":"end";if(o==="top"){var C={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Qt(Qt({},C),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var M={x:l+f/2,y:c+d+v,textAnchor:"middle",verticalAnchor:w};return Qt(Qt({},M),n?{height:Math.max(n.y+n.height-(c+d),0),width:f}:{})}if(o==="left"){var I={x:l-_,y:c+d/2,textAnchor:A,verticalAnchor:"middle"};return Qt(Qt({},I),n?{width:Math.max(I.x-n.x,0),height:d}:{})}if(o==="right"){var N={x:l+f+_,y:c+d/2,textAnchor:T,verticalAnchor:"middle"};return Qt(Qt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var P=n?{width:f,height:d}:{};return o==="insideLeft"?Qt({x:l+_,y:c+d/2,textAnchor:T,verticalAnchor:"middle"},P):o==="insideRight"?Qt({x:l+f-_,y:c+d/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideTop"?Qt({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:w},P):o==="insideBottom"?Qt({x:l+f/2,y:c+d-v,textAnchor:"middle",verticalAnchor:y},P):o==="insideTopLeft"?Qt({x:l+_,y:c+v,textAnchor:T,verticalAnchor:w},P):o==="insideTopRight"?Qt({x:l+f-_,y:c+v,textAnchor:A,verticalAnchor:w},P):o==="insideBottomLeft"?Qt({x:l+_,y:c+d-v,textAnchor:T,verticalAnchor:y},P):o==="insideBottomRight"?Qt({x:l+f-_,y:c+d-v,textAnchor:A,verticalAnchor:y},P):Dl(o)&&(ge(o.x)||fs(o.x))&&(ge(o.y)||fs(o.y))?Qt({x:l+Fr(o.x,f),y:c+Fr(o.y,d),textAnchor:"end",verticalAnchor:"end"},P):Qt({x:l+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},aK=function(e){return"cx"in e&&ge(e.cx)};function fr(t){var e=t.offset,r=e===void 0?5:e,n=YH(t,zH),i=Qt({offset:r},n),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,v=i.textBreakAll;if(!o||Ke(l)&&Ke(c)&&!W.isValidElement(f)&&!Fe(f))return null;if(W.isValidElement(f))return W.cloneElement(f,i);var y;if(Fe(f)){if(y=W.createElement(f,i),W.isValidElement(y))return y}else y=tK(i);var w=aK(o),x=Ne(i,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return nK(i,y,x);var _=w?iK(i):oK(i);return z.createElement(Ss,Ff({className:Xe("recharts-label",p)},x,_,{breakAll:v}),y)}fr.displayName="Label";var ML=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,v=e.y,y=e.top,w=e.left,x=e.width,_=e.height,A=e.clockWise,T=e.labelViewBox;if(T)return T;if(ge(x)&&ge(_)){if(ge(p)&&ge(v))return{x:p,y:v,width:x,height:_};if(ge(y)&&ge(w))return{x:y,y:w,width:x,height:_}}return ge(p)&&ge(v)?{x:p,y:v,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},sK=function(e,r){return e?e===!0?z.createElement(fr,{key:"label-implicit",viewBox:r}):er(e)?z.createElement(fr,{key:"label-implicit",viewBox:r,value:e}):W.isValidElement(e)?e.type===fr?W.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(fr,{key:"label-implicit",content:e,viewBox:r}):Fe(e)?z.createElement(fr,{key:"label-implicit",content:e,viewBox:r}):Dl(e)?z.createElement(fr,Ff({viewBox:r},e,{key:"label-implicit"})):null:null},uK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=ML(e),s=pn(i,fr).map(function(c,f){return W.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return s;var l=sK(e.label,r||o);return[l].concat(WH(s))};fr.parseViewBox=ML;fr.renderCallByParent=uK;var aw,xR;function lK(){if(xR)return aw;xR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return aw=t,aw}var cK=lK();const fK=ft(cK);function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}var hK=["valueAccessor"],dK=["data","dataKey","clockWise","id","textBreakAll"];function pK(t){return yK(t)||vK(t)||gK(t)||mK()}function mK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gK(t,e){if(t){if(typeof t=="string")return $1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(t,e)}}function vK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yK(t){if(Array.isArray(t))return $1(t)}function $1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){_K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _K(t,e,r){return e=bK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bK(t){var e=wK(t,"string");return Bf(e)=="symbol"?e:e+""}function wK(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AR(t,e){if(t==null)return{};var r=xK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var EK=function(e){return Array.isArray(e.value)?fK(e.value):e.value};function Si(t){var e=t.valueAccessor,r=e===void 0?EK:e,n=AR(t,hK),i=n.data,o=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,f=AR(n,dK);return!i||!i.length?null:z.createElement(Ze,{className:"recharts-label-list"},i.map(function(d,p){var v=Ke(o)?r(d,p):Ft(d&&d.payload,o),y=Ke(l)?{}:{id:"".concat(l,"-").concat(p)};return z.createElement(fr,lm({},Ne(d,!0),f,y,{parentViewBox:d.parentViewBox,value:v,textBreakAll:c,viewBox:fr.parseViewBox(Ke(s)?d:SR(SR({},d),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Si.displayName="LabelList";function SK(t,e){return t?t===!0?z.createElement(Si,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Fe(t)?z.createElement(Si,{key:"labelList-implicit",data:e,content:t}):Dl(t)?z.createElement(Si,lm({data:e},t,{key:"labelList-implicit"})):null:null}function AK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=pn(n,Si).map(function(s,l){return W.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var o=SK(t.label,e);return[o].concat(pK(i))}Si.renderCallByParent=AK;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V1.apply(this,arguments)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){TK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TK(t,e,r){return e=PK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PK(t){var e=OK(t,"string");return Uf(e)=="symbol"?e:e+""}function OK(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IK=function(e,r){var n=Vr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},up=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(l?1:-1)+i,p=Math.asin(c/d)/um,v=f?o:o+s*p,y=xt(r,n,d,v),w=xt(r,n,i,v),x=f?o-s*p:o,_=xt(r,n,d*Math.cos(p*um),x);return{center:y,circleTangency:w,lineTangency:_,theta:p}},DL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=IK(s,l),f=s+c,d=xt(r,n,o,s),p=xt(r,n,o,f),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=xt(r,n,i,s),w=xt(r,n,i,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},CK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=Vr(d-f),v=up({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,x=v.theta,_=up({cx:r,cy:n,radius:o,angle:d,sign:-p,cornerRadius:s,cornerIsExternal:c}),A=_.circleTangency,T=_.lineTangency,C=_.theta,M=c?Math.abs(f-d):Math.abs(f-d)-x-C;if(M<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):DL({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d});var I="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var N=up({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=N.circleTangency,O=N.lineTangency,R=N.theta,F=up({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=F.circleTangency,L=F.lineTangency,j=F.theta,J=c?Math.abs(f-d):Math.abs(f-d)-R-j;if(J<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},kK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LL=function(e){var r=PR(PR({},kK),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,d=r.startAngle,p=r.endAngle,v=r.className;if(s<o||d===p)return null;var y=Xe("recharts-sector",v),w=s-o,x=Fr(l,w,0,!0),_;return x>0&&Math.abs(d-p)<360?_=CK({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):_=DL({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:p}),z.createElement("path",V1({},Ne(r,!0),{className:y,d:_,role:"img"}))};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){RK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RK(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=jK(t,"string");return qf(e)=="symbol"?e:e+""}function jK(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CR={curveBasisClosed:e5,curveBasisOpen:t5,curveBasis:ZU,curveBumpX:VU,curveBumpY:FU,curveLinearClosed:r5,curveLinear:fg,curveMonotoneX:n5,curveMonotoneY:i5,curveNatural:o5,curveStep:a5,curveStepAfter:u5,curveStepBefore:s5},lp=function(e){return e.x===+e.x&&e.y===+e.y},Gc=function(e){return e.x},Xc=function(e){return e.y},MK=function(e,r){if(Fe(e))return e;var n="curve".concat(lg(e));return(n==="curveMonotone"||n==="curveBump")&&r?CR["".concat(n).concat(r==="vertical"?"Y":"X")]:CR[n]||fg},DK=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=MK(n,l),p=f?o.filter(function(x){return lp(x)}):o,v;if(Array.isArray(s)){var y=f?s.filter(function(x){return lp(x)}):s,w=p.map(function(x,_){return IR(IR({},x),{},{base:y[_]})});return l==="vertical"?v=Zd().y(Xc).x1(Gc).x0(function(x){return x.base.x}):v=Zd().x(Gc).y1(Xc).y0(function(x){return x.base.y}),v.defined(lp).curve(d),v(w)}return l==="vertical"&&ge(s)?v=Zd().y(Xc).x1(Gc).x0(s):ge(s)?v=Zd().x(Gc).y1(Xc).y0(s):v=MM().x(Gc).y(Xc),v.defined(lp).curve(d),v(p)},bs=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?DK(e):i;return z.createElement("path",F1({},Ne(e,!1),Dp(e),{className:Xe("recharts-curve",r),d:s,ref:o}))},sw={exports:{}},uw,kR;function LK(){if(kR)return uw;kR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uw=t,uw}var lw,RR;function $K(){if(RR)return lw;RR=1;var t=LK();function e(){}function r(){}return r.resetWarningCache=e,lw=function(){function n(s,l,c,f,d,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},lw}var NR;function VK(){return NR||(NR=1,sw.exports=$K()()),sw.exports}var FK=VK();const lt=ft(FK);var BK=Object.getOwnPropertyNames,UK=Object.getOwnPropertySymbols,qK=Object.prototype.hasOwnProperty;function jR(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function cp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var c=t(r,n,i);return o.delete(r),o.delete(n),c}}function MR(t){return BK(t).concat(UK(t))}var zK=Object.hasOwn||function(t,e){return qK.call(t,e)};function Vs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var WK="__v",HK="__o",KK="_owner",DR=Object.getOwnPropertyDescriptor,LR=Object.keys;function GK(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function XK(t,e){return Vs(t.getTime(),e.getTime())}function YK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function QK(t,e){return t===e}function $R(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var f=e.entries(),d=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=s.value,y=l.value;if(r.equals(v[0],y[0],c,p,t,e,r)&&r.equals(v[1],y[1],v[0],y[0],t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}var JK=Vs;function ZK(t,e,r){var n=LR(t),i=n.length;if(LR(e).length!==i)return!1;for(;i-- >0;)if(!$L(t,e,r,n[i]))return!1;return!0}function Yc(t,e,r){var n=MR(t),i=n.length;if(MR(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=n[i],!$L(t,e,r,o)||(s=DR(t,o),l=DR(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function eG(t,e){return Vs(t.valueOf(),e.valueOf())}function tG(t,e){return t.source===e.source&&t.flags===e.flags}function VR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),s,l;(s=o.next())&&!s.done;){for(var c=e.values(),f=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function rG(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function nG(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $L(t,e,r,n){return(n===KK||n===HK||n===WK)&&(t.$$typeof||e.$$typeof)?!0:zK(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var iG="[object Arguments]",oG="[object Boolean]",aG="[object Date]",sG="[object Error]",uG="[object Map]",lG="[object Number]",cG="[object Object]",fG="[object RegExp]",hG="[object Set]",dG="[object String]",pG="[object URL]",mG=Array.isArray,FR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BR=Object.assign,gG=Object.prototype.toString.call.bind(Object.prototype.toString);function vG(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,d=t.areSetsEqual,p=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(w,x,_){if(w===x)return!0;if(w==null||x==null)return!1;var A=typeof w;if(A!==typeof x)return!1;if(A!=="object")return A==="number"?s(w,x,_):A==="function"?i(w,x,_):!1;var T=w.constructor;if(T!==x.constructor)return!1;if(T===Object)return l(w,x,_);if(mG(w))return e(w,x,_);if(FR!=null&&FR(w))return p(w,x,_);if(T===Date)return r(w,x,_);if(T===RegExp)return f(w,x,_);if(T===Map)return o(w,x,_);if(T===Set)return d(w,x,_);var C=gG(w);return C===aG?r(w,x,_):C===fG?f(w,x,_):C===uG?o(w,x,_):C===hG?d(w,x,_):C===cG?typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,_):C===pG?v(w,x,_):C===sG?n(w,x,_):C===iG?l(w,x,_):C===oG||C===lG||C===dG?c(w,x,_):!1}}function yG(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Yc:GK,areDatesEqual:XK,areErrorsEqual:YK,areFunctionsEqual:QK,areMapsEqual:n?jR($R,Yc):$R,areNumbersEqual:JK,areObjectsEqual:n?Yc:ZK,arePrimitiveWrappersEqual:eG,areRegExpsEqual:tG,areSetsEqual:n?jR(VR,Yc):VR,areTypedArraysEqual:n?Yc:rG,areUrlsEqual:nG};if(r&&(i=BR({},i,r(i))),e){var o=cp(i.areArraysEqual),s=cp(i.areMapsEqual),l=cp(i.areObjectsEqual),c=cp(i.areSetsEqual);i=BR({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function _G(t){return function(e,r,n,i,o,s,l){return t(e,r,l)}}function bG(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(c,f){var d=n(),p=d.cache,v=p===void 0?e?new WeakMap:void 0:p,y=d.meta;return r(c,f,{cache:v,equals:i,meta:y,strict:o})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return r(c,f,s)}}var wG=Oa();Oa({strict:!0});Oa({circular:!0});Oa({circular:!0,strict:!0});Oa({createInternalComparator:function(){return Vs}});Oa({strict:!0,createInternalComparator:function(){return Vs}});Oa({circular:!0,createInternalComparator:function(){return Vs}});Oa({circular:!0,createInternalComparator:function(){return Vs},strict:!0});function Oa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=yG(t),c=vG(l),f=n?n(c):_G(c);return bG({circular:r,comparator:c,createState:i,equals:f,strict:s})}function xG(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function UR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):xG(i)};requestAnimationFrame(n)}function B1(t){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B1(t)}function EG(t){return PG(t)||TG(t)||AG(t)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AG(t,e){if(t){if(typeof t=="string")return qR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PG(t){if(Array.isArray(t))return t}function OG(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=EG(s),c=l[0],f=l.slice(1);if(typeof c=="number"){UR(i.bind(null,f),c);return}i(c),UR(i.bind(null,f));return}B1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){VL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VL(t,e,r){return e=IG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IG(t){var e=CG(t,"string");return zf(e)==="symbol"?e:String(e)}function CG(t,e){if(zf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kG=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},RG=function(e){return e},NG=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ff=function(e,r){return Object.keys(r).reduce(function(n,i){return WR(WR({},n),{},VL({},i,e(i,r[i])))},{})},HR=function(e,r,n){return e.map(function(i){return"".concat(NG(i)," ").concat(r,"ms ").concat(n)}).join(",")};function jG(t,e){return LG(t)||DG(t,e)||FL(t,e)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function LG(t){if(Array.isArray(t))return t}function $G(t){return BG(t)||FG(t)||FL(t)||VG()}function VG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FL(t,e){if(t){if(typeof t=="string")return U1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U1(t,e)}}function FG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BG(t){if(Array.isArray(t))return U1(t)}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cm=1e-4,BL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},UL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},KR=function(e,r){return function(n){var i=BL(e,r);return UL(i,n)}},UG=function(e,r){return function(n){var i=BL(e,r),o=[].concat($G(i.map(function(s,l){return s*l}).slice(1)),[0]);return UL(o,n)}},GR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=jG(f,4);i=d[0],o=d[1],s=d[2],l=d[3]}}}var p=KR(i,s),v=KR(o,l),y=UG(i,s),w=function(A){return A>1?1:A<0?0:A},x=function(A){for(var T=A>1?1:A,C=T,M=0;M<8;++M){var I=p(C)-T,N=y(C);if(Math.abs(I-T)<cm||N<cm)return v(C);C=w(C-I/N)}return v(C)};return x.isStepper=!1,x},qG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,p,v){var y=-(d-p)*n,w=v*o,x=v+(y-w)*l/1e3,_=v*l/1e3+d;return Math.abs(_-p)<cm&&Math.abs(x)<cm?[p,0]:[_,x]};return c.isStepper=!0,c.dt=l,c},zG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GR(i);case"spring":return qG();default:if(i.split("(")[0]==="cubic-bezier")return GR(i)}return typeof i=="function"?i:null};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function XR(t){return KG(t)||HG(t)||qL(t)||WG()}function WG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KG(t){if(Array.isArray(t))return z1(t)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){q1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q1(t,e,r){return e=GG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GG(t){var e=XG(t,"string");return Wf(e)==="symbol"?e:String(e)}function XG(t,e){if(Wf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YG(t,e){return ZG(t)||JG(t,e)||qL(t,e)||QG()}function QG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qL(t,e){if(t){if(typeof t=="string")return z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(t,e)}}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ZG(t){if(Array.isArray(t))return t}var fm=function(e,r,n){return e+(r-e)*n},W1=function(e){var r=e.from,n=e.to;return r!==n},eX=function t(e,r,n){var i=ff(function(o,s){if(W1(s)){var l=e(s.from,s.to,s.velocity),c=YG(l,2),f=c[0],d=c[1];return _r(_r({},s),{},{from:f,velocity:d})}return s},r);return n<1?ff(function(o,s){return W1(s)?_r(_r({},s),{},{velocity:fm(s.velocity,i[o].velocity,n),from:fm(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const tX=function(t,e,r,n,i){var o=kG(t,e),s=o.reduce(function(_,A){return _r(_r({},_),{},q1({},A,[t[A],e[A]]))},{}),l=o.reduce(function(_,A){return _r(_r({},_),{},q1({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,f,d,p=function(){return null},v=function(){return ff(function(A,T){return T.from},l)},y=function(){return!Object.values(l).filter(W1).length},w=function(A){f||(f=A);var T=A-f,C=T/r.dt;l=eX(r,l,C),i(_r(_r(_r({},t),e),v())),f=A,y()||(c=requestAnimationFrame(p))},x=function(A){d||(d=A);var T=(A-d)/n,C=ff(function(I,N){return fm.apply(void 0,XR(N).concat([r(T)]))},s);if(i(_r(_r(_r({},t),e),C)),T<1)c=requestAnimationFrame(p);else{var M=ff(function(I,N){return fm.apply(void 0,XR(N).concat([r(1)]))},s);i(_r(_r(_r({},t),e),M))}};return p=r.isStepper?w:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}var rX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nX(t,e){if(t==null)return{};var r=iX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iX(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cw(t){return uX(t)||sX(t)||aX(t)||oX()}function oX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aX(t,e){if(t){if(typeof t=="string")return H1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(t,e)}}function sX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uX(t){if(Array.isArray(t))return H1(t)}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){tf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tf(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function fX(t,e,r){return e&&cX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zL(t){var e=hX(t,"string");return ul(e)==="symbol"?e:String(e)}function hX(t,e){if(ul(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K1(t,e)}function pX(t){var e=mX();return function(){var n=hm(t),i;if(e){var o=hm(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return G1(this,i)}}function G1(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1(t)}function X1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}var oi=function(t){dX(r,t);var e=pX(r);function r(n,i){var o;lX(this,r),o=e.call(this,n,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,d=s.to,p=s.steps,v=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(X1(o)),o.changeStyle=o.changeStyle.bind(X1(o)),!l||y<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:d}),G1(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},G1(o);o.state={style:c?tf({},c,f):f}}else o.state={style:{}};return o}return fX(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,d=o.to,p=o.from,v=this.state.style;if(l){if(!s){var y={style:c?tf({},c,d):d};this.state&&v&&(c&&v[c]!==d||!c&&v!==d)&&this.setState(y);return}if(!(wG(i.to,d)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?p:i.to;if(this.state&&v){var _={style:c?tf({},c,x):x};(c&&v[c]!==x||!c&&v!==x)&&this.setState(_)}this.runAnimation(Qn(Qn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,y=tX(s,l,zG(f),c,this.changeStyle),w=function(){o.stopJSAnimation=y()};this.manager.start([v,d,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],d=f.style,p=f.duration,v=p===void 0?0:p,y=function(x,_,A){if(A===0)return x;var T=_.duration,C=_.easing,M=C===void 0?"ease":C,I=_.style,N=_.properties,P=_.onAnimationEnd,O=A>0?s[A-1]:_,R=N||Object.keys(I);if(typeof M=="function"||M==="spring")return[].concat(cw(x),[o.runJSAnimation.bind(o,{from:O.style,to:I,duration:T,easing:M}),T]);var F=HR(R,T,M),D=Qn(Qn(Qn({},O.style),I),{},{transition:F});return[].concat(cw(x),[D,T,P]).filter(RG)};return this.manager.start([c].concat(cw(s.reduce(y,[d,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=OG());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,y=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var x=l?tf({},l,c):c,_=HR(Object.keys(x),s,f);w.start([d,o,Qn(Qn({},x),{},{transition:_}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=nX(i,rX),f=W.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||f===0||s<=0)return o;var p=function(y){var w=y.props,x=w.style,_=x===void 0?{}:x,A=w.className,T=W.cloneElement(y,Qn(Qn({},c),{},{style:Qn(Qn({},_),d),className:A}));return T};return f===1?p(W.Children.only(o)):z.createElement("div",null,W.Children.map(o,function(v){return p(v)}))}}]),r}(W.PureComponent);oi.displayName="Animate";oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oi.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function gX(t,e){return bX(t)||_X(t,e)||yX(t,e)||vX()}function vX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(t,e){if(t){if(typeof t=="string")return JR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JR(t,e)}}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _X(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function bX(t){if(Array.isArray(t))return t}function ZR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(r),!0).forEach(function(n){wX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wX(t,e,r){return e=xX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xX(t){var e=EX(t,"string");return Hf(e)=="symbol"?e:e+""}function EX(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t2=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=o[v]>s?s:o[v];d="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),d+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*p[1])),d+="L ".concat(e+n,",").concat(r+i-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),d+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*p[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var w=Math.min(s,o);d="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*w," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},SX=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),d=Math.max(o,o+l),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=d&&i>=p&&i<=v}return!1},AX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KE=function(e){var r=e2(e2({},AX),e),n=W.useRef(),i=W.useState(-1),o=gX(i,2),s=o[0],l=o[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var c=r.x,f=r.y,d=r.width,p=r.height,v=r.radius,y=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,A=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var C=Xe("recharts-rectangle",y);return T?z.createElement(oi,{canBegin:s>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:x,animationEasing:w,isActive:T},function(M){var I=M.width,N=M.height,P=M.x,O=M.y;return z.createElement(oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:A,easing:w},z.createElement("path",dm({},Ne(r,!0),{className:C,d:t2(P,O,I,N,v),ref:n})))}):z.createElement("path",dm({},Ne(r,!0),{className:C,d:t2(c,f,d,p,v)}))},TX=["points","className","baseLinePoints","connectNulls"];function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bu.apply(this,arguments)}function PX(t,e){if(t==null)return{};var r=OX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r2(t){return RX(t)||kX(t)||CX(t)||IX()}function IX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CX(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function kX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RX(t){if(Array.isArray(t))return Y1(t)}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var n2=function(e){return e&&e.x===+e.x&&e.y===+e.y},NX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){n2(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),n2(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hf=function(e,r){var n=NX(e);r&&(n=[n.reduce(function(o,s){return[].concat(r2(o),r2(s))},[])]);var i=n.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},jX=function(e,r,n){var i=hf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hf(r.reverse(),n).slice(1))},MX=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,s=PX(e,TX);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=jX(r,i,o);return z.createElement("g",{className:l},z.createElement("path",Bu({},Ne(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?z.createElement("path",Bu({},Ne(s,!0),{fill:"none",d:hf(r,o)})):null,c?z.createElement("path",Bu({},Ne(s,!0),{fill:"none",d:hf(i,o)})):null)}var d=hf(r,o);return z.createElement("path",Bu({},Ne(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q1.apply(this,arguments)}var Ah=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=Xe("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",Q1({},Ne(e,!1),Dp(e),{className:s,cx:r,cy:n,r:i})):null};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var DX=["x","y","top","left","width","height","className"];function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(this,arguments)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){$X(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $X(t,e,r){return e=VX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VX(t){var e=FX(t,"string");return Kf(e)=="symbol"?e:e+""}function FX(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BX(t,e){if(t==null)return{};var r=UX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qX=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},zX=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,v=e.height,y=v===void 0?0:v,w=e.className,x=BX(e,DX),_=LX({x:n,y:o,top:l,left:f,width:p,height:y},x);return!ge(n)||!ge(o)||!ge(p)||!ge(y)||!ge(l)||!ge(f)?null:z.createElement("path",J1({},Ne(_,!0),{className:Xe("recharts-cross",w),d:qX(n,o,p,y,l,f)}))},fw,o2;function WX(){if(o2)return fw;o2=1;var t=Eg(),e=oL(),r=Di();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return fw=n,fw}var HX=WX();const KX=ft(HX);var hw,a2;function GX(){if(a2)return hw;a2=1;var t=Eg(),e=Di(),r=aL();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return hw=n,hw}var XX=GX();const YX=ft(XX);var QX=["cx","cy","angle","ticks","axisLine"],JX=["ticks","tick","angle","tickFormatter","stroke"];function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}function s2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(r),!0).forEach(function(n){Pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u2(t,e){if(t==null)return{};var r=ZX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HL(n.key),n)}}function tY(t,e,r){return e&&l2(t.prototype,e),r&&l2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rY(t,e,r){return e=pm(e),nY(t,WL()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function nY(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(t)}function iY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function oY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z1(t,e)}function Z1(t,e){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z1(t,e)}function Pg(t,e,r){return e=HL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t){var e=aY(t,"string");return ll(e)=="symbol"?e:e+""}function aY(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Og=function(t){function e(){return eY(this,e),rY(this,e,arguments)}return oY(e,t),tY(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return xt(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=KX(l,function(d){return d.coordinate||0}),f=YX(l,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,f=u2(n,QX),d=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),p=xt(i,o,d[0],s),v=xt(i,o,d[1],s),y=os(os(os({},Ne(f,!1)),{},{fill:"none"},Ne(c,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return z.createElement("line",df({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,d=u2(i,JX),p=this.getTickTextAnchor(),v=Ne(d,!1),y=Ne(s,!1),w=o.map(function(x,_){var A=n.getTickValueCoord(x),T=os(os(os(os({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:f},y),{},{index:_},A),{},{payload:x});return z.createElement(Ze,df({className:Xe("recharts-polar-radius-axis-tick",jL(s)),key:"tick-".concat(x.coordinate)},Es(n.props,x,_)),e.renderTickItem(s,T,c?c(x.value,_):x.value))});return z.createElement(Ze,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(Ze,{className:Xe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),fr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Fe(n)?s=n(i):s=z.createElement(Ss,df({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(W.PureComponent);Pg(Og,"displayName","PolarRadiusAxis");Pg(Og,"axisType","radiusAxis");Pg(Og,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs.apply(this,arguments)}function c2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function as(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(r),!0).forEach(function(n){Ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function uY(t,e,r){return e&&f2(t.prototype,e),r&&f2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lY(t,e,r){return e=mm(e),cY(t,KL()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function cY(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(t)}function fY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function hY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function Ig(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=dY(t,"string");return cl(e)=="symbol"?e:e+""}function dY(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pY=Math.PI/180,mY=1e-5,Cg=function(t){function e(){return sY(this,e),lY(this,e,arguments)}return hY(e,t),uY(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,s=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,d=f||8,p=xt(o,s,l,n.coordinate),v=xt(o,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*pY),s;return o>mY?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,f=as(as({},Ne(this.props,!1)),{},{fill:"none"},Ne(l,!1));if(c==="circle")return z.createElement(Ah,cs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:s}));var d=this.props.ticks,p=d.map(function(v){return xt(i,o,s,v.coordinate)});return z.createElement(MX,cs({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,d=Ne(this.props,!1),p=Ne(s,!1),v=as(as({},d),{},{fill:"none"},Ne(l,!1)),y=o.map(function(w,x){var _=n.getTickLineCoord(w),A=n.getTickTextAnchor(w),T=as(as(as({textAnchor:A},d),{},{stroke:"none",fill:f},p),{},{index:x,payload:w,x:_.x2,y:_.y2});return z.createElement(Ze,cs({className:Xe("recharts-polar-angle-axis-tick",jL(s)),key:"tick-".concat(w.coordinate)},Es(n.props,w,x)),l&&z.createElement("line",cs({className:"recharts-polar-angle-axis-tick-line"},v,_)),s&&e.renderTickItem(s,T,c?c(w.value,x):w.value))});return z.createElement(Ze,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!i||!i.length?null:z.createElement(Ze,{className:Xe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Fe(n)?s=n(i):s=z.createElement(Ss,cs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(W.PureComponent);Ig(Cg,"displayName","PolarAngleAxis");Ig(Cg,"axisType","angleAxis");Ig(Cg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dw,h2;function gY(){if(h2)return dw;h2=1;var t=iD(),e=t(Object.getPrototypeOf,Object);return dw=e,dw}var pw,d2;function vY(){if(d2)return pw;d2=1;var t=wo(),e=gY(),r=xo(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(d){if(!r(d)||t(d)!=n)return!1;var p=e(d);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return pw=f,pw}var yY=vY();const _Y=ft(yY);var mw,p2;function bY(){if(p2)return mw;p2=1;var t=wo(),e=xo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return mw=n,mw}var wY=bY();const xY=ft(wY);function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function EY(t,e){return PY(t)||TY(t,e)||AY(t,e)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function PY(t){if(Array.isArray(t))return t}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){OY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OY(t,e,r){return e=IY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IY(t){var e=CY(t,"string");return Gf(e)=="symbol"?e:e+""}function CY(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2=function(e,r,n,i,o){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+o),l+="L ".concat(e+n-s/2-i,",").concat(r+o),l+="L ".concat(e,",").concat(r," Z"),l},kY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RY=function(e){var r=v2(v2({},kY),e),n=W.useRef(),i=W.useState(-1),o=EY(i,2),s=o[0],l=o[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,f=r.y,d=r.upperWidth,p=r.lowerWidth,v=r.height,y=r.className,w=r.animationEasing,x=r.animationDuration,_=r.animationBegin,A=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||v!==+v||d===0&&p===0||v===0)return null;var T=Xe("recharts-trapezoid",y);return A?z.createElement(oi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:v,x:c,y:f},duration:x,animationEasing:w,isActive:A},function(C){var M=C.upperWidth,I=C.lowerWidth,N=C.height,P=C.x,O=C.y;return z.createElement(oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:w},z.createElement("path",gm({},Ne(r,!0),{className:T,d:y2(P,O,M,I,N),ref:n})))}):z.createElement("g",null,z.createElement("path",gm({},Ne(r,!0),{className:T,d:y2(c,f,d,p,v)})))},NY=["option","shapeType","propTransformer","activeClassName","isActive"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function jY(t,e){if(t==null)return{};var r=MY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){DY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DY(t,e,r){return e=LY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LY(t){var e=$Y(t,"string");return Xf(e)=="symbol"?e:e+""}function $Y(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VY(t,e){return vm(vm({},e),t)}function FY(t,e){return t==="symbols"}function b2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(KE,r);case"trapezoid":return z.createElement(RY,r);case"sector":return z.createElement(LL,r);case"symbols":if(FY(e))return z.createElement(hE,r);break;default:return null}}function BY(t){return W.isValidElement(t)?t.props:t}function XL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?VY:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=jY(t,NY),f;if(W.isValidElement(e))f=W.cloneElement(e,vm(vm({},c),BY(e)));else if(Fe(e))f=e(c);else if(_Y(e)&&!xY(e)){var d=i(e,c);f=z.createElement(b2,{shapeType:r,elementProps:d})}else{var p=c;f=z.createElement(b2,{shapeType:r,elementProps:p})}return l?z.createElement(Ze,{className:s},f):f}function kg(t,e){return e!=null&&"trapezoids"in t.props}function Rg(t,e){return e!=null&&"sectors"in t.props}function Yf(t,e){return e!=null&&"points"in t.props}function UY(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function qY(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zY(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function WY(t,e){var r;return kg(t,e)?r=UY:Rg(t,e)?r=qY:Yf(t,e)&&(r=zY),r}function HY(t,e){var r;return kg(t,e)?r="trapezoids":Rg(t,e)?r="sectors":Yf(t,e)&&(r="points"),r}function KY(t,e){if(kg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yf(t,e)?e.payload:{}}function GY(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=HY(r,e),o=KY(r,e),s=n.filter(function(c,f){var d=As(o,c),p=r.props[i].filter(function(w){var x=WY(r,e);return x(w,e)}),v=r.props[i].indexOf(p[p.length-1]),y=f===v;return d&&y}),l=n.indexOf(s[s.length-1]);return l}var wp;function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uu.apply(this,arguments)}function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){On(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function YY(t,e,r){return e&&x2(t.prototype,e),r&&x2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function QY(t,e,r){return e=ym(e),JY(t,YL()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function JY(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZY(t)}function ZY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function eQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tx(t,e)}function On(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=tQ(t,"string");return fl(e)=="symbol"?e:e+""}function tQ(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var So=function(t){function e(r){var n;return XY(this,e),n=QY(this,e,[r]),On(n,"pieRef",null),On(n,"sectorRefs",[]),On(n,"id",Ds("recharts-pie-")),On(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(i)&&i()}),On(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return eQ(e,t),YY(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,c=o.dataKey,f=o.valueKey,d=Ne(this.props,!1),p=Ne(s,!1),v=Ne(l,!1),y=s&&s.offsetRadius||20,w=n.map(function(x,_){var A=(x.startAngle+x.endAngle)/2,T=xt(x.cx,x.cy,x.outerRadius+y,A),C=bt(bt(bt(bt({},d),x),{},{stroke:"none"},p),{},{index:_,textAnchor:e.getTextAnchor(T.x,x.cx)},T),M=bt(bt(bt(bt({},d),x),{},{fill:"none",stroke:x.fill},v),{},{index:_,points:[xt(x.cx,x.cy,x.outerRadius,A),T]}),I=c;return Ke(c)&&Ke(f)?I="value":Ke(c)&&(I=f),z.createElement(Ze,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},l&&e.renderLabelLineItem(l,M,"line"),e.renderLabelItem(s,C,Ft(x,I)))});return z.createElement(Ze,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(f,d){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(d),v=c&&i.hasActiveIndex()?c:null,y=p?s:v,w=bt(bt({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return z.createElement(Ze,Uu({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Es(i.props,f,d),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(d)}),z.createElement(XL,Uu({option:y,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state,v=p.prevSectors,y=p.prevIsAnimationActive;return z.createElement(oi,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,_=[],A=o&&o[0],T=A.startAngle;return o.forEach(function(C,M){var I=v&&v[M],N=M>0?dn(C,"paddingAngle",0):0;if(I){var P=Jt(I.endAngle-I.startAngle,C.endAngle-C.startAngle),O=bt(bt({},C),{},{startAngle:T+N,endAngle:T+P(x)+N});_.push(O),T=O.endAngle}else{var R=C.endAngle,F=C.startAngle,D=Jt(0,R-F),L=D(x),j=bt(bt({},C),{},{startAngle:T+N,endAngle:T+L+N});_.push(j),T=j.endAngle}}),z.createElement(Ze,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!As(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,c=i.label,f=i.cx,d=i.cy,p=i.innerRadius,v=i.outerRadius,y=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!s||!s.length||!ge(f)||!ge(d)||!ge(p)||!ge(v))return null;var x=Xe("recharts-pie",l);return z.createElement(Ze,{tabIndex:this.props.rootTabIndex,className:x,ref:function(A){n.pieRef=A}},this.renderSectors(),c&&this.renderLabels(s),fr.renderCallByParent(this.props,null,!1),(!y||w)&&Si.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(z.isValidElement(n))return z.cloneElement(n,i);if(Fe(n))return n(i);var s=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(bs,Uu({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,o){if(z.isValidElement(n))return z.cloneElement(n,i);var s=o;if(Fe(n)&&(s=n(i),z.isValidElement(s)))return s;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!Fe(n)?n.className:"");return z.createElement(Ss,Uu({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(W.PureComponent);wp=So;On(So,"displayName","Pie");On(So,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Aa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});On(So,"parseDeltaAngle",function(t,e){var r=Vr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});On(So,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ne(t,!1),i=pn(r,gg);return e&&e.length?e.map(function(o,s){return bt(bt(bt({payload:o},n),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return bt(bt({},n),o.props)}):[]});On(So,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,s=NL(i,o),l=n+Fr(t.cx,i,i/2),c=r+Fr(t.cy,o,o/2),f=Fr(t.innerRadius,s,0),d=Fr(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:d,maxRadius:p}});On(So,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?bt(bt({},e.type.defaultProps),e.props):e.props,i=wp.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,f=n.dataKey,d=n.nameKey,p=n.valueKey,v=n.tooltipType,y=Math.abs(n.minAngle),w=wp.parseCoordinateOfPie(n,r),x=wp.parseDeltaAngle(s,l),_=Math.abs(x),A=f;Ke(f)&&Ke(p)?(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):Ke(f)&&(ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=p);var T=i.filter(function(O){return Ft(O,A,0)!==0}).length,C=(_>=360?T:T-1)*c,M=_-T*y-C,I=i.reduce(function(O,R){var F=Ft(R,A,0);return O+(ge(F)?F:0)},0),N;if(I>0){var P;N=i.map(function(O,R){var F=Ft(O,A,0),D=Ft(O,d,R),L=(ge(F)?F:0)/I,j;R?j=P.endAngle+Vr(x)*c*(F!==0?1:0):j=s;var J=j+Vr(x)*((F!==0?y:0)+L*M),Z=(j+J)/2,re=(w.innerRadius+w.outerRadius)/2,G=[{name:D,value:F,payload:O,dataKey:A,type:v}],H=xt(w.cx,w.cy,re,Z);return P=bt(bt(bt({percent:L,cornerRadius:o,name:D,tooltipPayload:G,midAngle:Z,middleRadius:re,tooltipPosition:H},O),w),{},{value:Ft(O,A),startAngle:j,endAngle:J,payload:O,paddingAngle:Vr(x)*c}),P})}return bt(bt({},w),{},{sectors:N,data:i})});var gw,E2;function rQ(){if(E2)return gw;E2=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var l=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=n,n+=o;return f}return gw=r,gw}var vw,S2;function JL(){if(S2)return vw;S2=1;var t=bD(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*r}return i===i?i:0}return vw=n,vw}var yw,A2;function nQ(){if(A2)return yw;A2=1;var t=rQ(),e=mg(),r=JL();function n(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),l=l===void 0?o<s?1:-1:r(l),t(o,s,l,i)}}return yw=n,yw}var _w,T2;function iQ(){if(T2)return _w;T2=1;var t=nQ(),e=t();return _w=e,_w}var oQ=iQ();const _m=ft(oQ);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){ZL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZL(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=sQ(t,"string");return Qf(e)=="symbol"?e:e+""}function sQ(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uQ=["Webkit","Moz","O","ms"],lQ=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=uQ.reduce(function(o,s){return O2(O2({},o),{},ZL({},s+n,r))},{});return i[e]=r,i};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(this,arguments)}function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function fQ(t,e,r){return e&&C2(t.prototype,e),r&&C2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,r){return e=wm(e),dQ(t,e$()?Reflect.construct(e,r||[],wm(t).constructor):e.apply(t,r))}function dQ(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pQ(t)}function pQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(t)}function mQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function ln(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=gQ(t,"string");return hl(e)=="symbol"?e:e+""}function gQ(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vQ=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=lf().domain(_m(0,c)).range([o,o+s-l]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:d}},k2=function(e){return e.changedTouches&&!!e.changedTouches.length},dl=function(t){function e(r){var n;return cQ(this,e),n=hQ(this,e,[r]),ln(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ln(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ln(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),ln(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ln(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ln(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ln(n,"handleSlideDragStart",function(i){var o=k2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mQ(e,t),fQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,d=f.length-1,p=Math.min(i,o),v=Math.max(i,o),y=e.getIndexInRange(s,p),w=e.getIndexInRange(s,v);return{startIndex:y-y%c,endIndex:w===d?d:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Ft(o[n],l,n);return Fe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,v=c.startIndex,y=c.endIndex,w=c.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+d-p-l,f+d-p-s):x<0&&(x=Math.max(x,f-s,f-l));var _=this.getIndex({startX:s+x,endX:l+x});(_.startIndex!==v||_.endIndex!==y)&&w&&w(_),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=k2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],d=this.props,p=d.x,v=d.width,y=d.travellerWidth,w=d.onChange,x=d.gap,_=d.data,A={startX:this.state.startX,endX:this.state.endX},T=n.pageX-o;T>0?T=Math.min(T,p+v-y-f):T<0&&(T=Math.max(T,p-f)),A[s]=f+T;var C=this.getIndex(A),M=C.startIndex,I=C.endIndex,N=function(){var O=_.length-1;return s==="startX"&&(l>c?M%x===0:I%x===0)||l<c&&I===O||s==="endX"&&(l>c?I%x===0:M%x===0)||l>c&&I===O};this.setState(ln(ln({},s,f+T),"brushMoveStartX",n.pageX),function(){w&&N()&&w(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,d=this.state[i],p=l.indexOf(d);if(p!==-1){var v=p+n;if(!(v===-1||v>=l.length)){var y=l[v];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(ln({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.data,f=n.children,d=n.padding,p=W.Children.only(f);return p?z.cloneElement(p,{x:i,y:o,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,l=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,v=c.traveller,y=c.ariaLabel,w=c.data,x=c.startIndex,_=c.endIndex,A=Math.max(n,this.props.x),T=bw(bw({},Ne(this.props,!1)),{},{x:A,y:f,width:d,height:p}),C=y||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=w[_])===null||s===void 0?void 0:s.name);return z.createElement(Ze,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,T))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,d=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,f=n.stroke,d=this.state,p=d.startX,v=d.endX,y=5,w={pointerEvents:"none",fill:f};return z.createElement(Ze,{className:"recharts-brush-texts"},z.createElement(Ss,bm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-y,y:s+l/2},w),this.getTextOfTick(i)),z.createElement(Ss,bm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+y,y:s+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,l=n.x,c=n.y,f=n.width,d=n.height,p=n.alwaysShowText,v=this.state,y=v.startX,w=v.endX,x=v.isTextActive,_=v.isSlideMoving,A=v.isTravellerMoving,T=v.isTravellerFocused;if(!i||!i.length||!ge(l)||!ge(c)||!ge(f)||!ge(d)||f<=0||d<=0)return null;var C=Xe("recharts-brush",o),M=z.Children.count(s)===1,I=lQ("userSelect","none");return z.createElement(Ze,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(x||_||A||T||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,l=n.height,c=n.stroke,f=Math.floor(o+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return z.isValidElement(n)?o=z.cloneElement(n,i):Fe(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,l=n.x,c=n.travellerWidth,f=n.updateId,d=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return bw({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?vQ({data:o,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(W.PureComponent);ln(dl,"displayName","Brush");ln(dl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ww,R2;function yQ(){if(R2)return ww;R2=1;var t=_E();function e(r,n){var i;return t(r,function(o,s,l){return i=n(o,s,l),!i}),!!i}return ww=e,ww}var xw,N2;function _Q(){if(N2)return xw;N2=1;var t=QM(),e=Di(),r=yQ(),n=Jr(),i=mg();function o(s,l,c){var f=n(s)?t:r;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return xw=o,xw}var bQ=_Q();const wQ=ft(bQ);var Ai=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Ew,j2;function xQ(){if(j2)return Ew;j2=1;var t=mD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Ew=e,Ew}var Sw,M2;function EQ(){if(M2)return Sw;M2=1;var t=xQ(),e=dD(),r=Di();function n(i,o){var s={};return o=r(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return Sw=n,Sw}var SQ=EQ();const AQ=ft(SQ);var Aw,D2;function TQ(){if(D2)return Aw;D2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Aw=t,Aw}var Tw,L2;function PQ(){if(L2)return Tw;L2=1;var t=_E();function e(r,n){var i=!0;return t(r,function(o,s,l){return i=!!n(o,s,l),i}),i}return Tw=e,Tw}var Pw,$2;function OQ(){if($2)return Pw;$2=1;var t=TQ(),e=PQ(),r=Di(),n=Jr(),i=mg();function o(s,l,c){var f=n(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,r(l,3))}return Pw=o,Pw}var IQ=OQ();const r$=ft(IQ);var CQ=["x","y"];function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nx.apply(this,arguments)}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){kQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kQ(t,e,r){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RQ(t){var e=NQ(t,"string");return Jf(e)=="symbol"?e:e+""}function NQ(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e){if(t==null)return{};var r=MQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DQ(t,e){var r=t.x,n=t.y,i=jQ(t,CQ),o="".concat(r),s=parseInt(o,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Qc(Qc(Qc(Qc(Qc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function F2(t){return z.createElement(XL,nx({shapeType:"rectangle",propTransformer:DQ,activeClassName:"recharts-active-bar"},t))}var LQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||Ps(),r)}},$Q=["value","background"],n$;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function VQ(t,e){if(t==null)return{};var r=FQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xm.apply(this,arguments)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){sa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o$(n.key),n)}}function UQ(t,e,r){return e&&U2(t.prototype,e),r&&U2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qQ(t,e,r){return e=Em(e),zQ(t,i$()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function zQ(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(t)}function WQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function HQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ix(t,e)}function sa(t,e,r){return e=o$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$(t){var e=KQ(t,"string");return pl(e)=="symbol"?e:e+""}function KQ(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var va=function(t){function e(){var r;BQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=qQ(this,e,[].concat(i)),sa(r,"state",{isAnimationFinished:!1}),sa(r,"id",Ds("recharts-bar-")),sa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),sa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return HQ(e,t),UQ(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,d=Ne(this.props,!1);return n&&n.map(function(p,v){var y=v===c,w=y?f:s,x=zt(zt(zt({},d),p),{},{isActive:y,option:w,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(Ze,xm({className:"recharts-bar-rectangle"},Es(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),z.createElement(F2,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,v=this.state.prevData;return z.createElement(oi,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,x=o.map(function(_,A){var T=v&&v[A];if(T){var C=Jt(T.x,_.x),M=Jt(T.y,_.y),I=Jt(T.width,_.width),N=Jt(T.height,_.height);return zt(zt({},_),{},{x:C(w),y:M(w),width:I(w),height:N(w)})}if(s==="horizontal"){var P=Jt(0,_.height),O=P(w);return zt(zt({},_),{},{y:_.y+_.height-O,height:O})}var R=Jt(0,_.width),F=R(w);return zt(zt({},_),{},{width:F})});return z.createElement(Ze,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!As(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=Ne(this.props.background,!1);return o.map(function(f,d){f.value;var p=f.background,v=VQ(f,$Q);if(!p)return null;var y=zt(zt(zt(zt(zt({},v),{},{fill:"#eee"},p),c),Es(n.props,f,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(F2,xm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=pn(d,Sh);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,y=function(_,A){var T=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:T,errorVal:Ft(_,A)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Ze,w,p.map(function(x){return z.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,p=n.width,v=n.height,y=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,A=Xe("recharts-bar",s),T=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,M=T||C,I=Ke(x)?this.id:x;return z.createElement(Ze,{className:A},T||C?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(I)},z.createElement("rect",{x:T?f:f-p/2,y:C?d:d-v/2,width:T?p:p*2,height:C?v:v*2}))):null,z.createElement(Ze,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(I,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,I),(!y||_)&&Si.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(W.PureComponent);n$=va;sa(va,"displayName","Bar");sa(va,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Aa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sa(va,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=wH(n,r);if(!y)return null;var w=e.layout,x=r.type.defaultProps,_=x!==void 0?zt(zt({},x),r.props):r.props,A=_.dataKey,T=_.children,C=_.minPointSize,M=w==="horizontal"?s:o,I=f?M.scale.domain():null,N=OH({numericAxis:M}),P=pn(T,gg),O=p.map(function(R,F){var D,L,j,J,Z,re;f?D=xH(f[d+F],I):(D=Ft(R,A),Array.isArray(D)||(D=[N,D]));var G=LQ(C,n$.defaultProps.minPointSize)(D[1],F);if(w==="horizontal"){var H,Q=[s.scale(D[0]),s.scale(D[1])],ae=Q[0],U=Q[1];L=pR({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:R,index:F}),j=(H=U??ae)!==null&&H!==void 0?H:void 0,J=y.size;var X=ae-U;if(Z=Number.isNaN(X)?0:X,re={x:L,y:s.y,width:J,height:s.height},Math.abs(G)>0&&Math.abs(Z)<Math.abs(G)){var se=Vr(Z||G)*(Math.abs(G)-Math.abs(Z));j-=se,Z+=se}}else{var ye=[o.scale(D[0]),o.scale(D[1])],we=ye[0],Se=ye[1];if(L=we,j=pR({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:R,index:F}),J=Se-we,Z=y.size,re={x:o.x,y:j,width:o.width,height:Z},Math.abs(G)>0&&Math.abs(J)<Math.abs(G)){var je=Vr(J||G)*(Math.abs(G)-Math.abs(J));J+=je}}return zt(zt(zt({},R),{},{x:L,y:j,width:J,height:Z,value:f?D:D[1],payload:R,background:re},P&&P[F]&&P[F].props),{},{tooltipPayload:[kL(r,R)],tooltipPosition:{x:L+J/2,y:j+Z/2}})});return zt({data:O,layout:w},v)});function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function GQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a$(n.key),n)}}function XQ(t,e,r){return e&&q2(t.prototype,e),r&&q2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){Ng(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ng(t,e,r){return e=a$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$(t){var e=YQ(t,"string");return Zf(e)=="symbol"?e:e+""}function YQ(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s$=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!cn(f,va);return d.reduce(function(y,w){var x=r[w],_=x.orientation,A=x.domain,T=x.padding,C=T===void 0?{}:T,M=x.mirror,I=x.reversed,N="".concat(_).concat(M?"Mirror":""),P,O,R,F,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=A[1]-A[0],j=1/0,J=x.categoricalDomain.sort(cU);if(J.forEach(function(ye,we){we>0&&(j=Math.min((ye||0)-(J[we-1]||0),j))}),Number.isFinite(j)){var Z=j/L,re=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(P=Z*re/2),x.padding==="no-gap"){var G=Fr(e.barCategoryGap,Z*re),H=Z*re/2;P=H-G-(H-G)/re*G}}}i==="xAxis"?O=[n.left+(C.left||0)+(P||0),n.left+n.width-(C.right||0)-(P||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(P||0),n.top+n.height-(C.bottom||0)-(P||0)]:O=x.range,I&&(O=[O[1],O[0]]);var Q=PL(x,o,v),ae=Q.scale,U=Q.realScaleType;ae.domain(A).range(O),OL(ae);var X=IL(ae,Jn(Jn({},x),{},{realScaleType:U}));i==="xAxis"?(D=_==="top"&&!M||_==="bottom"&&M,R=n.left,F=p[N]-D*x.height):i==="yAxis"&&(D=_==="left"&&!M||_==="right"&&M,R=p[N]-D*x.width,F=n.top);var se=Jn(Jn(Jn({},x),X),{},{realScaleType:U,x:R,y:F,scale:ae,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return se.bandSize=sm(se,X),!x.hide&&i==="xAxis"?p[N]+=(D?-1:1)*se.height:x.hide||(p[N]+=(D?-1:1)*se.width),Jn(Jn({},y),{},Ng({},w,se))},{})},u$=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},QQ=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return u$({x:r,y:n},{x:i,y:o})},l$=function(){function t(e){GQ(this,t),this.scale=e}return XQ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ng(l$,"EPS",1e-4);var GE=function(e){var r=Object.keys(e).reduce(function(n,i){return Jn(Jn({},n),{},Ng({},i,l$.create(e[i])))},{});return Jn(Jn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return AQ(i,function(c,f){return r[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return r$(i,function(o,s){return r[s].isInRange(o)})}})};function JQ(t){return(t%180+180)%180}var ZQ=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=JQ(i),s=o*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Ow,W2;function eJ(){if(W2)return Ow;W2=1;var t=Di(),e=_h(),r=dg();function n(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=r(o),s=function(p){return f(c[p],p,c)}}var d=i(o,s,l);return d>-1?c[f?o[d]:d]:void 0}}return Ow=n,Ow}var Iw,H2;function tJ(){if(H2)return Iw;H2=1;var t=JL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Iw=e,Iw}var Cw,K2;function rJ(){if(K2)return Cw;K2=1;var t=uD(),e=Di(),r=tJ(),n=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:r(l);return f<0&&(f=n(c+f,0)),t(o,e(s,3),f)}return Cw=i,Cw}var kw,G2;function nJ(){if(G2)return kw;G2=1;var t=eJ(),e=rJ(),r=t(e);return kw=r,kw}var iJ=nJ();const oJ=ft(iJ);var aJ=EM();const sJ=ft(aJ);var uJ=sJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XE=W.createContext(void 0),YE=W.createContext(void 0),c$=W.createContext(void 0),f$=W.createContext({}),h$=W.createContext(void 0),d$=W.createContext(0),p$=W.createContext(0),X2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,d=uJ(o);return z.createElement(XE.Provider,{value:n},z.createElement(YE.Provider,{value:i},z.createElement(f$.Provider,{value:o},z.createElement(c$.Provider,{value:d},z.createElement(h$.Provider,{value:s},z.createElement(d$.Provider,{value:f},z.createElement(p$.Provider,{value:c},l)))))))},lJ=function(){return W.useContext(h$)},m$=function(e){var r=W.useContext(XE);r==null&&Ps();var n=r[e];return n==null&&Ps(),n},cJ=function(){var e=W.useContext(XE);return ta(e)},fJ=function(){var e=W.useContext(YE),r=oJ(e,function(n){return r$(n.domain,Number.isFinite)});return r||ta(e)},g$=function(e){var r=W.useContext(YE);r==null&&Ps();var n=r[e];return n==null&&Ps(),n},hJ=function(){var e=W.useContext(c$);return e},dJ=function(){return W.useContext(f$)},QE=function(){return W.useContext(p$)},JE=function(){return W.useContext(d$)};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function pJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y$(n.key),n)}}function gJ(t,e,r){return e&&mJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t,e,r){return e=Sm(e),yJ(t,v$()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function yJ(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(t)}function _J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){ZE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZE(t,e,r){return e=y$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y$(t){var e=wJ(t,"string");return ml(e)=="symbol"?e:e+""}function wJ(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xJ(t,e){return TJ(t)||AJ(t,e)||SJ(t,e)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJ(t,e){if(t){if(typeof t=="string")return J2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function TJ(t){if(Array.isArray(t))return t}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ax.apply(this,arguments)}var PJ=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Fe(e)?n=e(r):n=z.createElement("line",ax({},r,{className:"recharts-reference-line-line"})),n},OJ=function(e,r,n,i,o,s,l,c,f){var d=o.x,p=o.y,v=o.width,y=o.height;if(n){var w=f.y,x=e.y.apply(w,{position:s});if(Ai(f,"discard")&&!e.y.isInRange(x))return null;var _=[{x:d+v,y:x},{x:d,y:x}];return c==="left"?_.reverse():_}if(r){var A=f.x,T=e.x.apply(A,{position:s});if(Ai(f,"discard")&&!e.x.isInRange(T))return null;var C=[{x:T,y:p+y},{x:T,y:p}];return l==="top"?C.reverse():C}if(i){var M=f.segment,I=M.map(function(N){return e.apply(N,{position:s})});return Ai(f,"discard")&&wQ(I,function(N){return!e.isInRange(N)})?null:I}return null};function IJ(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=lJ(),d=m$(i),p=g$(o),v=hJ();if(!f||!v)return null;ii(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=GE({x:d.scale,y:p.scale}),w=er(e),x=er(r),_=n&&n.length===2,A=OJ(y,w,x,_,v,t.position,d.orientation,p.orientation,t);if(!A)return null;var T=xJ(A,2),C=T[0],M=C.x,I=C.y,N=T[1],P=N.x,O=N.y,R=Ai(t,"hidden")?"url(#".concat(f,")"):void 0,F=Q2(Q2({clipPath:R},Ne(t,!0)),{},{x1:M,y1:I,x2:P,y2:O});return z.createElement(Ze,{className:Xe("recharts-reference-line",l)},PJ(s,F),fr.renderCallByParent(t,QQ({x1:M,y1:I,x2:P,y2:O})))}var eS=function(t){function e(){return pJ(this,e),vJ(this,e,arguments)}return bJ(e,t),gJ(e,[{key:"render",value:function(){return z.createElement(IJ,this.props)}}])}(z.Component);ZE(eS,"displayName","ReferenceLine");ZE(eS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sx.apply(this,arguments)}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){jg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function RJ(t,e,r){return e&&kJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NJ(t,e,r){return e=Am(e),jJ(t,_$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function jJ(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MJ(t)}function MJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function DJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ux(t,e)}function jg(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=LJ(t,"string");return gl(e)=="symbol"?e:e+""}function LJ(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $J=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=GE({x:i.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Ai(e,"discard")&&!s.isInRange(l)?null:l},Mg=function(t){function e(){return CJ(this,e),NJ(this,e,arguments)}return DJ(e,t),RJ(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,f=er(i),d=er(o);if(ii(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=$J(this.props);if(!p)return null;var v=p.x,y=p.y,w=this.props,x=w.shape,_=w.className,A=Ai(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=eN(eN({clipPath:A},Ne(this.props,!0)),{},{cx:v,cy:y});return z.createElement(Ze,{className:Xe("recharts-reference-dot",_)},e.renderDot(x,T),fr.renderCallByParent(this.props,{x:v-s,y:y-s,width:2*s,height:2*s}))}}])}(z.Component);jg(Mg,"displayName","ReferenceDot");jg(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jg(Mg,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Fe(t)?r=t(e):r=z.createElement(Ah,sx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lx.apply(this,arguments)}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function BJ(t,e,r){return e&&FJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UJ(t,e,r){return e=Tm(e),qJ(t,w$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function qJ(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zJ(t)}function zJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function WJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cx(t,e)}function cx(t,e){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cx(t,e)}function Dg(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=HJ(t,"string");return vl(e)=="symbol"?e:e+""}function HJ(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KJ=function(e,r,n,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,d=o.xAxis,p=o.yAxis;if(!d||!p)return null;var v=GE({x:d.scale,y:p.scale}),y={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Ai(o,"discard")&&(!v.isInRange(y)||!v.isInRange(w))?null:u$(y,w)},Lg=function(t){function e(){return VJ(this,e),UJ(this,e,arguments)}return WJ(e,t),BJ(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,l=n.y2,c=n.className,f=n.alwaysShow,d=n.clipPathId;ii(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=er(i),v=er(o),y=er(s),w=er(l),x=this.props.shape;if(!p&&!v&&!y&&!w&&!x)return null;var _=KJ(p,v,y,w,this.props);if(!_&&!x)return null;var A=Ai(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(Ze,{className:Xe("recharts-reference-area",c)},e.renderRect(x,rN(rN({clipPath:A},Ne(this.props,!0)),_)),fr.renderCallByParent(this.props,_))}}])}(z.Component);Dg(Lg,"displayName","ReferenceArea");Dg(Lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dg(Lg,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Fe(t)?r=t(e):r=z.createElement(KE,lx({},e,{className:"recharts-reference-area-rect"})),r});function E$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function GJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return ZQ(n,r)}function XJ(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:n?i:o,end:n?i+s:o+l}:{start:n?i+s:o+l,end:n?i:o}}function Pm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function YJ(t,e){return E$(t,e+1)}function QJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,l=e.end,c=0,f=1,d=s,p=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:E$(n,f)};var x=c,_,A=function(){return _===void 0&&(_=r(w,x)),_},T=w.coordinate,C=c===0||Pm(t,T,A,d,l);C||(c=0,d=s,f+=1),C&&(d=T+t*(A()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){JJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JJ(t,e,r){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=eZ(t,"string");return eh(e)=="symbol"?e:e+""}function eZ(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(v){var y=o[v],w,x=function(){return w===void 0&&(w=r(y,v)),w};if(v===s-1){var _=t*(y.coordinate+t*x()/2-c);o[v]=y=Ir(Ir({},y),{},{tickCoord:_>0?y.coordinate-_*t:y.coordinate})}else o[v]=y=Ir(Ir({},y),{},{tickCoord:y.coordinate});var A=Pm(t,y.tickCoord,x,l,c);A&&(c=y.tickCoord-t*(x()/2+i),o[v]=Ir(Ir({},y),{},{isShow:!0}))},d=s-1;d>=0;d--)f(d);return o}function rZ(t,e,r,n,i,o){var s=(n||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var d=n[l-1],p=r(d,l-1),v=t*(d.coordinate+t*p/2-f);s[l-1]=d=Ir(Ir({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var y=Pm(t,d.tickCoord,function(){return p},c,f);y&&(f=d.tickCoord-t*(p/2+i),s[l-1]=Ir(Ir({},d),{},{isShow:!0}))}for(var w=o?l-1:l,x=function(T){var C=s[T],M,I=function(){return M===void 0&&(M=r(C,T)),M};if(T===0){var N=t*(C.coordinate-t*I()/2-c);s[T]=C=Ir(Ir({},C),{},{tickCoord:N<0?C.coordinate-N*t:C.coordinate})}else s[T]=C=Ir(Ir({},C),{},{tickCoord:C.coordinate});var P=Pm(t,C.tickCoord,I,c,f);P&&(c=C.tickCoord+t*(I()/2+i),s[T]=Ir(Ir({},C),{},{isShow:!0}))},_=0;_<w;_++)x(_);return s}function tS(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(ge(c)||Aa.isSsr)return YJ(i,typeof c=="number"&&ge(c)?c:0);var v=[],y=l==="top"||l==="bottom"?"width":"height",w=d&&y==="width"?uf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(C,M){var I=Fe(f)?f(C.value,M):C.value;return y==="width"?GJ(uf(I,{fontSize:e,letterSpacing:r}),w,p):uf(I,{fontSize:e,letterSpacing:r})[y]},_=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,A=XJ(o,_,y);return c==="equidistantPreserveStart"?QJ(_,A,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=rZ(_,A,x,i,s,c==="preserveStartEnd"):v=tZ(_,A,x,i,s),v.filter(function(T){return T.isShow}))}var nZ=["viewBox"],iZ=["viewBox"],oZ=["ticks"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){rS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rw(t,e){if(t==null)return{};var r=aZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function uZ(t,e,r){return e&&oN(t.prototype,e),r&&oN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lZ(t,e,r){return e=Om(e),cZ(t,S$()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function cZ(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fZ(t)}function fZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function hZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(t,e)}function rS(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=dZ(t,"string");return yl(e)=="symbol"?e:e+""}function dZ(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ul=function(t){function e(r){var n;return sZ(this,e),n=lZ(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return hZ(e,t),uZ(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=Rw(n,nZ),l=this.props,c=l.viewBox,f=Rw(l,iZ);return!Hu(o,c)||!Hu(s,f)||!Hu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,v=i.tickMargin,y,w,x,_,A,T,C=p?-1:1,M=n.tickSize||d,I=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,_=s+ +!p*c,x=_-C*M,T=x-C*v,A=I;break;case"left":x=_=n.coordinate,w=o+ +!p*l,y=w-C*M,A=y-C*v,T=I;break;case"right":x=_=n.coordinate,w=o+ +p*l,y=w+C*M,A=y+C*v,T=I;break;default:y=w=n.coordinate,_=s+ +p*c,x=_+C*M,T=x+C*v,A=I;break}return{line:{x1:y,y1:x,x2:w,y2:_},tick:{x:A,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.orientation,f=n.mirror,d=n.axisLine,p=$r($r($r({},Ne(this.props,!1)),Ne(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=$r($r({},p),{},{x1:i,y1:o+v*l,x2:i+s,y2:o+v*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);p=$r($r({},p),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+l})}return z.createElement("line",qu({},p,{className:Xe("recharts-cartesian-axis-line",dn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,d=l.tick,p=l.tickFormatter,v=l.unit,y=tS($r($r({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=Ne(this.props,!1),A=Ne(d,!1),T=$r($r({},_),{},{fill:"none"},Ne(c,!1)),C=y.map(function(M,I){var N=s.getTickLineCoord(M),P=N.line,O=N.tick,R=$r($r($r($r({textAnchor:w,verticalAnchor:x},_),{},{stroke:"none",fill:f},A),O),{},{index:I,payload:M,visibleTicksCount:y.length,tickFormatter:p});return z.createElement(Ze,qu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Es(s.props,M,I)),c&&z.createElement("line",qu({},T,P,{className:Xe("recharts-cartesian-axis-tick-line",dn(c,"className"))})),d&&e.renderTickItem(d,R,"".concat(Fe(p)?p(M.value,I):M.value).concat(v||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,v=p.ticks,y=Rw(p,oZ),w=v;return Fe(c)&&(w=v&&v.length>0?c(this.props):c(y)),s<=0||l<=0||!w||!w.length?null:z.createElement(Ze,{className:Xe("recharts-cartesian-axis",f),ref:function(_){n.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),fr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Fe(n)?s=n(i):s=z.createElement(Ss,qu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(W.Component);rS(Ul,"displayName","CartesianAxis");rS(Ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pZ=["x1","y1","x2","y2","key"],mZ=["offset"];function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function aN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(r),!0).forEach(function(n){gZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gZ(t,e,r){return e=vZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vZ(t){var e=yZ(t,"string");return Os(e)=="symbol"?e:e+""}function yZ(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ps.apply(this,arguments)}function sN(t,e){if(t==null)return{};var r=_Z(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Z(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bZ=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return z.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function T$(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Fe(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=sN(e,pZ),f=Ne(c,!1);f.offset;var d=sN(f,mZ);r=z.createElement("line",ps({},d,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function wZ(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kr(kr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return T$(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function xZ(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=kr(kr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return T$(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function EZ(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?i+s-v:d[y+1]-v;if(x<=0)return null;var _=y%e.length;return z.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:x,width:o,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function SZ(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var d=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,y){return v-y});o!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?o+l-v:d[y+1]-v;if(x<=0)return null;var _=y%n.length;return z.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:x,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var AZ=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return TL(tS(kr(kr(kr({},Ul.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},TZ=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return TL(tS(kr(kr(kr({},Ul.defaultProps),n),{},{ticks:io(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},ju={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xp(t){var e,r,n,i,o,s,l=QE(),c=JE(),f=dJ(),d=kr(kr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ju.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ju.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ju.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ju.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ju.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ju.verticalFill,x:ge(t.x)?t.x:f.left,y:ge(t.y)?t.y:f.top,width:ge(t.width)?t.width:f.width,height:ge(t.height)?t.height:f.height}),p=d.x,v=d.y,y=d.width,w=d.height,x=d.syncWithTicks,_=d.horizontalValues,A=d.verticalValues,T=cJ(),C=fJ();if(!ge(y)||y<=0||!ge(w)||w<=0||!ge(p)||p!==+p||!ge(v)||v!==+v)return null;var M=d.verticalCoordinatesGenerator||AZ,I=d.horizontalCoordinatesGenerator||TZ,N=d.horizontalPoints,P=d.verticalPoints;if((!N||!N.length)&&Fe(I)){var O=_&&_.length,R=I({yAxis:C?kr(kr({},C),{},{ticks:O?_:C.ticks}):void 0,width:l,height:c,offset:f},O?!0:x);ii(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Os(R),"]")),Array.isArray(R)&&(N=R)}if((!P||!P.length)&&Fe(M)){var F=A&&A.length,D=M({xAxis:T?kr(kr({},T),{},{ticks:F?A:T.ticks}):void 0,width:l,height:c,offset:f},F?!0:x);ii(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Os(D),"]")),Array.isArray(D)&&(P=D)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(bZ,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(wZ,ps({},d,{offset:f,horizontalPoints:N,xAxis:T,yAxis:C})),z.createElement(xZ,ps({},d,{offset:f,verticalPoints:P,xAxis:T,yAxis:C})),z.createElement(EZ,ps({},d,{horizontalPoints:N})),z.createElement(SZ,ps({},d,{verticalPoints:P})))}xp.displayName="CartesianGrid";var PZ=["type","layout","connectNulls","ref"],OZ=["key"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function uN(t,e){if(t==null)return{};var r=IZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){Zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mu(t){return NZ(t)||RZ(t)||kZ(t)||CZ()}function CZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){if(t){if(typeof t=="string")return hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(t,e)}}function RZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NZ(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O$(n.key),n)}}function MZ(t,e,r){return e&&cN(t.prototype,e),r&&cN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DZ(t,e,r){return e=Im(e),LZ(t,P$()?Reflect.construct(e,r||[],Im(t).constructor):e.apply(t,r))}function LZ(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(t)}function $Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}function VZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dx(t,e)}function Zn(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O$(t){var e=FZ(t,"string");return _l(e)=="symbol"?e:e+""}function FZ(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $g=function(t){function e(){var r;jZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=DZ(this,e,[].concat(i)),Zn(r,"state",{isAnimationFinished:!0,totalLength:0}),Zn(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Zn(r,"getStrokeDasharray",function(s,l,c){var f=c.reduce(function(A,T){return A+T});if(!f)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/f),p=s%f,v=l-s,y=[],w=0,x=0;w<c.length;x+=c[w],++w)if(x+c[w]>p){y=[].concat(Mu(c.slice(0,w)),[p-x]);break}var _=y.length%2===0?[0,v]:[v];return[].concat(Mu(e.repeat(c,d)),Mu(y),_).map(function(A){return"".concat(A,"px")}).join(", ")}),Zn(r,"id",Ds("recharts-line-")),Zn(r,"pathRef",function(s){r.mainCurve=s}),Zn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Zn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return VZ(e,t),MZ(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=pn(d,Sh);if(!p)return null;var v=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:Ft(x.payload,_)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(Ze,y,p.map(function(w){return z.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,p=Ne(this.props,!1),v=Ne(c,!0),y=f.map(function(x,_){var A=un(un(un({key:"dot-".concat(_),r:3},p),v),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:f});return e.renderDotItem(c,A)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(Ze,pf({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,i,o,s){var l=this.props,c=l.type,f=l.layout,d=l.connectNulls;l.ref;var p=uN(l,PZ),v=un(un(un({},Ne(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},s),{},{type:c,layout:f,connectNulls:d});return z.createElement(bs,pf({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,s=this.props,l=s.points,c=s.strokeDasharray,f=s.isAnimationActive,d=s.animationBegin,p=s.animationDuration,v=s.animationEasing,y=s.animationId,w=s.animateNewValues,x=s.width,_=s.height,A=this.state,T=A.prevPoints,C=A.totalLength;return z.createElement(oi,{begin:d,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var I=M.t;if(T){var N=T.length/l.length,P=l.map(function(L,j){var J=Math.floor(j*N);if(T[J]){var Z=T[J],re=Jt(Z.x,L.x),G=Jt(Z.y,L.y);return un(un({},L),{},{x:re(I),y:G(I)})}if(w){var H=Jt(x*2,L.x),Q=Jt(_/2,L.y);return un(un({},L),{},{x:H(I),y:Q(I)})}return un(un({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(P,n,i)}var O=Jt(0,C),R=O(I),F;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});F=o.getStrokeDasharray(R,C,D)}else F=o.generateSimpleStrokeDasharray(C,R);return o.renderCurveStatically(l,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var o=this.props,s=o.points,l=o.isAnimationActive,c=this.state,f=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!f&&d>0||!As(f,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.xAxis,d=i.yAxis,p=i.top,v=i.left,y=i.width,w=i.height,x=i.isAnimationActive,_=i.id;if(o||!l||!l.length)return null;var A=this.state.isAnimationFinished,T=l.length===1,C=Xe("recharts-line",c),M=f&&f.allowDataOverflow,I=d&&d.allowDataOverflow,N=M||I,P=Ke(_)?this.id:_,O=(n=Ne(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,F=R===void 0?3:R,D=O.strokeWidth,L=D===void 0?2:D,j=OM(s)?s:{},J=j.clipDot,Z=J===void 0?!0:J,re=F*2+L;return z.createElement(Ze,{className:C},M||I?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:M?v:v-y/2,y:I?p:p-w/2,width:M?y:y*2,height:I?w:w*2})),!Z&&z.createElement("clipPath",{id:"clipPath-dots-".concat(P)},z.createElement("rect",{x:v-re/2,y:p-re/2,width:y+re,height:w+re}))):null,!T&&this.renderCurve(N,P),this.renderErrorBar(N,P),(T||s)&&this.renderDots(N,Z,P),(!x||A)&&Si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(Mu(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(Mu(s),Mu(o));return s}},{key:"renderDotItem",value:function(n,i){var o;if(z.isValidElement(n))o=z.cloneElement(n,i);else if(Fe(n))o=n(i);else{var s=i.key,l=uN(i,OZ),c=Xe("recharts-line-dot",typeof n!="boolean"?n.className:"");o=z.createElement(Ah,pf({key:s},l,{className:c}))}return o}}])}(W.PureComponent);Zn($g,"displayName","Line");Zn($g,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Aa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zn($g,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,f=t.offset,d=e.layout,p=c.map(function(v,y){var w=Ft(v,s);return d==="horizontal"?{x:am({axis:r,ticks:i,bandSize:l,entry:v,index:y}),y:Ke(w)?null:n.scale(w),value:w,payload:v}:{x:Ke(w)?null:r.scale(w),y:am({axis:n,ticks:o,bandSize:l,entry:v,index:y}),value:w,payload:v}});return un({points:p,layout:d},f)});var BZ=["layout","type","stroke","connectNulls","isRange","ref"],UZ=["key"],I$;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function C$(t,e){if(t==null)return{};var r=qZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ms.apply(this,arguments)}function fN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(r),!0).forEach(function(n){xi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R$(n.key),n)}}function WZ(t,e,r){return e&&hN(t.prototype,e),r&&hN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HZ(t,e,r){return e=Cm(e),KZ(t,k$()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function KZ(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GZ(t)}function GZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function XZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&px(t,e)}function px(t,e){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},px(t,e)}function xi(t,e,r){return e=R$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$(t){var e=YZ(t,"string");return bl(e)=="symbol"?e:e+""}function YZ(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ia=function(t){function e(){var r;zZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=HZ(this,e,[].concat(i)),xi(r,"state",{isAnimationFinished:!0}),xi(r,"id",Ds("recharts-area-")),xi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(s)&&s()}),xi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(s)&&s()}),r}return XZ(e,t),WZ(e,[{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,d=c.points,p=c.dataKey,v=Ne(this.props,!1),y=Ne(f,!0),w=d.map(function(_,A){var T=Zo(Zo(Zo({key:"dot-".concat(A),r:3},v),y),{},{index:A,cx:_.x,cy:_.y,dataKey:p,value:_.value,payload:_.payload,points:d});return e.renderDotItem(f,T)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return z.createElement(Ze,ms({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,d=n*Math.abs(c-f),p=aa(s.map(function(v){return v.y||0}));return ge(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(aa(o.map(function(v){return v.y||0})),p)),ge(p)?z.createElement("rect",{x:c<f?c:c-d,y:0,width:d,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,d=n*Math.abs(c-f),p=aa(s.map(function(v){return v.x||0}));return ge(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(aa(o.map(function(v){return v.x||0})),p)),ge(p)?z.createElement("rect",{x:0,y:c<f?c:c-d,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,s){var l=this.props,c=l.layout,f=l.type,d=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var y=C$(l,BZ);return z.createElement(Ze,{clipPath:o?"url(#clipPath-".concat(s,")"):null},z.createElement(bs,ms({},Ne(y,!0),{points:n,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&z.createElement(bs,ms({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:n})),d!=="none"&&v&&z.createElement(bs,ms({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,d=s.animationBegin,p=s.animationDuration,v=s.animationEasing,y=s.animationId,w=this.state,x=w.prevPoints,_=w.prevBaseLine;return z.createElement(oi,{begin:d,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var T=A.t;if(x){var C=x.length/l.length,M=l.map(function(O,R){var F=Math.floor(R*C);if(x[F]){var D=x[F],L=Jt(D.x,O.x),j=Jt(D.y,O.y);return Zo(Zo({},O),{},{x:L(T),y:j(T)})}return O}),I;if(ge(c)&&typeof c=="number"){var N=Jt(_,c);I=N(T)}else if(Ke(c)||Ll(c)){var P=Jt(_,0);I=P(T)}else I=c.map(function(O,R){var F=Math.floor(R*C);if(_[F]){var D=_[F],L=Jt(D.x,O.x),j=Jt(D.y,O.y);return Zo(Zo({},O),{},{x:L(T),y:j(T)})}return O});return o.renderAreaStatically(M,I,n,i)}return z.createElement(Ze,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(T))),z.createElement(Ze,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,d=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return c&&s&&s.length&&(!d&&v>0||!As(d,s)||!As(p,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,d=i.left,p=i.xAxis,v=i.yAxis,y=i.width,w=i.height,x=i.isAnimationActive,_=i.id;if(o||!l||!l.length)return null;var A=this.state.isAnimationFinished,T=l.length===1,C=Xe("recharts-area",c),M=p&&p.allowDataOverflow,I=v&&v.allowDataOverflow,N=M||I,P=Ke(_)?this.id:_,O=(n=Ne(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,F=R===void 0?3:R,D=O.strokeWidth,L=D===void 0?2:D,j=OM(s)?s:{},J=j.clipDot,Z=J===void 0?!0:J,re=F*2+L;return z.createElement(Ze,{className:C},M||I?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:M?d:d-y/2,y:I?f:f-w/2,width:M?y:y*2,height:I?w:w*2})),!Z&&z.createElement("clipPath",{id:"clipPath-dots-".concat(P)},z.createElement("rect",{x:d-re/2,y:f-re/2,width:y+re,height:w+re}))):null,T?null:this.renderArea(N,P),(s||T)&&this.renderDots(N,Z,P),(!x||A)&&Si.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(W.PureComponent);I$=Ia;xi(Ia,"displayName","Area");xi(Ia,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Aa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xi(Ia,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(ge(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,f=c.scale.domain();if(c.type==="number"){var d=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||d<0?d:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});xi(Ia,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=e.layout,w=f&&f.length,x=I$.getBaseValue(e,r,n,i),_=y==="horizontal",A=!1,T=p.map(function(M,I){var N;w?N=f[d+I]:(N=Ft(M,c),Array.isArray(N)?A=!0:N=[x,N]);var P=N[1]==null||w&&Ft(M,c)==null;return _?{x:am({axis:n,ticks:o,bandSize:l,entry:M,index:I}),y:P?null:i.scale(N[1]),value:N,payload:M}:{x:P?null:n.scale(N[1]),y:am({axis:i,ticks:s,bandSize:l,entry:M,index:I}),value:N,payload:M}}),C;return w||A?C=T.map(function(M){var I=Array.isArray(M.value)?M.value[0]:null;return _?{x:M.x,y:I!=null&&M.y!=null?i.scale(I):null}:{x:I!=null?n.scale(I):null,y:M.y}}):C=_?i.scale(x):n.scale(x),Zo({points:T,baseLine:C,layout:y,isRange:A},v)});xi(Ia,"renderDotItem",function(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Fe(t))r=t(e);else{var n=Xe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=C$(e,UZ);r=z.createElement(Ah,ms({},o,{key:i,className:n}))}return r});function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function QZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function ZZ(t,e,r){return e&&JZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eee(t,e,r){return e=km(e),tee(t,N$()?Reflect.construct(e,r||[],km(t).constructor):e.apply(t,r))}function tee(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ree(t)}function ree(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}function nee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mx(t,e)}function j$(t,e,r){return e=M$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M$(t){var e=iee(t,"string");return wl(e)=="symbol"?e:e+""}function iee(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function oee(t){var e=t.xAxisId,r=QE(),n=JE(),i=m$(e);return i==null?null:z.createElement(Ul,gx({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return io(s,!0)}}))}var ws=function(t){function e(){return QZ(this,e),eee(this,e,arguments)}return nee(e,t),ZZ(e,[{key:"render",value:function(){return z.createElement(oee,this.props)}}])}(z.Component);j$(ws,"displayName","XAxis");j$(ws,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function aee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function see(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$$(n.key),n)}}function uee(t,e,r){return e&&see(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lee(t,e,r){return e=Rm(e),cee(t,D$()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function cee(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fee(t)}function fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vx(t,e)}function L$(t,e,r){return e=$$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $$(t){var e=dee(t,"string");return xl(e)=="symbol"?e:e+""}function dee(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yx.apply(this,arguments)}var pee=function(e){var r=e.yAxisId,n=QE(),i=JE(),o=g$(r);return o==null?null:z.createElement(Ul,yx({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return io(l,!0)}}))},ua=function(t){function e(){return aee(this,e),lee(this,e,arguments)}return hee(e,t),uee(e,[{key:"render",value:function(){return z.createElement(pee,this.props)}}])}(z.Component);L$(ua,"displayName","YAxis");L$(ua,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dN(t){return yee(t)||vee(t)||gee(t)||mee()}function mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){if(t){if(typeof t=="string")return _x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _x(t,e)}}function vee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yee(t){if(Array.isArray(t))return _x(t)}function _x(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bx=function(e,r,n,i,o){var s=pn(e,eS),l=pn(e,Mg),c=[].concat(dN(s),dN(l)),f=pn(e,Lg),d="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(x,_){if(_.props[d]===n&&Ai(_.props,"extendDomain")&&ge(_.props[p])){var A=_.props[p];return[Math.min(x[0],A),Math.max(x[1],A)]}return x},v)),f.length){var y="".concat(p,"1"),w="".concat(p,"2");v=f.reduce(function(x,_){if(_.props[d]===n&&Ai(_.props,"extendDomain")&&ge(_.props[y])&&ge(_.props[w])){var A=_.props[y],T=_.props[w];return[Math.min(x[0],A,T),Math.max(x[1],A,T)]}return x},v)}return o&&o.length&&(v=o.reduce(function(x,_){return ge(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},v)),v},Nw={exports:{}},pN;function _ee(){return pN||(pN=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function o(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,v),w=r?r+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,y,w){var x=r?r+f:f;if(!this._events[x])return!1;var _=this._events[x],A=arguments.length,T,C;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),A){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,p),!0;case 4:return _.fn.call(_.context,d,p,v),!0;case 5:return _.fn.call(_.context,d,p,v,y),!0;case 6:return _.fn.call(_.context,d,p,v,y,w),!0}for(C=1,T=new Array(A-1);C<A;C++)T[C-1]=arguments[C];_.fn.apply(_.context,T)}else{var M=_.length,I;for(C=0;C<M;C++)switch(_[C].once&&this.removeListener(f,_[C].fn,void 0,!0),A){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,d);break;case 3:_[C].fn.call(_[C].context,d,p);break;case 4:_[C].fn.call(_[C].context,d,p,v);break;default:if(!T)for(I=1,T=new Array(A-1);I<A;I++)T[I-1]=arguments[I];_[C].fn.apply(_[C].context,T)}}return!0},l.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var y=r?r+f:f;if(!this._events[y])return this;if(!d)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===d&&(!v||w.once)&&(!p||w.context===p)&&s(this,y);else{for(var x=0,_=[],A=w.length;x<A;x++)(w[x].fn!==d||v&&!w[x].once||p&&w[x].context!==p)&&_.push(w[x]);_.length?this._events[y]=_.length===1?_[0]:_:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Nw)),Nw.exports}var bee=_ee();const wee=ft(bee);var jw=new wee,Mw="recharts.syncMouseEvents";function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V$(n.key),n)}}function See(t,e,r){return e&&Eee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dw(t,e,r){return e=V$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V$(t){var e=Aee(t,"string");return th(e)=="symbol"?e:e+""}function Aee(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tee=function(){function t(){xee(this,t),Dw(this,"activeIndex",0),Dw(this,"coordinateList",[]),Dw(this,"layout","horizontal")}return See(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,d=r.offset,p=d===void 0?null:d,v=r.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,v=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])}();function Pee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function Oee(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function F$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=xt(e,r,n,i),l=xt(e,r,n,o);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function Iee(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,v=xt(l,c,f,p),y=xt(l,c,d,p);n=v.x,i=v.y,o=y.x,s=y.y}else return F$(e);return[{x:n,y:i},{x:o,y:s}]}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(n){Cee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cee(t,e,r){return e=kee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kee(t){var e=Ree(t,"string");return rh(e)=="symbol"?e:e+""}function Ree(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nee(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var w,x=bs;if(v==="ScatterChart")w=s,x=zX;else if(v==="BarChart")w=Oee(p,s,c,d),x=KE;else if(p==="radial"){var _=F$(s),A=_.cx,T=_.cy,C=_.radius,M=_.startAngle,I=_.endAngle;w={cx:A,cy:T,startAngle:M,endAngle:I,innerRadius:C,outerRadius:C},x=LL}else w={points:Iee(p,s,c)},x=bs;var N=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},c),w),Ne(y,!1)),{},{payload:l,payloadIndex:f,className:Xe("recharts-tooltip-cursor",y.className)});return W.isValidElement(y)?W.cloneElement(y,N):W.createElement(x,N)}var jee=["item"],Mee=["children","className","width","height","style","compact","title","desc"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(this,arguments)}function gN(t,e){return $ee(t)||Lee(t,e)||U$(t,e)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function $ee(t){if(Array.isArray(t))return t}function vN(t,e){if(t==null)return{};var r=Vee(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q$(n.key),n)}}function Uee(t,e,r){return e&&Bee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qee(t,e,r){return e=Nm(e),zee(t,B$()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function zee(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(t)}function Wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function Hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wx(t,e)}function wx(t,e){return wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wx(t,e)}function Sl(t){return Xee(t)||Gee(t)||U$(t)||Kee()}function Kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U$(t,e){if(t){if(typeof t=="string")return xx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xx(t,e)}}function Gee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xee(t){if(Array.isArray(t))return xx(t)}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=q$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q$(t){var e=Yee(t,"string");return El(e)=="symbol"?e:e+""}function Yee(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qee={xAxis:["bottom","top"],yAxis:["left","right"]},Jee={width:"100%",height:"100%"},z$={x:0,y:0};function hp(t){return t}var Zee=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ete=function(e,r,n,i){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return le(le(le({},i),xt(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return le(le(le({},i),xt(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return z$},Vg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(Sl(l),Sl(f)):l},[]);return s.length>0?s:e&&e.length&&ge(i)&&ge(o)?e.slice(i,o+1):[]};function W$(t){return t==="number"?[0,"auto"]:void 0}var Ex=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,l=Vg(r,e);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var y=p===void 0?l:p;v=Mp(y,s.dataKey,i)}else v=p&&p[n]||l[n];return v?[].concat(Sl(c),[kL(f,v)]):c},[])},_N=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=Zee(o,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=mH(s,l,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,v=Ex(e,r,d,p),y=ete(n,l,d,o);return{activeTooltipIndex:d,activeLabel:p,activePayload:v,activeCoordinate:y}}return null},tte=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=e.stackOffset,y=AL(d,o);return n.reduce(function(w,x){var _,A=x.type.defaultProps!==void 0?le(le({},x.type.defaultProps),x.props):x.props,T=A.type,C=A.dataKey,M=A.allowDataOverflow,I=A.allowDuplicatedCategory,N=A.scale,P=A.ticks,O=A.includeHidden,R=A[s];if(w[R])return w;var F=Vg(e.data,{graphicalItems:i.filter(function(X){var se,ye=s in X.props?X.props[s]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[s];return ye===R}),dataStartIndex:c,dataEndIndex:f}),D=F.length,L,j,J;Pee(A.domain,M,T)&&(L=D1(A.domain,null,M),y&&(T==="number"||N!=="auto")&&(J=cf(F,C,"category")));var Z=W$(T);if(!L||L.length===0){var re,G=(re=A.domain)!==null&&re!==void 0?re:Z;if(C){if(L=cf(F,C,T),T==="category"&&y){var H=lU(L);I&&H?(j=L,L=_m(0,D)):I||(L=vR(G,L,x).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(Sl(X),[se])},[]))}else if(T==="category")I?L=L.filter(function(X){return X!==""&&!Ke(X)}):L=vR(G,L,x).reduce(function(X,se){return X.indexOf(se)>=0||se===""||Ke(se)?X:[].concat(Sl(X),[se])},[]);else if(T==="number"){var Q=bH(F,i.filter(function(X){var se,ye,we=s in X.props?X.props[s]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[s],Se="hide"in X.props?X.props.hide:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return we===R&&(O||!Se)}),C,o,d);Q&&(L=Q)}y&&(T==="number"||N!=="auto")&&(J=cf(F,C,"category"))}else y?L=_m(0,D):l&&l[R]&&l[R].hasStack&&T==="number"?L=v==="expand"?[0,1]:CL(l[R].stackGroups,c,f):L=SL(F,i.filter(function(X){var se=s in X.props?X.props[s]:X.type.defaultProps[s],ye="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===R&&(O||!ye)}),T,d,!0);if(T==="number")L=bx(p,L,R,o,P),G&&(L=D1(G,L,M));else if(T==="category"&&G){var ae=G,U=L.every(function(X){return ae.indexOf(X)>=0});U&&(L=ae)}}return le(le({},w),{},Ve({},R,le(le({},A),{},{axisType:o,domain:L,categoricalDomain:J,duplicateDomain:j,originalDomain:(_=A.domain)!==null&&_!==void 0?_:Z,isCategorical:y,layout:d})))},{})},rte=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=Vg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),y=v.length,w=AL(d,o),x=-1;return n.reduce(function(_,A){var T=A.type.defaultProps!==void 0?le(le({},A.type.defaultProps),A.props):A.props,C=T[s],M=W$("number");if(!_[C]){x++;var I;return w?I=_m(0,y):l&&l[C]&&l[C].hasStack?(I=CL(l[C].stackGroups,c,f),I=bx(p,I,C,o)):(I=D1(M,SL(v,n.filter(function(N){var P,O,R=s in N.props?N.props[s]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[s],F="hide"in N.props?N.props.hide:(O=N.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===C&&!F}),"number",d),i.defaultProps.allowDataOverflow),I=bx(p,I,C,o)),le(le({},_),{},Ve({},C,le(le({axisType:o},i.defaultProps),{},{hide:!0,orientation:dn(Qee,"".concat(o,".").concat(x%2),null),domain:I,originalDomain:M,isCategorical:w,layout:d})))}return _},{})},nte=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.children,p="".concat(i,"Id"),v=pn(d,o),y={};return v&&v.length?y=tte(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=rte(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},ite=function(e){var r=ta(e),n=io(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:sm(r,n)}},bN=function(e){var r=e.children,n=e.defaultShowTooltip,i=cn(r,dl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},ote=function(e){return!e||!e.length?!1:e.some(function(r){var n=uo(r&&r.type);return n&&n.indexOf("Bar")>=0})},wN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ate=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=n.width,d=n.height,p=n.children,v=n.margin||{},y=cn(p,dl),w=cn(p,vs),x=Object.keys(c).reduce(function(I,N){var P=c[N],O=P.orientation;return!P.mirror&&!P.hide?le(le({},I),{},Ve({},O,I[O]+P.width)):I},{left:v.left||0,right:v.right||0}),_=Object.keys(s).reduce(function(I,N){var P=s[N],O=P.orientation;return!P.mirror&&!P.hide?le(le({},I),{},Ve({},O,dn(I,"".concat(O))+P.height)):I},{top:v.top||0,bottom:v.bottom||0}),A=le(le({},_),x),T=A.bottom;y&&(A.bottom+=y.props.height||dl.defaultProps.height),w&&r&&(A=yH(A,i,n,r));var C=f-A.left-A.right,M=d-A.top-A.bottom;return le(le({brushBottom:T},A),{},{width:Math.max(C,0),height:Math.max(M,0)})},ste=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},nS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,v=function(A,T){var C=T.graphicalItems,M=T.stackGroups,I=T.offset,N=T.updateId,P=T.dataStartIndex,O=T.dataEndIndex,R=A.barSize,F=A.layout,D=A.barGap,L=A.barCategoryGap,j=A.maxBarSize,J=wN(F),Z=J.numericAxisName,re=J.cateAxisName,G=ote(C),H=[];return C.forEach(function(Q,ae){var U=Vg(A.data,{graphicalItems:[Q],dataStartIndex:P,dataEndIndex:O}),X=Q.type.defaultProps!==void 0?le(le({},Q.type.defaultProps),Q.props):Q.props,se=X.dataKey,ye=X.maxBarSize,we=X["".concat(Z,"Id")],Se=X["".concat(re,"Id")],je={},ke=c.reduce(function(dr,Zr){var ui=T["".concat(Zr.axisType,"Map")],Li=X["".concat(Zr.axisType,"Id")];ui&&ui[Li]||Zr.axisType==="zAxis"||Ps();var To=ui[Li];return le(le({},dr),{},Ve(Ve({},Zr.axisType,To),"".concat(Zr.axisType,"Ticks"),io(To)))},je),fe=ke[re],Te=ke["".concat(re,"Ticks")],be=M&&M[we]&&M[we].hasStack&&IH(Q,M[we].stackGroups),oe=uo(Q.type).indexOf("Bar")>=0,Be=sm(fe,Te),xe=[],We=G&&gH({barSize:R,stackGroups:M,totalSize:ste(ke,re)});if(oe){var Qe,ht,vt=Ke(ye)?j:ye,Ct=(Qe=(ht=sm(fe,Te,!0))!==null&&ht!==void 0?ht:vt)!==null&&Qe!==void 0?Qe:0;xe=vH({barGap:D,barCategoryGap:L,bandSize:Ct!==Be?Ct:Be,sizeList:We[Se],maxBarSize:vt}),Ct!==Be&&(xe=xe.map(function(dr){return le(le({},dr),{},{position:le(le({},dr.position),{},{offset:dr.position.offset-Ct/2})})}))}var Er=Q&&Q.type&&Q.type.getComposedData;Er&&H.push({props:le(le({},Er(le(le({},ke),{},{displayedData:U,props:A,dataKey:se,item:Q,bandSize:Be,barPosition:xe,offset:I,stackedData:be,layout:F,dataStartIndex:P,dataEndIndex:O}))),{},Ve(Ve(Ve({key:Q.key||"item-".concat(ae)},Z,ke[Z]),re,ke[re]),"animationId",N)),childIndex:wU(Q,A.children),item:Q})}),H},y=function(A,T){var C=A.props,M=A.dataStartIndex,I=A.dataEndIndex,N=A.updateId;if(!RO({props:C}))return null;var P=C.children,O=C.layout,R=C.stackOffset,F=C.data,D=C.reverseStackOrder,L=wN(O),j=L.numericAxisName,J=L.cateAxisName,Z=pn(P,n),re=PH(F,Z,"".concat(j,"Id"),"".concat(J,"Id"),R,D),G=c.reduce(function(X,se){var ye="".concat(se.axisType,"Map");return le(le({},X),{},Ve({},ye,nte(C,le(le({},se),{},{graphicalItems:Z,stackGroups:se.axisType===j&&re,dataStartIndex:M,dataEndIndex:I}))))},{}),H=ate(le(le({},G),{},{props:C,graphicalItems:Z}),T==null?void 0:T.legendBBox);Object.keys(G).forEach(function(X){G[X]=d(C,G[X],H,X.replace("Map",""),r)});var Q=G["".concat(J,"Map")],ae=ite(Q),U=v(C,le(le({},G),{},{dataStartIndex:M,dataEndIndex:I,updateId:N,graphicalItems:Z,stackGroups:re,offset:H}));return le(le({formattedGraphicalItems:U,graphicalItems:Z,offset:H,stackGroups:re},ae),G)},w=function(_){function A(T){var C,M,I;return Fee(this,A),I=qee(this,A,[T]),Ve(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(I,"accessibilityManager",new Tee),Ve(I,"handleLegendBBoxUpdate",function(N){if(N){var P=I.state,O=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;I.setState(le({legendBBox:N},y({props:I.props,dataStartIndex:O,dataEndIndex:R,updateId:F},le(le({},I.state),{},{legendBBox:N}))))}}),Ve(I,"handleReceiveSyncEvent",function(N,P,O){if(I.props.syncId===N){if(O===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(P)}}),Ve(I,"handleBrushChange",function(N){var P=N.startIndex,O=N.endIndex;if(P!==I.state.dataStartIndex||O!==I.state.dataEndIndex){var R=I.state.updateId;I.setState(function(){return le({dataStartIndex:P,dataEndIndex:O},y({props:I.props,dataStartIndex:P,dataEndIndex:O,updateId:R},I.state))}),I.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),Ve(I,"handleMouseEnter",function(N){var P=I.getMouseInfo(N);if(P){var O=le(le({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var R=I.props.onMouseEnter;Fe(R)&&R(O,N)}}),Ve(I,"triggeredAfterMouseMove",function(N){var P=I.getMouseInfo(N),O=P?le(le({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(O),I.triggerSyncEvent(O);var R=I.props.onMouseMove;Fe(R)&&R(O,N)}),Ve(I,"handleItemMouseEnter",function(N){I.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ve(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),Ve(I,"handleMouseMove",function(N){N.persist(),I.throttleTriggeredAfterMouseMove(N)}),Ve(I,"handleMouseLeave",function(N){I.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var O=I.props.onMouseLeave;Fe(O)&&O(P,N)}),Ve(I,"handleOuterEvent",function(N){var P=bU(N),O=dn(I.props,"".concat(P));if(P&&Fe(O)){var R,F;/.*touch.*/i.test(P)?F=I.getMouseInfo(N.changedTouches[0]):F=I.getMouseInfo(N),O((R=F)!==null&&R!==void 0?R:{},N)}}),Ve(I,"handleClick",function(N){var P=I.getMouseInfo(N);if(P){var O=le(le({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var R=I.props.onClick;Fe(R)&&R(O,N)}}),Ve(I,"handleMouseDown",function(N){var P=I.props.onMouseDown;if(Fe(P)){var O=I.getMouseInfo(N);P(O,N)}}),Ve(I,"handleMouseUp",function(N){var P=I.props.onMouseUp;if(Fe(P)){var O=I.getMouseInfo(N);P(O,N)}}),Ve(I,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ve(I,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseDown(N.changedTouches[0])}),Ve(I,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseUp(N.changedTouches[0])}),Ve(I,"handleDoubleClick",function(N){var P=I.props.onDoubleClick;if(Fe(P)){var O=I.getMouseInfo(N);P(O,N)}}),Ve(I,"handleContextMenu",function(N){var P=I.props.onContextMenu;if(Fe(P)){var O=I.getMouseInfo(N);P(O,N)}}),Ve(I,"triggerSyncEvent",function(N){I.props.syncId!==void 0&&jw.emit(Mw,I.props.syncId,N,I.eventEmitterSymbol)}),Ve(I,"applySyncEvent",function(N){var P=I.props,O=P.layout,R=P.syncMethod,F=I.state.updateId,D=N.dataStartIndex,L=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)I.setState(le({dataStartIndex:D,dataEndIndex:L},y({props:I.props,dataStartIndex:D,dataEndIndex:L,updateId:F},I.state)));else if(N.activeTooltipIndex!==void 0){var j=N.chartX,J=N.chartY,Z=N.activeTooltipIndex,re=I.state,G=re.offset,H=re.tooltipTicks;if(!G)return;if(typeof R=="function")Z=R(H,N);else if(R==="value"){Z=-1;for(var Q=0;Q<H.length;Q++)if(H[Q].value===N.activeLabel){Z=Q;break}}var ae=le(le({},G),{},{x:G.left,y:G.top}),U=Math.min(j,ae.x+ae.width),X=Math.min(J,ae.y+ae.height),se=H[Z]&&H[Z].value,ye=Ex(I.state,I.props.data,Z),we=H[Z]?{x:O==="horizontal"?H[Z].coordinate:U,y:O==="horizontal"?X:H[Z].coordinate}:z$;I.setState(le(le({},N),{},{activeLabel:se,activeCoordinate:we,activePayload:ye,activeTooltipIndex:Z}))}else I.setState(N)}),Ve(I,"renderCursor",function(N){var P,O=I.state,R=O.isTooltipActive,F=O.activeCoordinate,D=O.activePayload,L=O.offset,j=O.activeTooltipIndex,J=O.tooltipAxisBandSize,Z=I.getTooltipEventType(),re=(P=N.props.active)!==null&&P!==void 0?P:R,G=I.props.layout,H=N.key||"_recharts-cursor";return z.createElement(Nee,{key:H,activeCoordinate:F,activePayload:D,activeTooltipIndex:j,chartName:r,element:N,isActive:re,layout:G,offset:L,tooltipAxisBandSize:J,tooltipEventType:Z})}),Ve(I,"renderPolarAxis",function(N,P,O){var R=dn(N,"type.axisType"),F=dn(I.state,"".concat(R,"Map")),D=N.type.defaultProps,L=D!==void 0?le(le({},D),N.props):N.props,j=F&&F[L["".concat(R,"Id")]];return W.cloneElement(N,le(le({},j),{},{className:Xe(R,j.className),key:N.key||"".concat(P,"-").concat(O),ticks:io(j,!0)}))}),Ve(I,"renderPolarGrid",function(N){var P=N.props,O=P.radialLines,R=P.polarAngles,F=P.polarRadius,D=I.state,L=D.radiusAxisMap,j=D.angleAxisMap,J=ta(L),Z=ta(j),re=Z.cx,G=Z.cy,H=Z.innerRadius,Q=Z.outerRadius;return W.cloneElement(N,{polarAngles:Array.isArray(R)?R:io(Z,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:io(J,!0).map(function(ae){return ae.coordinate}),cx:re,cy:G,innerRadius:H,outerRadius:Q,key:N.key||"polar-grid",radialLines:O})}),Ve(I,"renderLegend",function(){var N=I.state.formattedGraphicalItems,P=I.props,O=P.children,R=P.width,F=P.height,D=I.props.margin||{},L=R-(D.left||0)-(D.right||0),j=xL({children:O,formattedGraphicalItems:N,legendWidth:L,legendContent:f});if(!j)return null;var J=j.item,Z=vN(j,jee);return W.cloneElement(J,le(le({},Z),{},{chartWidth:R,chartHeight:F,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),Ve(I,"renderTooltip",function(){var N,P=I.props,O=P.children,R=P.accessibilityLayer,F=cn(O,fn);if(!F)return null;var D=I.state,L=D.isTooltipActive,j=D.activeCoordinate,J=D.activePayload,Z=D.activeLabel,re=D.offset,G=(N=F.props.active)!==null&&N!==void 0?N:L;return W.cloneElement(F,{viewBox:le(le({},re),{},{x:re.left,y:re.top}),active:G,label:Z,payload:G?J:[],coordinate:j,accessibilityLayer:R})}),Ve(I,"renderBrush",function(N){var P=I.props,O=P.margin,R=P.data,F=I.state,D=F.offset,L=F.dataStartIndex,j=F.dataEndIndex,J=F.updateId;return W.cloneElement(N,{key:N.key||"_recharts-brush",onChange:sp(I.handleBrushChange,N.props.onChange),data:R,x:ge(N.props.x)?N.props.x:D.left,y:ge(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:ge(N.props.width)?N.props.width:D.width,startIndex:L,endIndex:j,updateId:"brush-".concat(J)})}),Ve(I,"renderReferenceElement",function(N,P,O){if(!N)return null;var R=I,F=R.clipPathId,D=I.state,L=D.xAxisMap,j=D.yAxisMap,J=D.offset,Z=N.type.defaultProps||{},re=N.props,G=re.xAxisId,H=G===void 0?Z.xAxisId:G,Q=re.yAxisId,ae=Q===void 0?Z.yAxisId:Q;return W.cloneElement(N,{key:N.key||"".concat(P,"-").concat(O),xAxis:L[H],yAxis:j[ae],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:F})}),Ve(I,"renderActivePoints",function(N){var P=N.item,O=N.activePoint,R=N.basePoint,F=N.childIndex,D=N.isRange,L=[],j=P.props.key,J=P.item.type.defaultProps!==void 0?le(le({},P.item.type.defaultProps),P.item.props):P.item.props,Z=J.activeDot,re=J.dataKey,G=le(le({index:F,dataKey:re,cx:O.x,cy:O.y,r:4,fill:HE(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ne(Z,!1)),Dp(Z));return L.push(A.renderActiveDot(Z,G,"".concat(j,"-activePoint-").concat(F))),R?L.push(A.renderActiveDot(Z,le(le({},G),{},{cx:R.x,cy:R.y}),"".concat(j,"-basePoint-").concat(F))):D&&L.push(null),L}),Ve(I,"renderGraphicChild",function(N,P,O){var R=I.filterFormatItem(N,P,O);if(!R)return null;var F=I.getTooltipEventType(),D=I.state,L=D.isTooltipActive,j=D.tooltipAxis,J=D.activeTooltipIndex,Z=D.activeLabel,re=I.props.children,G=cn(re,fn),H=R.props,Q=H.points,ae=H.isRange,U=H.baseLine,X=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,se=X.activeDot,ye=X.hide,we=X.activeBar,Se=X.activeShape,je=!!(!ye&&L&&G&&(se||we||Se)),ke={};F!=="axis"&&G&&G.props.trigger==="click"?ke={onClick:sp(I.handleItemMouseEnter,N.props.onClick)}:F!=="axis"&&(ke={onMouseLeave:sp(I.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:sp(I.handleItemMouseEnter,N.props.onMouseEnter)});var fe=W.cloneElement(N,le(le({},R.props),ke));function Te(Zr){return typeof j.dataKey=="function"?j.dataKey(Zr.payload):null}if(je)if(J>=0){var be,oe;if(j.dataKey&&!j.allowDuplicatedCategory){var Be=typeof j.dataKey=="function"?Te:"payload.".concat(j.dataKey.toString());be=Mp(Q,Be,Z),oe=ae&&U&&Mp(U,Be,Z)}else be=Q==null?void 0:Q[J],oe=ae&&U&&U[J];if(Se||we){var xe=N.props.activeIndex!==void 0?N.props.activeIndex:J;return[W.cloneElement(N,le(le(le({},R.props),ke),{},{activeIndex:xe})),null,null]}if(!Ke(be))return[fe].concat(Sl(I.renderActivePoints({item:R,activePoint:be,basePoint:oe,childIndex:J,isRange:ae})))}else{var We,Qe=(We=I.getItemByXY(I.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:fe},ht=Qe.graphicalItem,vt=ht.item,Ct=vt===void 0?N:vt,Er=ht.childIndex,dr=le(le(le({},R.props),ke),{},{activeIndex:Er});return[W.cloneElement(Ct,dr),null,null]}return ae?[fe,null,null]:[fe,null]}),Ve(I,"renderCustomized",function(N,P,O){return W.cloneElement(N,le(le({key:"recharts-customized-".concat(O)},I.props),I.state))}),Ve(I,"renderMap",{CartesianGrid:{handler:hp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:hp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:hp},YAxis:{handler:hp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((C=T.id)!==null&&C!==void 0?C:Ds("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=wD(I.triggeredAfterMouseMove,(M=T.throttleDelay)!==null&&M!==void 0?M:1e3/60),I.state={},I}return Hee(A,_),Uee(A,[{key:"componentDidMount",value:function(){var C,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,M=C.children,I=C.data,N=C.height,P=C.layout,O=cn(M,fn);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,D=Ex(this.state,I,R,F),L=this.state.tooltipTicks[R].coordinate,j=(this.state.offset.top+N)/2,J=P==="horizontal",Z=J?{x:L,y:j}:{y:L,x:j},re=this.state.formattedGraphicalItems.find(function(H){var Q=H.item;return Q.type.name==="Scatter"});re&&(Z=le(le({},Z),re.props.points[R].tooltipPosition),D=re.props.points[R].tooltipPayload);var G={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:Z};this.setState(G),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var I,N;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(C){i1([cn(C.children,fn)],[cn(this.props.children,fn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=cn(this.props.children,fn);if(C&&typeof C.props.shared=="boolean"){var M=C.props.shared?"axis":"item";return l.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var M=this.container,I=M.getBoundingClientRect(),N=sz(I),P={chartX:Math.round(C.pageX-N.left),chartY:Math.round(C.pageY-N.top)},O=I.width/M.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,O);if(!R)return null;var F=this.state,D=F.xAxisMap,L=F.yAxisMap,j=this.getTooltipEventType(),J=_N(this.state,this.props.data,this.props.layout,R);if(j!=="axis"&&D&&L){var Z=ta(D).scale,re=ta(L).scale,G=Z&&Z.invert?Z.invert(P.chartX):null,H=re&&re.invert?re.invert(P.chartY):null;return le(le({},P),{},{xValue:G,yValue:H},J)}return J?le(le({},P),J):null}},{key:"inRange",value:function(C,M){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=C/I,O=M/I;if(N==="horizontal"||N==="vertical"){var R=this.state.offset,F=P>=R.left&&P<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return F?{x:P,y:O}:null}var D=this.state,L=D.angleAxisMap,j=D.radiusAxisMap;if(L&&j){var J=ta(L);return bR({x:P,y:O},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,M=this.getTooltipEventType(),I=cn(C,fn),N={};I&&M==="axis"&&(I.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Dp(this.props,this.handleOuterEvent);return le(le({},P),N)}},{key:"addListener",value:function(){jw.on(Mw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jw.removeListener(Mw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,M,I){for(var N=this.state.formattedGraphicalItems,P=0,O=N.length;P<O;P++){var R=N[P];if(R.item===C||R.props.key===C.key||M===uo(R.item.type)&&I===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,M=this.state.offset,I=M.left,N=M.top,P=M.height,O=M.width;return z.createElement("defs",null,z.createElement("clipPath",{id:C},z.createElement("rect",{x:I,y:N,height:P,width:O})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(M,I){var N=gN(I,2),P=N[0],O=N[1];return le(le({},M),{},Ve({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(M,I){var N=gN(I,2),P=N[0],O=N[1];return le(le({},M),{},Ve({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[C])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(C){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[C])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(C){var M=this.state,I=M.formattedGraphicalItems,N=M.activeItem;if(I&&I.length)for(var P=0,O=I.length;P<O;P++){var R=I[P],F=R.props,D=R.item,L=D.type.defaultProps!==void 0?le(le({},D.type.defaultProps),D.props):D.props,j=uo(D.type);if(j==="Bar"){var J=(F.data||[]).find(function(H){return SX(C,H)});if(J)return{graphicalItem:R,payload:J}}else if(j==="RadialBar"){var Z=(F.data||[]).find(function(H){return bR(C,H)});if(Z)return{graphicalItem:R,payload:Z}}else if(kg(R,N)||Rg(R,N)||Yf(R,N)){var re=GY({graphicalItem:R,activeTooltipItem:N,itemData:L.data}),G=L.activeIndex===void 0?re:L.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:G}),payload:Yf(R,N)?L.data[re]:R.props.data[re]}}}return null}},{key:"render",value:function(){var C=this;if(!RO(this))return null;var M=this.props,I=M.children,N=M.className,P=M.width,O=M.height,R=M.style,F=M.compact,D=M.title,L=M.desc,j=vN(M,Mee),J=Ne(j,!1);if(F)return z.createElement(X2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(a1,zu({},J,{width:P,height:O,title:D,desc:L}),this.renderClipPath(),jO(I,this.renderMap)));if(this.props.accessibilityLayer){var Z,re;J.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,J.role=(re=this.props.role)!==null&&re!==void 0?re:"application",J.onKeyDown=function(H){C.accessibilityManager.keyboardEvent(H)},J.onFocus=function(){C.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return z.createElement(X2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",zu({className:Xe("recharts-wrapper",N),style:le({position:"relative",cursor:"default",width:P,height:O},R)},G,{ref:function(Q){C.container=Q}}),z.createElement(a1,zu({},J,{width:P,height:O,title:D,desc:L,style:Jee}),this.renderClipPath(),jO(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(W.Component);Ve(w,"displayName",r),Ve(w,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ve(w,"getDerivedStateFromProps",function(_,A){var T=_.dataKey,C=_.data,M=_.children,I=_.width,N=_.height,P=_.layout,O=_.stackOffset,R=_.margin,F=A.dataStartIndex,D=A.dataEndIndex;if(A.updateId===void 0){var L=bN(_);return le(le(le({},L),{},{updateId:0},y(le(le({props:_},L),{},{updateId:0}),A)),{},{prevDataKey:T,prevData:C,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:R,prevChildren:M})}if(T!==A.prevDataKey||C!==A.prevData||I!==A.prevWidth||N!==A.prevHeight||P!==A.prevLayout||O!==A.prevStackOffset||!Hu(R,A.prevMargin)){var j=bN(_),J={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},Z=le(le({},_N(A,C,P)),{},{updateId:A.updateId+1}),re=le(le(le({},j),J),Z);return le(le(le({},re),y(le({props:_},re),A)),{},{prevDataKey:T,prevData:C,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:R,prevChildren:M})}if(!i1(M,A.prevChildren)){var G,H,Q,ae,U=cn(M,dl),X=U&&(G=(H=U.props)===null||H===void 0?void 0:H.startIndex)!==null&&G!==void 0?G:F,se=U&&(Q=(ae=U.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&Q!==void 0?Q:D,ye=X!==F||se!==D,we=!Ke(C),Se=we&&!ye?A.updateId:A.updateId+1;return le(le({updateId:Se},y(le(le({props:_},A),{},{updateId:Se,dataStartIndex:X,dataEndIndex:se}),A)),{},{prevChildren:M,dataStartIndex:X,dataEndIndex:se})}return null}),Ve(w,"renderActiveDot",function(_,A,T){var C;return W.isValidElement(_)?C=W.cloneElement(_,A):Fe(_)?C=_(A):C=z.createElement(Ah,A),z.createElement(Ze,{className:"recharts-active-dot",key:T},C)});var x=W.forwardRef(function(A,T){return z.createElement(w,zu({},A,{ref:T}))});return x.displayName=w.displayName,x},xN=nS({chartName:"BarChart",GraphicalChild:va,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ws},{axisType:"yAxis",AxisComp:ua}],formatAxisMap:s$}),ute=nS({chartName:"PieChart",GraphicalChild:So,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Cg},{axisType:"radiusAxis",AxisComp:Og}],formatAxisMap:VH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),lte=nS({chartName:"AreaChart",GraphicalChild:Ia,axisComponents:[{axisType:"xAxis",AxisComp:ws},{axisType:"yAxis",AxisComp:ua}],formatAxisMap:s$});const Qo={primary:"#3B82F6",secondary:"#10B981",warning:"#F59E0B",danger:"#EF4444",purple:"#8B5CF6"},cte=()=>{const{products:t,sales:e}=vh(),r=W.useMemo(()=>{const l=Object.values(t),c=l.filter(p=>p.stock<=5).length,f=l.filter(p=>p.stock>5&&p.stock<=15).length,d=l.filter(p=>p.stock>15).length;return[{name:"Stock Crítico (≤5)",value:c,color:Qo.danger},{name:"Stock Medio (6-15)",value:f,color:Qo.warning},{name:"Stock Alto (>15)",value:d,color:Qo.secondary}]},[t]),n=W.useMemo(()=>{const l={};return Object.values(t).forEach(c=>{const f=c.categoria||"Sin Categoría",d=c.stock*c.precio_costo,p=c.stock*c.precio_venta,v=p-d;l[f]||(l[f]={costo:0,venta:0,ganancia:0}),l[f].costo+=d,l[f].venta+=p,l[f].ganancia+=v}),Object.entries(l).map(([c,f])=>({categoria:c,valor_costo:Math.round(f.costo*100)/100,valor_venta:Math.round(f.venta*100)/100,ganancia_potencial:Math.round(f.ganancia*100)/100}))},[t]),i=W.useMemo(()=>{const l=Object.keys(t).length,c=e.reduce((v,y)=>v+y.cantidad_vendida,0),f=e.reduce((v,y)=>v+y.total_linea,0),d=Object.values(t).filter(v=>v.stock<=5).length,p=e.reduce((v,y)=>{const w=Object.values(t).find(x=>x.codigo===y.codigo_barra);if(w){const x=w.precio_costo*y.cantidad_vendida;return v+(y.total_linea-x)}return v},0);return{totalProductos:l,totalVentas:c,ingresosTotales:Math.round(f*100)/100,gananciaReal:Math.round(p*100)/100,productosStockBajo:d}},[t,e]),o=W.useMemo(()=>{const l=new Date;return Array.from({length:7},(d,p)=>{const v=new Date(l);return v.setDate(v.getDate()-p),v.toISOString().split("T")[0]}).reverse().map(d=>{const p=e.filter(w=>w.fecha_hora.startsWith(d)),v=p.reduce((w,x)=>w+x.cantidad_vendida,0),y=p.reduce((w,x)=>{const _=Object.values(t).find(A=>A.codigo===x.codigo_barra);return w+(_?_.precio*x.cantidad_vendida:0)},0);return{fecha:new Date(d).toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),ventas:v,ingresos:Math.round(y*100)/100}})},[e,t]),s=W.useMemo(()=>{const l={};return e.forEach(c=>{const f=Object.values(t).find(d=>d.codigo===c.codigo_barra);f&&(l[c.codigo_barra]||(l[c.codigo_barra]={nombre:f.nombre,cantidad:0,ingresos:0}),l[c.codigo_barra].cantidad+=c.cantidad_vendida,l[c.codigo_barra].ingresos+=f.precio*c.cantidad_vendida)}),Object.values(l).sort((c,f)=>f.cantidad-c.cantidad).slice(0,5).map(c=>({...c,ingresos:Math.round(c.ingresos*100)/100}))},[e,t]);return V.jsxs("div",{className:"space-y-6",children:[V.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"📊 Dashboard del Kiosko"}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[V.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-lg text-white",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-blue-100 text-sm",children:"Total Productos"}),V.jsx("p",{className:"text-2xl font-bold",children:i.totalProductos})]}),V.jsx(vB,{className:"h-8 w-8 text-blue-200"})]})}),V.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-lg text-white",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-green-100 text-sm",children:"Total Ventas"}),V.jsx("p",{className:"text-2xl font-bold",children:i.totalVentas})]}),V.jsx(t1,{className:"h-8 w-8 text-green-200"})]})}),V.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-lg text-white",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-purple-100 text-sm",children:"Ingresos Totales"}),V.jsxs("p",{className:"text-2xl font-bold",children:["$",i.ingresosTotales]})]}),V.jsx(e1,{className:"h-8 w-8 text-purple-200"})]})}),V.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 p-4 rounded-lg text-white",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-red-100 text-sm",children:"Stock Crítico"}),V.jsx("p",{className:"text-2xl font-bold",children:i.productosStockBajo})]}),V.jsx(Zw,{className:"h-8 w-8 text-red-200"})]})}),V.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 p-4 rounded-lg text-white",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-yellow-100 text-sm",children:"Ganancia Real"}),V.jsxs("p",{className:"text-2xl font-bold",children:["$",i.gananciaReal]})]}),V.jsx(xP,{className:"h-8 w-8 text-yellow-200"})]})})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[V.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(Zw,{className:"text-orange-500",size:20}),"Estado del Stock"]}),V.jsx(rp,{width:"100%",height:300,children:V.jsxs(ute,{children:[V.jsx(So,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:c})=>`${l}: ${c}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:r.map((l,c)=>V.jsx(gg,{fill:l.color},`cell-${c}`))}),V.jsx(fn,{})]})})]}),V.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(e1,{className:"text-green-500",size:20}),"Valor por Categoría"]}),V.jsx(rp,{width:"100%",height:300,children:V.jsxs(xN,{data:n,children:[V.jsx(xp,{strokeDasharray:"3 3"}),V.jsx(ws,{dataKey:"categoria"}),V.jsx(ua,{}),V.jsx(fn,{formatter:l=>[`$${l}`,"Valor"]}),V.jsx(va,{dataKey:"valor",fill:Qo.secondary,radius:[4,4,0,0]})]})})]}),V.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(xP,{className:"text-blue-500",size:20}),"Ventas Últimos 7 Días"]}),V.jsx(rp,{width:"100%",height:300,children:V.jsxs(lte,{data:o,children:[V.jsx(xp,{strokeDasharray:"3 3"}),V.jsx(ws,{dataKey:"fecha"}),V.jsx(ua,{yAxisId:"left"}),V.jsx(ua,{yAxisId:"right",orientation:"right"}),V.jsx(fn,{}),V.jsx(vs,{}),V.jsx(Ia,{yAxisId:"left",type:"monotone",dataKey:"ventas",stackId:"1",stroke:Qo.primary,fill:Qo.primary,fillOpacity:.6,name:"Cantidad Vendida"}),V.jsx($g,{yAxisId:"right",type:"monotone",dataKey:"ingresos",stroke:Qo.secondary,strokeWidth:3,name:"Ingresos ($)"})]})})]}),V.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(t1,{className:"text-purple-500",size:20}),"Top 5 Productos Más Vendidos"]}),V.jsx(rp,{width:"100%",height:300,children:V.jsxs(xN,{data:s,layout:"horizontal",children:[V.jsx(xp,{strokeDasharray:"3 3"}),V.jsx(ws,{type:"number"}),V.jsx(ua,{dataKey:"nombre",type:"category",width:100}),V.jsx(fn,{}),V.jsx(va,{dataKey:"cantidad",fill:Qo.purple,radius:[0,4,4,0]})]})})]})]})]})},to=({label:t,id:e,type:r="text",value:n,onChange:i,placeholder:o="",required:s=!1,error:l,maxLength:c,step:f})=>V.jsxs("div",{className:"mb-4",children:[V.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",s&&V.jsx("span",{className:"text-red-500",children:"*"})]}),V.jsx("input",{id:e,type:r,value:n,onChange:i,placeholder:o,required:s,maxLength:c,step:f,className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"border-red-500":"border-gray-300"}`}),l&&V.jsx("p",{className:"mt-1 text-sm text-red-500",children:l})]}),In=({children:t,onClick:e,type:r="button",variant:n="primary",disabled:i=!1,className:o=""})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center justify-center gap-2",l={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"};return V.jsx("button",{type:r,onClick:e,disabled:i,className:`${s} ${l[n]} ${i?"opacity-50 cursor-not-allowed":""} ${o}`,children:t})},fte=({type:t,message:e,onClose:r,duration:n=3e3})=>{W.useEffect(()=>{const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]);const i={success:V.jsx(gM,{size:20,className:"text-green-500"}),error:V.jsx(_B,{size:20,className:"text-red-500"}),warning:V.jsx(jp,{size:20,className:"text-yellow-500"}),info:V.jsx(jp,{size:20,className:"text-blue-500"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return V.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md shadow-md border ${o[t]} max-w-md animate-fade-in-up`,children:V.jsxs("div",{className:"flex items-start",children:[V.jsx("div",{className:"flex-shrink-0",children:i[t]}),V.jsx("div",{className:"ml-3 flex-1",children:V.jsx("p",{className:"text-sm font-medium text-gray-800",children:e})}),V.jsx("button",{onClick:r,className:"ml-4 text-gray-400 hover:text-gray-500 focus:outline-none",children:V.jsx(bB,{size:16})})]})})},H$=W.createContext(void 0),K$=()=>{const t=W.useContext(H$);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},hte=({children:t})=>{const[e,r]=W.useState([]),n=(o,s)=>{const l=Math.random().toString(36).substring(2,9);r(c=>[...c,{id:l,message:o,type:s}])},i=o=>{r(s=>s.filter(l=>l.id!==o))};return V.jsxs(H$.Provider,{value:{showToast:n},children:[t,e.map(o=>V.jsx(fte,{type:o.type,message:o.message,onClose:()=>i(o.id)},o.id))]})},dte=()=>{const{products:t,addProduct:e,updateProduct:r}=vh(),{showToast:n}=K$(),i=W.useRef(null),[o,s]=W.useState(""),[l,c]=W.useState(""),[f,d]=W.useState(""),[p,v]=W.useState(""),[y,w]=W.useState(""),[x,_]=W.useState("Sin Categoría"),[A,T]=W.useState({}),[C,M]=W.useState(!1),[I,N]=W.useState(!1),[P,O]=W.useState(!1),R=()=>{const G={};if(o?/^\d{13}$/.test(o)||(G.codigo="El código debe tener 13 dígitos numéricos"):G.codigo="El código de barras es obligatorio",l?l.length>50&&(G.nombre="El nombre no puede exceder los 50 caracteres"):G.nombre="El nombre del producto es obligatorio",!f)G.stock="El stock inicial es obligatorio";else{const H=parseInt(f);(isNaN(H)||H<=0)&&(G.stock="El stock debe ser un número entero positivo")}if(!p)G.precio_costo="El precio de costo es obligatorio";else{const H=parseFloat(p);(isNaN(H)||H<=0)&&(G.precio_costo="El precio de costo debe ser un número positivo")}if(!y)G.precio_venta="El precio de venta es obligatorio";else{const H=parseFloat(y),Q=parseFloat(p);isNaN(H)||H<=0?G.precio_venta="El precio de venta debe ser un número positivo":!isNaN(Q)&&H<=Q&&(G.precio_venta="El precio de venta debe ser mayor al precio de costo")}return x.trim()||(G.categoria="La categoría es obligatoria"),T(G),Object.keys(G).length===0},F=()=>{const G=parseFloat(p),H=parseFloat(y);return!isNaN(G)&&!isNaN(H)&&G>0?((H-G)/G*100).toFixed(1):"0"},D=(G,H)=>{const Q=[];return(!G.codigo||!/^\d{13}$/.test(G.codigo))&&Q.push(`Línea ${H}: Código de barras inválido (debe tener 13 dígitos)`),(!G.nombre||G.nombre.length>50)&&Q.push(`Línea ${H}: Nombre inválido (obligatorio, máximo 50 caracteres)`),(isNaN(parseInt(G.stock))||parseInt(G.stock)<0)&&Q.push(`Línea ${H}: Stock inválido (debe ser un número entero positivo)`),(isNaN(parseFloat(G.precio_costo))||parseFloat(G.precio_costo)<=0)&&Q.push(`Línea ${H}: Precio de costo inválido (debe ser un número positivo)`),(isNaN(parseFloat(G.precio_venta))||parseFloat(G.precio_venta)<=0)&&Q.push(`Línea ${H}: Precio de venta inválido (debe ser un número positivo)`),parseFloat(G.precio_venta)<=parseFloat(G.precio_costo)&&Q.push(`Línea ${H}: El precio de venta debe ser mayor al precio de costo`),Q},L=G=>{const H={success:0,errors:[],warnings:[]};try{const Q=G.trim().split(`
`);if(Q.length<2)return H.errors.push("El archivo CSV debe contener al menos una línea de encabezados y una línea de datos"),H;const ae=Q[0].split(",").map(se=>se.trim().toLowerCase()),U=["codigo","nombre","stock","precio_costo","precio_venta","categoria"],X=U.filter(se=>!ae.includes(se));if(X.length>0)return H.errors.push(`Encabezados faltantes: ${X.join(", ")}`),H;for(let se=1;se<Q.length;se++){const ye=Q[se].trim();if(!ye)continue;const we=ye.split(",").map(fe=>fe.trim().replace(/^"|"$/g,""));if(we.length<U.length){H.errors.push(`Línea ${se+1}: Número insuficiente de columnas`);continue}const Se={};ae.forEach((fe,Te)=>{Se[fe]=we[Te]||""});const je=D(Se,se+1);if(je.length>0){H.errors.push(...je);continue}const ke={codigo:Se.codigo,nombre:Se.nombre,stock:parseInt(Se.stock),precio_costo:parseFloat(Se.precio_costo),precio_venta:parseFloat(Se.precio_venta),categoria:Se.categoria||"Sin Categoría",imagen:Se.imagen||"",stockMinimo:parseInt(Se.stockminimo)||5,precio:parseFloat(Se.precio_venta)};t[ke.codigo]?(H.warnings.push(`Línea ${se+1}: Producto ${ke.codigo} ya existe, se actualizará`),r(ke)):e(ke),H.success++}}catch(Q){H.errors.push(`Error al procesar el archivo: ${Q}`)}return H},j=G=>{var ae;const H=(ae=G.target.files)==null?void 0:ae[0];if(!H)return;if(!H.name.toLowerCase().endsWith(".csv")){n("Por favor seleccione un archivo CSV válido","error");return}O(!0);const Q=new FileReader;Q.onload=U=>{var X;try{const se=(X=U.target)==null?void 0:X.result,ye=L(se);if(ye.errors.length>0)n(`Errores encontrados:
${ye.errors.slice(0,3).join(`
`)}${ye.errors.length>3?`
...`:""}`,"error");else{let we=`✅ ${ye.success} productos importados exitosamente`;ye.warnings.length>0&&(we+=`
⚠️ ${ye.warnings.length} advertencias`),n(we,"success")}}catch{n("Error al leer el archivo CSV","error")}finally{O(!1),i.current&&(i.current.value="")}},Q.onerror=()=>{n("Error al leer el archivo","error"),O(!1)},Q.readAsText(H)},J=()=>{const G=["codigo,nombre,stock,precio_costo,precio_venta,categoria",'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas','1234567890124,"Papas Fritas",30,45.50,75.00,Snacks','1234567890125,"Agua Mineral",100,25.00,40.00,Bebidas'].join(`
`),H=new Blob([G],{type:"text/csv;charset=utf-8;"}),Q=document.createElement("a"),ae=URL.createObjectURL(H);Q.setAttribute("href",ae),Q.setAttribute("download","ejemplo_productos.csv"),Q.style.visibility="hidden",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},Z=G=>{if(G.preventDefault(),!R())return;const H={codigo:o,nombre:l,stock:parseInt(f),precio_costo:parseFloat(p),precio_venta:parseFloat(y),categoria:x,imagen:"",stockMinimo:5,precio:parseFloat(y)};if(!!t[o]&&!C){M(!0),n("Este producto ya existe. Modifique los datos para actualizarlo.","info");return}C?(r(H),n("Producto actualizado exitosamente","success")):(e(H),n("Producto registrado exitosamente","success")),s(""),c(""),d(""),v(""),w(""),_("Sin Categoría"),M(!1)},re=G=>{const H=G.target.value;if(s(H),H.length===13&&t[H]){const Q=t[H];c(Q.nombre),d(Q.stock.toString()),v(Q.precio_costo.toString()),w(Q.precio_venta.toString()),_(Q.categoria),M(!0),n("Producto encontrado. Los campos han sido actualizados.","info")}else C&&M(!1)};return V.jsxs("div",{children:[V.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestión de Productos"}),V.jsxs("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[V.jsxs("div",{className:"flex items-center justify-between mb-4",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(EP,{className:"text-blue-600",size:20}),V.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Importar Productos desde CSV"})]}),V.jsxs("button",{onClick:()=>N(!I),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm",children:[V.jsx(_P,{size:16}),I?"Ocultar":"Ver"," Tutorial"]})]}),V.jsxs("div",{className:"flex gap-4 mb-4",children:[V.jsx("input",{ref:i,type:"file",accept:".csv",onChange:j,className:"hidden",disabled:P}),V.jsx(In,{onClick:()=>{var G;return(G=i.current)==null?void 0:G.click()},disabled:P,variant:"primary",children:P?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Importando..."]}):V.jsxs(V.Fragment,{children:[V.jsx(EP,{size:18}),"Seleccionar Archivo CSV"]})}),V.jsxs(In,{onClick:J,variant:"secondary",children:[V.jsx(_P,{size:18}),"Descargar Ejemplo"]})]}),I&&V.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4 space-y-4",children:[V.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[V.jsx(jp,{className:"text-blue-600",size:16}),"Formato Requerido del CSV"]}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Encabezados obligatorios (primera línea):"}),V.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"codigo,nombre,stock,precio_costo,precio_venta,categoria"})]}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Ejemplo de datos:"}),V.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono",children:[V.jsx("div",{children:'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas'}),V.jsx("div",{children:'1234567890124,"Papas Fritas",30,45.50,75.00,Snacks'})]})]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[V.jsxs("div",{children:[V.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"✅ Reglas de Validación:"}),V.jsxs("ul",{className:"space-y-1 text-gray-600",children:[V.jsxs("li",{children:["• ",V.jsx("strong",{children:"codigo:"})," 13 dígitos numéricos"]}),V.jsxs("li",{children:["• ",V.jsx("strong",{children:"nombre:"})," Máximo 50 caracteres"]}),V.jsxs("li",{children:["• ",V.jsx("strong",{children:"stock:"})," Número entero positivo"]}),V.jsxs("li",{children:["• ",V.jsx("strong",{children:"precio_costo:"})," Número positivo"]}),V.jsxs("li",{children:["• ",V.jsx("strong",{children:"precio_venta:"})," Mayor al precio de costo"]}),V.jsxs("li",{children:["• ",V.jsx("strong",{children:"categoria:"})," Texto (opcional)"]})]})]}),V.jsxs("div",{children:[V.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"💡 Consejos:"}),V.jsxs("ul",{className:"space-y-1 text-gray-600",children:[V.jsx("li",{children:"• Use comillas para textos con comas"}),V.jsx("li",{children:"• Productos existentes se actualizarán"}),V.jsx("li",{children:"• Descargue el ejemplo para ver el formato"}),V.jsx("li",{children:"• Guarde el archivo como CSV UTF-8"})]})]})]})]})]})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agregar Producto Individual"}),V.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[V.jsx(to,{label:"Código de Barras",id:"codigo",type:"text",value:o,onChange:re,placeholder:"Ingrese código de 13 dígitos",required:!0,error:A.codigo,maxLength:13}),V.jsx(to,{label:"Nombre del Producto",id:"nombre",value:l,onChange:G=>c(G.target.value),placeholder:"Ingrese nombre del producto",required:!0,error:A.nombre,maxLength:50}),V.jsx(to,{label:"Categoría",id:"categoria",value:x,onChange:G=>_(G.target.value),placeholder:"Ej: Bebidas, Snacks, etc.",required:!0,error:A.categoria}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.jsx(to,{label:"Precio de Costo ($)",id:"precio_costo",type:"number",step:"0.01",value:p,onChange:G=>v(G.target.value),placeholder:"0.00",required:!0,error:A.precio_costo}),V.jsx(to,{label:"Precio de Venta ($)",id:"precio_venta",type:"number",step:"0.01",value:y,onChange:G=>w(G.target.value),placeholder:"0.00",required:!0,error:A.precio_venta})]}),V.jsx(to,{label:C?"Stock a Añadir":"Stock Inicial",id:"stock",type:"number",value:f,onChange:G=>d(G.target.value),placeholder:"Ingrese cantidad",required:!0,error:A.stock}),V.jsx(In,{type:"submit",variant:C?"success":"primary",className:"w-full",children:C?V.jsxs(V.Fragment,{children:[V.jsx(_M,{size:18}),"Actualizar Producto"]}):V.jsxs(V.Fragment,{children:[V.jsx(yM,{size:18}),"Registrar Producto"]})})]})]}),V.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(e1,{size:20}),"Información de Precios"]}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[V.jsx("span",{className:"text-gray-600",children:"Precio de Costo:"}),V.jsxs("span",{className:"font-semibold text-red-600",children:["$",p||"0.00"]})]}),V.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[V.jsx("span",{className:"text-gray-600",children:"Precio de Venta:"}),V.jsxs("span",{className:"font-semibold text-green-600",children:["$",y||"0.00"]})]}),V.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border border-blue-200",children:[V.jsx("span",{className:"text-gray-600",children:"Ganancia por Unidad:"}),V.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(parseFloat(y||"0")-parseFloat(p||"0")).toFixed(2)]})]}),V.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded border border-purple-200",children:[V.jsx("span",{className:"text-gray-600",children:"Margen de Ganancia:"}),V.jsxs("span",{className:"font-semibold text-purple-600",children:[F(),"%"]})]})]})]})]})]})};var Ep={exports:{}},pte=Ep.exports,EN;function mte(){return EN||(EN=1,function(t,e){(function(r,n){t.exports=n(eg())})(typeof self<"u"?self:pte,function(r){return function(){var n={155:function(A){A.exports=r}},i={};function o(A){var T=i[A];if(T!==void 0)return T.exports;var C=i[A]={exports:{}};return n[A](C,C.exports,o),C.exports}o.d=function(A,T){for(var C in T)o.o(T,C)&&!o.o(A,C)&&Object.defineProperty(A,C,{enumerable:!0,get:T[C]})},o.o=function(A,T){return Object.prototype.hasOwnProperty.call(A,T)},o.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{useReactToPrint:function(){return _}});var l=o(155);function c({level:A="error",messages:T,suppressErrors:C=!1}){C||(A==="error"?console.error(T):A==="warning"?console.warn(T):console.debug(T))}function f(A,T){if(T||!A){const C=document.getElementById("printWindow");C&&document.body.removeChild(C)}}function d(A){return A instanceof Error?A:new Error("Unknown Error")}function p(A,T){const{documentTitle:C,onAfterPrint:M,onPrintError:I,preserveAfterPrint:N,print:P,suppressErrors:O}=T;setTimeout(()=>{var R,F;if(A.contentWindow){let L=function(){M==null||M(),f(N)};var D=L;if(A.contentWindow.focus(),P)P(A).then(L).catch(j=>{I?I("print",d(j)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:O})});else{if(A.contentWindow.print){const j=(F=(R=A.contentDocument)===null||R===void 0?void 0:R.title)!==null&&F!==void 0?F:"",J=A.ownerDocument.title;C&&(A.ownerDocument.title=C,A.contentDocument&&(A.contentDocument.title=C)),A.contentWindow.print(),C&&(A.ownerDocument.title=J,A.contentDocument&&(A.contentDocument.title=j))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:O});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(j=>{var J,Z;return((Z=(J=navigator.userAgent)!==null&&J!==void 0?J:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(j)})?setTimeout(L,500):L()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:O})},500)}function v(A){const T=[],C=document.createTreeWalker(A,NodeFilter.SHOW_ELEMENT,null);let M=C.nextNode();for(;M;)T.push(M),M=C.nextNode();return T}function y(A,T,C){const M=v(A),I=v(T);if(M.length===I.length)for(let N=0;N<M.length;N++){const P=M[N],O=I[N],R=P.shadowRoot;if(R!==null){const F=O.attachShadow({mode:R.mode});F.innerHTML=R.innerHTML,y(R,F,C)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",A,T],suppressErrors:C})}const w=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(A,T,C,M){var I,N,P,O,R;const{contentNode:F,clonedContentNode:D,clonedImgNodes:L,clonedVideoNodes:j,numResourcesToLoad:J,originalCanvasNodes:Z}=C,{bodyClass:re,fonts:G,ignoreGlobalStyles:H,pageStyle:Q,nonce:ae,suppressErrors:U,copyShadowRoots:X}=M;A.onload=null;const se=(I=A.contentDocument)!==null&&I!==void 0?I:(N=A.contentWindow)===null||N===void 0?void 0:N.document;if(se){const ye=se.body.appendChild(D);X&&y(F,ye,!!U),G&&(!((P=A.contentDocument)===null||P===void 0)&&P.fonts&&(!((O=A.contentWindow)===null||O===void 0)&&O.FontFace)?G.forEach(be=>{const oe=new FontFace(be.family,be.source,{weight:be.weight,style:be.style});A.contentDocument.fonts.add(oe),oe.loaded.then(()=>{T(oe)}).catch(Be=>{T(oe,["Failed loading the font:",oe,"Load error:",d(Be)])})}):(G.forEach(be=>{T(be)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:U})));const we=Q??w,Se=se.createElement("style");ae&&(Se.setAttribute("nonce",ae),se.head.setAttribute("nonce",ae)),Se.appendChild(se.createTextNode(we)),se.head.appendChild(Se),re&&se.body.classList.add(...re.split(" "));const je=se.querySelectorAll("canvas");for(let be=0;be<Z.length;++be){const oe=Z[be],Be=je[be];if(Be===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",oe],suppressErrors:U});continue}const xe=Be.getContext("2d");xe&&xe.drawImage(oe,0,0)}for(let be=0;be<L.length;be++){const oe=L[be],Be=oe.getAttribute("src");if(Be){const xe=new Image;xe.onload=()=>{T(oe)},xe.onerror=(We,Qe,ht,vt,Ct)=>{T(oe,["Error loading <img>",oe,"Error",Ct])},xe.src=Be}else T(oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',oe])}for(let be=0;be<j.length;be++){const oe=j[be];oe.preload="auto";const Be=oe.getAttribute("poster");if(Be){const xe=new Image;xe.onload=()=>{T(oe)},xe.onerror=(We,Qe,ht,vt,Ct)=>{T(oe,["Error loading video poster",Be,"for video",oe,"Error:",Ct])},xe.src=Be}else oe.readyState>=2?T(oe):oe.src?(oe.onloadeddata=()=>{T(oe)},oe.onerror=(xe,We,Qe,ht,vt)=>{T(oe,["Error loading video",oe,"Error",vt])},oe.onstalled=()=>{T(oe,["Loading video stalled, skipping",oe])}):T(oe,["Error loading video, `src` is empty",oe])}const ke="select",fe=F.querySelectorAll(ke),Te=se.querySelectorAll(ke);for(let be=0;be<fe.length;be++)Te[be].value=fe[be].value;if(!H){const be=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let oe=0,Be=be.length;oe<Be;++oe){const xe=be[oe];if(xe.tagName.toLowerCase()==="style"){const We=se.createElement(xe.tagName),Qe=xe.sheet;if(Qe){let ht="";try{const vt=Qe.cssRules.length;for(let Ct=0;Ct<vt;++Ct)typeof Qe.cssRules[Ct].cssText=="string"&&(ht+=`${Qe.cssRules[Ct].cssText}\r
`)}catch(vt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",xe,`Original error: ${d(vt).message}`],level:"warning"})}We.setAttribute("id",`react-to-print-${oe}`),ae&&We.setAttribute("nonce",ae),We.appendChild(se.createTextNode(ht)),se.head.appendChild(We)}}else if(xe.getAttribute("href"))if(xe.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",xe],level:"warning"}),T(xe);else{const We=se.createElement(xe.tagName);for(let Qe=0,ht=xe.attributes.length;Qe<ht;++Qe){const vt=xe.attributes[Qe];vt&&We.setAttribute(vt.nodeName,(R=vt.nodeValue)!==null&&R!==void 0?R:"")}We.onload=()=>{T(We)},We.onerror=(Qe,ht,vt,Ct,Er)=>{T(We,["Failed to load",We,"Error:",Er])},ae&&We.setAttribute("nonce",ae),se.head.appendChild(We)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",xe],level:"warning"}),T(xe)}}}J===0&&p(A,M)}function _({bodyClass:A,contentRef:T,copyShadowRoots:C,documentTitle:M,fonts:I,ignoreGlobalStyles:N,nonce:P,onAfterPrint:O,onBeforePrint:R,onPrintError:F,pageStyle:D,preserveAfterPrint:L,print:j,suppressErrors:J}){return(0,l.useCallback)(Z=>{function re(){const G={bodyClass:A,contentRef:T,copyShadowRoots:C,documentTitle:M,fonts:I,ignoreGlobalStyles:N,nonce:P,onAfterPrint:O,onPrintError:F,pageStyle:D,preserveAfterPrint:L,print:j,suppressErrors:J},H=function(){const U=document.createElement("iframe");return U.width=`${document.documentElement.clientWidth}px`,U.height=`${document.documentElement.clientHeight}px`,U.style.position="absolute",U.style.top=`-${document.documentElement.clientHeight+100}px`,U.style.left=`-${document.documentElement.clientWidth+100}px`,U.id="printWindow",U.srcdoc="<!DOCTYPE html>",U}(),Q=function(U,X){const{contentRef:se,fonts:ye,ignoreGlobalStyles:we,suppressErrors:Se}=X,je=function({contentRef:Be,optionalContent:xe,suppressErrors:We}){return!xe||xe instanceof Event||(Be&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof xe!="function")?Be?Be.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:We}):xe()}({contentRef:se,optionalContent:U,suppressErrors:Se});if(!je)return;const ke=je.cloneNode(!0),fe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Te=ke.querySelectorAll("img"),be=ke.querySelectorAll("video"),oe=ye?ye.length:0;return{contentNode:je,clonedContentNode:ke,clonedImgNodes:Te,clonedVideoNodes:be,numResourcesToLoad:(we?0:fe.length)+Te.length+be.length+oe,originalCanvasNodes:je.querySelectorAll("canvas")}}(Z,G);if(!Q)return void c({messages:["There is nothing to print"],suppressErrors:J});const ae=function(U,X,se){const{suppressErrors:ye}=U,we=[],Se=[];return function(je,ke){we.includes(je)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",je],suppressErrors:ye}):(ke?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ke],suppressErrors:ye}),Se.push(je)):we.push(je),we.length+Se.length===X&&p(se,U))}}(G,Q.numResourcesToLoad,H);(function(U,X,se,ye){U.onload=()=>{x(U,X,se,ye)},document.body.appendChild(U)})(H,ae,Q,G)}f(L,!0),R?R().then(()=>{re()}).catch(G=>{F==null||F("onBeforePrint",d(G))}):re()},[A,T,C,M,I,N,P,O,R,F,D,L,j,J])}return s}()})}(Ep)),Ep.exports}var gte=mte();function Sx({columns:t,data:e,keyExtractor:r,emptyMessage:n="No hay datos disponibles"}){return e.length===0?V.jsx("div",{className:"text-center py-8 text-gray-500",children:n}):V.jsx("div",{className:"overflow-x-auto",children:V.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[V.jsx("thead",{className:"bg-gray-50",children:V.jsx("tr",{children:t.map((i,o)=>V.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i.header},o))})}),V.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>V.jsx("tr",{className:"hover:bg-gray-50",children:t.map((o,s)=>V.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.render?o.render(i):String(i[o.accessor])},s))},r(i)))})]})})}const G$=z.forwardRef(({cart:t,cajero:e,total:r,fecha:n},i)=>V.jsxs("div",{ref:i,className:"p-4 max-w-xs mx-auto font-mono text-sm",children:[V.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:[V.jsx("h1",{className:"text-lg font-bold",children:"🏪 KIOSKO LOCAL"}),V.jsx("p",{className:"text-xs",children:"Ticket de Compra"}),V.jsx("p",{className:"text-xs",children:n})]}),V.jsx("div",{className:"mb-3",children:V.jsxs("p",{className:"text-xs",children:[V.jsx("strong",{children:"Cajero:"})," ",e]})}),V.jsxs("div",{className:"border-b border-dashed border-gray-400 pb-2 mb-3",children:[V.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[V.jsx("span",{children:"PRODUCTO"}),V.jsx("span",{children:"CANT"}),V.jsx("span",{children:"PRECIO"}),V.jsx("span",{children:"TOTAL"})]}),t.map((o,s)=>V.jsxs("div",{className:"mb-2",children:[V.jsx("div",{className:"text-xs font-semibold",children:o.nombre}),V.jsxs("div",{className:"flex justify-between text-xs",children:[V.jsx("span",{children:o.codigo}),V.jsx("span",{children:o.cantidad}),V.jsxs("span",{children:["$",o.precio_unitario.toFixed(2)]}),V.jsxs("span",{children:["$",o.subtotal.toFixed(2)]})]})]},s))]}),V.jsx("div",{className:"border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:V.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[V.jsx("span",{children:"TOTAL A PAGAR:"}),V.jsxs("span",{children:["$",r.toFixed(2)]})]})}),V.jsxs("div",{className:"text-center text-xs",children:[V.jsx("p",{className:"font-bold mb-2",children:"¡¡ GRACIAS POR TU COMPRA !!"}),V.jsx("p",{children:"Que tengas un excelente día"}),V.jsx("p",{className:"mt-2",children:"🌟 Vuelve pronto 🌟"})]}),V.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed border-gray-400 pt-2",children:[V.jsx("p",{children:"Este no es un comprobante fiscal"}),V.jsx("p",{children:"Solo para control interno"})]})]}));G$.displayName="TicketPrint";const X$=W.createContext(void 0),vte=()=>{const t=W.useContext(X$);if(!t)throw new Error("useCashier must be used within a CashierProvider");return t},yte=({children:t})=>{const[e,r]=W.useState("");W.useEffect(()=>{const o=localStorage.getItem("currentCajero");o&&r(o)},[]);const n=o=>{r(o),localStorage.setItem("currentCajero",o)},i=()=>{r(""),localStorage.removeItem("currentCajero")};return V.jsx(X$.Provider,{value:{cajero:e,setCajero:n,clearCajero:i},children:t})},_te=()=>{const{getProduct:t,decreaseStock:e,addSale:r}=vh(),{showToast:n}=K$(),{cajero:i,setCajero:o}=vte(),s=W.useRef(null),[l,c]=W.useState(""),[f,d]=W.useState("1"),[p,v]=W.useState([]),[y,w]=W.useState({}),[x,_]=W.useState(null),A=gte.useReactToPrint({contentRef:s,documentTitle:"Ticket de Venta",onAfterPrint:()=>{n("Ticket enviado a impresora","success")},onBeforePrint:async()=>{n("Preparando impresión...","info")}}),T=()=>{if(p.length===0){n("No hay productos en el carrito para imprimir","warning");return}if(!i.trim()){n("Debe ingresar el nombre del cajero antes de imprimir","warning");return}const L=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});_({cart:[...p],cajero:i,total:R(),fecha:L}),setTimeout(()=>{s.current?A():n("Error: No se pudo encontrar el contenido del ticket para imprimir.","error")},100)},C=()=>{const L={};if(l||(L.codigo="El código de barras es obligatorio"),!f)L.cantidad="La cantidad es obligatoria";else{const j=parseInt(f);(isNaN(j)||j<=0)&&(L.cantidad="La cantidad debe ser un número entero positivo")}return w(L),Object.keys(L).length===0},M=()=>i.trim()?(w(L=>{const{cajero:j,...J}=L;return J}),!0):(w(L=>({...L,cajero:"El nombre del cajero es obligatorio"})),!1),I=()=>{if(!C())return;const L=t(l);if(!L){n("Producto no encontrado","error");return}const j=parseInt(f),J=p.findIndex(H=>H.codigo===l),Z=J>=0?p[J].cantidad:0,re=Z+j;if(L.stock<re){n(`Stock insuficiente. Stock disponible: ${L.stock}, en carrito: ${Z}`,"warning");return}const G=L.precio_venta*j;if(J>=0)v(H=>H.map((Q,ae)=>ae===J?{...Q,cantidad:Q.cantidad+j,subtotal:Q.subtotal+G}:Q));else{const H=Date.now().toString();v(Q=>[...Q,{id:H,codigo:L.codigo,nombre:L.nombre,cantidad:j,precio_unitario:L.precio_venta,subtotal:G}])}c(""),d("1"),w(H=>{const{codigo:Q,cantidad:ae,...U}=H;return U}),n(`${L.nombre} agregado a la venta`,"success")},N=L=>{v(j=>j.filter(J=>J.id!==L))},P=(L,j)=>{if(j<=0){N(L);return}const J=p.find(re=>re.id===L);if(!J)return;const Z=t(J.codigo);if(Z){if(Z.stock<j){n(`Stock insuficiente. Stock disponible: ${Z.stock}`,"warning");return}v(re=>re.map(G=>G.id===L?{...G,cantidad:j,subtotal:G.precio_unitario*j}:G))}},O=()=>{if(!M())return;if(p.length===0){n("No hay productos en la venta actual","warning");return}let L=!0;const j=new Date().toISOString(),J=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Z={cart:[...p],cajero:i,total:R(),fecha:J};p.forEach(re=>{if(e(re.codigo,re.cantidad)){const H={fecha_hora:j,codigo_barra:re.codigo,nombre_producto:re.nombre,cantidad_vendida:re.cantidad,precio_unitario:re.precio_unitario,total_linea:re.subtotal,cajero:i};r(H)}else L=!1,n(`Error al procesar ${re.nombre}. Verifique el stock.`,"error")}),L&&(_(Z),n(`Venta finalizada exitosamente. Total: $${R().toFixed(2)}`,"success"),v([]))},R=()=>p.reduce((L,j)=>L+j.subtotal,0),F=()=>p.reduce((L,j)=>L+j.cantidad,0),D=[{header:"Código",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Precio Unit.",accessor:"precio_unitario",render:L=>`$${L.precio_unitario.toFixed(2)}`},{header:"Cantidad",accessor:"cantidad",render:L=>V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("button",{onClick:()=>P(L.id,L.cantidad-1),className:"w-6 h-6 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:"-"}),V.jsx("span",{className:"w-8 text-center",children:L.cantidad}),V.jsx("button",{onClick:()=>P(L.id,L.cantidad+1),className:"w-6 h-6 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:"+"})]})},{header:"Subtotal",accessor:"subtotal",render:L=>V.jsxs("span",{className:"font-semibold text-green-600",children:["$",L.subtotal.toFixed(2)]})},{header:"Acciones",accessor:"id",render:L=>V.jsx(In,{variant:"danger",onClick:()=>N(L.id),children:V.jsx(yB,{size:16})})}];return V.jsxs("div",{children:[V.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Registro de Ventas"}),V.jsx("div",{style:{display:"none"},children:x&&V.jsx(G$,{ref:s,cart:x.cart,cajero:x.cajero,total:x.total,fecha:x.fecha})}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsxs("div",{className:"lg:col-span-2",children:[V.jsx("div",{className:"mb-6",children:V.jsx(to,{label:"Nombre del Cajero",id:"cajero",value:i,onChange:L=>o(L.target.value),placeholder:"Ingrese nombre del cajero",required:!0,error:y.cajero})}),V.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6",children:[V.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[V.jsx(t1,{size:20})," Agregar Productos"]}),V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[V.jsx("div",{className:"md:col-span-2",children:V.jsx(to,{label:"Código de Barras",id:"codigo",value:l,onChange:L=>c(L.target.value),placeholder:"Escanee o ingrese código",required:!0,error:y.codigo})}),V.jsx(to,{label:"Cantidad",id:"cantidad",type:"number",value:f,onChange:L=>d(L.target.value),placeholder:"1",required:!0,error:y.cantidad})]}),V.jsxs(In,{onClick:I,variant:"primary",className:"w-full",children:[V.jsx(yM,{size:18})," Añadir a Venta"]})]}),V.jsxs("div",{className:"bg-white border rounded-lg",children:[V.jsx("div",{className:"p-4 border-b",children:V.jsx("h4",{className:"text-md font-medium",children:"Productos en esta venta:"})}),V.jsx(Sx,{columns:D,data:p,keyExtractor:L=>L.id,emptyMessage:"No hay productos en la venta actual"})]})]}),V.jsxs("div",{className:"space-y-4",children:[V.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[V.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[V.jsx(fB,{size:20})," Resumen de Venta"]}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[V.jsx("span",{className:"text-gray-600",children:"Total Items:"}),V.jsx("span",{className:"font-semibold",children:F()})]}),V.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[V.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),V.jsxs("span",{className:"font-semibold text-blue-600",children:["$",R().toFixed(2)]})]}),V.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded border-2 border-green-200",children:[V.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"TOTAL:"}),V.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",R().toFixed(2)]})]})]}),V.jsxs("div",{className:"space-y-2 mt-4",children:[p.length>0&&V.jsxs(In,{variant:"secondary",className:"w-full",onClick:T,children:[V.jsx(wP,{size:18}),"Imprimir Carrito Actual"]}),p.length>0&&V.jsxs(In,{variant:"success",onClick:O,className:"w-full",children:[V.jsx(gM,{size:18})," Finalizar Venta"]}),x&&V.jsxs(In,{variant:"primary",className:"w-full",onClick:()=>{s.current&&A()},children:[V.jsx(wP,{size:18}),"Reimprimir Última Venta"]})]})]}),V.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[V.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"💡 Consejos:"}),V.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[V.jsx("li",{children:"• Use +/- para ajustar cantidades"}),V.jsx("li",{children:"• El stock se verifica en tiempo real"}),V.jsx("li",{children:"• Los precios se toman automáticamente"}),V.jsx("li",{children:"• Puede imprimir desde la primera venta"})]})]})]})]})]})},bte=()=>{const{products:t,sales:e}=vh(),[r,n]=W.useState("stock"),i=W.useMemo(()=>Object.values(t).sort((f,d)=>f.nombre.localeCompare(d.nombre)),[t]),o=W.useMemo(()=>[...e].sort((f,d)=>new Date(d.fecha_hora).getTime()-new Date(f.fecha_hora).getTime()),[e]),s=[{header:"Código",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Stock Actual",accessor:"stock",render:f=>V.jsx("span",{className:`font-medium ${f.stock<=5?"text-red-600":""}`,children:f.stock})}],l=[{header:"Fecha y Hora",accessor:"fecha_hora",render:f=>{const d=new Date(f.fecha_hora);return`${d.toLocaleDateString()} ${d.toLocaleTimeString()}`}},{header:"Cajero",accessor:"cajero"},{header:"Producto",accessor:"nombre_producto"},{header:"Cantidad",accessor:"cantidad_vendida"},{header:"Código",accessor:"codigo_barra"}],c=(f,d)=>{const p=Object.keys(f[0]||{}).join(","),v=f.map(A=>Object.values(A).join(",")),y=[p,...v].join(`
`),w=new Blob([y],{type:"text/csv"}),x=URL.createObjectURL(w),_=document.createElement("a");_.href=x,_.download=`${d}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(_),_.click(),document.body.removeChild(_)};return V.jsxs("div",{children:[V.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Reportes"}),V.jsxs("div",{className:"mb-6 flex gap-4",children:[V.jsxs(In,{variant:r==="stock"?"primary":"secondary",onClick:()=>n("stock"),children:[V.jsx(vP,{size:18}),"Inventario Actual"]}),V.jsxs(In,{variant:r==="sales"?"primary":"secondary",onClick:()=>n("sales"),children:[V.jsx(vP,{size:18}),"Historial de Ventas"]})]}),r==="stock"?V.jsxs("div",{children:[V.jsxs("div",{className:"flex justify-between items-center mb-4",children:[V.jsx("h3",{className:"text-lg font-medium",children:"Inventario de Productos"}),V.jsxs(In,{variant:"secondary",onClick:()=>c(i,"inventario"),disabled:i.length===0,children:[V.jsx(yP,{size:18}),"Exportar a CSV"]})]}),V.jsx(Sx,{columns:s,data:i,keyExtractor:f=>f.codigo,emptyMessage:"No hay productos registrados"}),i.length>0&&V.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de productos: ",i.length," | Stock total: ",i.reduce((f,d)=>f+d.stock,0)," unidades"]})]}):V.jsxs("div",{children:[V.jsxs("div",{className:"flex justify-between items-center mb-4",children:[V.jsx("h3",{className:"text-lg font-medium",children:"Historial de Ventas"}),V.jsxs(In,{variant:"secondary",onClick:()=>c(o,"ventas"),disabled:o.length===0,children:[V.jsx(yP,{size:18}),"Exportar a CSV"]})]}),V.jsx(Sx,{columns:l,data:o,keyExtractor:f=>f.fecha_hora+f.codigo_barra,emptyMessage:"No hay ventas registradas"}),o.length>0&&V.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de ventas: ",o.length," | Unidades vendidas: ",o.reduce((f,d)=>f+d.cantidad_vendida,0)]})]})]})},wte=()=>{};var SN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},xte=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Q$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(v=64)),n.push(r[d],r[p],r[v],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Y$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new Ete;const v=o<<2|l>>4;if(n.push(v),f!==64){const y=l<<4&240|f>>2;if(n.push(y),p!==64){const w=f<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ete extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ste=function(t){const e=Y$(t);return Q$.encodeByteArray(e,!0)},jm=function(t){return Ste(t).replace(/\./g,"")},J$=function(t){try{return Q$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=()=>Ate().__FIREBASE_DEFAULTS__,Pte=()=>{if(typeof process>"u"||typeof SN>"u")return;const t=SN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ote=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&J$(t[1]);return e&&JSON.parse(e)},Fg=()=>{try{return wte()||Tte()||Pte()||Ote()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z$=t=>{var e,r;return(r=(e=Fg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Ite=t=>{const e=Z$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},eV=()=>{var t;return(t=Fg())===null||t===void 0?void 0:t.config},tV=t=>{var e;return(e=Fg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return t.endsWith(".cloudworkstations.dev")}async function rV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jm(JSON.stringify(r)),jm(JSON.stringify(s)),""].join(".")}const mf={};function Rte(){const t={prod:[],emulator:[]};for(const e of Object.keys(mf))mf[e]?t.emulator.push(e):t.prod.push(e);return t}function Nte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let AN=!1;function nV(t,e){if(typeof window>"u"||typeof document>"u"||!Th(window.location.host)||mf[t]===e||mf[t]||AN)return;mf[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=Rte().prod.length>0;function s(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{AN=!0,s()},v}function d(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=Nte(n),y=r("text"),w=document.getElementById(y)||document.createElement("span"),x=r("learnmore"),_=document.getElementById(x)||document.createElement("a"),A=r("preprendIcon"),T=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const C=v.element;l(C),d(_,x);const M=f();c(T,A),C.append(T,w,_,M),document.body.appendChild(C)}o?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function Mte(){var t;const e=(t=Fg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $te(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vte(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fte(){return!Mte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bte(){try{return typeof indexedDB=="object"}catch{return!1}}function Ute(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="FirebaseError";class Ao extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=qte,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ph.prototype.create)}}class Ph{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zte(o,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ao(i,l,n)}}function zte(t,e){return t.replace(Wte,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Wte=/\{\$([^}]+)}/g;function Hte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Is(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(TN(o)&&TN(s)){if(!Is(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function TN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nf(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Kte(t,e){const r=new Gte(t,e);return r.subscribe.bind(r)}class Gte{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Xte(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Lw),i.error===void 0&&(i.error=Lw),i.complete===void 0&&(i.complete=Lw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xte(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Lw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Cte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jte(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Qte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qte(t){return t===ls?void 0:t}function Jte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Yte(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const ere={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},tre=et.INFO,rre={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},nre=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=rre[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=tre,this._logHandler=nre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ere[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const ire=(t,e)=>e.some(r=>t instanceof r);let PN,ON;function ore(){return PN||(PN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function are(){return ON||(ON=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iV=new WeakMap,Ax=new WeakMap,oV=new WeakMap,$w=new WeakMap,oS=new WeakMap;function sre(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(fa(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&iV.set(r,t)}).catch(()=>{}),oS.set(e,t),e}function ure(t){if(Ax.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ax.set(t,e)}let Tx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ax.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fa(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lre(t){Tx=t(Tx)}function cre(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Vw(this),e,...r);return oV.set(n,e.sort?e.sort():[e]),fa(n)}:are().includes(t)?function(...e){return t.apply(Vw(this),e),fa(iV.get(this))}:function(...e){return fa(t.apply(Vw(this),e))}}function fre(t){return typeof t=="function"?cre(t):(t instanceof IDBTransaction&&ure(t),ire(t,ore())?new Proxy(t,Tx):t)}function fa(t){if(t instanceof IDBRequest)return sre(t);if($w.has(t))return $w.get(t);const e=fre(t);return e!==t&&($w.set(t,e),oS.set(e,t)),e}const Vw=t=>oS.get(t);function hre(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=fa(s);return n&&s.addEventListener("upgradeneeded",c=>{n(fa(s.result),c.oldVersion,c.newVersion,fa(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const dre=["get","getKey","getAll","getAllKeys","count"],pre=["put","add","delete","clear"],Fw=new Map;function IN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fw.get(e))return Fw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=pre.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dre.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return Fw.set(e,o),o}lre(t=>({...t,get:(e,r,n)=>IN(e,r)||t.get(e,r,n),has:(e,r)=>!!IN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gre(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Px="@firebase/app",CN="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new iS("@firebase/app"),vre="@firebase/app-compat",yre="@firebase/analytics-compat",_re="@firebase/analytics",bre="@firebase/app-check-compat",wre="@firebase/app-check",xre="@firebase/auth",Ere="@firebase/auth-compat",Sre="@firebase/database",Are="@firebase/data-connect",Tre="@firebase/database-compat",Pre="@firebase/functions",Ore="@firebase/functions-compat",Ire="@firebase/installations",Cre="@firebase/installations-compat",kre="@firebase/messaging",Rre="@firebase/messaging-compat",Nre="@firebase/performance",jre="@firebase/performance-compat",Mre="@firebase/remote-config",Dre="@firebase/remote-config-compat",Lre="@firebase/storage",$re="@firebase/storage-compat",Vre="@firebase/firestore",Fre="@firebase/ai",Bre="@firebase/firestore-compat",Ure="firebase",qre="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="[DEFAULT]",zre={[Px]:"fire-core",[vre]:"fire-core-compat",[_re]:"fire-analytics",[yre]:"fire-analytics-compat",[wre]:"fire-app-check",[bre]:"fire-app-check-compat",[xre]:"fire-auth",[Ere]:"fire-auth-compat",[Sre]:"fire-rtdb",[Are]:"fire-data-connect",[Tre]:"fire-rtdb-compat",[Pre]:"fire-fn",[Ore]:"fire-fn-compat",[Ire]:"fire-iid",[Cre]:"fire-iid-compat",[kre]:"fire-fcm",[Rre]:"fire-fcm-compat",[Nre]:"fire-perf",[jre]:"fire-perf-compat",[Mre]:"fire-rc",[Dre]:"fire-rc-compat",[Lre]:"fire-gcs",[$re]:"fire-gcs-compat",[Vre]:"fire-fst",[Bre]:"fire-fst-compat",[Fre]:"fire-vertex","fire-js":"fire-js",[Ure]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map,Wre=new Map,Ix=new Map;function kN(t,e){try{t.container.addComponent(e)}catch(r){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Al(t){const e=t.name;if(Ix.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;Ix.set(e,t);for(const r of Mm.values())kN(r,t);for(const r of Wre.values())kN(r,t);return!0}function aS(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Ph("app","Firebase",Hre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=qre;function aV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ox,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw ha.create("bad-app-name",{appName:String(i)});if(r||(r=eV()),!r)throw ha.create("no-options");const o=Mm.get(i);if(o){if(Is(r,o.options)&&Is(n,o.config))return o;throw ha.create("duplicate-app",{appName:i})}const s=new Zte(i);for(const c of Ix.values())s.addComponent(c);const l=new Kre(r,n,s);return Mm.set(i,l),l}function sV(t=Ox){const e=Mm.get(t);if(!e&&t===Ox&&eV())return aV();if(!e)throw ha.create("no-app",{appName:t});return e}function da(t,e,r){var n;let i=(n=zre[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(l.join(" "));return}Al(new Cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre="firebase-heartbeat-database",Xre=1,nh="firebase-heartbeat-store";let Bw=null;function uV(){return Bw||(Bw=hre(Gre,Xre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(r){console.warn(r)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),Bw}async function Yre(t){try{const r=(await uV()).transaction(nh),n=await r.objectStore(nh).get(lV(t));return await r.done,n}catch(e){if(e instanceof Ao)go.warn(e.message);else{const r=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(r.message)}}}async function RN(t,e){try{const n=(await uV()).transaction(nh,"readwrite");await n.objectStore(nh).put(e,lV(t)),await n.done}catch(r){if(r instanceof Ao)go.warn(r.message);else{const n=ha.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});go.warn(n.message)}}}function lV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qre=1024,Jre=30;class Zre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tne(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Jre){const s=rne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){go.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=NN(),{heartbeatsToSend:n,unsentEntries:i}=ene(this._heartbeatsCache.heartbeats),o=jm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return go.warn(r),""}}}function NN(){return new Date().toISOString().substring(0,10)}function ene(t,e=Qre){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jN(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),jN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bte()?Ute().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Yre(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return RN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return RN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jN(t){return jm(JSON.stringify({version:2,heartbeats:t})).length}function rne(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t){Al(new Cs("platform-logger",e=>new mre(e),"PRIVATE")),Al(new Cs("heartbeat",e=>new Zre(e),"PRIVATE")),da(Px,CN,t),da(Px,CN,"esm2017"),da("fire-js","")}nne("");function sS(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function cV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ine=cV,fV=new Ph("auth","Firebase",cV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new iS("@firebase/auth");function one(t,...e){Dm.logLevel<=et.WARN&&Dm.warn(`Auth (${ql}): ${t}`,...e)}function Sp(t,...e){Dm.logLevel<=et.ERROR&&Dm.error(`Auth (${ql}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,...e){throw uS(t,...e)}function Ti(t,...e){return uS(t,...e)}function hV(t,e,r){const n=Object.assign(Object.assign({},ine()),{[e]:r});return new Ph("auth","Firebase",n).create(e,{appName:t.name})}function pa(t){return hV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uS(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return fV.create(t,...e)}function Ue(t,e,...r){if(!t)throw uS(e,...r)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function vo(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ane(){return MN()==="http:"||MN()==="https:"}function MN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ane()||Lte()||"connection"in navigator)?navigator.onLine:!0}function une(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,r){this.shortDelay=e,this.longDelay=r,vo(r>e,"Short delay should be less than long delay!"),this.isMobile=jte()||$te()}get(){return sne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e){vo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fne=new Ih(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ca(t,e,r,n,i={}){return pV(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const l=Oh(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return Dte()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Th(t.emulatorConfig.host)&&(f.credentials="include"),dV.fetch()(await mV(t,t.config.apiHost,r,l),f)})}async function pV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},lne),e);try{const i=new dne(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw dp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw dp(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw dp(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw dp(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hV(t,d,f);ai(t,d)}}catch(i){if(i instanceof Ao)throw i;ai(t,"network-request-failed",{message:String(i)})}}async function Bg(t,e,r,n,i={}){const o=await Ca(t,e,r,n,i);return"mfaPendingCredential"in o&&ai(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mV(t,e,r,n){const i=`${e}${r}?${n}`,o=t,s=o.config.emulator?lS(t.config,i):`${t.config.apiScheme}://${i}`;return cne.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function hne(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dne{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ti(this.auth,"network-request-failed")),fne.get())})}}function dp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ti(t,e,n);return i.customData._tokenResponse=r,i}function DN(t){return t!==void 0&&t.enterprise!==void 0}class pne{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return hne(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mne(t,e){return Ca(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gne(t,e){return Ca(t,"POST","/v1/accounts:delete",e)}async function Lm(t,e){return Ca(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vne(t,e=!1){const r=mn(t),n=await r.getIdToken(e),i=cS(n);Ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:gf(Uw(i.auth_time)),issuedAtTime:gf(Uw(i.iat)),expirationTime:gf(Uw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Uw(t){return Number(t)*1e3}function cS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=J$(r);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LN(t){const e=cS(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ao&&yne(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function yne({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=gf(this.lastLoginAt),this.creationTime=gf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t){var e;const r=t.auth,n=await t.getIdToken(),i=await ih(t,Lm(r,{idToken:n}));Ue(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gV(o.providerUserInfo):[],l=wne(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new kx(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function bne(t){const e=mn(t);await $m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wne(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function gV(t){return t.map(e=>{var{providerId:r}=e,n=sS(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xne(t,e){const r=await pV(t,{},async()=>{const n=Oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await mV(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",dV.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Ene(t,e){return Ca(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=LN(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await xne(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new Xu;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=sS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _ne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await ih(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return vne(this,e)}reload(){return bne(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await $m(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await ih(this,gne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,s,l,c,f,d;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,y=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=r.photoURL)!==null&&s!==void 0?s:void 0,x=(l=r.tenantId)!==null&&l!==void 0?l:void 0,_=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,A=(f=r.createdAt)!==null&&f!==void 0?f:void 0,T=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:M,isAnonymous:I,providerData:N,stsTokenManager:P}=r;Ue(C&&P,e,"internal-error");const O=Xu.fromJSON(this.name,P);Ue(typeof C=="string",e,"internal-error"),Jo(p,e.name),Jo(v,e.name),Ue(typeof M=="boolean",e,"internal-error"),Ue(typeof I=="boolean",e,"internal-error"),Jo(y,e.name),Jo(w,e.name),Jo(x,e.name),Jo(_,e.name),Jo(A,e.name),Jo(T,e.name);const R=new ri({uid:C,auth:e,email:v,emailVerified:M,displayName:p,isAnonymous:I,photoURL:w,phoneNumber:y,tenantId:x,stsTokenManager:O,createdAt:A,lastLoginAt:T});return N&&Array.isArray(N)&&(R.providerData=N.map(F=>Object.assign({},F))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new Xu;i.updateFromServerResponse(r);const o=new ri({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await $m(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?gV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new Xu;l.updateFromIdToken(n);const c=new ri({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Map;function ao(t){vo(t instanceof Function,"Expected a class definition");let e=$N.get(t);return e?(vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$N.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}vV.type="NONE";const VN=vV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e,r){return`firebase:${t}:${e}:${r}`}class Yu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ap("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Lm(this.auth,{idToken:e}).catch(()=>{});return r?ri._fromGetAccountInfoResponse(this.auth,r,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Yu(ao(VN),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ao(VN);const s=Ap(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const d=await f._get(s);if(d){let p;if(typeof d=="string"){const v=await Lm(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ri._fromGetAccountInfoResponse(e,v,d)}else p=ri._fromJSON(e,d);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Yu(o,e,n):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Yu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EV(e))return"Blackberry";if(SV(e))return"Webos";if(_V(e))return"Safari";if((e.includes("chrome/")||bV(e))&&!e.includes("edge/"))return"Chrome";if(xV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function yV(t=Nr()){return/firefox\//i.test(t)}function _V(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bV(t=Nr()){return/crios\//i.test(t)}function wV(t=Nr()){return/iemobile/i.test(t)}function xV(t=Nr()){return/android/i.test(t)}function EV(t=Nr()){return/blackberry/i.test(t)}function SV(t=Nr()){return/webos/i.test(t)}function fS(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sne(t=Nr()){var e;return fS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ane(){return Vte()&&document.documentMode===10}function AV(t=Nr()){return fS(t)||xV(t)||SV(t)||EV(t)||/windows phone/i.test(t)||wV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e=[]){let r;switch(t){case"Browser":r=FN(Nr());break;case"Worker":r=`${FN(Nr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ql}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pne(t,e={}){return Ca(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const One=6;class Ine{constructor(e){var r,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:One,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BN(this),this.idTokenSubscription=new BN(this),this.beforeStateQueue=new Tne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ao(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Yu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Lm(this,{idToken:e}),n=await ri._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ti(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await $m(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=une()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(pa(this));const r=e?mn(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pne(this),r=new Ine(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ph("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Ene(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ao(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await Yu.create(this,[ao(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&one(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function zl(t){return mn(t)}class BN{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kte(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kne(t){Ug=t}function PV(t){return Ug.loadJS(t)}function Rne(){return Ug.recaptchaEnterpriseScript}function Nne(){return Ug.gapiScript}function jne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mne{constructor(){this.enterprise=new Dne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Dne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Lne="recaptcha-enterprise",OV="NO_RECAPTCHA";class $ne{constructor(e){this.type=Lne,this.auth=zl(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{mne(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new pne(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;DN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(OV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mne().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{n(this.auth).then(l=>{if(!r&&DN(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Rne();c.length!==0&&(c+=l),PV(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function UN(t,e,r,n=!1,i=!1){const o=new $ne(t);let s;if(i)s=OV;else try{s=await o.verify(r)}catch{s=await o.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function qN(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await UN(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await UN(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t,e){const r=aS(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Is(o,e??{}))return i;ai(i,"already-initialized")}return r.initialize({options:e})}function Fne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ao);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Bne(t,e,r){const n=zl(t);Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=IV(e),{host:s,port:l}=Une(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ue(Is(f,n.config.emulator)&&Is(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Th(s)?(rV(`${o}//${s}${c}`),nV("Auth",!0)):qne()}function IV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Une(t){const e=IV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:zN(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:zN(s)}}}function zN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qne(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,r){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}async function zne(t,e){return Ca(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wne(t,e){return Bg(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hne(t,e){return Bg(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function Kne(t,e){return Bg(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends hS{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new oh(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new oh(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qN(e,r,"signInWithPassword",Wne);case"emailLink":return Hne(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qN(e,n,"signUpPassword",zne);case"emailLink":return Kne(e,{idToken:r,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e){return Bg(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gne="http://localhost";class ks extends hS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ai("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=sS(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new ks(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Qu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Qu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Qu(e,r)}buildRequest(){const e={requestUri:Gne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Oh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yne(t){const e=rf(nf(t)).link,r=e?rf(nf(e)).deep_link_id:null,n=rf(nf(t)).deep_link_id;return(n?rf(nf(n)).link:null)||n||r||e||t}class dS{constructor(e){var r,n,i,o,s,l;const c=rf(nf(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,p=Xne((i=c.mode)!==null&&i!==void 0?i:null);Ue(f&&d&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=Yne(e);try{return new dS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,r){return oh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=dS.parseLink(r);return Ue(n,"argument-error"),oh._fromEmailAndCode(e,n.code,n.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends CV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Ch{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ks._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return na.credential(r,n)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Ch{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Ch{constructor(){super("twitter.com")}static credential(e,r){return ks._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return oa.credential(r,n)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ri._fromIdTokenResponse(e,n,i),s=WN(n);return new Tl({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=WN(n);return new Tl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function WN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Ao{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Vm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Vm(e,r,n,i)}}function kV(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vm._fromErrorAndOperation(t,o,e,n):o})}async function Qne(t,e,r=!1){const n=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Tl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jne(t,e,r=!1){const{auth:n}=t;if(ti(n.app))return Promise.reject(pa(n));const i="reauthenticate";try{const o=await ih(t,kV(n,i,e,t),r);Ue(o.idToken,n,"internal-error");const s=cS(o.idToken);Ue(s,n,"internal-error");const{sub:l}=s;return Ue(t.uid===l,n,"user-mismatch"),Tl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ai(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e,r=!1){if(ti(t.app))return Promise.reject(pa(t));const n="signIn",i=await kV(t,n,e),o=await Tl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function Zne(t,e){return RV(zl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eie(t){const e=zl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tie(t,e,r){return ti(t.app)?Promise.reject(pa(t)):Zne(mn(t),Wl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&eie(t),n})}function rie(t,e,r,n){return mn(t).onIdTokenChanged(e,r,n)}function nie(t,e,r){return mn(t).beforeAuthStateChanged(e,r)}function iie(t,e,r,n){return mn(t).onAuthStateChanged(e,r,n)}function qw(t){return mn(t).signOut()}const Fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie=1e3,aie=10;class jV extends NV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);Ane()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aie):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},oie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}jV.type="LOCAL";const sie=jV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV extends NV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MV.type="SESSION";const DV=MV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new qg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,o)),c=await uie(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=pS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function cie(t){Pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function fie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hie(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function die(){return LV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="firebaseLocalStorageDb",pie=1,Bm="firebaseLocalStorage",VV="fbase_key";class kh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function zg(t,e){return t.transaction([Bm],e?"readwrite":"readonly").objectStore(Bm)}function mie(){const t=indexedDB.deleteDatabase($V);return new kh(t).toPromise()}function Rx(){const t=indexedDB.open($V,pie);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Bm,{keyPath:VV})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Bm)?e(n):(n.close(),await mie(),e(await Rx()))})})}async function HN(t,e,r){const n=zg(t,!0).put({[VV]:e,value:r});return new kh(n).toPromise()}async function gie(t,e){const r=zg(t,!1).get(e),n=await new kh(r).toPromise();return n===void 0?null:n.value}function KN(t,e){const r=zg(t,!0).delete(e);return new kh(r).toPromise()}const vie=800,yie=3;class FV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>yie)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qg._getInstance(die()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await fie(),!this.activeServiceWorker)return;this.sender=new lie(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rx();return await HN(e,Fm,"1"),await KN(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>HN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>gie(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>KN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=zg(i,!1).getAll();return new kh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FV.type="LOCAL";const _ie=FV;new Ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(t,e){return e?ao(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends hS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Qu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function wie(t){return RV(t.auth,new mS(t),t.bypassAuthState)}function xie(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),Jne(r,new mS(t),t.bypassAuthState)}async function Eie(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),Qne(r,new mS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wie;case"linkViaPopup":case"linkViaRedirect":return Eie;case"reauthViaPopup":case"reauthViaRedirect":return xie;default:ai(this.auth,"internal-error")}}resolve(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sie=new Ih(2e3,1e4);class Wu extends BV{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Wu.currentPopupAction&&Wu.currentPopupAction.cancel(),Wu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){vo(this.filter.length===1,"Popup operations only handle one event");const e=pS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sie.get())};e()}}Wu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie="pendingRedirect",Tp=new Map;class Tie extends BV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const n=await Pie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pie(t,e){const r=Cie(e),n=Iie(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Oie(t,e){Tp.set(t._key(),e)}function Iie(t){return ao(t._redirectPersistence)}function Cie(t){return Ap(Aie,t.config.apiKey,t.name)}async function kie(t,e,r=!1){if(ti(t.app))return Promise.reject(pa(t));const n=zl(t),i=bie(n,e),s=await new Tie(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie=10*60*1e3;class Nie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jie(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!UV(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ti(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rie&&this.cachedEventUids.clear(),this.cachedEventUids.has(GN(e))}saveEventToCache(e){this.cachedEventUids.add(GN(e)),this.lastProcessedEventTime=Date.now()}}function GN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mie(t,e={}){return Ca(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lie=/^https?/;async function $ie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mie(t);for(const r of e)try{if(Vie(r))return}catch{}ai(t,"unauthorized-domain")}function Vie(t){const e=Cx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Lie.test(r))return!1;if(Die.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=new Ih(3e4,6e4);function XN(){const t=Pi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Bie(t){return new Promise((e,r)=>{var n,i,o;function s(){XN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XN(),r(Ti(t,"network-request-failed"))},timeout:Fie.get()})}if(!((i=(n=Pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pi().gapi)===null||o===void 0)&&o.load)s();else{const l=jne("iframefcb");return Pi()[l]=()=>{gapi.load?s():r(Ti(t,"network-request-failed"))},PV(`${Nne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Pp=null,e})}let Pp=null;function Uie(t){return Pp=Pp||Bie(t),Pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=new Ih(5e3,15e3),zie="__/auth/iframe",Wie="emulator/auth/iframe",Hie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gie(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?lS(e,Wie):`https://${t.config.authDomain}/${zie}`,n={apiKey:e.apiKey,appName:t.name,v:ql},i=Kie.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${Oh(n).slice(1)}`}async function Xie(t){const e=await Uie(t),r=Pi().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:Gie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hie,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=Ti(t,"network-request-failed"),l=Pi().setTimeout(()=>{o(s)},qie.get());function c(){Pi().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qie=500,Jie=600,Zie="_blank",eoe="http://localhost";class YN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function toe(t,e,r,n=Qie,i=Jie){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Yie),{width:n.toString(),height:i.toString(),top:o,left:s}),f=Nr().toLowerCase();r&&(l=bV(f)?Zie:r),yV(f)&&(e=e||eoe,c.scrollbars="yes");const d=Object.entries(c).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(Sne(f)&&l!=="_self")return roe(e||"",l),new YN(null);const p=window.open(e||"",l,d);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new YN(p)}function roe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe="__/auth/handler",ioe="emulator/auth/handler",ooe=encodeURIComponent("fac");async function QN(t,e,r,n,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ql,eventId:i};if(e instanceof CV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Hte(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))s[d]=p}if(e instanceof Ch){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),f=c?`#${ooe}=${encodeURIComponent(c)}`:"";return`${aoe(t)}?${Oh(l).slice(1)}${f}`}function aoe({config:t}){return t.emulator?lS(t,ioe):`https://${t.authDomain}/${noe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="webStorageSupport";class soe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DV,this._completeRedirectFn=kie,this._overrideRedirectResult=Oie}async _openPopup(e,r,n,i){var o;vo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await QN(e,r,n,Cx(),i);return toe(e,s,pS())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await QN(e,r,n,Cx(),i);return cie(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(vo(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Xie(e),n=new Nie(e);return r.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(zw,{type:zw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[zw];s!==void 0&&r(!!s),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=$ie(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return AV()||_V()||fS()}}const uoe=soe;var JN="@firebase/auth",ZN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function foe(t){Al(new Cs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TV(t)},f=new Cne(n,i,o,c);return Fne(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Al(new Cs("auth-internal",e=>{const r=zl(e.getProvider("auth").getImmediate());return(n=>new loe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(JN,ZN,coe(t)),da(JN,ZN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe=5*60,doe=tV("authIdTokenMaxAge")||hoe;let ej=null;const poe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>doe)return;const i=r==null?void 0:r.token;ej!==i&&(ej=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function moe(t=sV()){const e=aS(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Vne(t,{popupRedirectResolver:uoe,persistence:[_ie,sie,DV]}),n=tV("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=poe(o.toString());nie(r,s,()=>s(r.currentUser)),rie(r,l=>s(l))}}const i=Z$("auth");return i&&Bne(r,`http://${i}`),r}function goe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Ti("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",goe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});foe("Browser");var tj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,qV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function R(){}R.prototype=O.prototype,P.D=O.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(F,D,L){for(var j=Array(arguments.length-2),J=2;J<arguments.length;J++)j[J-2]=arguments[J];return O.prototype[D].apply(F,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,R){R||(R=0);var F=Array(16);if(typeof O=="string")for(var D=0;16>D;++D)F[D]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(D=0;16>D;++D)F[D]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=P.g[0],R=P.g[1],D=P.g[2];var L=P.g[3],j=O+(L^R&(D^L))+F[0]+3614090360&4294967295;O=R+(j<<7&4294967295|j>>>25),j=L+(D^O&(R^D))+F[1]+3905402710&4294967295,L=O+(j<<12&4294967295|j>>>20),j=D+(R^L&(O^R))+F[2]+606105819&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(O^D&(L^O))+F[3]+3250441966&4294967295,R=D+(j<<22&4294967295|j>>>10),j=O+(L^R&(D^L))+F[4]+4118548399&4294967295,O=R+(j<<7&4294967295|j>>>25),j=L+(D^O&(R^D))+F[5]+1200080426&4294967295,L=O+(j<<12&4294967295|j>>>20),j=D+(R^L&(O^R))+F[6]+2821735955&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(O^D&(L^O))+F[7]+4249261313&4294967295,R=D+(j<<22&4294967295|j>>>10),j=O+(L^R&(D^L))+F[8]+1770035416&4294967295,O=R+(j<<7&4294967295|j>>>25),j=L+(D^O&(R^D))+F[9]+2336552879&4294967295,L=O+(j<<12&4294967295|j>>>20),j=D+(R^L&(O^R))+F[10]+4294925233&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(O^D&(L^O))+F[11]+2304563134&4294967295,R=D+(j<<22&4294967295|j>>>10),j=O+(L^R&(D^L))+F[12]+1804603682&4294967295,O=R+(j<<7&4294967295|j>>>25),j=L+(D^O&(R^D))+F[13]+4254626195&4294967295,L=O+(j<<12&4294967295|j>>>20),j=D+(R^L&(O^R))+F[14]+2792965006&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(O^D&(L^O))+F[15]+1236535329&4294967295,R=D+(j<<22&4294967295|j>>>10),j=O+(D^L&(R^D))+F[1]+4129170786&4294967295,O=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(O^R))+F[6]+3225465664&4294967295,L=O+(j<<9&4294967295|j>>>23),j=D+(O^R&(L^O))+F[11]+643717713&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^O&(D^L))+F[0]+3921069994&4294967295,R=D+(j<<20&4294967295|j>>>12),j=O+(D^L&(R^D))+F[5]+3593408605&4294967295,O=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(O^R))+F[10]+38016083&4294967295,L=O+(j<<9&4294967295|j>>>23),j=D+(O^R&(L^O))+F[15]+3634488961&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^O&(D^L))+F[4]+3889429448&4294967295,R=D+(j<<20&4294967295|j>>>12),j=O+(D^L&(R^D))+F[9]+568446438&4294967295,O=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(O^R))+F[14]+3275163606&4294967295,L=O+(j<<9&4294967295|j>>>23),j=D+(O^R&(L^O))+F[3]+4107603335&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^O&(D^L))+F[8]+1163531501&4294967295,R=D+(j<<20&4294967295|j>>>12),j=O+(D^L&(R^D))+F[13]+2850285829&4294967295,O=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(O^R))+F[2]+4243563512&4294967295,L=O+(j<<9&4294967295|j>>>23),j=D+(O^R&(L^O))+F[7]+1735328473&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^O&(D^L))+F[12]+2368359562&4294967295,R=D+(j<<20&4294967295|j>>>12),j=O+(R^D^L)+F[5]+4294588738&4294967295,O=R+(j<<4&4294967295|j>>>28),j=L+(O^R^D)+F[8]+2272392833&4294967295,L=O+(j<<11&4294967295|j>>>21),j=D+(L^O^R)+F[11]+1839030562&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^O)+F[14]+4259657740&4294967295,R=D+(j<<23&4294967295|j>>>9),j=O+(R^D^L)+F[1]+2763975236&4294967295,O=R+(j<<4&4294967295|j>>>28),j=L+(O^R^D)+F[4]+1272893353&4294967295,L=O+(j<<11&4294967295|j>>>21),j=D+(L^O^R)+F[7]+4139469664&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^O)+F[10]+3200236656&4294967295,R=D+(j<<23&4294967295|j>>>9),j=O+(R^D^L)+F[13]+681279174&4294967295,O=R+(j<<4&4294967295|j>>>28),j=L+(O^R^D)+F[0]+3936430074&4294967295,L=O+(j<<11&4294967295|j>>>21),j=D+(L^O^R)+F[3]+3572445317&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^O)+F[6]+76029189&4294967295,R=D+(j<<23&4294967295|j>>>9),j=O+(R^D^L)+F[9]+3654602809&4294967295,O=R+(j<<4&4294967295|j>>>28),j=L+(O^R^D)+F[12]+3873151461&4294967295,L=O+(j<<11&4294967295|j>>>21),j=D+(L^O^R)+F[15]+530742520&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^O)+F[2]+3299628645&4294967295,R=D+(j<<23&4294967295|j>>>9),j=O+(D^(R|~L))+F[0]+4096336452&4294967295,O=R+(j<<6&4294967295|j>>>26),j=L+(R^(O|~D))+F[7]+1126891415&4294967295,L=O+(j<<10&4294967295|j>>>22),j=D+(O^(L|~R))+F[14]+2878612391&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~O))+F[5]+4237533241&4294967295,R=D+(j<<21&4294967295|j>>>11),j=O+(D^(R|~L))+F[12]+1700485571&4294967295,O=R+(j<<6&4294967295|j>>>26),j=L+(R^(O|~D))+F[3]+2399980690&4294967295,L=O+(j<<10&4294967295|j>>>22),j=D+(O^(L|~R))+F[10]+4293915773&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~O))+F[1]+2240044497&4294967295,R=D+(j<<21&4294967295|j>>>11),j=O+(D^(R|~L))+F[8]+1873313359&4294967295,O=R+(j<<6&4294967295|j>>>26),j=L+(R^(O|~D))+F[15]+4264355552&4294967295,L=O+(j<<10&4294967295|j>>>22),j=D+(O^(L|~R))+F[6]+2734768916&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~O))+F[13]+1309151649&4294967295,R=D+(j<<21&4294967295|j>>>11),j=O+(D^(R|~L))+F[4]+4149444226&4294967295,O=R+(j<<6&4294967295|j>>>26),j=L+(R^(O|~D))+F[11]+3174756917&4294967295,L=O+(j<<10&4294967295|j>>>22),j=D+(O^(L|~R))+F[2]+718787259&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~O))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+L&4294967295}n.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var R=O-this.blockSize,F=this.B,D=this.h,L=0;L<O;){if(D==0)for(;L<=R;)i(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<O;)if(F[D++]=P.charCodeAt(L++),D==this.blockSize){i(this,F),D=0;break}}else for(;L<O;)if(F[D++]=P[L++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=O},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var R=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=R&255,R/=256;for(this.u(P),P=Array(16),O=R=0;4>O;++O)for(var F=0;32>F;F+=8)P[R++]=this.g[O]>>>F&255;return P};function o(P,O){var R=l;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=O(P)}function s(P,O){this.h=O;for(var R=[],F=!0,D=P.length-1;0<=D;D--){var L=P[D]|0;F&&L==O||(R[D]=L,F=!1)}this.g=R}var l={};function c(P){return-128<=P&&128>P?o(P,function(O){return new s([O|0],0>O?-1:0)}):new s([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return _(f(-P));for(var O=[],R=1,F=0;P>=R;F++)O[F]=P/R|0,R*=4294967296;return new s(O,0)}function d(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return _(d(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(O,8)),F=p,D=0;D<P.length;D+=8){var L=Math.min(8,P.length-D),j=parseInt(P.substring(D,D+L),O);8>L?(L=f(Math.pow(O,L)),F=F.j(L).add(f(j))):(F=F.j(R),F=F.add(f(j)))}return F}var p=c(0),v=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-_(this).m();for(var P=0,O=1,R=0;R<this.g.length;R++){var F=this.i(R);P+=(0<=F?F:4294967296+F)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(x(this))return"-"+_(this).toString(P);for(var O=f(Math.pow(P,6)),R=this,F="";;){var D=M(R,O).g;R=A(R,D.j(O));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=D,w(R))return L+F;for(;6>L.length;)L="0"+L;F=L+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=A(this,P),x(P)?-1:w(P)?0:1};function _(P){for(var O=P.g.length,R=[],F=0;F<O;F++)R[F]=~P.g[F];return new s(R,~P.h).add(v)}t.abs=function(){return x(this)?_(this):this},t.add=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],F=0,D=0;D<=O;D++){var L=F+(this.i(D)&65535)+(P.i(D)&65535),j=(L>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);F=j>>>16,L&=65535,j&=65535,R[D]=j<<16|L}return new s(R,R[R.length-1]&-2147483648?-1:0)};function A(P,O){return P.add(_(O))}t.j=function(P){if(w(this)||w(P))return p;if(x(this))return x(P)?_(this).j(_(P)):_(_(this).j(P));if(x(P))return _(this.j(_(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var O=this.g.length+P.g.length,R=[],F=0;F<2*O;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<P.g.length;D++){var L=this.i(F)>>>16,j=this.i(F)&65535,J=P.i(D)>>>16,Z=P.i(D)&65535;R[2*F+2*D]+=j*Z,T(R,2*F+2*D),R[2*F+2*D+1]+=L*Z,T(R,2*F+2*D+1),R[2*F+2*D+1]+=j*J,T(R,2*F+2*D+1),R[2*F+2*D+2]+=L*J,T(R,2*F+2*D+2)}for(F=0;F<O;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=O;F<2*O;F++)R[F]=0;return new s(R,0)};function T(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function C(P,O){this.g=P,this.h=O}function M(P,O){if(w(O))throw Error("division by zero");if(w(P))return new C(p,p);if(x(P))return O=M(_(P),O),new C(_(O.g),_(O.h));if(x(O))return O=M(P,_(O)),new C(_(O.g),O.h);if(30<P.g.length){if(x(P)||x(O))throw Error("slowDivide_ only works with positive integers.");for(var R=v,F=O;0>=F.l(P);)R=I(R),F=I(F);var D=N(R,1),L=N(F,1);for(F=N(F,2),R=N(R,2);!w(F);){var j=L.add(F);0>=j.l(P)&&(D=D.add(R),L=j),F=N(F,1),R=N(R,1)}return O=A(P,D.j(O)),new C(D,O)}for(D=p;0<=P.l(O);){for(R=Math.max(1,Math.floor(P.m()/O.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),L=f(R),j=L.j(O);x(j)||0<j.l(P);)R-=F,L=f(R),j=L.j(O);w(L)&&(L=v),D=D.add(L),P=A(P,j)}return new C(D,P)}t.A=function(P){return M(this,P).h},t.and=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)&P.i(F);return new s(R,this.h&P.h)},t.or=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)|P.i(F);return new s(R,this.h|P.h)},t.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],F=0;F<O;F++)R[F]=this.i(F)^P.i(F);return new s(R,this.h^P.h)};function I(P){for(var O=P.g.length+1,R=[],F=0;F<O;F++)R[F]=P.i(F)<<1|P.i(F-1)>>>31;return new s(R,P.h)}function N(P,O){var R=O>>5;O%=32;for(var F=P.g.length-R,D=[],L=0;L<F;L++)D[L]=0<O?P.i(L+R)>>>O|P.i(L+R+1)<<32-O:P.i(L+R);return new s(D,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,ma=s}).apply(typeof tj<"u"?tj:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zV,of,WV,Op,Nx,HV,KV,GV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(m,E){if(E)e:{var k=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var ee=m[B];if(!(ee in k))break e;k=k[ee]}m=m[m.length-1],B=k[m],E=E(B),E!=B&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var k=0,B=!1,ee={next:function(){if(!B&&k<m.length){var ue=k++;return{value:E(ue,m[ue]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function d(m,E,k){return m.call.apply(m.bind,arguments)}function p(m,E,k){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,B),m.apply(E,ee)}}return function(){return m.apply(E,arguments)}}function v(m,E,k){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function y(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(B,ee,ue){for(var _e=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)_e[dt-2]=arguments[dt];return E.prototype[ee].apply(B,_e)}}function x(m){const E=m.length;if(0<E){const k=Array(E);for(let B=0;B<E;B++)k[B]=m[B];return k}return[]}function _(m,E){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(c(B)){const ee=m.length||0,ue=B.length||0;m.length=ee+ue;for(let _e=0;_e<ue;_e++)m[ee+_e]=B[_e]}else m.push(B)}}class A{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function T(m){return/^[\s\xa0]*$/.test(m)}function C(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var I=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function N(m,E,k){for(const B in m)E.call(k,m[B],B,m)}function P(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function O(m){const E={};for(const k in m)E[k]=m[k];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,E){let k,B;for(let ee=1;ee<arguments.length;ee++){B=arguments[ee];for(k in B)m[k]=B[k];for(let ue=0;ue<R.length;ue++)k=R[ue],Object.prototype.hasOwnProperty.call(B,k)&&(m[k]=B[k])}}function D(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function L(m){l.setTimeout(()=>{throw m},0)}function j(){var m=Q;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class J{constructor(){this.h=this.g=null}add(E,k){const B=Z.get();B.set(E,k),this.h?this.h.next=B:this.g=B,this.h=B}}var Z=new A(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let G,H=!1,Q=new J,ae=()=>{const m=l.Promise.resolve(void 0);G=()=>{m.then(U)}};var U=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){L(k)}var E=Z;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}H=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,E),l.removeEventListener("test",k,E)}catch{}return m}();function we(m,E){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(I){e:{try{M(E.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&we.aa.h.call(this)}}w(we,se);var Se={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ke=0;function fe(m,E,k,B,ee){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!B,this.ha=ee,this.key=++ke,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,E,k,B,ee){var ue=m.toString();m=this.g[ue],m||(m=this.g[ue]=[],this.h++);var _e=Be(m,E,B,ee);return-1<_e?(E=m[_e],k||(E.fa=!1)):(E=new fe(E,this.src,ue,!!B,ee),E.fa=k,m.push(E)),E};function oe(m,E){var k=E.type;if(k in m.g){var B=m.g[k],ee=Array.prototype.indexOf.call(B,E,void 0),ue;(ue=0<=ee)&&Array.prototype.splice.call(B,ee,1),ue&&(Te(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Be(m,E,k,B){for(var ee=0;ee<m.length;++ee){var ue=m[ee];if(!ue.da&&ue.listener==E&&ue.capture==!!k&&ue.ha==B)return ee}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),We={};function Qe(m,E,k,B,ee){if(Array.isArray(E)){for(var ue=0;ue<E.length;ue++)Qe(m,E[ue],k,B,ee);return null}return k=To(k),m&&m[je]?m.K(E,k,f(B)?!!B.capture:!1,ee):ht(m,E,k,!1,B,ee)}function ht(m,E,k,B,ee,ue){if(!E)throw Error("Invalid event type");var _e=f(ee)?!!ee.capture:!!ee,dt=ui(m);if(dt||(m[xe]=dt=new be(m)),k=dt.add(E,k,B,_e,ue),k.proxy)return k;if(B=vt(),k.proxy=B,B.src=m,B.listener=k,m.addEventListener)ye||(ee=_e),ee===void 0&&(ee=!1),m.addEventListener(E.toString(),B,ee);else if(m.attachEvent)m.attachEvent(dr(E.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function vt(){function m(k){return E.call(m.src,m.listener,k)}const E=Zr;return m}function Ct(m,E,k,B,ee){if(Array.isArray(E))for(var ue=0;ue<E.length;ue++)Ct(m,E[ue],k,B,ee);else B=f(B)?!!B.capture:!!B,k=To(k),m&&m[je]?(m=m.i,E=String(E).toString(),E in m.g&&(ue=m.g[E],k=Be(ue,k,B,ee),-1<k&&(Te(ue[k]),Array.prototype.splice.call(ue,k,1),ue.length==0&&(delete m.g[E],m.h--)))):m&&(m=ui(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Be(E,k,B,ee)),(k=-1<m?E[m]:null)&&Er(k))}function Er(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[je])oe(E.i,m);else{var k=m.type,B=m.proxy;E.removeEventListener?E.removeEventListener(k,B,m.capture):E.detachEvent?E.detachEvent(dr(k),B):E.addListener&&E.removeListener&&E.removeListener(B),(k=ui(E))?(oe(k,m),k.h==0&&(k.src=null,E[xe]=null)):Te(m)}}}function dr(m){return m in We?We[m]:We[m]="on"+m}function Zr(m,E){if(m.da)m=!0;else{E=new we(E,this);var k=m.listener,B=m.ha||m.src;m.fa&&Er(m),m=k.call(B,E)}return m}function ui(m){return m=m[xe],m instanceof be?m:null}var Li="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(m){return typeof m=="function"?m:(m[Li]||(m[Li]=function(E){return m.handleEvent(E)}),m[Li])}function Ht(){X.call(this),this.i=new be(this),this.M=this,this.F=null}w(Ht,X),Ht.prototype[je]=!0,Ht.prototype.removeEventListener=function(m,E,k,B){Ct(this,m,E,k,B)};function Kt(m,E){var k,B=m.F;if(B)for(k=[];B;B=B.F)k.push(B);if(m=m.M,B=E.type||E,typeof E=="string")E=new se(E,m);else if(E instanceof se)E.target=E.target||m;else{var ee=E;E=new se(B,m),F(E,ee)}if(ee=!0,k)for(var ue=k.length-1;0<=ue;ue--){var _e=E.g=k[ue];ee=$i(_e,B,!0,E)&&ee}if(_e=E.g=m,ee=$i(_e,B,!0,E)&&ee,ee=$i(_e,B,!1,E)&&ee,k)for(ue=0;ue<k.length;ue++)_e=E.g=k[ue],ee=$i(_e,B,!1,E)&&ee}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],B=0;B<k.length;B++)Te(k[B]);delete m.g[E],m.h--}}this.F=null},Ht.prototype.K=function(m,E,k,B){return this.i.add(String(m),E,!1,k,B)},Ht.prototype.L=function(m,E,k,B){return this.i.add(String(m),E,!0,k,B)};function $i(m,E,k,B){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var ee=!0,ue=0;ue<E.length;++ue){var _e=E[ue];if(_e&&!_e.da&&_e.capture==k){var dt=_e.listener,Gt=_e.ha||_e.src;_e.fa&&oe(m.i,_e),ee=dt.call(Gt,B)!==!1&&ee}}return ee&&!B.defaultPrevented}function Yl(m,E,k){if(typeof m=="function")k&&(m=v(m,k));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(m,E||0)}function Po(m){m.g=Yl(()=>{m.g=null,m.i&&(m.i=!1,Po(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class ka extends X{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(m){X.call(this),this.h=m,this.g={}}w(Ra,X);var Ql=[];function Jl(m){N(m.g,function(E,k){this.g.hasOwnProperty(k)&&Er(E)},m),m.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Jl(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=l.JSON.stringify,ec=l.JSON.parse,tc=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Na(){}Na.prototype.h=null;function Ws(m){return m.h||(m.h=m.i())}function Hs(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){se.call(this,"d")}w(li,se);function Ks(){se.call(this,"c")}w(Ks,se);var ci={},rc=null;function ja(){return rc=rc||new Ht}ci.La="serverreachability";function nc(m){se.call(this,ci.La,m)}w(nc,se);function Vi(m){const E=ja();Kt(E,new nc(E))}ci.STAT_EVENT="statevent";function ic(m,E){se.call(this,ci.STAT_EVENT,m),this.stat=E}w(ic,se);function Lt(m){const E=ja();Kt(E,new ic(E,m))}ci.Ma="timingevent";function Gs(m,E){se.call(this,ci.Ma,m),this.size=E}w(Gs,se);function Mn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},E)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function Da(m,E,k,B,ee,ue){m.info(function(){if(m.g)if(ue)for(var _e="",dt=ue.split("&"),Gt=0;Gt<dt.length;Gt++){var nt=dt[Gt].split("=");if(1<nt.length){var or=nt[0];nt=nt[1];var Bt=or.split("_");_e=2<=Bt.length&&Bt[1]=="type"?_e+(or+"="+nt+"&"):_e+(or+"=redacted&")}}else _e=null;else _e=ue;return"XMLHTTP REQ ("+B+") [attempt "+ee+"]: "+E+`
`+k+`
`+_e})}function Xs(m,E,k,B,ee,ue,_e){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ee+"]: "+E+`
`+k+`
`+ue+" "+_e})}function Dn(m,E,k,B){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+nv(m,k)+(B?" "+B:"")})}function oc(m,E){m.info(function(){return"TIMEOUT: "+E})}Ma.prototype.info=function(){};function nv(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var B=k[m];if(!(2>B.length)){var ee=B[1];if(Array.isArray(ee)&&!(1>ee.length)){var ue=ee[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var _e=1;_e<ee.length;_e++)ee[_e]=""}}}}return Zl(k)}catch{return E}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function La(){}w(La,Na),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Ln=new La;function $n(m,E,k,B){this.j=m,this.i=E,this.l=k,this.R=B||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}var ac={},Qs={};function Js(m,E,k){m.L=1,m.v=Ro(tn(E)),m.m=k,m.P=!0,sc(m,null)}function sc(m,E){m.F=Date.now(),yt(m),m.A=tn(m.v);var k=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),jo(k.i,"t",B),m.C=0,k=m.j.J,m.h=new Lh,m.g=td(m.j,k?E:null,!m.m),0<m.O&&(m.M=new ka(v(m.Y,m,m.g),m.O)),E=m.U,k=m.g,B=m.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Ql[0]=ee.toString()),ee=Ql);for(var ue=0;ue<ee.length;ue++){var _e=Qe(k,ee[ue],B||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Vi(),Da(m.i,m.u,m.A,m.l,m.R,m.m)}$n.prototype.ca=function(m){m=m.target;const E=this.M;E&&qr(m)==3?E.j():this.Y(m)},$n.prototype.Y=function(m){try{if(m==this.g)e:{const Bt=qr(this.g);var E=this.g.Ba();const _n=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||Bt!=4||E==7||(E==8||0>=_n?Vi(3):Vi(2)),$a(this);var k=this.g.Z();this.X=k;t:if($h(this)){var B=dc(this.g);m="";var ee=B.length,ue=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Oo(this);var _e="";break t}this.h.i=new l.TextDecoder}for(E=0;E<ee;E++)this.h.h=!0,m+=this.h.i.decode(B[E],{stream:!(ue&&E==ee-1)});B.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=k==200,Xs(this.i,this.u,this.A,this.l,this.R,Bt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Gt=this.g;if((dt=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(dt)){var nt=dt;break t}}nt=null}if(k=nt)Dn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uc(this,k);else{this.o=!1,this.s=3,Lt(12),vn(this),Oo(this);break e}}if(this.P){k=!0;let nn;for(;!this.J&&this.C<_e.length;)if(nn=iv(this,_e),nn==Qs){Bt==4&&(this.s=4,Lt(14),k=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ac){this.s=4,Lt(15),Dn(this.i,this.l,_e,"[Invalid Chunk]"),k=!1;break}else Dn(this.i,this.l,nn,null),uc(this,nn);if($h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||_e.length!=0||this.h.h||(this.s=1,Lt(16),k=!1),this.o=this.o&&k,!k)Dn(this.i,this.l,_e,"[Invalid Chunked Response]"),vn(this),Oo(this);else if(0<_e.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),mc(or),or.M=!0,Lt(11))}}else Dn(this.i,this.l,_e,null),uc(this,_e);Bt==4&&vn(this),this.o&&!this.J&&(Bt==4?lu(this.j,this):(this.o=!1,yt(this)))}else iu(this.g),k==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),vn(this),Oo(this)}}}catch{}finally{}};function $h(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function iv(m,E){var k=m.C,B=E.indexOf(`
`,k);return B==-1?Qs:(k=Number(E.substring(k,B)),isNaN(k)?ac:(B+=1,B+k>E.length?Qs:(E=E.slice(B,B+k),m.C=B+k,E)))}$n.prototype.cancel=function(){this.J=!0,vn(this)};function yt(m){m.S=Date.now()+m.I,Vh(m,m.I)}function Vh(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Mn(v(m.ba,m),E)}function $a(m){m.B&&(l.clearTimeout(m.B),m.B=null)}$n.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(oc(this.i,this.A),this.L!=2&&(Vi(),Lt(17)),vn(this),this.s=2,Oo(this)):Vh(this,this.S-m)};function Oo(m){m.j.G==0||m.J||lu(m.j,m)}function vn(m){$a(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Jl(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function uc(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||jr(k.h,m))){if(!m.K&&jr(k.h,m)&&k.G==3){try{var B=k.Da.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ee=B;if(ee[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)uu(k),qn(k);else break e;su(k),Lt(18)}}else k.za=ee[1],0<k.za-k.T&&37500>ee[2]&&k.F&&k.v==0&&!k.C&&(k.C=Mn(v(k.Za,k),6e3));if(1>=Bh(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else zi(k,11)}else if((m.K||k.g==m)&&uu(k),!T(E))for(ee=k.Da.g.parse(E),E=0;E<ee.length;E++){let nt=ee[E];if(k.T=nt[0],nt=nt[1],k.G==2)if(nt[0]=="c"){k.K=nt[1],k.ia=nt[2];const or=nt[3];or!=null&&(k.la=or,k.j.info("VER="+k.la));const Bt=nt[4];Bt!=null&&(k.Aa=Bt,k.j.info("SVER="+k.Aa));const _n=nt[5];_n!=null&&typeof _n=="number"&&0<_n&&(B=1.5*_n,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const nn=m.g;if(nn){const Wa=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var ue=B.h;ue.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(lc(ue,ue.h),ue.h=null))}if(B.D){const fu=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;fu&&(B.ya=fu,mt(B.I,B.D,fu))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var _e=m;if(B.qa=ed(B,B.J?B.ia:null,B.W),_e.K){Uh(B.h,_e);var dt=_e,Gt=B.L;Gt&&(dt.I=Gt),dt.B&&($a(dt),yt(dt)),B.g=_e}else za(B);0<k.i.length&&pi(k)}else nt[0]!="stop"&&nt[0]!="close"||zi(k,7);else k.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?zi(k,7):mr(k):nt[0]!="noop"&&k.l&&k.l.ta(nt),k.v=0)}}Vi(4)}catch{}}var Fh=class{constructor(m,E){this.g=m,this.map=E}};function Va(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bh(m){return m.h?1:m.g?m.g.size:0}function jr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function lc(m,E){m.g?m.g.add(E):m.h=E}function Uh(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Va.prototype.cancel=function(){if(this.i=qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function qh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return x(m.i)}function Zs(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var E=[],k=m.length,B=0;B<k;B++)E.push(m[B]);return E}E=[],k=0;for(B in m)E[k++]=m[B];return E}function eu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const B in m)E[k++]=B;return E}}}function Io(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=eu(m),B=Zs(m),ee=B.length,ue=0;ue<ee;ue++)E.call(void 0,B[ue],k&&k[ue],m)}var Fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ov(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var B=m[k].indexOf("="),ee=null;if(0<=B){var ue=m[k].substring(0,B);ee=m[k].substring(B+1)}else ue=m[k];E(ue,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Fi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Fi){this.h=m.h,Ba(this,m.j),this.o=m.o,this.g=m.g,Co(this,m.s),this.l=m.l;var E=m.i,k=new fi;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),ko(this,k),this.m=m.m}else m&&(E=String(m).match(Fa))?(this.h=!1,Ba(this,E[1]||"",!0),this.o=rt(E[2]||""),this.g=rt(E[3]||"",!0),Co(this,E[4]),this.l=rt(E[5]||"",!0),ko(this,E[6]||"",!0),this.m=rt(E[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Fi.prototype.toString=function(){var m=[],E=this.j;E&&m.push(No(E,tu,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(No(E,tu,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(No(k,k.charAt(0)=="/"?Hh:Wh,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",No(k,cc)),m.join("")};function tn(m){return new Fi(m)}function Ba(m,E,k){m.j=k?rt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Co(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function ko(m,E,k){E instanceof fi?(m.i=E,hi(m.i,m.h)):(k||(E=No(E,Kh)),m.i=new fi(E,m.h))}function mt(m,E,k){m.i.set(E,k)}function Ro(m){return mt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function rt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function No(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,zh),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var tu=/[#\/\?@]/g,Wh=/[#\?:]/g,Hh=/[#\?]/g,Kh=/[#\?@]/g,cc=/#/g;function fi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function pr(m){m.g||(m.g=new Map,m.h=0,m.i&&ov(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=fi.prototype,t.add=function(m,E){pr(this),this.i=null,m=yn(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function Vn(m,E){pr(m),E=yn(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Fn(m,E){return pr(m),E=yn(m,E),m.g.has(E)}t.forEach=function(m,E){pr(this),this.g.forEach(function(k,B){k.forEach(function(ee){m.call(E,ee,B,this)},this)},this)},t.na=function(){pr(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let B=0;B<E.length;B++){const ee=m[B];for(let ue=0;ue<ee.length;ue++)k.push(E[B])}return k},t.V=function(m){pr(this);let E=[];if(typeof m=="string")Fn(this,m)&&(E=E.concat(this.g.get(yn(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return pr(this),this.i=null,m=yn(this,m),Fn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function jo(m,E,k){Vn(m,E),0<k.length&&(m.i=null,m.g.set(yn(m,E),x(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var B=E[k];const ue=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var ee=ue;_e[B]!==""&&(ee+="="+encodeURIComponent(String(_e[B]))),m.push(ee)}}return this.i=m.join("&")};function yn(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function hi(m,E){E&&!m.j&&(pr(m),m.i=null,m.g.forEach(function(k,B){var ee=B.toLowerCase();B!=ee&&(Vn(this,B),jo(this,ee,k))},m)),m.j=E}function av(m,E){const k=new Ma;if(l.Image){const B=new Image;B.onload=y(Ur,k,"TestLoadImage: loaded",!0,E,B),B.onerror=y(Ur,k,"TestLoadImage: error",!1,E,B),B.onabort=y(Ur,k,"TestLoadImage: abort",!1,E,B),B.ontimeout=y(Ur,k,"TestLoadImage: timeout",!1,E,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else E(!1)}function Gh(m,E){const k=new Ma,B=new AbortController,ee=setTimeout(()=>{B.abort(),Ur(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:B.signal}).then(ue=>{clearTimeout(ee),ue.ok?Ur(k,"TestPingServer: ok",!0,E):Ur(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ee),Ur(k,"TestPingServer: error",!1,E)})}function Ur(m,E,k,B,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),B(k)}catch{}}function sv(){this.g=new tc}function Xh(m,E,k){const B=k||"";try{Io(m,function(ee,ue){let _e=ee;f(ee)&&(_e=Zl(ee)),E.push(B+ue+"="+encodeURIComponent(_e))})}catch(ee){throw E.push(B+"type="+encodeURIComponent("_badmap")),ee}}function Bi(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Bi,Na),Bi.prototype.g=function(){return new Ua(this.l,this.j)},Bi.prototype.i=function(m){return function(){return m}}({});function Ua(m,E){Ht.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Ua,Ht),t=Ua.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Un(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Bn(this):Un(this),this.readyState==3&&Yh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Bn(this))},t.Qa=function(m){this.g&&(this.response=m,Bn(this))},t.ga=function(){this.g&&Bn(this)};function Bn(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Un(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function Un(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ui(m){let E="";return N(m,function(k,B){E+=B,E+=":",E+=k,E+=`\r
`}),E}function Mo(m,E,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=Ui(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):mt(m,E,k))}function Pt(m){Ht.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Pt,Ht);var uv=/^https?$/i,fc=["POST","PUT"];t=Pt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Ws(this.o):Ws(Ln),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(ue){qa(this,ue);return}if(m=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ee in B)k.set(ee,B[ee]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ue of B.keys())k.set(ue,B.get(ue));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(ue=>ue.toLowerCase()=="content-type"),ee=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fc,E,void 0))||B||ee||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,_e]of k)this.g.setRequestHeader(ue,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nu(this),this.u=!0,this.g.send(m),this.u=!1}catch(ue){qa(this,ue)}};function qa(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,ru(m),rn(m)}function ru(m){m.A||(m.A=!0,Kt(m,"complete"),Kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Kt(this,"complete"),Kt(this,"abort"),rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hc(this):this.bb())},t.bb=function(){hc(this)};function hc(m){if(m.h&&typeof s<"u"&&(!m.v[1]||qr(m)!=4||m.Z()!=2)){if(m.u&&qr(m)==4)Yl(m.Ea,0,m);else if(Kt(m,"readystatechange"),qr(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var B;if(B=_e===0){var ee=String(m.D).match(Fa)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),B=!uv.test(ee?ee.toLowerCase():"")}k=B}if(k)Kt(m,"complete"),Kt(m,"success");else{m.m=6;try{var ue=2<qr(m)?m.g.statusText:""}catch{ue=""}m.l=ue+" ["+m.Z()+"]",ru(m)}}finally{rn(m)}}}}function rn(m,E){if(m.g){nu(m);const k=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Kt(m,"ready");try{k.onreadystatechange=B}catch{}}}function nu(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function qr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),ec(E)}};function dc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function iu(m){const E={};m=(m.g&&2<=qr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(T(m[B]))continue;var k=D(m[B]);const ee=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ue=E[ee]||[];E[ee]=ue,ue.push(k)}P(E,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function pc(m){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=di("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=di("baseRetryDelayMs",5e3,m),this.cb=di("retryDelaySeedMs",1e4,m),this.Wa=di("forwardChannelMaxRetries",2,m),this.wa=di("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Va(m&&m.concurrentRequestLimit),this.Da=new sv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pc.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,B){Lt(0),this.W=m,this.H=E||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=ed(this,null,this.W),pi(this)};function mr(m){if(ou(m),m.G==3){var E=m.U++,k=tn(m.I);if(mt(k,"SID",m.K),mt(k,"RID",E),mt(k,"TYPE","terminate"),qi(m,k),E=new $n(m,m.j,E),E.L=2,E.v=Ro(tn(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=E.v,k=!0),k||(E.g=td(E.j,null),E.g.ea(E.v)),E.F=Date.now(),yt(E)}Zh(m)}function qn(m){m.g&&(mc(m),m.g.cancel(),m.g=null)}function ou(m){qn(m),m.u&&(l.clearTimeout(m.u),m.u=null),uu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function pi(m){if(!en(m.h)&&!m.s){m.s=!0;var E=m.Ga;G||ae(),H||(G(),H=!0),Q.add(E,m),m.B=0}}function lv(m,E){return Bh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Mn(v(m.Ga,m,E),Jh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ee=new $n(this,this.j,m);let ue=this.o;if(this.S&&(ue?(ue=O(ue),F(ue,this.S)):ue=this.S),this.m!==null||this.O||(ee.H=ue,ue=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Do(this,ee,E),k=tn(this.I),mt(k,"RID",m),mt(k,"CVER",22),this.D&&mt(k,"X-HTTP-Session-Id",this.D),qi(this,k),ue&&(this.O?E="headers="+encodeURIComponent(String(Ui(ue)))+"&"+E:this.m&&Mo(k,this.m,ue)),lc(this.h,ee),this.Ua&&mt(k,"TYPE","init"),this.P?(mt(k,"$req",E),mt(k,"SID","null"),ee.T=!0,Js(ee,k,null)):Js(ee,k,E),this.G=2}}else this.G==3&&(m?au(this,m):this.i.length==0||en(this.h)||au(this))};function au(m,E){var k;E?k=E.l:k=m.U++;const B=tn(m.I);mt(B,"SID",m.K),mt(B,"RID",k),mt(B,"AID",m.T),qi(m,B),m.m&&m.o&&Mo(B,m.m,m.o),k=new $n(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Do(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),lc(m.h,k),Js(k,B,E)}function qi(m,E){m.H&&N(m.H,function(k,B){mt(E,B,k)}),m.l&&Io({},function(k,B){mt(E,B,k)})}function Do(m,E,k){k=Math.min(m.i.length,k);var B=m.l?v(m.l.Na,m.l,m):null;e:{var ee=m.i;let ue=-1;for(;;){const _e=["count="+k];ue==-1?0<k?(ue=ee[0].g,_e.push("ofs="+ue)):ue=0:_e.push("ofs="+ue);let dt=!0;for(let Gt=0;Gt<k;Gt++){let nt=ee[Gt].g;const or=ee[Gt].map;if(nt-=ue,0>nt)ue=Math.max(0,ee[Gt].g-100),dt=!1;else try{Xh(or,_e,"req"+nt+"_")}catch{B&&B(or)}}if(dt){B=_e.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,B}function za(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;G||ae(),H||(G(),H=!0),Q.add(E,m),m.v=0}}function su(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Mn(v(m.Fa,m),Jh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Qh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Mn(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),qn(this),Qh(this))};function mc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Qh(m){m.g=new $n(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=tn(m.qa);mt(E,"RID","rpc"),mt(E,"SID",m.K),mt(E,"AID",m.T),mt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&mt(E,"TO",m.ja),mt(E,"TYPE","xmlhttp"),qi(m,E),m.m&&m.o&&Mo(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=Ro(tn(E)),k.m=null,k.P=!0,sc(k,m)}t.Za=function(){this.C!=null&&(this.C=null,qn(this),su(this),Lt(19))};function uu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function lu(m,E){var k=null;if(m.g==E){uu(m),mc(m),m.g=null;var B=2}else if(jr(m.h,E))k=E.D,Uh(m.h,E),B=1;else return;if(m.G!=0){if(E.o)if(B==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var ee=m.B;B=ja(),Kt(B,new Gs(B,k)),pi(m)}else za(m);else if(ee=E.s,ee==3||ee==0&&0<E.X||!(B==1&&lv(m,E)||B==2&&su(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),ee){case 1:zi(m,5);break;case 4:zi(m,10);break;case 3:zi(m,6);break;default:zi(m,2)}}}function Jh(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function zi(m,E){if(m.j.info("Error code "+E),E==2){var k=v(m.fb,m),B=m.Xa;const ee=!B;B=new Fi(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ba(B,"https"),Ro(B),ee?av(B.toString(),k):Gh(B.toString(),k)}else Lt(2);m.G=0,m.l&&m.l.sa(E),Zh(m),ou(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Zh(m){if(m.G=0,m.ka=[],m.l){const E=qh(m.h);(E.length!=0||m.i.length!=0)&&(_(m.ka,E),_(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function ed(m,E,k){var B=k instanceof Fi?tn(k):new Fi(k);if(B.g!="")E&&(B.g=E+"."+B.g),Co(B,B.s);else{var ee=l.location;B=ee.protocol,E=E?E+"."+ee.hostname:ee.hostname,ee=+ee.port;var ue=new Fi(null);B&&Ba(ue,B),E&&(ue.g=E),ee&&Co(ue,ee),k&&(ue.l=k),B=ue}return k=m.D,E=m.ya,k&&E&&mt(B,k,E),mt(B,"VER",m.la),qi(m,B),B}function td(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Pt(new Bi({eb:k})):new Pt(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}t=gc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cu(){}cu.prototype.g=function(m,E){return new Mr(m,E)};function Mr(m,E){Ht.call(this),this.g=new pc(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!T(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!T(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new mi(this)}w(Mr,Ht),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){mr(this.g)},Mr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Zl(m),m=k);E.i.push(new Fh(E.Ya++,m)),E.G==3&&pi(E)},Mr.prototype.N=function(){this.g.l=null,delete this.j,mr(this.g),delete this.g,Mr.aa.N.call(this)};function rd(m){li.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(rd,li);function nd(){Ks.call(this),this.status=1}w(nd,Ks);function mi(m){this.g=m}w(mi,gc),mi.prototype.ua=function(){Kt(this.g,"a")},mi.prototype.ta=function(m){Kt(this.g,new rd(m))},mi.prototype.sa=function(m){Kt(this.g,new nd)},mi.prototype.ra=function(){Kt(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,GV=function(){return new cu},KV=function(){return ja()},HV=ci,Nx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Op=Ys,Dh.COMPLETE="complete",WV=Dh,Hs.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,of=Hs,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,zV=Pt}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});const rj="@firebase/firestore",nj="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new iS("@firebase/firestore");function Du(){return Rs.logLevel}function Ae(t,...e){if(Rs.logLevel<=et.DEBUG){const r=e.map(gS);Rs.debug(`Firestore (${Hl}): ${t}`,...r)}}function yo(t,...e){if(Rs.logLevel<=et.ERROR){const r=e.map(gS);Rs.error(`Firestore (${Hl}): ${t}`,...r)}}function Pl(t,...e){if(Rs.logLevel<=et.WARN){const r=e.map(gS);Rs.warn(`Firestore (${Hl}): ${t}`,...r)}}function gS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,XV(t,n,r)}function XV(t,e,r){let n=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw yo(n),new Error(n)}function ct(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||XV(e,i,n)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ao{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class voe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Cr.UNAUTHENTICATED))}shutdown(){}}class yoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class _oe{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ct(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ga,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ga)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ct(typeof n.accessToken=="string",31837,{l:n}),new YV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Cr(e)}}class boe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class woe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new boe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ij{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xoe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ct(this.o===void 0,3512);const n=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ij(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ct(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new ij(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eoe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Eoe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Ye(t,e){return t<e?-1:t>e?1:0}function jx(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ye(n,i);{const o=QV(),s=Soe(o.encode(oj(t,r)),o.encode(oj(e,r)));return s!==0?s:Ye(n,i)}}r+=n>65535?2:1}return Ye(t.length,e.length)}function oj(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Soe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ye(t[r],e[r]);return Ye(t.length,e.length)}function Ol(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=-62135596800,sj=1e6;class rr{static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*sj);return new rr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<aj)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sj}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new rr(0,0))}static max(){return new He(new rr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="__name__";class bi{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=bi.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Ye(e.length,r.length)}static compareSegments(e,r){const n=bi.isNumericId(e),i=bi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?bi.extractNumericId(e).compare(bi.extractNumericId(r)):jx(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class Dt extends bi{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const Aoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends bi{construct(e,r,n){return new wr(e,r,n)}static isValidIdentifier(e){return Aoe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uj}static keyField(){return new wr([uj])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(r)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Dt.fromString(e))}static fromName(e){return new $e(Dt.fromString(e).popFirst(5))}static empty(){return new $e(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function Toe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(n===1e9?new rr(r+1,0):new rr(r,n));return new ya(i,$e.empty(),e)}function Poe(t){return new ya(t.readTime,t.key,ah)}class ya{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ya(He.min(),$e.empty(),ah)}static max(){return new ya(He.max(),$e.empty(),ah)}}function Ooe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$e.comparator(t.documentKey,e.documentKey),r!==0?r:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Coe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Ioe)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ce((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ce?r:ce.resolve(r)}catch(r){return ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.reject(r)}static resolve(e){return new ce((r,n)=>{r(e)})}static reject(e){return new ce((r,n)=>{n(e)})}static waitFor(e){return new ce((r,n)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&r()},c=>n(c))}),s=!0,o===i&&r()})}static or(e){let r=ce.resolve(!1);for(const n of e)r=r.next(i=>i?ce.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new ce((n,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next(d=>{s[f]=d,++l,l===o&&n(s)},d=>i(d))}})}static doWhile(e,r){return new ce((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function koe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=-1;function Hg(t){return t==null}function Um(t){return t===0&&1/t==-1/0}function Roe(t){return typeof t=="number"&&Number.isInteger(t)&&!Um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="";function Noe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=lj(e)),e=joe(t.get(r),e);return lj(e)}function joe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case ZV:r+="";break;default:r+=o}}return r}function lj(t){return t+ZV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Bs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function e4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||br.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}}class mp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??br.RED,this.left=i??br.EMPTY,this.right=o??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new br(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return br.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new fj(this.data.getIterator())}getIteratorFrom(e){return new fj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new nr(this.comparator);return r.data=e,r}}class fj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ni([])}unionWith(e){let r=new nr(wr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ni(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new t4("Invalid base64 string: "+o):o}}(e);return new xr(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const Moe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const r=Moe.exec(t);if(ct(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ba(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="server_timestamp",n4="__type__",i4="__previous_value__",o4="__local_write_time__";function yS(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[n4])===null||r===void 0?void 0:r.stringValue)===r4}function Kg(t){const e=t.mapValue.fields[i4];return yS(e)?Kg(e):e}function sh(t){const e=_a(t.mapValue.fields[o4].timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e,r,n,i,o,s,l,c,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const qm="(default)";class uh{constructor(e,r){this.projectId=e,this.database=r||qm}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database===qm}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__type__",Loe="__max__",gp={mapValue:{}},s4="__vector__",zm="value";function wa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yS(t)?4:Voe(t)?9007199254740991:$oe(t)?10:11:qe(28295,{value:t})}function Ri(t,e){if(t===e)return!0;const r=wa(t);if(r!==wa(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sh(t).isEqual(sh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_a(i.timestampValue),l=_a(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ba(i.bytesValue).isEqual(ba(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),l=Vt(o.doubleValue);return s===l?Um(s)===Um(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Ol(t.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(cj(s)!==cj(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ri(s[c],l[c])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function lh(t,e){return(t.values||[]).find(r=>Ri(r,e))!==void 0}function Il(t,e){if(t===e)return 0;const r=wa(t),n=wa(e);if(r!==n)return Ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Vt(o.integerValue||o.doubleValue),c=Vt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return hj(t.timestampValue,e.timestampValue);case 4:return hj(sh(t),sh(e));case 5:return jx(t.stringValue,e.stringValue);case 6:return function(o,s){const l=ba(o),c=ba(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=Ye(l[f],c[f]);if(d!==0)return d}return Ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Ye(Vt(o.latitude),Vt(s.latitude));return l!==0?l:Ye(Vt(o.longitude),Vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,f,d;const p=o.fields||{},v=s.fields||{},y=(l=p[zm])===null||l===void 0?void 0:l.arrayValue,w=(c=v[zm])===null||c===void 0?void 0:c.arrayValue,x=Ye(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:dj(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===gp.mapValue&&s===gp.mapValue)return 0;if(o===gp.mapValue)return 1;if(s===gp.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=jx(c[p],d[p]);if(v!==0)return v;const y=Il(l[c[p]],f[d[p]]);if(y!==0)return y}return Ye(c.length,d.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{Pe:r})}}function hj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const r=_a(t),n=_a(e),i=Ye(r.seconds,n.seconds);return i!==0?i:Ye(r.nanos,n.nanos)}function dj(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Il(r[i],n[i]);if(o)return o}return Ye(r.length,n.length)}function Cl(t){return Mx(t)}function Mx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=_a(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ba(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return $e.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Mx(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${Mx(r.fields[s])}`;return i+"}"}(t.mapValue):qe(61005,{value:t})}function Ip(t){switch(wa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kg(t);return e?16+Ip(e):16;case 5:return 2*t.stringValue.length;case 6:return ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Ip(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Bs(n.fields,(o,s)=>{i+=o.length+Ip(s)}),i}(t.mapValue);default:throw qe(13486,{value:t})}}function Dx(t){return!!t&&"integerValue"in t}function _S(t){return!!t&&"arrayValue"in t}function pj(t){return!!t&&"nullValue"in t}function mj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function $oe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[a4])===null||r===void 0?void 0:r.stringValue)===s4}function vf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=vf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=vf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Voe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Loe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Cp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(r)}setAll(e){let r=wr.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=vf(s):i.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());Cp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Bs(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Cn(vf(this.value))}}function u4(t){const e=[];return Bs(t.fields,(r,n)=>{const i=new wr([r]);if(Cp(n)){const o=u4(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,r,n,i,o,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Rr(e,0,He.min(),He.min(),He.min(),Cn.empty(),0)}static newFoundDocument(e,r,n,i){return new Rr(e,1,r,He.min(),n,i,0)}static newNoDocument(e,r){return new Rr(e,2,r,He.min(),He.min(),Cn.empty(),0)}static newUnknownDocument(e,r){return new Rr(e,3,r,He.min(),He.min(),Cn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,r){this.position=e,this.inclusive=r}}function gj(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=$e.comparator($e.fromName(s.referenceValue),r.key):n=Il(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function vj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ri(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,r="asc"){this.field=e,this.dir=r}}function Foe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{}class Zt extends l4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Uoe(e,r,n):r==="array-contains"?new Woe(e,n):r==="in"?new Hoe(e,n):r==="not-in"?new Koe(e,n):r==="array-contains-any"?new Goe(e,n):new Zt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new qoe(e,n):new zoe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Il(r,this.value)):r!==null&&wa(this.value)===wa(r)&&this.matchesComparison(Il(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends l4{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Ni(e,r)}matches(e){return c4(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function c4(t){return t.op==="and"}function f4(t){return Boe(t)&&c4(t)}function Boe(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function Lx(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(f4(t))return t.filters.map(e=>Lx(e)).join(",");{const e=t.filters.map(r=>Lx(r)).join(",");return`${t.op}(${e})`}}function h4(t,e){return t instanceof Zt?function(n,i){return i instanceof Zt&&n.op===i.op&&n.field.isEqual(i.field)&&Ri(n.value,i.value)}(t,e):t instanceof Ni?function(n,i){return i instanceof Ni&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,l)=>o&&h4(s,i.filters[l]),!0):!1}(t,e):void qe(19439)}function d4(t){return t instanceof Zt?function(r){return`${r.field.canonicalString()} ${r.op} ${Cl(r.value)}`}(t):t instanceof Ni?function(r){return r.op.toString()+" {"+r.getFilters().map(d4).join(" ,")+"}"}(t):"Filter"}class Uoe extends Zt{constructor(e,r,n){super(e,r,n),this.key=$e.fromName(n.referenceValue)}matches(e){const r=$e.comparator(e.key,this.key);return this.matchesComparison(r)}}class qoe extends Zt{constructor(e,r){super(e,"in",r),this.keys=p4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class zoe extends Zt{constructor(e,r){super(e,"not-in",r),this.keys=p4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function p4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>$e.fromName(n.referenceValue))}class Woe extends Zt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return _S(r)&&lh(r.arrayValue,this.value)}}class Hoe extends Zt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lh(this.value.arrayValue,r)}}class Koe extends Zt{constructor(e,r){super(e,"not-in",r)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!lh(this.value.arrayValue,r)}}class Goe extends Zt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!_S(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>lh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e,r=null,n=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Ie=null}}function yj(t,e=null,r=[],n=[],i=null,o=null,s=null){return new Xoe(t,e,r,n,i,o,s)}function bS(t){const e=Ge(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Lx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Hg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Cl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Cl(n)).join(",")),e.Ie=r}return e.Ie}function wS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Foe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!h4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vj(t.startAt,e.startAt)&&vj(t.endAt,e.endAt)}function $x(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,r=null,n=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Yoe(t,e,r,n,i,o,s,l){return new Gg(t,e,r,n,i,o,s,l)}function xS(t){return new Gg(t)}function _j(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qoe(t){return t.collectionGroup!==null}function yf(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new nr(wr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Hm(o,n))}),r.has(wr.keyField().canonicalString())||e.Ee.push(new Hm(wr.keyField(),n))}return e.Ee}function Oi(t){const e=Ge(t);return e.de||(e.de=Joe(e,yf(t))),e.de}function Joe(t,e){if(t.limitType==="F")return yj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Hm(i.field,o)});const r=t.endAt?new Wm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Wm(t.startAt.position,t.startAt.inclusive):null;return yj(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Vx(t,e,r){return new Gg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Xg(t,e){return wS(Oi(t),Oi(e))&&t.limitType===e.limitType}function m4(t){return`${bS(Oi(t))}|lt:${t.limitType}`}function Lu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>d4(i)).join(", ")}]`),Hg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Cl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Cl(i)).join(",")),`Target(${n})`}(Oi(t))}; limitType=${t.limitType})`}function Yg(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):$e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of yf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,c){const f=gj(s,l,c);return s.inclusive?f<=0:f<0}(n.startAt,yf(n),i)||n.endAt&&!function(s,l,c){const f=gj(s,l,c);return s.inclusive?f>=0:f>0}(n.endAt,yf(n),i))}(t,e)}function Zoe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g4(t){return(e,r)=>{let n=!1;for(const i of yf(t)){const o=eae(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function eae(t,e,r){const n=t.field.isKeyField()?$e.comparator(e.key,r.key):function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Il(c,f):qe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return e4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae=new Nt($e.comparator);function _o(){return tae}const v4=new Nt($e.comparator);function af(...t){let e=v4;for(const r of t)e=e.insert(r.key,r);return e}function y4(t){let e=v4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function gs(){return _f()}function _4(){return _f()}function _f(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const rae=new Nt($e.comparator),nae=new nr($e.comparator);function tt(...t){let e=nae;for(const r of t)e=e.add(r);return e}const iae=new nr(Ye);function oae(){return iae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(e)?"-0":e}}function b4(t){return{integerValue:""+t}}function aae(t,e){return Roe(e)?b4(e):ES(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this._=void 0}}function sae(t,e,r){return t instanceof Km?function(i,o){const s={fields:{[n4]:{stringValue:r4},[o4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yS(o)&&(o=Kg(o)),o&&(s.fields[i4]=o),{mapValue:s}}(r,e):t instanceof ch?x4(t,e):t instanceof fh?E4(t,e):function(i,o){const s=w4(i,o),l=bj(s)+bj(i.Re);return Dx(s)&&Dx(i.Re)?b4(l):ES(i.serializer,l)}(t,e)}function uae(t,e,r){return t instanceof ch?x4(t,e):t instanceof fh?E4(t,e):r}function w4(t,e){return t instanceof Gm?function(n){return Dx(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Km extends Qg{}class ch extends Qg{constructor(e){super(),this.elements=e}}function x4(t,e){const r=S4(e);for(const n of t.elements)r.some(i=>Ri(i,n))||r.push(n);return{arrayValue:{values:r}}}class fh extends Qg{constructor(e){super(),this.elements=e}}function E4(t,e){let r=S4(e);for(const n of t.elements)r=r.filter(i=>!Ri(i,n));return{arrayValue:{values:r}}}class Gm extends Qg{constructor(e,r){super(),this.serializer=e,this.Re=r}}function bj(t){return Vt(t.integerValue||t.doubleValue)}function S4(t){return _S(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lae(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ch&&i instanceof ch||n instanceof fh&&i instanceof fh?Ol(n.elements,i.elements,Ri):n instanceof Gm&&i instanceof Gm?Ri(n.Re,i.Re):n instanceof Km&&i instanceof Km}(t.transform,e.transform)}class cae{constructor(e,r){this.version=e,this.transformResults=r}}class co{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function A4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P4(t.key,co.none()):new Rh(t.key,t.data,co.none());{const r=t.data,n=Cn.empty();let i=new nr(wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new qs(t.key,n,new ni(i.toArray()),co.none())}}function fae(t,e,r){t instanceof Rh?function(i,o,s){const l=i.value.clone(),c=xj(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof qs?function(i,o,s){if(!kp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=xj(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(T4(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function bf(t,e,r,n){return t instanceof Rh?function(o,s,l,c){if(!kp(o.precondition,s))return l;const f=o.value.clone(),d=Ej(o.fieldTransforms,c,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof qs?function(o,s,l,c){if(!kp(o.precondition,s))return l;const f=Ej(o.fieldTransforms,c,s),d=s.data;return d.setAll(T4(o)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(o,s,l){return kp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function hae(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=w4(n.transform,i||null);o!=null&&(r===null&&(r=Cn.empty()),r.set(n.field,o))}return r||null}function wj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ol(n,i,(o,s)=>lae(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rh extends Jg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends Jg{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function T4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function xj(t,e,r){const n=new Map;ct(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);n.set(o.field,uae(s,l,r[i]))}return n}function Ej(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,sae(o,s,e))}return n}class P4 extends Jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dae extends Jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pae{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fae(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=bf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=bf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=_4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(i.key)?null:l;const c=A4(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(He.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),tt())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,(r,n)=>wj(r,n))&&Ol(this.baseMutations,e.baseMutations,(r,n)=>wj(r,n))}}class SS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ct(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return rae}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new SS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,it;function vae(t){switch(t){case me.OK:return qe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function O4(t){if(t===void 0)return yo("GRPC error has no .code"),me.UNKNOWN;switch(t){case qt.OK:return me.OK;case qt.CANCELLED:return me.CANCELLED;case qt.UNKNOWN:return me.UNKNOWN;case qt.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case qt.INTERNAL:return me.INTERNAL;case qt.UNAVAILABLE:return me.UNAVAILABLE;case qt.UNAUTHENTICATED:return me.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case qt.NOT_FOUND:return me.NOT_FOUND;case qt.ALREADY_EXISTS:return me.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return me.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case qt.ABORTED:return me.ABORTED;case qt.OUT_OF_RANGE:return me.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return me.UNIMPLEMENTED;case qt.DATA_LOSS:return me.DATA_LOSS;default:return qe(39323,{code:t})}}(it=qt||(qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae=new ma([4294967295,4294967295],0);function Sj(t){const e=QV().encode(t),r=new qV;return r.update(e),new Uint8Array(r.digest())}function Aj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ma([r,n],0),new ma([i,o],0)]}class AS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new sf(`Invalid padding: ${r}`);if(n<0)throw new sf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new sf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new sf(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ma.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(ma.fromNumber(n)));return i.compare(yae)===1&&(i=new ma([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=Sj(e),[n,i]=Aj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);if(!this.Se(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new AS(o,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const r=Sj(e),[n,i]=Aj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Zg(He.min(),i,new Nt(Ye),_o(),tt())}}class Nh{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Nh(n,r,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class I4{constructor(e,r){this.targetId=e,this.Ce=r}}class C4{constructor(e,r,n=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Tj{constructor(){this.Fe=0,this.Me=Pj(),this.xe=xr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),r=tt(),n=tt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:o})}}),new Nh(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=Pj()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _ae{constructor(e){this.ze=e,this.je=new Map,this.He=_o(),this.Je=vp(),this.Ye=vp(),this.Ze=new Nt(Ye)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const o=i.target;if($x(o))if(n===0){const s=new $e(o.path);this.tt(r,s,Rr.newNoDocument(s,He.min()))}else ct(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,l;try{s=ba(n).toUint8Array()}catch(c){if(c instanceof t4)return Pl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new AS(s,i,o)}catch(c){return Pl(c instanceof sf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(r,o,null),i++)}),i}It(e){const r=new Map;this.je.forEach((o,s)=>{const l=this._t(s);if(l){if(o.current&&$x(l.target)){const c=new $e(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Rr.newNoDocument(c,e))}o.Le&&(r.set(s,o.qe()),o.Qe())}});let n=tt();this.Ye.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new Zg(e,r,this.Ze,this.He,n);return this.He=_o(),this.Je=vp(),this.Ye=vp(),this.Ze=new Nt(Ye),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new Tj,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new nr(Ye),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new nr(Ye),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ae("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Tj),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function vp(){return new Nt($e.comparator)}function Pj(){return new Nt($e.comparator)}const bae={asc:"ASCENDING",desc:"DESCENDING"},wae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xae={and:"AND",or:"OR"};class Eae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Fx(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function Xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sae(t,e){return Xm(t,e.toTimestamp())}function Ii(t){return ct(!!t,49232),He.fromTimestamp(function(r){const n=_a(r);return new rr(n.seconds,n.nanos)}(t))}function TS(t,e){return Bx(t,e).canonicalString()}function Bx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function R4(t){const e=Dt.fromString(t);return ct(L4(e),10190,{key:e.toString()}),e}function Ux(t,e){return TS(t.databaseId,e.path)}function Ww(t,e){const r=R4(e);if(r.get(1)!==t.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $e(j4(r))}function N4(t,e){return TS(t.databaseId,e)}function Aae(t){const e=R4(t);return e.length===4?Dt.emptyPath():j4(e)}function qx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j4(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Oj(t,e,r){return{name:Ux(t,e),fields:r.value.mapValue.fields}}function Tae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,d){return f.useProto3Json?(ct(d===void 0||typeof d=="string",58123),xr.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const d=f.code===void 0?me.UNKNOWN:O4(f.code);return new Le(d,f.message||"")}(s);r=new C4(n,i,o,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ww(t,n.document.name),o=Ii(n.document.updateTime),s=n.document.createTime?Ii(n.document.createTime):He.min(),l=new Cn({mapValue:{fields:n.document.fields}}),c=Rr.newFoundDocument(i,o,s,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new Rp(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ww(t,n.document),o=n.readTime?Ii(n.readTime):He.min(),s=Rr.newNoDocument(i,o),l=n.removedTargetIds||[];r=new Rp([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ww(t,n.document),o=n.removedTargetIds||[];r=new Rp([],o,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new gae(i,o),l=n.targetId;r=new I4(l,s)}}return r}function Pae(t,e){let r;if(e instanceof Rh)r={update:Oj(t,e.key,e.value)};else if(e instanceof P4)r={delete:Ux(t,e.key)};else if(e instanceof qs)r={update:Oj(t,e.key,e.data),updateMask:Dae(e.fieldMask)};else{if(!(e instanceof dae))return qe(16599,{ft:e.type});r={verify:Ux(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const l=s.transform;if(l instanceof Km)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ch)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gm)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw qe(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Sae(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)}(t,e.precondition)),r}function Oae(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(r=>function(i,o){let s=i.updateTime?Ii(i.updateTime):Ii(o);return s.isEqual(He.min())&&(s=Ii(o)),new cae(s,i.transformResults||[])}(r,e))):[]}function Iae(t,e){return{documents:[N4(t,e.path)]}}function Cae(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=N4(t,i);const o=function(f){if(f.length!==0)return D4(Ni.create(f,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(d=>function(v){return{field:$u(v.field),direction:Nae(v.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=Fx(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:r,parent:i}}function kae(t){let e=Aae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ct(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];r.where&&(o=function(p){const v=M4(p);return v instanceof Ni&&f4(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(v=>function(w){return new Hm(Vu(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(r.orderBy));let l=null;r.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Hg(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(p){const v=!!p.before,y=p.values||[];return new Wm(y,v)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const v=!p.before,y=p.values||[];return new Wm(y,v)}(r.endAt)),Yoe(e,i,s,o,l,"F",c,f)}function Rae(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function M4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Vu(r.unaryFilter.field);return Zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(r.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vu(r.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vu(r.unaryFilter.field);return Zt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Zt.create(Vu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ni.create(r.compositeFilter.filters.map(n=>M4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(r.compositeFilter.op))}(t):qe(30097,{filter:t})}function Nae(t){return bae[t]}function jae(t){return wae[t]}function Mae(t){return xae[t]}function $u(t){return{fieldPath:t.canonicalString()}}function Vu(t){return wr.fromServerFormat(t.fieldPath)}function D4(t){return t instanceof Zt?function(r){if(r.op==="=="){if(mj(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NAN"}};if(pj(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(mj(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NAN"}};if(pj(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(r.field),op:jae(r.op),value:r.value}}}(t):t instanceof Ni?function(r){const n=r.getFilters().map(i=>D4(i));return n.length===1?n[0]:{compositeFilter:{op:Mae(r.op),filters:n}}}(t):qe(54877,{filter:t})}function Dae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function L4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,r,n,i,o=He.min(),s=He.min(),l=xr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.wt=e}}function $ae(t){const e=kae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(){this.Cn=new Fae}addToCollectionParentIndex(e,r){return this.Cn.add(r),ce.resolve()}getCollectionParents(e,r){return ce.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ce.resolve()}deleteFieldIndex(e,r){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,r){return ce.resolve()}getDocumentsMatchingTarget(e,r){return ce.resolve(null)}getIndexType(e,r){return ce.resolve(0)}getFieldIndexes(e,r){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,r){return ce.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,r){return ce.resolve(ya.min())}updateCollectionGroup(e,r,n){return ce.resolve()}updateIndexEntries(e,r){return ce.resolve()}}class Fae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new nr(Dt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new nr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$4=41943040;class Yr{static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr($4,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new kl(0)}static lr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="LruGarbageCollector",Bae=1048576;function kj([t,e],[r,n]){const i=Ye(t,r);return i===0?Ye(e,n):i}class Uae{constructor(e){this.Er=e,this.buffer=new nr(kj),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();kj(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class qae{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ae(Cj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Gl(r)?Ae(Cj,"Ignoring IndexedDB error during garbage collection: ",r):await Kl(r)}await this.mr(3e5)})}}class zae{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ce.resolve(Wg.le);const n=new Uae(r);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Ij)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ij):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,i,o,s,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,r))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(f=Date.now(),Du()<=et.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Wae(t,e){return new zae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(){this.changes=new Us(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ce.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&bf(n.mutation,i,ni.empty(),rr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,tt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=tt()){const i=gs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=af();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=gs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,tt()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let o=_o();const s=_f(),l=function(){return _f()}();return r.forEach((c,f)=>{const d=n.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof qs)?o=o.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),bf(d.mutation,f,d.mutation.getFieldMask(),rr.now())):s.set(f.key,ni.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,d)=>s.set(f,d)),r.forEach((f,d)=>{var p;return l.set(f,new Kae(d,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=_f();let i=new Nt((s,l)=>s-l),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let d=n.get(c)||ni.empty();d=l.applyToLocalView(f,d),n.set(c,d);const p=(i.get(l.batchId)||tt()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,p=_4();d.forEach(v=>{if(!o.has(v)){const y=A4(r.get(v),n.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ce.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return $e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Qoe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):ce.resolve(gs());let l=ah,c=o;return s.next(f=>ce.forEach(f,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?ce.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,tt())).next(d=>({batchId:l,changes:y4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $e(r)).next(n=>{let i=af();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=af();return this.indexManager.getCollectionParents(e,o).next(l=>ce.forEach(l,c=>{const f=function(p,v){return new Gg(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((c,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,Rr.newInvalidDocument(d)))});let l=af();return s.forEach((c,f)=>{const d=o.get(c);d!==void 0&&bf(d.mutation,f,ni.empty(),rr.now()),Yg(r,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return ce.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(r)),ce.resolve()}getNamedQuery(e,r){return ce.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(i){return{name:i.name,query:$ae(i.bundledQuery),readTime:Ii(i.readTime)}}(r)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(){this.overlays=new Nt($e.comparator),this.Qr=new Map}getOverlay(e,r){return ce.resolve(this.overlays.get(r))}getOverlays(e,r){const n=gs();return ce.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.bt(e,r,o)}),ce.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),ce.resolve()}getOverlaysForCollection(e,r,n){const i=gs(),o=r.length+1,s=new $e(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Nt((f,d)=>f-d);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=o.get(f.largestBatchId);d===null&&(d=gs(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=gs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=i)););return ce.resolve(l)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new mae(r,n));let o=this.Qr.get(r);o===void 0&&(o=tt(),this.Qr.set(r,o)),this.Qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.$r=new nr(cr.Ur),this.Kr=new nr(cr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new cr(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new cr(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new $e(new Dt([])),n=new cr(r,e),i=new cr(r,e+1),o=[];return this.Kr.forEachInRange([n,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new $e(new Dt([])),n=new cr(r,e),i=new cr(r,e+1);let o=tt();return this.Kr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new cr(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class cr{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return $e.comparator(e.key,r.key)||Ye(e.Zr,r.Zr)}static Wr(e,r){return Ye(e.Zr,r.Zr)||$e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new nr(cr.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pae(o,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new cr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,r){return ce.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ti(n),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?vS:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new cr(r,0),i=new cr(r,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],s=>{const l=this.ei(s.Zr);o.push(l)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new nr(Ye);return r.forEach(i=>{const o=new cr(i,0),s=new cr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],l=>{n=n.add(l.Zr)})}),ce.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;$e.isDocumentKey(o)||(o=o.child(""));const s=new cr(new $e(o),0);let l=new nr(Ye);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Zr)),!0)},s),ce.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ct(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return ce.forEach(r.mutations,i=>{const o=new cr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new cr(r,0),i=this.Xr.firstAfterOrEqual(n);return ce.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(e){this.ii=e,this.docs=function(){return new Nt($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ce.resolve(n?n.document.mutableCopy():Rr.newInvalidDocument(r))}getEntries(e,r){let n=_o();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Rr.newInvalidDocument(i))}),ce.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=_o();const s=r.path,l=new $e(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||Ooe(Poe(d),n)<=0||(i.has(d.key)||Yg(r,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}si(e,r){return ce.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ese(this)}getSize(e){return ce.resolve(this.size)}}class ese extends Hae{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),ce.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e){this.persistence=e,this.oi=new Us(r=>bS(r),wS),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new PS,this.targetCount=0,this.ui=kl.cr()}forEachTarget(e,r){return this.oi.forEach((n,i)=>r(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),ce.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new kl(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,ce.resolve()}updateTargetData(e,r){return this.Tr(r),ce.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return ce.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),ce.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),ce.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return ce.resolve(n)}containsKey(e,r){return ce.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,r){this.ci={},this.overlays={},this.li=new Wg(0),this.hi=!1,this.hi=!0,this.Pi=new Qae,this.referenceDelegate=e(this),this.Ti=new tse(this),this.indexManager=new Vae,this.remoteDocumentCache=function(i){return new Zae(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new Lae(r),this.Ei=new Xae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yae,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Jae(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ae("MemoryPersistence","Starting transaction:",e);const i=new rse(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,r){return ce.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class rse extends Coe{constructor(e){super(),this.currentSequenceNumber=e}}class OS{constructor(e){this.persistence=e,this.Vi=new PS,this.mi=null}static fi(e){return new OS(e)}get gi(){if(this.mi)return this.mi;throw qe(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),ce.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),ce.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,n=>{const i=$e.fromPath(n);return this.pi(e,i).next(o=>{o||r.removeEntry(i,He.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return ce.or([()=>ce.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class Ym{constructor(e,r){this.persistence=e,this.yi=new Us(n=>Noe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Wae(this,r)}static fi(e,r){return new Ym(e,r)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return ce.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?ce.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,r).next(l=>{l||(n++,o.removeEntry(s,He.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Ip(e.data.value)),r}Dr(e,r,n){return ce.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.yi.get(r);return ce.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ds=n,this.As=i}static Rs(e,r){let n=tt(),i=tt();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new IS(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Fte()?8:koe(Nr())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ws(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new nse;return this.bs(e,r,s).next(l=>{if(o.result=l,this.fs)return this.Ds(e,r,s,l.size)})}).next(()=>o.result)}Ds(e,r,n,i){return n.documentReadCount<this.gs?(Du()<=et.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Lu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Du()<=et.DEBUG&&Ae("QueryEngine","Query:",Lu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Du()<=et.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Lu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(r))):ce.resolve())}ws(e,r){if(_j(r))return ce.resolve(null);let n=Oi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Vx(r,null,"F"),n=Oi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=tt(...o);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.vs(r,l);return this.Cs(r,f,s,c.readTime)?this.ws(e,Vx(r,null,"F")):this.Fs(e,f,r,c)}))})))}Ss(e,r,n,i){return _j(r)||i.isEqual(He.min())?ce.resolve(null):this.ys.getDocuments(e,n).next(o=>{const s=this.vs(r,o);return this.Cs(r,s,n,i)?ce.resolve(null):(Du()<=et.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Lu(r)),this.Fs(e,s,r,Toe(i,ah)).next(l=>l))})}vs(e,r){let n=new nr(g4(e));return r.forEach((i,o)=>{Yg(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,r,n){return Du()<=et.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Lu(r)),this.ys.getDocumentsMatchingQuery(e,r,ya.min(),n)}Fs(e,r,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="LocalStore",ose=3e8;class ase{constructor(e,r,n,i){this.persistence=e,this.Ms=r,this.serializer=i,this.xs=new Nt(Ye),this.Os=new Us(o=>bS(o),wS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gae(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function sse(t,e,r,n){return new ase(t,e,r,n)}async function F4(t,e){const r=Ge(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let c=tt();for(const f of i){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of o){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(f=>({ks:f,removedBatchIds:s,addedBatchIds:l}))})})}function use(t,e){const r=Ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,d){const p=f.batch,v=p.keys();let y=ce.resolve();return v.forEach(w=>{y=y.next(()=>d.getEntry(c,w)).next(x=>{const _=f.docVersions.get(w);ct(_!==null,48541),x.version.compareTo(_)<0&&(p.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),d.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=tt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function B4(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function lse(t,e){const r=Ge(t),n=e.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const l=[];e.targetChanges.forEach((d,p)=>{const v=i.get(p);if(!v)return;l.push(r.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>r.Ti.addMatchingKeys(o,d.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),function(x,_,A){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=ose?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(v,y,d)&&l.push(r.Ti.updateTargetData(o,y))});let c=_o(),f=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(cse(o,s,e.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!n.isEqual(He.min())){const d=r.Ti.getLastRemoteSnapshotVersion(o).next(p=>r.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(d)}return ce.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(r.xs=i,o))}function cse(t,e,r){let n=tt(),i=tt();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=_o();return r.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Ae(CS,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function fse(t,e){const r=Ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=vS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function hse(t,e){const r=Ge(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ti.getTargetData(n,e).next(o=>o?(i=o,ce.resolve(i)):r.Ti.allocateTargetId(n).next(s=>(i=new la(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function zx(t,e,r){const n=Ge(t),i=n.xs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Gl(s))throw s;Ae(CS,`Failed to update sequence numbers for target ${e}: ${s}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function Rj(t,e,r){const n=Ge(t);let i=He.min(),o=tt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,d){const p=Ge(c),v=p.Os.get(d);return v!==void 0?ce.resolve(p.xs.get(v)):p.Ti.getTargetData(f,d)}(n,s,Oi(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>n.Ms.getDocumentsMatchingQuery(s,e,r?i:He.min(),r?o:tt())).next(l=>(dse(n,Zoe(e),l),{documents:l,$s:o})))}function dse(t,e,r){let n=t.Ns.get(e)||He.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ns.set(e,n)}class Nj{constructor(){this.activeTargetIds=oae()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pse{constructor(){this.xo=new Nj,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Nj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="ConnectivityMonitor";class Mj{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ae(jj,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ae(jj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp=null;function Wx(){return yp===null?yp=function(){return 268435456+Math.round(2147483648*Math.random())}():yp++,"0x"+yp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="RestConnection",gse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vse{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===qm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,r,n,i,o){const s=Wx(),l=this.jo(e,r.toUriEncodedString());Ae(Hw,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);const{host:f}=new URL(l),d=Th(f);return this.Jo(e,l,c,n,d).then(p=>(Ae(Hw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Pl(Hw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",n),p})}Yo(e,r,n,i,o,s){return this.zo(e,r,n,i,o)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,r){const n=gse[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class _se extends vse{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const s=Wx();return new Promise((l,c)=>{const f=new zV;f.setWithCredentials(!0),f.listenOnce(WV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Op.NO_ERROR:const p=f.getResponseJson();Ae(Or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Op.TIMEOUT:Ae(Or,`RPC '${e}' ${s} timed out`),c(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case Op.HTTP_ERROR:const v=f.getStatus();if(Ae(Or,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(A){const T=A.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(T)>=0?T:me.UNKNOWN}(w.status);c(new Le(x,w.message))}else c(new Le(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Le(me.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ae(Or,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Ae(Or,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Wx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=GV(),l=KV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=o.join("");Ae(Or,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=s.createWebChannel(d,c);let v=!1,y=!1;const w=new yse({Zo:_=>{y?Ae(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(v||(Ae(Or,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ae(Or,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Xo:()=>p.close()}),x=(_,A,T)=>{_.listen(A,C=>{try{T(C)}catch(M){setTimeout(()=>{throw M},0)}})};return x(p,of.EventType.OPEN,()=>{y||(Ae(Or,`RPC '${e}' stream ${i} transport opened.`),w.__())}),x(p,of.EventType.CLOSE,()=>{y||(y=!0,Ae(Or,`RPC '${e}' stream ${i} transport closed`),w.u_())}),x(p,of.EventType.ERROR,_=>{y||(y=!0,Pl(Or,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),w.u_(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),x(p,of.EventType.MESSAGE,_=>{var A;if(!y){const T=_.data[0];ct(!!T,16349);const C=T,M=(C==null?void 0:C.error)||((A=C[0])===null||A===void 0?void 0:A.error);if(M){Ae(Or,`RPC '${e}' stream ${i} received error:`,M);const I=M.status;let N=function(R){const F=qt[R];if(F!==void 0)return O4(F)}(I),P=M.message;N===void 0&&(N=me.INTERNAL,P="Unknown error status: "+I+" with message "+M.message),y=!0,w.u_(new Le(N,P)),p.close()}else Ae(Or,`RPC '${e}' stream ${i} received:`,T),w.c_(T)}}),x(l,HV.STAT_EVENT,_=>{_.stat===Nx.PROXY?Ae(Or,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Nx.NOPROXY&&Ae(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Kw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return new Eae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,r,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),i=Math.max(0,r-n);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="PersistentStream";class q4{constructor(e,r,n,i,o,s,l,c){this.xi=e,this.y_=n,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new U4(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(yo(r.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.S_===r&&this.K_(n,i)},n=>{e(()=>{const i=new Le(me.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(i)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.W_(i))}),this.stream.onMessage(i=>{n(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ae(Dj,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Ae(Dj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bse extends q4{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}G_(e,r){return this.connection.T_("Listen",e,r)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const r=Tae(this.serializer,e),n=function(o){if(!("targetChange"in o))return He.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Ii(s.readTime):He.min()}(e);return this.listener.j_(r,n)}H_(e){const r={};r.database=qx(this.serializer),r.addTarget=function(o,s){let l;const c=s.target;if(l=$x(c)?{documents:Iae(o,c)}:{query:Cae(o,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=k4(o,s.resumeToken);const f=Fx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(He.min())>0){l.readTime=Xm(o,s.snapshotVersion.toTimestamp());const f=Fx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=Rae(this.serializer,e);n&&(r.labels=n),this.L_(r)}J_(e){const r={};r.database=qx(this.serializer),r.removeTarget=e,this.L_(r)}}class wse extends q4{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=Oae(e.writeResults,e.commitTime),n=Ii(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=qx(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Pae(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{}class Ese extends xse{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Bx(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(me.UNKNOWN,o.toString())})}Yo(e,r,n,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,Bx(r,n),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(me.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Sse{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(yo(r),this.oa=!1):Ae("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class Ase{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{n.enqueueAndForget(async()=>{zs(this)&&(Ae(Ns,"Restarting streams for network reachability change."),await async function(c){const f=Ge(c);f.Ta.add(4),await jh(f),f.da.set("Unknown"),f.Ta.delete(4),await tv(f)}(this))})}),this.da=new Sse(n,i)}}async function tv(t){if(zs(t))for(const e of t.Ia)await e(!0)}async function jh(t){for(const e of t.Ia)await e(!1)}function z4(t,e){const r=Ge(t);r.Pa.has(e.targetId)||(r.Pa.set(e.targetId,e),jS(r)?NS(r):Xl(r).M_()&&RS(r,e))}function kS(t,e){const r=Ge(t),n=Xl(r);r.Pa.delete(e),n.M_()&&W4(r,e),r.Pa.size===0&&(n.M_()?n.N_():zs(r)&&r.da.set("Unknown"))}function RS(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Xl(t).H_(e)}function W4(t,e){t.Aa.Ke(e),Xl(t).J_(e)}function NS(t){t.Aa=new _ae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.da._a()}function jS(t){return zs(t)&&!Xl(t).F_()&&t.Pa.size>0}function zs(t){return Ge(t).Ta.size===0}function H4(t){t.Aa=void 0}async function Tse(t){t.da.set("Online")}async function Pse(t){t.Pa.forEach((e,r)=>{RS(t,e)})}async function Ose(t,e){H4(t),jS(t)?(t.da.ca(e),NS(t)):t.da.set("Unknown")}async function Ise(t,e,r){if(t.da.set("Online"),e instanceof C4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Pa.delete(l),i.Aa.removeTarget(l))}(t,e)}catch(n){Ae(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qm(t,n)}else if(e instanceof Rp?t.Aa.Xe(e):e instanceof I4?t.Aa.ot(e):t.Aa.nt(e),!r.isEqual(He.min()))try{const n=await B4(t.localStore);r.compareTo(n)>=0&&await function(o,s){const l=o.Aa.It(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Pa.get(f);d&&o.Pa.set(f,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(xr.EMPTY_BYTE_STRING,d.snapshotVersion)),W4(o,c);const p=new la(d.target,c,f,d.sequenceNumber);RS(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ae(Ns,"Failed to raise snapshot:",n),await Qm(t,n)}}async function Qm(t,e,r){if(!Gl(e))throw e;t.Ta.add(1),await jh(t),t.da.set("Offline"),r||(r=()=>B4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ae(Ns,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await tv(t)})}function K4(t,e){return e().catch(r=>Qm(t,r,e))}async function rv(t){const e=Ge(t),r=xa(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:vS;for(;Cse(e);)try{const i=await fse(e.localStore,n);if(i===null){e.ha.length===0&&r.N_();break}n=i.batchId,kse(e,i)}catch(i){await Qm(e,i)}G4(e)&&X4(e)}function Cse(t){return zs(t)&&t.ha.length<10}function kse(t,e){t.ha.push(e);const r=xa(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function G4(t){return zs(t)&&!xa(t).F_()&&t.ha.length>0}function X4(t){xa(t).start()}async function Rse(t){xa(t).ta()}async function Nse(t){const e=xa(t);for(const r of t.ha)e.Z_(r.mutations)}async function jse(t,e,r){const n=t.ha.shift(),i=SS.from(n,e,r);await K4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rv(t)}async function Mse(t,e){e&&xa(t).Y_&&await async function(n,i){if(function(s){return vae(s)&&s!==me.ABORTED}(i.code)){const o=n.ha.shift();xa(n).O_(),await K4(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rv(n)}}(t,e),G4(t)&&X4(t)}async function Lj(t,e){const r=Ge(t);r.asyncQueue.verifyOperationInProgress(),Ae(Ns,"RemoteStore received new credentials");const n=zs(r);r.Ta.add(3),await jh(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await tv(r)}async function Dse(t,e){const r=Ge(t);e?(r.Ta.delete(2),await tv(r)):e||(r.Ta.add(2),await jh(r),r.da.set("Unknown"))}function Xl(t){return t.Ra||(t.Ra=function(r,n,i){const o=Ge(r);return o.ra(),new bse(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:Tse.bind(null,t),n_:Pse.bind(null,t),i_:Ose.bind(null,t),j_:Ise.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),jS(t)?NS(t):t.da.set("Unknown")):(await t.Ra.stop(),H4(t))})),t.Ra}function xa(t){return t.Va||(t.Va=function(r,n,i){const o=Ge(r);return o.ra(),new wse(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Rse.bind(null,t),i_:Mse.bind(null,t),X_:Nse.bind(null,t),ea:jse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await rv(t)):(await t.Va.stop(),t.ha.length>0&&(Ae(Ns,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,l=new MS(e,r,s,i,o);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DS(t,e){if(yo("AsyncQueue",`${e}: ${t}`),Gl(t))return new Le(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{static emptySet(e){return new Ju(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$e.comparator(r.key,n.key):(r,n)=>$e.comparator(r.key,n.key),this.keyedMap=af(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ju)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ju;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(){this.ma=new Nt($e.comparator)}track(e){const r=e.doc.key,n=this.ma.get(r);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(r,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(r):e.type===1&&n.type===2?this.ma=this.ma.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):qe(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(r,e)}ga(){const e=[];return this.ma.inorderTraversal((r,n)=>{e.push(n)}),e}}class Rl{constructor(e,r,n,i,o,s,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Rl(e,r,Ju.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class $se{constructor(){this.queries=Vj(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const i=Ge(r),o=i.queries;i.queries=Vj(),o.forEach((s,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Le(me.ABORTED,"Firestore shutting down"))}}function Vj(){return new Us(t=>m4(t),Xg)}async function Vse(t,e){const r=Ge(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.wa()&&e.Sa()&&(n=2):(o=new Lse,n=e.Sa()?0:1);try{switch(n){case 0:o.pa=await r.onListen(i,!0);break;case 1:o.pa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=DS(s,`Initialization of query '${Lu(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,o),o.ya.push(e),e.Da(r.onlineState),o.pa&&e.va(o.pa)&&LS(r)}async function Fse(t,e){const r=Ge(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Bse(t,e){const r=Ge(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const l of s.ya)l.va(i)&&(n=!0);s.pa=i}}n&&LS(r)}function Use(t,e,r){const n=Ge(t),i=n.queries.get(e);if(i)for(const o of i.ya)o.onError(r);n.queries.delete(e)}function LS(t){t.ba.forEach(e=>{e.next()})}var Hx,Fj;(Fj=Hx||(Hx={})).Ca="default",Fj.Cache="cache";class qse{constructor(e,r,n){this.query=e,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Rl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),r=!0):this.Na(e,this.onlineState)&&(this.Ba(e),r=!0),this.xa=e,r}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),r=!0),r}Na(e,r){if(!e.fromCache||!this.Sa())return!0;const n=r!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Hx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.key=e}}class Q4{constructor(e){this.key=e}}class zse{constructor(e,r){this.query=e,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=g4(e),this.Ja=new Ju(this.Ha)}get Ya(){return this.Ga}Za(e,r){const n=r?r.Xa:new $j,i=r?r.Ja:this.Ja;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const v=i.get(d),y=Yg(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;v&&y?v.data.isEqual(y.data)?w!==x&&(n.track({type:3,doc:y}),_=!0):this.eu(v,y)||(n.track({type:2,doc:y}),_=!0,(c&&this.Ha(y,c)>0||f&&this.Ha(y,f)<0)&&(l=!0)):!v&&y?(n.track({type:0,doc:y}),_=!0):v&&!y&&(n.track({type:1,doc:v}),_=!0,(c||f)&&(l=!0)),_&&(y?(s=s.add(y),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Ja:s,Xa:n,Cs:l,mutatedKeys:o}}eu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((d,p)=>function(y,w){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:_})}};return x(y)-x(w)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(n),i=i!=null&&i;const l=r&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,f=c!==this.za;return this.za=c,s.length!==0||f?{snapshot:new Rl(this.query,e.Ja,o,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new $j,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const r=[];return e.forEach(n=>{this.ja.has(n)||r.push(new Q4(n))}),this.ja.forEach(n=>{e.has(n)||r.push(new Y4(n))}),r}su(e){this.Ga=e.$s,this.ja=tt();const r=this.Za(e.documents);return this.applyChanges(r,!0)}ou(){return Rl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const $S="SyncEngine";class Wse{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Hse{constructor(e){this.key=e,this._u=!1}}class Kse{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Us(l=>m4(l),Xg),this.cu=new Map,this.lu=new Set,this.hu=new Nt($e.comparator),this.Pu=new Map,this.Tu=new PS,this.Iu={},this.Eu=new Map,this.du=kl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Gse(t,e,r=!0){const n=nF(t);let i;const o=n.uu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await J4(n,e,r,!0),i}async function Xse(t,e){const r=nF(t);await J4(r,e,!0,!1)}async function J4(t,e,r,n){const i=await hse(t.localStore,Oi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let l;return n&&(l=await Yse(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&z4(t.remoteStore,i),l}async function Yse(t,e,r,n,i){t.Ru=(p,v,y)=>async function(x,_,A,T){let C=_.view.Za(A);C.Cs&&(C=await Rj(x.localStore,_.query,!1).then(({documents:P})=>_.view.Za(P,C)));const M=T&&T.targetChanges.get(_.targetId),I=T&&T.targetMismatches.get(_.targetId)!=null,N=_.view.applyChanges(C,x.isPrimaryClient,M,I);return Uj(x,_.targetId,N.ru),N.snapshot}(t,p,v,y);const o=await Rj(t.localStore,e,!0),s=new zse(e,o.$s),l=s.Za(o.documents),c=Nh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);Uj(t,r,f.ru);const d=new Wse(e,r,s);return t.uu.set(e,d),t.cu.has(r)?t.cu.get(r).push(e):t.cu.set(r,[e]),f.snapshot}async function Qse(t,e,r){const n=Ge(t),i=n.uu.get(e),o=n.cu.get(i.targetId);if(o.length>1)return n.cu.set(i.targetId,o.filter(s=>!Xg(s,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await zx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&kS(n.remoteStore,i.targetId),Kx(n,i.targetId)}).catch(Kl)):(Kx(n,i.targetId),await zx(n.localStore,i.targetId,!0))}async function Jse(t,e){const r=Ge(t),n=r.uu.get(e),i=r.cu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),kS(r.remoteStore,n.targetId))}async function Zse(t,e,r){const n=aue(t);try{const i=await function(s,l){const c=Ge(s),f=rr.now(),d=l.reduce((y,w)=>y.add(w.key),tt());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=_o(),x=tt();return c.Bs.getEntries(y,d).next(_=>{w=_,w.forEach((A,T)=>{T.isValidDocument()||(x=x.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(_=>{p=_;const A=[];for(const T of l){const C=hae(T,p.get(T.key).overlayedDocument);C!=null&&A.push(new qs(T.key,C,u4(C.value.mapValue),co.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,A,l)}).next(_=>{v=_;const A=_.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,_.batchId,A)})}).then(()=>({batchId:v.batchId,changes:y4(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let f=s.Iu[s.currentUser.toKey()];f||(f=new Nt(Ye)),f=f.insert(l,c),s.Iu[s.currentUser.toKey()]=f}(n,i.batchId,r),await Mh(n,i.changes),await rv(n.remoteStore)}catch(i){const o=DS(i,"Failed to persist write");r.reject(o)}}async function Z4(t,e){const r=Ge(t);try{const n=await lse(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Pu.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?ct(s._u,14607):i.removedDocuments.size>0&&(ct(s._u,42227),s._u=!1))}),await Mh(r,n,e)}catch(n){await Kl(n)}}function Bj(t,e,r){const n=Ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.uu.forEach((o,s)=>{const l=s.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Ge(s);c.onlineState=l;let f=!1;c.queries.forEach((d,p)=>{for(const v of p.ya)v.Da(l)&&(f=!0)}),f&&LS(c)}(n.eventManager,e),i.length&&n.au.j_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function eue(t,e,r){const n=Ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Pu.get(e),o=i&&i.key;if(o){let s=new Nt($e.comparator);s=s.insert(o,Rr.newNoDocument(o,He.min()));const l=tt().add(o),c=new Zg(He.min(),new Map,new Nt(Ye),s,l);await Z4(n,c),n.hu=n.hu.remove(o),n.Pu.delete(e),VS(n)}else await zx(n.localStore,e,!1).then(()=>Kx(n,e,r)).catch(Kl)}async function tue(t,e){const r=Ge(t),n=e.batch.batchId;try{const i=await use(r.localStore,e);tF(r,n,null),eF(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Mh(r,i)}catch(i){await Kl(i)}}async function rue(t,e,r){const n=Ge(t);try{const i=await function(s,l){const c=Ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(ct(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(n.localStore,e);tF(n,e,r),eF(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Mh(n,i)}catch(i){await Kl(i)}}function eF(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function tF(t,e,r){const n=Ge(t);let i=n.Iu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Iu[n.currentUser.toKey()]=i}}function Kx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.cu.get(e))t.uu.delete(n),r&&t.au.Vu(n,r);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(n=>{t.Tu.containsKey(n)||rF(t,n)})}function rF(t,e){t.lu.delete(e.path.canonicalString());const r=t.hu.get(e);r!==null&&(kS(t.remoteStore,r),t.hu=t.hu.remove(e),t.Pu.delete(r),VS(t))}function Uj(t,e,r){for(const n of r)n instanceof Y4?(t.Tu.addReference(n.key,e),nue(t,n)):n instanceof Q4?(Ae($S,"Document no longer in limbo: "+n.key),t.Tu.removeReference(n.key,e),t.Tu.containsKey(n.key)||rF(t,n.key)):qe(19791,{mu:n})}function nue(t,e){const r=e.key,n=r.path.canonicalString();t.hu.get(r)||t.lu.has(n)||(Ae($S,"New document in limbo: "+r),t.lu.add(n),VS(t))}function VS(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const r=new $e(Dt.fromString(e)),n=t.du.next();t.Pu.set(n,new Hse(r)),t.hu=t.hu.insert(r,n),z4(t.remoteStore,new la(Oi(xS(r.path)),n,"TargetPurposeLimboResolution",Wg.le))}}async function Mh(t,e,r){const n=Ge(t),i=[],o=[],s=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{s.push(n.Ru(c,e,r).then(f=>{var d;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=IS.Rs(c.targetId,f);o.push(p)}}))}),await Promise.all(s),n.au.j_(i),await async function(c,f){const d=Ge(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ce.forEach(f,v=>ce.forEach(v.ds,y=>d.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>ce.forEach(v.As,y=>d.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!Gl(p))throw p;Ae(CS,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const y=d.xs.get(v),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(v,x)}}}(n.localStore,o))}async function iue(t,e){const r=Ge(t);if(!r.currentUser.isEqual(e)){Ae($S,"User change. New user:",e.toKey());const n=await F4(r.localStore,e);r.currentUser=e,function(o,s){o.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Le(me.CANCELLED,s))})}),o.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Mh(r,n.ks)}}function oue(t,e){const r=Ge(t),n=r.Pu.get(e);if(n&&n._u)return tt().add(n.key);{let i=tt();const o=r.cu.get(e);if(!o)return i;for(const s of o){const l=r.uu.get(s);i=i.unionWith(l.view.Ya)}return i}}function nF(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eue.bind(null,e),e.au.j_=Bse.bind(null,e.eventManager),e.au.Vu=Use.bind(null,e.eventManager),e}function aue(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rue.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ev(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return sse(this.persistence,new ise,e.initialUser,this.serializer)}yu(e){return new V4(OS.fi,this.serializer)}pu(e){return new pse}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class sue extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){ct(this.persistence.referenceDelegate instanceof Ym,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new qae(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new V4(n=>Ym.fi(n,r),this.serializer)}}class Gx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Bj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iue.bind(null,this.syncEngine),await Dse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $se}()}createDatastore(e){const r=ev(e.databaseInfo.databaseId),n=function(o){return new _se(o)}(e.databaseInfo);return function(o,s,l,c){return new Ese(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,l){return new Ase(n,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>Bj(this.syncEngine,r,0),function(){return Mj.C()?new Mj:new mse}())}createSyncEngine(e,r){return function(i,o,s,l,c,f,d){const p=new Kse(i,o,s,l,c,f);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=Ge(i);Ae(Ns,"RemoteStore shutting down."),o.Ta.add(5),await jh(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Gx.provider={build:()=>new Gx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class lue{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=JV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{Ae(Ea,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ae(Ea,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=DS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Gw(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Ea,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await F4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await cue(t);Ae(Ea,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Lj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Lj(e.remoteStore,i)),t._onlineComponents=e}async function cue(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Ea,"Using user provided OfflineComponentProvider");try{await Gw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Pl("Error using user provided cache. Falling back to memory cache: "+r),await Gw(t,new Jm)}}else Ae(Ea,"Using default OfflineComponentProvider"),await Gw(t,new sue(void 0));return t._offlineComponents}async function iF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Ea,"Using user provided OnlineComponentProvider"),await qj(t,t._uninitializedComponentsProvider._online)):(Ae(Ea,"Using default OnlineComponentProvider"),await qj(t,new Gx))),t._onlineComponents}function fue(t){return iF(t).then(e=>e.syncEngine)}async function hue(t){const e=await iF(t),r=e.eventManager;return r.onListen=Gse.bind(null,e.syncEngine),r.onUnlisten=Qse.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Xse.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Jse.bind(null,e.syncEngine),r}function due(t,e,r={}){const n=new ga;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const d=new uue({next:v=>{d.Cu(),s.enqueueAndForget(()=>Fse(o,p));const y=v.docs.has(l);!y&&v.fromCache?f.reject(new Le(me.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new Le(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new qse(xS(l.path),d,{includeMetadataChanges:!0,La:!0});return Vse(o,p)}(await hue(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t,e,r){if(!r)throw new Le(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mue(t,e,r,n){if(e===!0&&n===!0)throw new Le(me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Wj(t){if(!$e.isDocumentKey(t))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function hh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=FS(t);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="firestore.googleapis.com",Hj=!0;class Kj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aF,this.ssl=Hj}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Hj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bae)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oF((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class BS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new voe;switch(n.type){case"firstParty":return new woe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=zj.get(r);n&&(Ae("ComponentProvider","Removing Datastore"),zj.delete(r),n.terminate())}(this),Promise.resolve()}}function gue(t,e,r,n={}){var i;t=hh(t,BS);const o=Th(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;o&&(rV(`https://${c}`),nV("Firestore",!0)),s.host!==aF&&s.host!==c&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!Is(f,l)&&(t._setSettings(f),n.mockUserToken)){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=Cr.MOCK_USER;else{d=kte(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cr(v)}t._authCredentials=new yoe(new YV(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new US(this.firestore,e,this._query)}}class Rn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class dh extends US{constructor(e,r,n){super(e,r,xS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new $e(e))}withConverter(e){return new dh(this.firestore,e,this._path)}}function Xw(t,e,...r){if(t=mn(t),arguments.length===1&&(e=JV.newId()),pue("doc","path",e),t instanceof BS){const n=Dt.fromString(e,...r);return Wj(n),new Rn(t,null,new $e(n))}{if(!(t instanceof Rn||t instanceof dh))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return Wj(n),new Rn(t.firestore,t instanceof dh?t.converter:null,new $e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="AsyncQueue";class Xj{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new U4(this,"async_queue_retry"),this.ec=()=>{const n=Kw();n&&Ae(Gj,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=Kw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=Kw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new ga;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Gl(e))throw e;Ae(Gj,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,yo("INTERNAL UNHANDLED ERROR: ",Yj(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const i=MS.createAndSchedule(this,e,r,n,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&qe(47125,{_c:Yj(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function Yj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qS extends BS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Xj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xj(e),this._firestoreClient=void 0,await e}}}function vue(t,e){const r=typeof t=="object"?t:sV(),n=typeof t=="string"?t:qm,i=aS(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=Ite("firestore");o&&gue(i,...o)}return i}function sF(t){if(t._terminated)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yue(t),t._firestoreClient}function yue(t){var e,r,n;const i=t._freezeSettings(),o=function(l,c,f,d){return new Doe(l,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oF(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lue(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(xr.fromBase64String(e))}catch(r){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nl(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue=/^__.*__$/;class bue{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,r,this.fieldTransforms):new Rh(e,this.data,r,this.fieldTransforms)}}function lF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{hc:t})}}class KS{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new KS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.dc(e),i}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Zm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(lF(this.hc)&&_ue.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class wue{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ev(e)}gc(e,r,n,i=!1){return new KS({hc:e,methodName:r,fc:n,path:wr.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xue(t){const e=t._freezeSettings(),r=ev(t._databaseId);return new wue(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Eue(t,e,r,n,i,o={}){const s=t.gc(o.merge||o.mergeFields?2:0,e,r,i);dF("Data must be an object, but it was:",s,n);const l=fF(n,s);let c,f;if(o.merge)c=new ni(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const v=Sue(e,p,r);if(!s.contains(v))throw new Le(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Tue(d,v)||d.push(v)}c=new ni(d),f=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=s.fieldTransforms;return new bue(new Cn(l),c,f)}function cF(t,e){if(hF(t=mn(t)))return dF("Unsupported field value:",e,t),fF(t,e);if(t instanceof uF)return function(n,i){if(!lF(i.hc))throw i.Vc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const l of n){let c=cF(l,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return aae(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=rr.fromDate(n);return{timestampValue:Xm(i.serializer,o)}}if(n instanceof rr){const o=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xm(i.serializer,o)}}if(n instanceof WS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nl)return{bytesValue:k4(i.serializer,n._byteString)};if(n instanceof Rn){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TS(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof HS)return function(s,l){return{mapValue:{fields:{[a4]:{stringValue:s4},[zm]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Vc("VectorValues must only contain numeric values.");return ES(l.serializer,f)})}}}}}}(n,i);throw i.Vc(`Unsupported field value: ${FS(n)}`)}(t,e)}function fF(t,e){const r={};return e4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(n,i)=>{const o=cF(i,e.Ic(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function hF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof WS||t instanceof Nl||t instanceof Rn||t instanceof uF||t instanceof HS)}function dF(t,e,r){if(!hF(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=FS(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function Sue(t,e,r){if((e=mn(e))instanceof zS)return e._internalPath;if(typeof e=="string")return pF(t,e);throw Zm("Field path arguments must be of type string or ",t,!1,void 0,r)}const Aue=new RegExp("[~\\*/\\[\\]]");function pF(t,e,r){if(e.search(Aue)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new zS(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zm(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Le(me.INVALID_ARGUMENT,l+t+c)}function Tue(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(gF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Pue extends mF{data(){return super.data()}}function gF(t,e){return typeof e=="string"?pF(t,e):e instanceof zS?e._internalPath:e._delegate._internalPath}class Oue{convertValue(e,r="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Bs(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[zm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Vt(s.doubleValue));return new HS(o)}convertGeoPoint(e){return new WS(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Kg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const r=_a(e);return new rr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);ct(L4(n),9688,{name:e});const i=new uh(n.get(1),n.get(3)),o=new $e(n.popFirst(5));return i.isEqual(r)||yo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iue(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vF extends mF{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kue(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(gF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class kue extends vF{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rue(t){t=hh(t,Rn);const e=hh(t.firestore,qS);return due(sF(e),t._key).then(r=>Mue(e,t,r))}class Nue extends Oue{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}function Qj(t,e,r){t=hh(t,Rn);const n=hh(t.firestore,qS),i=Iue(t.converter,e,r);return jue(n,[Eue(xue(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,co.none())])}function jue(t,e){return function(n,i){const o=new ga;return n.asyncQueue.enqueueAndForget(async()=>Zse(await fue(n),i,o)),o.promise}(sF(t),e)}function Mue(t,e,r){const n=r.docs.get(e._key),i=new Nue(t);return new vF(t,i,e._key,n,new Cue(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Hl=i})(ql),Al(new Cs("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),l=new qS(new _oe(n.getProvider("auth-internal")),new xoe(s,n.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(f.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),da(rj,nj,e),da(rj,nj,"esm2017")})();var Due="firebase",Lue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(Due,Lue,"app");const $ue={apiKey:"AIzaSyAsJodYue9gdmCJsjgWXkn3p4EQuRGYMoY",authDomain:"kiosko-app-1ec1a.firebaseapp.com",projectId:"kiosko-app-1ec1a",storageBucket:"kiosko-app-1ec1a.firebasestorage.app",messagingSenderId:"76541564793",appId:"1:76541564793:web:b826d42d0bd4237d3841a8",measurementId:"G-9MWJ2E95DW"},yF=aV($ue),Jc=moe(yF),Yw=vue(yF),yr=[];for(let t=0;t<256;++t)yr.push((t+256).toString(16).slice(1));function Vue(t,e=0){return(yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]).toLowerCase()}let Qw;const Fue=new Uint8Array(16);function Bue(){if(!Qw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qw=crypto.getRandomValues.bind(crypto)}return Qw(Fue)}const Uue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jj={randomUUID:Uue};function que(t,e,r){var i;if(Jj.randomUUID&&!t)return Jj.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Bue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Vue(n)}const _F=W.createContext(void 0),bF=()=>{const t=W.useContext(_F);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zue=()=>{let t=localStorage.getItem("deviceId");return t||(t=que(),localStorage.setItem("deviceId",t)),t},Wue=({children:t})=>{const[e,r]=W.useState(null),[n,i]=W.useState(!0),[o,s]=W.useState(!1),l=zue();W.useEffect(()=>iie(Jc,async v=>{v?await c(v.uid)?(r(v),s(!0)):(await qw(Jc),r(null),s(!1)):(r(null),s(!1)),i(!1)}),[]);const c=async p=>{try{const v=await Rue(Xw(Yw,"usuarios_dispositivo",p));if(!v.exists())return await Qj(Xw(Yw,"usuarios_dispositivo",p),{uid:p,deviceId:l,createdAt:new Date,lastAccess:new Date}),!0;const y=v.data();return y.deviceId===l?(await Qj(Xw(Yw,"usuarios_dispositivo",p),{...y,lastAccess:new Date},{merge:!0}),!0):!1}catch(v){return console.error("Error checking device authorization:",v),!1}},f=async(p,v)=>{try{i(!0);const w=(await tie(Jc,p,v)).user;return await c(w.uid)?{success:!0}:(await qw(Jc),{success:!1,error:"Esta cuenta ya está siendo usada en otro dispositivo. Solo se permite un dispositivo por cuenta."})}catch(y){let w="Error al iniciar sesión";switch(y.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":w="Email o contraseña incorrectos";break;case"auth/too-many-requests":w="Demasiados intentos fallidos. Intenta más tarde";break;case"auth/network-request-failed":w="Error de conexión. Verifica tu internet";break;case"auth/invalid-email":w="El formato del email no es válido";break}return{success:!1,error:w}}finally{i(!1)}},d=async()=>{try{await qw(Jc)}catch(p){console.error("Error during logout:",p)}};return V.jsx(_F.Provider,{value:{isAuthenticated:o,currentUser:e,deviceId:l,login:f,logout:d,loading:n},children:t})},Hue=()=>{const[t,e]=W.useState(""),[r,n]=W.useState(""),[i,o]=W.useState(!1),[s,l]=W.useState(""),[c,f]=W.useState(!1),{login:d,deviceId:p}=bF(),v=async y=>{if(y.preventDefault(),f(!0),l(""),!t||!r){l("Por favor completa todos los campos"),f(!1);return}try{const w=await d(t,r);w.success||l(w.error||"Error al iniciar sesión")}catch{l("Error inesperado al iniciar sesión")}finally{f(!1)}};return V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full space-y-6",children:[V.jsxs("div",{className:"text-center space-y-2",children:[V.jsx("div",{className:"flex justify-center",children:V.jsx(bP,{className:"text-blue-600 h-8 w-8"})}),V.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Acceso al Kiosko"}),V.jsx("p",{className:"text-gray-500",children:"Ingrese sus credenciales"}),V.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[V.jsx(vM,{size:12}),V.jsxs("span",{children:["ID: ",p.slice(-8)]})]})]}),V.jsxs("form",{onSubmit:v,className:"space-y-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),V.jsxs("div",{className:"relative",children:[V.jsx(gB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),V.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",disabled:c,autoComplete:"email"})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contraseña"}),V.jsxs("div",{className:"relative",children:[V.jsx(bP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),V.jsx("input",{type:i?"text":"password",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contraseña",disabled:c,autoComplete:"current-password"}),V.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:c,children:i?V.jsx(hB,{size:20}):V.jsx(dB,{size:20})})]})]}),s&&V.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[V.jsx(Zw,{className:"text-red-600 h-5 w-5 mt-0.5 flex-shrink-0"}),V.jsxs("div",{className:"text-sm text-red-800",children:[V.jsx("p",{className:"font-medium",children:"Error de autenticación"}),V.jsx("p",{children:s})]})]}),V.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?V.jsxs("div",{className:"flex items-center justify-center gap-2",children:[V.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"Iniciar Sesión"})]}),V.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[V.jsx("p",{children:"⚠️ Solo se permite un dispositivo por cuenta"}),V.jsx("p",{children:"Contacto: 3834997640"})]})]})})},Kue=()=>{const[t,e]=W.useState(0),{isAuthenticated:r,currentUser:n,deviceId:i,logout:o}=bF();if(!r)return V.jsx(Hue,{});const s=[{title:"📊 Dashboard",content:V.jsx(cte,{})},{title:"Gestión de Productos",content:V.jsx(dte,{})},{title:"Registro de Ventas",content:V.jsx(_te,{})},{title:"Reportes",content:V.jsx(bte,{})}];return V.jsxs("div",{className:"min-h-screen bg-gray-50",children:[V.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-md",children:V.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(jp,{size:24}),V.jsx("h1",{className:"text-xl font-bold",children:"Sistema de Gestión de Stock para Kiosko"})]}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[V.jsx(vM,{size:16}),V.jsxs("span",{children:["Usuario: ",(n==null?void 0:n.email)||"Usuario"]}),V.jsx("span",{className:"text-blue-200",children:"|"}),V.jsxs("span",{children:["ID: ",i.slice(-8)]})]}),V.jsx(wB,{}),V.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-800 px-3 py-2 rounded-lg transition-colors",children:[V.jsx(mB,{size:16}),"Salir"]})]})]})}),V.jsxs("main",{className:"container mx-auto p-4 mt-4",children:[V.jsx(iB,{tabs:s.map(l=>l.title),activeTab:t,onTabChange:e}),V.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-md p-6",children:s[t].content})]}),V.jsx("footer",{className:"bg-gray-100 p-4 border-t mt-auto",children:V.jsxs("div",{className:"container mx-auto text-center text-gray-600 text-sm",children:["© ",new Date().getFullYear()," Sistema de Gestión de Stock para Kiosko"]})})]})};function Gue(){return V.jsx(Wue,{children:V.jsx(uB,{children:V.jsx(hte,{children:V.jsx(yte,{children:V.jsx(Kue,{})})})})})}N3.createRoot(document.getElementById("root")).render(V.jsx(z.StrictMode,{children:V.jsx(G6,{children:V.jsx(Gue,{})})}));
