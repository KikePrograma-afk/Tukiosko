(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ey={exports:{}},Dc={},Sy={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function d3(){if(HA)return Je;HA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function b(U,G,ue){this.props=U,this.context=G,this.refs=x,this.updater=ue||y}b.prototype.isReactComponent={},b.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=b.prototype;function T(U,G,ue){this.props=U,this.context=G,this.refs=x,this.updater=ue||y}var C=T.prototype=new A;C.constructor=T,w(C,b.prototype),C.isPureReactComponent=!0;var j=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(U,G,ue){var ve,ie={},ce=null,pe=null;if(G!=null)for(ve in G.ref!==void 0&&(pe=G.ref),G.key!==void 0&&(ce=""+G.key),G)I.call(G,ve)&&!P.hasOwnProperty(ve)&&(ie[ve]=G[ve]);var Se=arguments.length-2;if(Se===1)ie.children=ue;else if(1<Se){for(var de=Array(Se),Te=0;Te<Se;Te++)de[Te]=arguments[Te+2];ie.children=de}if(U&&U.defaultProps)for(ve in Se=U.defaultProps,Se)ie[ve]===void 0&&(ie[ve]=Se[ve]);return{$$typeof:t,type:U,key:ce,ref:pe,props:ie,_owner:N.current}}function R(U,G){return{$$typeof:t,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return G[ue]})}var F=/\/+/g;function D(U,G){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):G.toString(36)}function Z(U,G,ue,ve,ie){var ce=typeof U;(ce==="undefined"||ce==="boolean")&&(U=null);var pe=!1;if(U===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(U.$$typeof){case t:case e:pe=!0}}if(pe)return pe=U,ie=ie(pe),U=ve===""?"."+D(pe,0):ve,j(ie)?(ue="",U!=null&&(ue=U.replace(F,"$&/")+"/"),Z(ie,G,ue,"",function(Te){return Te})):ie!=null&&(V(ie)&&(ie=R(ie,ue+(!ie.key||pe&&pe.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+U)),G.push(ie)),1;if(pe=0,ve=ve===""?".":ve+":",j(U))for(var Se=0;Se<U.length;Se++){ce=U[Se];var de=ve+D(ce,Se);pe+=Z(ce,G,ue,de,ie)}else if(de=v(U),typeof de=="function")for(U=de.call(U),Se=0;!(ce=U.next()).done;)ce=ce.value,de=ve+D(ce,Se++),pe+=Z(ce,G,ue,de,ie);else if(ce==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return pe}function K(U,G,ue){if(U==null)return U;var ve=[],ie=0;return Z(U,ve,"","",function(ce){return G.call(ue,ce,ie++)}),ve}function J(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var oe={current:null},Q={transition:null},se={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:N};function H(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:K,forEach:function(U,G,ue){K(U,function(){G.apply(this,arguments)},ue)},count:function(U){var G=0;return K(U,function(){G++}),G},toArray:function(U){return K(U,function(G){return G})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Je.Component=b,Je.Fragment=r,Je.Profiler=i,Je.PureComponent=T,Je.StrictMode=n,Je.Suspense=c,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Je.act=H,Je.cloneElement=function(U,G,ue){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ve=w({},U.props),ie=U.key,ce=U.ref,pe=U._owner;if(G!=null){if(G.ref!==void 0&&(ce=G.ref,pe=N.current),G.key!==void 0&&(ie=""+G.key),U.type&&U.type.defaultProps)var Se=U.type.defaultProps;for(de in G)I.call(G,de)&&!P.hasOwnProperty(de)&&(ve[de]=G[de]===void 0&&Se!==void 0?Se[de]:G[de])}var de=arguments.length-2;if(de===1)ve.children=ue;else if(1<de){Se=Array(de);for(var Te=0;Te<de;Te++)Se[Te]=arguments[Te+2];ve.children=Se}return{$$typeof:t,type:U.type,key:ie,ref:ce,props:ve,_owner:pe}},Je.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Je.createElement=O,Je.createFactory=function(U){var G=O.bind(null,U);return G.type=U,G},Je.createRef=function(){return{current:null}},Je.forwardRef=function(U){return{$$typeof:l,render:U}},Je.isValidElement=V,Je.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:J}},Je.memo=function(U,G){return{$$typeof:f,type:U,compare:G===void 0?null:G}},Je.startTransition=function(U){var G=Q.transition;Q.transition={};try{U()}finally{Q.transition=G}},Je.unstable_act=H,Je.useCallback=function(U,G){return oe.current.useCallback(U,G)},Je.useContext=function(U){return oe.current.useContext(U)},Je.useDebugValue=function(){},Je.useDeferredValue=function(U){return oe.current.useDeferredValue(U)},Je.useEffect=function(U,G){return oe.current.useEffect(U,G)},Je.useId=function(){return oe.current.useId()},Je.useImperativeHandle=function(U,G,ue){return oe.current.useImperativeHandle(U,G,ue)},Je.useInsertionEffect=function(U,G){return oe.current.useInsertionEffect(U,G)},Je.useLayoutEffect=function(U,G){return oe.current.useLayoutEffect(U,G)},Je.useMemo=function(U,G){return oe.current.useMemo(U,G)},Je.useReducer=function(U,G,ue){return oe.current.useReducer(U,G,ue)},Je.useRef=function(U){return oe.current.useRef(U)},Je.useState=function(U){return oe.current.useState(U)},Je.useSyncExternalStore=function(U,G,ue){return oe.current.useSyncExternalStore(U,G,ue)},Je.useTransition=function(){return oe.current.useTransition()},Je.version="18.3.1",Je}var KA;function Km(){return KA||(KA=1,Sy.exports=d3()),Sy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function h3(){if(GA)return Dc;GA=1;var t=Km(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var h,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(h in c)n.call(c,h)&&!o.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:l,key:v,ref:y,props:p,_owner:i.current}}return Dc.Fragment=r,Dc.jsx=s,Dc.jsxs=s,Dc}var XA;function p3(){return XA||(XA=1,Ey.exports=h3()),Ey.exports}var L=p3(),q=Km();const W=ht(q);var Wh={},Ty={exports:{}},Gr={},Ay={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function m3(){return YA||(YA=1,function(t){function e(Q,se){var H=Q.length;Q.push(se);e:for(;0<H;){var U=H-1>>>1,G=Q[U];if(0<i(G,se))Q[U]=se,Q[H]=G,H=U;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var se=Q[0],H=Q.pop();if(H!==se){Q[0]=H;e:for(var U=0,G=Q.length,ue=G>>>1;U<ue;){var ve=2*(U+1)-1,ie=Q[ve],ce=ve+1,pe=Q[ce];if(0>i(ie,H))ce<G&&0>i(pe,ie)?(Q[U]=pe,Q[ce]=H,U=ce):(Q[U]=ie,Q[ve]=H,U=ve);else if(ce<G&&0>i(pe,H))Q[U]=pe,Q[ce]=H,U=ce;else break e}}return se}function i(Q,se){var H=Q.sortIndex-se.sortIndex;return H!==0?H:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,p=null,v=3,y=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Q){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=Q)n(f),se.sortIndex=se.expirationTime,e(c,se);else break;se=r(f)}}function j(Q){if(x=!1,C(Q),!w)if(r(c)!==null)w=!0,J(I);else{var se=r(f);se!==null&&oe(j,se.startTime-Q)}}function I(Q,se){w=!1,x&&(x=!1,A(O),O=-1),y=!0;var H=v;try{for(C(se),p=r(c);p!==null&&(!(p.expirationTime>se)||Q&&!M());){var U=p.callback;if(typeof U=="function"){p.callback=null,v=p.priorityLevel;var G=U(p.expirationTime<=se);se=t.unstable_now(),typeof G=="function"?p.callback=G:p===r(c)&&n(c),C(se)}else n(c);p=r(c)}if(p!==null)var ue=!0;else{var ve=r(f);ve!==null&&oe(j,ve.startTime-se),ue=!1}return ue}finally{p=null,v=H,y=!1}}var N=!1,P=null,O=-1,R=5,V=-1;function M(){return!(t.unstable_now()-V<R)}function F(){if(P!==null){var Q=t.unstable_now();V=Q;var se=!0;try{se=P(!0,Q)}finally{se?D():(N=!1,P=null)}}else N=!1}var D;if(typeof T=="function")D=function(){T(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=F,D=function(){K.postMessage(null)}}else D=function(){b(F,0)};function J(Q){P=Q,N||(N=!0,D())}function oe(Q,se){O=b(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,J(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var H=v;v=se;try{return Q()}finally{v=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var H=v;v=Q;try{return se()}finally{v=H}},t.unstable_scheduleCallback=function(Q,se,H){var U=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?U+H:U):H=U,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,Q={id:h++,callback:se,priorityLevel:Q,startTime:H,expirationTime:G,sortIndex:-1},H>U?(Q.sortIndex=H,e(f,Q),r(c)===null&&Q===r(f)&&(x?(A(O),O=-1):x=!0,oe(j,H-U))):(Q.sortIndex=G,e(c,Q),w||y||(w=!0,J(I))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var se=v;return function(){var H=v;v=se;try{return Q.apply(this,arguments)}finally{v=H}}}}(Py)),Py}var QA;function g3(){return QA||(QA=1,Ay.exports=m3()),Ay.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function v3(){if(JA)return Gr;JA=1;var t=Km(),e=g3();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(a){return c.call(p,a)?!0:c.call(h,a)?!1:f.test(a)?p[a]=!0:(h[a]=!0,!1)}function y(a,u,d,g){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,d,g){if(u===null||typeof u>"u"||y(a,u,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,d,g,_,S,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=S,this.removeEmptyString=$}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];b[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(A,T);b[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(A,T);b[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(A,T);b[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function C(a,u,d,g){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,d,_,g)&&(d=null),g||_===null?v(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):_.mustUseProperty?a[_.propertyName]=d===null?_.type===3?!1:"":d:(u=_.attributeName,g=_.attributeNamespace,d===null?a.removeAttribute(u):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?a.setAttributeNS(g,u,d):a.setAttribute(u,d))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function se(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var H=Object.assign,U;function G(a){if(U===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+a}var ue=!1;function ve(a,u){if(!a||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ae){var g=ae}Reflect.construct(a,[],u)}else{try{u.call()}catch(ae){g=ae}a.call(u.prototype)}else{try{throw Error()}catch(ae){g=ae}a()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var _=ae.stack.split(`
`),S=g.stack.split(`
`),$=_.length-1,z=S.length-1;1<=$&&0<=z&&_[$]!==S[z];)z--;for(;1<=$&&0<=z;$--,z--)if(_[$]!==S[z]){if($!==1||z!==1)do if($--,z--,0>z||_[$]!==S[z]){var X=`
`+_[$].replace(" at new "," at ");return a.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",a.displayName)),X}while(1<=$&&0<=z);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?G(a):""}function ie(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function ce(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case N:return"Portal";case R:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case M:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case F:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return u=a.displayName||null,u!==null?u:ce(a.type)||"Memo";case J:u=a._payload,a=a._init;try{return ce(a(u))}catch{}}return null}function pe(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Se(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function de(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Te(a){var u=de(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,S=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return _.call(this)},set:function($){g=""+$,S.call(this,$)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function xe(a){a._valueTracker||(a._valueTracker=Te(a))}function te(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),g="";return a&&(g=de(a)?a.checked?"true":"false":a.value),a=g,a!==d?(u.setValue(a),!0):!1}function Me(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ae(a,u){var d=u.checked;return H({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function ke(a,u){var d=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;d=Se(u.value!=null?u.value:d),a._wrapperState={initialChecked:g,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function He(a,u){u=u.checked,u!=null&&C(a,"checked",u,!1)}function at(a,u){He(a,u);var d=Se(u.value),g=u.type;if(d!=null)g==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?pt(a,u.type,d):u.hasOwnProperty("defaultValue")&&pt(a,u.type,Se(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function st(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function pt(a,u,d){(u!=="number"||Me(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Ft=Array.isArray;function Ht(a,u,d,g){if(a=a.options,u){u={};for(var _=0;_<d.length;_++)u["$"+d[_]]=!0;for(d=0;d<a.length;d++)_=u.hasOwnProperty("$"+a[d].value),a[d].selected!==_&&(a[d].selected=_),_&&g&&(a[d].defaultSelected=!0)}else{for(d=""+Se(d),u=null,_=0;_<a.length;_++){if(a[_].value===d){a[_].selected=!0,g&&(a[_].defaultSelected=!0);return}u!==null||a[_].disabled||(u=a[_])}u!==null&&(u.selected=!0)}}function en(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return H({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ai(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(r(92));if(Ft(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:Se(d)}}function Mi(a,u){var d=Se(u.value),g=Se(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),g!=null&&(a.defaultValue=""+g)}function To(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Kt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Kt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Di,Hl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,g,_){MSApp.execUnsafeLocalFunction(function(){return a(u,d,g,_)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Di.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Ao(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ia=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(a){Ia.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Pa[u]=Pa[a]})});function Kl(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||Pa.hasOwnProperty(a)&&Pa[a]?(""+u).trim():u+"px"}function Gl(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=Kl(d,u[d],g);d==="float"&&(d="cssFloat"),g?a.setProperty(d,_):a[d]=_}}var Xl=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(a,u){if(u){if(Xl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ql(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Fs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Bs=null,gn=null,si=null;function Us(a){if(a=wc(a)){if(typeof Bs!="function")throw Error(r(280));var u=a.stateNode;u&&(u=oh(u),Bs(a.stateNode,a.type,u))}}function ui(a){gn?si?si.push(a):si=[a]:gn=a}function Jl(){if(gn){var a=gn,u=si;if(si=gn=null,Us(a),u)for(a=0;a<u.length;a++)Us(u[a])}}function Ca(a,u){return a(u)}function Zl(){}var Li=!1;function ec(a,u,d){if(Li)return a(u,d);Li=!0;try{return Ca(a,u,d)}finally{Li=!1,(gn!==null||si!==null)&&(Zl(),Jl())}}function Lt(a,u){var d=a.stateNode;if(d===null)return null;var g=oh(d);if(g===null)return null;d=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var qs=!1;if(l)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{qs=!1}function ka(a,u,d,g,_,S,$,z,X){var ae=Array.prototype.slice.call(arguments,3);try{u.apply(d,ae)}catch(ge){this.onError(ge)}}var Ra=!1,zs=null,Dn=!1,tc=null,Qg={onError:function(a){Ra=!0,zs=a}};function Ws(a,u,d,g,_,S,$,z,X){Ra=!1,zs=null,ka.apply(Qg,arguments)}function Cd(a,u,d,g,_,S,$,z,X){if(Ws.apply(this,arguments),Ra){if(Ra){var ae=zs;Ra=!1,zs=null}else throw Error(r(198));Dn||(Dn=!0,tc=ae)}}function Ln(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function Na(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function $n(a){if(Ln(a)!==a)throw Error(r(188))}function kd(a){var u=a.alternate;if(!u){if(u=Ln(a),u===null)throw Error(r(188));return u!==a?null:a}for(var d=a,g=u;;){var _=d.return;if(_===null)break;var S=_.alternate;if(S===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===d)return $n(_),a;if(S===g)return $n(_),u;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=S;else{for(var $=!1,z=_.child;z;){if(z===d){$=!0,d=_,g=S;break}if(z===g){$=!0,g=_,d=S;break}z=z.sibling}if(!$){for(z=S.child;z;){if(z===d){$=!0,d=S,g=_;break}if(z===g){$=!0,g=S,d=_;break}z=z.sibling}if(!$)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:u}function rc(a){return a=kd(a),a!==null?Hs(a):null}function Hs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Hs(a);if(u!==null)return u;a=a.sibling}return null}var Ks=e.unstable_scheduleCallback,nc=e.unstable_cancelCallback,Rd=e.unstable_shouldYield,Jg=e.unstable_requestPaint,bt=e.unstable_now,Nd=e.unstable_getCurrentPriorityLevel,ja=e.unstable_ImmediatePriority,Po=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ic=e.unstable_LowPriority,jd=e.unstable_IdlePriority,Ma=null,tn=null;function Md(a){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ma,a,void 0,(a.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Ld,oc=Math.log,Dd=Math.LN2;function Ld(a){return a>>>=0,a===0?32:31-(oc(a)/Dd|0)|0}var Gs=64,Xs=4194304;function Io(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Da(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,_=a.suspendedLanes,S=a.pingedLanes,$=d&268435455;if($!==0){var z=$&~_;z!==0?g=Io(z):(S&=$,S!==0&&(g=Io(S)))}else $=d&~_,$!==0?g=Io($):S!==0&&(g=Io(S));if(g===0)return 0;if(u!==0&&u!==g&&(u&_)===0&&(_=g&-g,S=u&-u,_>=S||_===16&&(S&4194240)!==0))return u;if((g&4)!==0&&(g|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)d=31-Nr(u),_=1<<d,g|=a[d],u&=~_;return g}function Zg(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(a,u){for(var d=a.suspendedLanes,g=a.pingedLanes,_=a.expirationTimes,S=a.pendingLanes;0<S;){var $=31-Nr(S),z=1<<$,X=_[$];X===-1?((z&d)===0||(z&g)!==0)&&(_[$]=Zg(z,u)):X<=u&&(a.expiredLanes|=z),S&=~z}}function rn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function La(){var a=Gs;return Gs<<=1,(Gs&4194240)===0&&(Gs=64),a}function Oo(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Co(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Nr(u),a[u]=d}function yt(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<d;){var _=31-Nr(d),S=1<<_;u[_]=0,g[_]=-1,a[_]=-1,d&=~S}}function ko(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Nr(d),_=1<<g;_&u|a[g]&u&&(a[g]|=u),d&=~_}}var tt=0;function Ro(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $d,Ys,Vd,Fd,Bd,ac=!1,li=[],pr=null,Vn=null,Fn=null,No=new Map,yn=new Map,ci=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(a,u){switch(a){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":No.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(u.pointerId)}}function Br(a,u,d,g,_,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[_]},u!==null&&(u=wc(u),u!==null&&Ys(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),a)}function tv(a,u,d,g,_){switch(u){case"focusin":return pr=Br(pr,a,u,d,g,_),!0;case"dragenter":return Vn=Br(Vn,a,u,d,g,_),!0;case"mouseover":return Fn=Br(Fn,a,u,d,g,_),!0;case"pointerover":var S=_.pointerId;return No.set(S,Br(No.get(S)||null,a,u,d,g,_)),!0;case"gotpointercapture":return S=_.pointerId,yn.set(S,Br(yn.get(S)||null,a,u,d,g,_)),!0}return!1}function qd(a){var u=Ua(a.target);if(u!==null){var d=Ln(u);if(d!==null){if(u=d.tag,u===13){if(u=Na(d),u!==null){a.blockedOn=u,Bd(a.priority,function(){Vd(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=Qs(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Oa=g,d.target.dispatchEvent(g),Oa=null}else return u=wc(d),u!==null&&Ys(u),a.blockedOn=d,!1;u.shift()}return!0}function $a(a,u,d){Vi(a)&&d.delete(u)}function zd(){ac=!1,pr!==null&&Vi(pr)&&(pr=null),Vn!==null&&Vi(Vn)&&(Vn=null),Fn!==null&&Vi(Fn)&&(Fn=null),No.forEach($a),yn.forEach($a)}function Bn(a,u){a.blockedOn===u&&(a.blockedOn=null,ac||(ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zd)))}function Un(a){function u(_){return Bn(_,a)}if(0<li.length){Bn(li[0],a);for(var d=1;d<li.length;d++){var g=li[d];g.blockedOn===a&&(g.blockedOn=null)}}for(pr!==null&&Bn(pr,a),Vn!==null&&Bn(Vn,a),Fn!==null&&Bn(Fn,a),No.forEach(u),yn.forEach(u),d=0;d<ci.length;d++)g=ci[d],g.blockedOn===a&&(g.blockedOn=null);for(;0<ci.length&&(d=ci[0],d.blockedOn===null);)qd(d),d.blockedOn===null&&ci.shift()}var Fi=j.ReactCurrentBatchConfig,jo=!0;function It(a,u,d,g){var _=tt,S=Fi.transition;Fi.transition=null;try{tt=1,sc(a,u,d,g)}finally{tt=_,Fi.transition=S}}function rv(a,u,d,g){var _=tt,S=Fi.transition;Fi.transition=null;try{tt=4,sc(a,u,d,g)}finally{tt=_,Fi.transition=S}}function sc(a,u,d,g){if(jo){var _=Qs(a,u,d,g);if(_===null)hv(a,u,g,Va,d),Ud(a,g);else if(tv(_,a,u,d,g))g.stopPropagation();else if(Ud(a,g),u&4&&-1<ev.indexOf(a)){for(;_!==null;){var S=wc(_);if(S!==null&&$d(S),S=Qs(a,u,d,g),S===null&&hv(a,u,g,Va,d),S===_)break;_=S}_!==null&&g.stopPropagation()}else hv(a,u,g,null,d)}}var Va=null;function Qs(a,u,d,g){if(Va=null,a=Fs(g),a=Ua(a),a!==null)if(u=Ln(a),u===null)a=null;else if(d=u.tag,d===13){if(a=Na(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Va=a,null}function uc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nd()){case ja:return 1;case Po:return 4;case vn:case ic:return 16;case jd:return 536870912;default:return 16}default:return 16}}var nn=null,Js=null,Ur=null;function lc(){if(Ur)return Ur;var a,u=Js,d=u.length,g,_="value"in nn?nn.value:nn.textContent,S=_.length;for(a=0;a<d&&u[a]===_[a];a++);var $=d-a;for(g=1;g<=$&&u[d-g]===_[S-g];g++);return Ur=_.slice(a,1<g?1-g:void 0)}function Zs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function fi(){return!0}function cc(){return!1}function mr(a){function u(d,g,_,S,$){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(d=a[z],this[z]=d?d(S):S[z]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fi:cc,this.isPropagationStopped=cc,this}return H(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),u}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=mr(qn),di=H({},qn,{view:0,detail:0}),nv=mr(di),tu,Bi,Mo,Fa=H({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mo&&(Mo&&a.type==="mousemove"?(tu=a.screenX-Mo.screenX,Bi=a.screenY-Mo.screenY):Bi=tu=0,Mo=a),tu)},movementY:function(a){return"movementY"in a?a.movementY:Bi}}),ru=mr(Fa),fc=H({},Fa,{dataTransfer:0}),Wd=mr(fc),nu=H({},di,{relatedTarget:0}),iu=mr(nu),Hd=H({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ui=mr(Hd),Kd=H({},qn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Gd=mr(Kd),Xd=H({},qn,{data:0}),dc=mr(Xd),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Yd[a])?!!u[a]:!1}function hi(){return Qd}var m=H({},di,{key:function(a){if(a.key){var u=ou[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(a){return a.type==="keypress"?Zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=mr(m),k=H({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=mr(k),ee=H({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),le=mr(ee),Ee=H({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=mr(Ee),Xt=H({},Fa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=mr(Xt),ar=[9,13,27,32],Bt=l&&"CompositionEvent"in window,_n=null;l&&"documentMode"in document&&(_n=document.documentMode);var on=l&&"TextEvent"in window&&!_n,Ba=l&&(!Bt||_n&&8<_n&&11>=_n),au=" ",FS=!1;function BS(a,u){switch(a){case"keyup":return ar.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function US(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function lF(a,u){switch(a){case"compositionend":return US(u);case"keypress":return u.which!==32?null:(FS=!0,au);case"textInput":return a=u.data,a===au&&FS?null:a;default:return null}}function cF(a,u){if(su)return a==="compositionend"||!Bt&&BS(a,u)?(a=lc(),Ur=Js=nn=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ba&&u.locale!=="ko"?null:u.data;default:return null}}var fF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!fF[a.type]:u==="textarea"}function zS(a,u,d,g){ui(g),u=rh(u,"onChange"),0<u.length&&(d=new eu("onChange","change",null,d,g),a.push({event:d,listeners:u}))}var hc=null,pc=null;function dF(a){uT(a,0)}function Jd(a){var u=du(a);if(te(u))return a}function hF(a,u){if(a==="change")return u}var WS=!1;if(l){var iv;if(l){var ov="oninput"in document;if(!ov){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),ov=typeof HS.oninput=="function"}iv=ov}else iv=!1;WS=iv&&(!document.documentMode||9<document.documentMode)}function KS(){hc&&(hc.detachEvent("onpropertychange",GS),pc=hc=null)}function GS(a){if(a.propertyName==="value"&&Jd(pc)){var u=[];zS(u,pc,a,Fs(a)),ec(dF,u)}}function pF(a,u,d){a==="focusin"?(KS(),hc=u,pc=d,hc.attachEvent("onpropertychange",GS)):a==="focusout"&&KS()}function mF(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jd(pc)}function gF(a,u){if(a==="click")return Jd(u)}function vF(a,u){if(a==="input"||a==="change")return Jd(u)}function yF(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var zn=typeof Object.is=="function"?Object.is:yF;function mc(a,u){if(zn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(u,_)||!zn(a[_],u[_]))return!1}return!0}function XS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function YS(a,u){var d=XS(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=u&&g>=u)return{node:d,offset:u-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=XS(d)}}function QS(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?QS(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function JS(){for(var a=window,u=Me();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=Me(a.document)}return u}function av(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function _F(a){var u=JS(),d=a.focusedElem,g=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&QS(d.ownerDocument.documentElement,d)){if(g!==null&&av(d)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var _=d.textContent.length,S=Math.min(g.start,_);g=g.end===void 0?S:Math.min(g.end,_),!a.extend&&S>g&&(_=g,g=S,S=_),_=YS(d,S);var $=YS(d,g);_&&$&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),a.removeAllRanges(),S>g?(a.addRange(u),a.extend($.node,$.offset)):(u.setEnd($.node,$.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bF=l&&"documentMode"in document&&11>=document.documentMode,uu=null,sv=null,gc=null,uv=!1;function ZS(a,u,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;uv||uu==null||uu!==Me(g)||(g=uu,"selectionStart"in g&&av(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gc&&mc(gc,g)||(gc=g,g=rh(sv,"onSelect"),0<g.length&&(u=new eu("onSelect","select",null,u,d),a.push({event:u,listeners:g}),u.target=uu)))}function Zd(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var lu={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},lv={},eT={};l&&(eT=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function eh(a){if(lv[a])return lv[a];if(!lu[a])return a;var u=lu[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in eT)return lv[a]=u[d];return a}var tT=eh("animationend"),rT=eh("animationiteration"),nT=eh("animationstart"),iT=eh("transitionend"),oT=new Map,aT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(a,u){oT.set(a,u),o(u,[a])}for(var cv=0;cv<aT.length;cv++){var fv=aT[cv],wF=fv.toLowerCase(),xF=fv[0].toUpperCase()+fv.slice(1);Do(wF,"on"+xF)}Do(tT,"onAnimationEnd"),Do(rT,"onAnimationIteration"),Do(nT,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(iT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EF=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function sT(a,u,d){var g=a.type||"unknown-event";a.currentTarget=d,Cd(g,u,void 0,a),a.currentTarget=null}function uT(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],_=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var $=g.length-1;0<=$;$--){var z=g[$],X=z.instance,ae=z.currentTarget;if(z=z.listener,X!==S&&_.isPropagationStopped())break e;sT(_,z,ae),S=X}else for($=0;$<g.length;$++){if(z=g[$],X=z.instance,ae=z.currentTarget,z=z.listener,X!==S&&_.isPropagationStopped())break e;sT(_,z,ae),S=X}}}if(Dn)throw a=tc,Dn=!1,tc=null,a}function Tt(a,u){var d=u[_v];d===void 0&&(d=u[_v]=new Set);var g=a+"__bubble";d.has(g)||(lT(u,a,2,!1),d.add(g))}function dv(a,u,d){var g=0;u&&(g|=4),lT(d,a,g,u)}var th="_reactListening"+Math.random().toString(36).slice(2);function yc(a){if(!a[th]){a[th]=!0,n.forEach(function(d){d!=="selectionchange"&&(EF.has(d)||dv(d,!1,a),dv(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[th]||(u[th]=!0,dv("selectionchange",!1,u))}}function lT(a,u,d,g){switch(uc(u)){case 1:var _=It;break;case 4:_=rv;break;default:_=sc}d=_.bind(null,u,d,a),_=void 0,!qs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),g?_!==void 0?a.addEventListener(u,d,{capture:!0,passive:_}):a.addEventListener(u,d,!0):_!==void 0?a.addEventListener(u,d,{passive:_}):a.addEventListener(u,d,!1)}function hv(a,u,d,g,_){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var z=g.stateNode.containerInfo;if(z===_||z.nodeType===8&&z.parentNode===_)break;if($===4)for($=g.return;$!==null;){var X=$.tag;if((X===3||X===4)&&(X=$.stateNode.containerInfo,X===_||X.nodeType===8&&X.parentNode===_))return;$=$.return}for(;z!==null;){if($=Ua(z),$===null)return;if(X=$.tag,X===5||X===6){g=S=$;continue e}z=z.parentNode}}g=g.return}ec(function(){var ae=S,ge=Fs(d),ye=[];e:{var me=oT.get(a);if(me!==void 0){var Pe=eu,Re=a;switch(a){case"keypress":if(Zs(d)===0)break e;case"keydown":case"keyup":Pe=E;break;case"focusin":Re="focus",Pe=iu;break;case"focusout":Re="blur",Pe=iu;break;case"beforeblur":case"afterblur":Pe=iu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=le;break;case tT:case rT:case nT:Pe=Ui;break;case iT:Pe=mt;break;case"scroll":Pe=nv;break;case"wheel":Pe=rt;break;case"copy":case"cut":case"paste":Pe=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=B}var Ne=(u&4)!==0,$t=!Ne&&a==="scroll",re=Ne?me!==null?me+"Capture":null:me;Ne=[];for(var Y=ae,ne;Y!==null;){ne=Y;var we=ne.stateNode;if(ne.tag===5&&we!==null&&(ne=we,re!==null&&(we=Lt(Y,re),we!=null&&Ne.push(_c(Y,we,ne)))),$t)break;Y=Y.return}0<Ne.length&&(me=new Pe(me,Re,null,d,ge),ye.push({event:me,listeners:Ne}))}}if((u&7)===0){e:{if(me=a==="mouseover"||a==="pointerover",Pe=a==="mouseout"||a==="pointerout",me&&d!==Oa&&(Re=d.relatedTarget||d.fromElement)&&(Ua(Re)||Re[qi]))break e;if((Pe||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Pe?(Re=d.relatedTarget||d.toElement,Pe=ae,Re=Re?Ua(Re):null,Re!==null&&($t=Ln(Re),Re!==$t||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Pe=null,Re=ae),Pe!==Re)){if(Ne=ru,we="onMouseLeave",re="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=B,we="onPointerLeave",re="onPointerEnter",Y="pointer"),$t=Pe==null?me:du(Pe),ne=Re==null?me:du(Re),me=new Ne(we,Y+"leave",Pe,d,ge),me.target=$t,me.relatedTarget=ne,we=null,Ua(ge)===ae&&(Ne=new Ne(re,Y+"enter",Re,d,ge),Ne.target=ne,Ne.relatedTarget=$t,we=Ne),$t=we,Pe&&Re)t:{for(Ne=Pe,re=Re,Y=0,ne=Ne;ne;ne=cu(ne))Y++;for(ne=0,we=re;we;we=cu(we))ne++;for(;0<Y-ne;)Ne=cu(Ne),Y--;for(;0<ne-Y;)re=cu(re),ne--;for(;Y--;){if(Ne===re||re!==null&&Ne===re.alternate)break t;Ne=cu(Ne),re=cu(re)}Ne=null}else Ne=null;Pe!==null&&cT(ye,me,Pe,Ne,!1),Re!==null&&$t!==null&&cT(ye,$t,Re,Ne,!0)}}e:{if(me=ae?du(ae):window,Pe=me.nodeName&&me.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&me.type==="file")var je=hF;else if(qS(me))if(WS)je=vF;else{je=mF;var Le=pF}else(Pe=me.nodeName)&&Pe.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(je=gF);if(je&&(je=je(a,ae))){zS(ye,je,d,ge);break e}Le&&Le(a,me,ae),a==="focusout"&&(Le=me._wrapperState)&&Le.controlled&&me.type==="number"&&pt(me,"number",me.value)}switch(Le=ae?du(ae):window,a){case"focusin":(qS(Le)||Le.contentEditable==="true")&&(uu=Le,sv=ae,gc=null);break;case"focusout":gc=sv=uu=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,ZS(ye,d,ge);break;case"selectionchange":if(bF)break;case"keydown":case"keyup":ZS(ye,d,ge)}var $e;if(Bt)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else su?BS(a,d)&&(We="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(Ba&&d.locale!=="ko"&&(su||We!=="onCompositionStart"?We==="onCompositionEnd"&&su&&($e=lc()):(nn=ge,Js="value"in nn?nn.value:nn.textContent,su=!0)),Le=rh(ae,We),0<Le.length&&(We=new dc(We,a,null,d,ge),ye.push({event:We,listeners:Le}),$e?We.data=$e:($e=US(d),$e!==null&&(We.data=$e)))),($e=on?lF(a,d):cF(a,d))&&(ae=rh(ae,"onBeforeInput"),0<ae.length&&(ge=new dc("onBeforeInput","beforeinput",null,d,ge),ye.push({event:ge,listeners:ae}),ge.data=$e))}uT(ye,u)})}function _c(a,u,d){return{instance:a,listener:u,currentTarget:d}}function rh(a,u){for(var d=u+"Capture",g=[];a!==null;){var _=a,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=Lt(a,d),S!=null&&g.unshift(_c(a,S,_)),S=Lt(a,u),S!=null&&g.push(_c(a,S,_))),a=a.return}return g}function cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function cT(a,u,d,g,_){for(var S=u._reactName,$=[];d!==null&&d!==g;){var z=d,X=z.alternate,ae=z.stateNode;if(X!==null&&X===g)break;z.tag===5&&ae!==null&&(z=ae,_?(X=Lt(d,S),X!=null&&$.unshift(_c(d,X,z))):_||(X=Lt(d,S),X!=null&&$.push(_c(d,X,z)))),d=d.return}$.length!==0&&a.push({event:u,listeners:$})}var SF=/\r\n?/g,TF=/\u0000|\uFFFD/g;function fT(a){return(typeof a=="string"?a:""+a).replace(SF,`
`).replace(TF,"")}function nh(a,u,d){if(u=fT(u),fT(a)!==u&&d)throw Error(r(425))}function ih(){}var pv=null,mv=null;function gv(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,AF=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,PF=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(a){return dT.resolve(null).then(a).catch(IF)}:vv;function IF(a){setTimeout(function(){throw a})}function yv(a,u){var d=u,g=0;do{var _=d.nextSibling;if(a.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){a.removeChild(_),Un(u);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);Un(u)}function Lo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function hT(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var fu=Math.random().toString(36).slice(2),pi="__reactFiber$"+fu,bc="__reactProps$"+fu,qi="__reactContainer$"+fu,_v="__reactEvents$"+fu,OF="__reactListeners$"+fu,CF="__reactHandles$"+fu;function Ua(a){var u=a[pi];if(u)return u;for(var d=a.parentNode;d;){if(u=d[qi]||d[pi]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=hT(a);a!==null;){if(d=a[pi])return d;a=hT(a)}return u}a=d,d=a.parentNode}return null}function wc(a){return a=a[pi]||a[qi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function du(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function oh(a){return a[bc]||null}var bv=[],hu=-1;function $o(a){return{current:a}}function At(a){0>hu||(a.current=bv[hu],bv[hu]=null,hu--)}function wt(a,u){hu++,bv[hu]=a.current,a.current=u}var Vo={},Er=$o(Vo),qr=$o(!1),qa=Vo;function pu(a,u){var d=a.type.contextTypes;if(!d)return Vo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in d)_[S]=u[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function zr(a){return a=a.childContextTypes,a!=null}function ah(){At(qr),At(Er)}function pT(a,u,d){if(Er.current!==Vo)throw Error(r(168));wt(Er,u),wt(qr,d)}function mT(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in u))throw Error(r(108,pe(a)||"Unknown",_));return H({},d,g)}function sh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vo,qa=Er.current,wt(Er,a),wt(qr,qr.current),!0}function gT(a,u,d){var g=a.stateNode;if(!g)throw Error(r(169));d?(a=mT(a,u,qa),g.__reactInternalMemoizedMergedChildContext=a,At(qr),At(Er),wt(Er,a)):At(qr),wt(qr,d)}var zi=null,uh=!1,wv=!1;function vT(a){zi===null?zi=[a]:zi.push(a)}function kF(a){uh=!0,vT(a)}function Fo(){if(!wv&&zi!==null){wv=!0;var a=0,u=tt;try{var d=zi;for(tt=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}zi=null,uh=!1}catch(_){throw zi!==null&&(zi=zi.slice(a+1)),Ks(ja,Fo),_}finally{tt=u,wv=!1}}return null}var mu=[],gu=0,lh=null,ch=0,bn=[],wn=0,za=null,Wi=1,Hi="";function Wa(a,u){mu[gu++]=ch,mu[gu++]=lh,lh=a,ch=u}function yT(a,u,d){bn[wn++]=Wi,bn[wn++]=Hi,bn[wn++]=za,za=a;var g=Wi;a=Hi;var _=32-Nr(g)-1;g&=~(1<<_),d+=1;var S=32-Nr(u)+_;if(30<S){var $=_-_%5;S=(g&(1<<$)-1).toString(32),g>>=$,_-=$,Wi=1<<32-Nr(u)+_|d<<_|g,Hi=S+a}else Wi=1<<S|d<<_|g,Hi=a}function xv(a){a.return!==null&&(Wa(a,1),yT(a,1,0))}function Ev(a){for(;a===lh;)lh=mu[--gu],mu[gu]=null,ch=mu[--gu],mu[gu]=null;for(;a===za;)za=bn[--wn],bn[wn]=null,Hi=bn[--wn],bn[wn]=null,Wi=bn[--wn],bn[wn]=null}var an=null,sn=null,Ot=!1,Wn=null;function _T(a,u){var d=Tn(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function bT(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,an=a,sn=Lo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,an=a,sn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=za!==null?{id:Wi,overflow:Hi}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=Tn(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,an=a,sn=null,!0):!1;default:return!1}}function Sv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Tv(a){if(Ot){var u=sn;if(u){var d=u;if(!bT(a,u)){if(Sv(a))throw Error(r(418));u=Lo(d.nextSibling);var g=an;u&&bT(a,u)?_T(g,d):(a.flags=a.flags&-4097|2,Ot=!1,an=a)}}else{if(Sv(a))throw Error(r(418));a.flags=a.flags&-4097|2,Ot=!1,an=a}}}function wT(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;an=a}function fh(a){if(a!==an)return!1;if(!Ot)return wT(a),Ot=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!gv(a.type,a.memoizedProps)),u&&(u=sn)){if(Sv(a))throw xT(),Error(r(418));for(;u;)_T(a,u),u=Lo(u.nextSibling)}if(wT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){sn=Lo(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}sn=null}}else sn=an?Lo(a.stateNode.nextSibling):null;return!0}function xT(){for(var a=sn;a;)a=Lo(a.nextSibling)}function vu(){sn=an=null,Ot=!1}function Av(a){Wn===null?Wn=[a]:Wn.push(a)}var RF=j.ReactCurrentBatchConfig;function xc(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,a));var _=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function($){var z=_.refs;$===null?delete z[S]:z[S]=$},u._stringRef=S,u)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function dh(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function ET(a){var u=a._init;return u(a._payload)}function ST(a){function u(re,Y){if(a){var ne=re.deletions;ne===null?(re.deletions=[Y],re.flags|=16):ne.push(Y)}}function d(re,Y){if(!a)return null;for(;Y!==null;)u(re,Y),Y=Y.sibling;return null}function g(re,Y){for(re=new Map;Y!==null;)Y.key!==null?re.set(Y.key,Y):re.set(Y.index,Y),Y=Y.sibling;return re}function _(re,Y){return re=Go(re,Y),re.index=0,re.sibling=null,re}function S(re,Y,ne){return re.index=ne,a?(ne=re.alternate,ne!==null?(ne=ne.index,ne<Y?(re.flags|=2,Y):ne):(re.flags|=2,Y)):(re.flags|=1048576,Y)}function $(re){return a&&re.alternate===null&&(re.flags|=2),re}function z(re,Y,ne,we){return Y===null||Y.tag!==6?(Y=vy(ne,re.mode,we),Y.return=re,Y):(Y=_(Y,ne),Y.return=re,Y)}function X(re,Y,ne,we){var je=ne.type;return je===P?ge(re,Y,ne.props.children,we,ne.key):Y!==null&&(Y.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&ET(je)===Y.type)?(we=_(Y,ne.props),we.ref=xc(re,Y,ne),we.return=re,we):(we=Dh(ne.type,ne.key,ne.props,null,re.mode,we),we.ref=xc(re,Y,ne),we.return=re,we)}function ae(re,Y,ne,we){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=yy(ne,re.mode,we),Y.return=re,Y):(Y=_(Y,ne.children||[]),Y.return=re,Y)}function ge(re,Y,ne,we,je){return Y===null||Y.tag!==7?(Y=Za(ne,re.mode,we,je),Y.return=re,Y):(Y=_(Y,ne),Y.return=re,Y)}function ye(re,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=vy(""+Y,re.mode,ne),Y.return=re,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return ne=Dh(Y.type,Y.key,Y.props,null,re.mode,ne),ne.ref=xc(re,null,Y),ne.return=re,ne;case N:return Y=yy(Y,re.mode,ne),Y.return=re,Y;case J:var we=Y._init;return ye(re,we(Y._payload),ne)}if(Ft(Y)||se(Y))return Y=Za(Y,re.mode,ne,null),Y.return=re,Y;dh(re,Y)}return null}function me(re,Y,ne,we){var je=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return je!==null?null:z(re,Y,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return ne.key===je?X(re,Y,ne,we):null;case N:return ne.key===je?ae(re,Y,ne,we):null;case J:return je=ne._init,me(re,Y,je(ne._payload),we)}if(Ft(ne)||se(ne))return je!==null?null:ge(re,Y,ne,we,null);dh(re,ne)}return null}function Pe(re,Y,ne,we,je){if(typeof we=="string"&&we!==""||typeof we=="number")return re=re.get(ne)||null,z(Y,re,""+we,je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case I:return re=re.get(we.key===null?ne:we.key)||null,X(Y,re,we,je);case N:return re=re.get(we.key===null?ne:we.key)||null,ae(Y,re,we,je);case J:var Le=we._init;return Pe(re,Y,ne,Le(we._payload),je)}if(Ft(we)||se(we))return re=re.get(ne)||null,ge(Y,re,we,je,null);dh(Y,we)}return null}function Re(re,Y,ne,we){for(var je=null,Le=null,$e=Y,We=Y=0,lr=null;$e!==null&&We<ne.length;We++){$e.index>We?(lr=$e,$e=null):lr=$e.sibling;var ut=me(re,$e,ne[We],we);if(ut===null){$e===null&&($e=lr);break}a&&$e&&ut.alternate===null&&u(re,$e),Y=S(ut,Y,We),Le===null?je=ut:Le.sibling=ut,Le=ut,$e=lr}if(We===ne.length)return d(re,$e),Ot&&Wa(re,We),je;if($e===null){for(;We<ne.length;We++)$e=ye(re,ne[We],we),$e!==null&&(Y=S($e,Y,We),Le===null?je=$e:Le.sibling=$e,Le=$e);return Ot&&Wa(re,We),je}for($e=g(re,$e);We<ne.length;We++)lr=Pe($e,re,We,ne[We],we),lr!==null&&(a&&lr.alternate!==null&&$e.delete(lr.key===null?We:lr.key),Y=S(lr,Y,We),Le===null?je=lr:Le.sibling=lr,Le=lr);return a&&$e.forEach(function(Xo){return u(re,Xo)}),Ot&&Wa(re,We),je}function Ne(re,Y,ne,we){var je=se(ne);if(typeof je!="function")throw Error(r(150));if(ne=je.call(ne),ne==null)throw Error(r(151));for(var Le=je=null,$e=Y,We=Y=0,lr=null,ut=ne.next();$e!==null&&!ut.done;We++,ut=ne.next()){$e.index>We?(lr=$e,$e=null):lr=$e.sibling;var Xo=me(re,$e,ut.value,we);if(Xo===null){$e===null&&($e=lr);break}a&&$e&&Xo.alternate===null&&u(re,$e),Y=S(Xo,Y,We),Le===null?je=Xo:Le.sibling=Xo,Le=Xo,$e=lr}if(ut.done)return d(re,$e),Ot&&Wa(re,We),je;if($e===null){for(;!ut.done;We++,ut=ne.next())ut=ye(re,ut.value,we),ut!==null&&(Y=S(ut,Y,We),Le===null?je=ut:Le.sibling=ut,Le=ut);return Ot&&Wa(re,We),je}for($e=g(re,$e);!ut.done;We++,ut=ne.next())ut=Pe($e,re,We,ut.value,we),ut!==null&&(a&&ut.alternate!==null&&$e.delete(ut.key===null?We:ut.key),Y=S(ut,Y,We),Le===null?je=ut:Le.sibling=ut,Le=ut);return a&&$e.forEach(function(f3){return u(re,f3)}),Ot&&Wa(re,We),je}function $t(re,Y,ne,we){if(typeof ne=="object"&&ne!==null&&ne.type===P&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:e:{for(var je=ne.key,Le=Y;Le!==null;){if(Le.key===je){if(je=ne.type,je===P){if(Le.tag===7){d(re,Le.sibling),Y=_(Le,ne.props.children),Y.return=re,re=Y;break e}}else if(Le.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===J&&ET(je)===Le.type){d(re,Le.sibling),Y=_(Le,ne.props),Y.ref=xc(re,Le,ne),Y.return=re,re=Y;break e}d(re,Le);break}else u(re,Le);Le=Le.sibling}ne.type===P?(Y=Za(ne.props.children,re.mode,we,ne.key),Y.return=re,re=Y):(we=Dh(ne.type,ne.key,ne.props,null,re.mode,we),we.ref=xc(re,Y,ne),we.return=re,re=we)}return $(re);case N:e:{for(Le=ne.key;Y!==null;){if(Y.key===Le)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){d(re,Y.sibling),Y=_(Y,ne.children||[]),Y.return=re,re=Y;break e}else{d(re,Y);break}else u(re,Y);Y=Y.sibling}Y=yy(ne,re.mode,we),Y.return=re,re=Y}return $(re);case J:return Le=ne._init,$t(re,Y,Le(ne._payload),we)}if(Ft(ne))return Re(re,Y,ne,we);if(se(ne))return Ne(re,Y,ne,we);dh(re,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(d(re,Y.sibling),Y=_(Y,ne),Y.return=re,re=Y):(d(re,Y),Y=vy(ne,re.mode,we),Y.return=re,re=Y),$(re)):d(re,Y)}return $t}var yu=ST(!0),TT=ST(!1),hh=$o(null),ph=null,_u=null,Pv=null;function Iv(){Pv=_u=ph=null}function Ov(a){var u=hh.current;At(hh),a._currentValue=u}function Cv(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function bu(a,u){ph=a,Pv=_u=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Wr=!0),a.firstContext=null)}function xn(a){var u=a._currentValue;if(Pv!==a)if(a={context:a,memoizedValue:u,next:null},_u===null){if(ph===null)throw Error(r(308));_u=a,ph.dependencies={lanes:0,firstContext:a}}else _u=_u.next=a;return u}var Ha=null;function kv(a){Ha===null?Ha=[a]:Ha.push(a)}function AT(a,u,d,g){var _=u.interleaved;return _===null?(d.next=d,kv(u)):(d.next=_.next,_.next=d),u.interleaved=d,Ki(a,g)}function Ki(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Bo=!1;function Rv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Gi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Uo(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var _=g.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),g.pending=u,Ki(a,d)}return _=g.interleaved,_===null?(u.next=u,kv(g)):(u.next=_.next,_.next=u),g.interleaved=u,Ki(a,d)}function mh(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,ko(a,d)}}function IT(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};S===null?_=S=$:S=S.next=$,d=d.next}while(d!==null);S===null?_=S=u:S=S.next=u}else _=S=u;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function gh(a,u,d,g){var _=a.updateQueue;Bo=!1;var S=_.firstBaseUpdate,$=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var X=z,ae=X.next;X.next=null,$===null?S=ae:$.next=ae,$=X;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,z=ge.lastBaseUpdate,z!==$&&(z===null?ge.firstBaseUpdate=ae:z.next=ae,ge.lastBaseUpdate=X))}if(S!==null){var ye=_.baseState;$=0,ge=ae=X=null,z=S;do{var me=z.lane,Pe=z.eventTime;if((g&me)===me){ge!==null&&(ge=ge.next={eventTime:Pe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Re=a,Ne=z;switch(me=u,Pe=d,Ne.tag){case 1:if(Re=Ne.payload,typeof Re=="function"){ye=Re.call(Pe,ye,me);break e}ye=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ne.payload,me=typeof Re=="function"?Re.call(Pe,ye,me):Re,me==null)break e;ye=H({},ye,me);break e;case 2:Bo=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,me=_.effects,me===null?_.effects=[z]:me.push(z))}else Pe={eventTime:Pe,lane:me,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ge===null?(ae=ge=Pe,X=ye):ge=ge.next=Pe,$|=me;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;me=z,z=me.next,me.next=null,_.lastBaseUpdate=me,_.shared.pending=null}}while(!0);if(ge===null&&(X=ye),_.baseState=X,_.firstBaseUpdate=ae,_.lastBaseUpdate=ge,u=_.shared.interleaved,u!==null){_=u;do $|=_.lane,_=_.next;while(_!==u)}else S===null&&(_.shared.lanes=0);Xa|=$,a.lanes=$,a.memoizedState=ye}}function OT(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Ec={},mi=$o(Ec),Sc=$o(Ec),Tc=$o(Ec);function Ka(a){if(a===Ec)throw Error(r(174));return a}function Nv(a,u){switch(wt(Tc,u),wt(Sc,a),wt(mi,Ec),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Gt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Gt(u,a)}At(mi),wt(mi,u)}function wu(){At(mi),At(Sc),At(Tc)}function CT(a){Ka(Tc.current);var u=Ka(mi.current),d=Gt(u,a.type);u!==d&&(wt(Sc,a),wt(mi,d))}function jv(a){Sc.current===a&&(At(mi),At(Sc))}var kt=$o(0);function vh(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mv=[];function Dv(){for(var a=0;a<Mv.length;a++)Mv[a]._workInProgressVersionPrimary=null;Mv.length=0}var yh=j.ReactCurrentDispatcher,Lv=j.ReactCurrentBatchConfig,Ga=0,Rt=null,Yt=null,sr=null,_h=!1,Ac=!1,Pc=0,NF=0;function Sr(){throw Error(r(321))}function $v(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!zn(a[d],u[d]))return!1;return!0}function Vv(a,u,d,g,_,S){if(Ga=S,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,yh.current=a===null||a.memoizedState===null?LF:$F,a=d(g,_),Ac){S=0;do{if(Ac=!1,Pc=0,25<=S)throw Error(r(301));S+=1,sr=Yt=null,u.updateQueue=null,yh.current=VF,a=d(g,_)}while(Ac)}if(yh.current=xh,u=Yt!==null&&Yt.next!==null,Ga=0,sr=Yt=Rt=null,_h=!1,u)throw Error(r(300));return a}function Fv(){var a=Pc!==0;return Pc=0,a}function gi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Rt.memoizedState=sr=a:sr=sr.next=a,sr}function En(){if(Yt===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=Yt.next;var u=sr===null?Rt.memoizedState:sr.next;if(u!==null)sr=u,Yt=a;else{if(a===null)throw Error(r(310));Yt=a,a={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},sr===null?Rt.memoizedState=sr=a:sr=sr.next=a}return sr}function Ic(a,u){return typeof u=="function"?u(a):u}function Bv(a){var u=En(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=Yt,_=g.baseQueue,S=d.pending;if(S!==null){if(_!==null){var $=_.next;_.next=S.next,S.next=$}g.baseQueue=_=S,d.pending=null}if(_!==null){S=_.next,g=g.baseState;var z=$=null,X=null,ae=S;do{var ge=ae.lane;if((Ga&ge)===ge)X!==null&&(X=X.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:a(g,ae.action);else{var ye={lane:ge,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};X===null?(z=X=ye,$=g):X=X.next=ye,Rt.lanes|=ge,Xa|=ge}ae=ae.next}while(ae!==null&&ae!==S);X===null?$=g:X.next=z,zn(g,u.memoizedState)||(Wr=!0),u.memoizedState=g,u.baseState=$,u.baseQueue=X,d.lastRenderedState=g}if(a=d.interleaved,a!==null){_=a;do S=_.lane,Rt.lanes|=S,Xa|=S,_=_.next;while(_!==a)}else _===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Uv(a){var u=En(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,_=d.pending,S=u.memoizedState;if(_!==null){d.pending=null;var $=_=_.next;do S=a(S,$.action),$=$.next;while($!==_);zn(S,u.memoizedState)||(Wr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),d.lastRenderedState=S}return[S,g]}function kT(){}function RT(a,u){var d=Rt,g=En(),_=u(),S=!zn(g.memoizedState,_);if(S&&(g.memoizedState=_,Wr=!0),g=g.queue,qv(MT.bind(null,d,g,a),[a]),g.getSnapshot!==u||S||sr!==null&&sr.memoizedState.tag&1){if(d.flags|=2048,Oc(9,jT.bind(null,d,g,_,u),void 0,null),ur===null)throw Error(r(349));(Ga&30)!==0||NT(d,u,_)}return _}function NT(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function jT(a,u,d,g){u.value=d,u.getSnapshot=g,DT(u)&&LT(a)}function MT(a,u,d){return d(function(){DT(u)&&LT(a)})}function DT(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!zn(a,d)}catch{return!0}}function LT(a){var u=Ki(a,1);u!==null&&Xn(u,a,1,-1)}function $T(a){var u=gi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:a},u.queue=a,a=a.dispatch=DF.bind(null,Rt,a),[u.memoizedState,a]}function Oc(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a)),a}function VT(){return En().memoizedState}function bh(a,u,d,g){var _=gi();Rt.flags|=a,_.memoizedState=Oc(1|u,d,void 0,g===void 0?null:g)}function wh(a,u,d,g){var _=En();g=g===void 0?null:g;var S=void 0;if(Yt!==null){var $=Yt.memoizedState;if(S=$.destroy,g!==null&&$v(g,$.deps)){_.memoizedState=Oc(u,d,S,g);return}}Rt.flags|=a,_.memoizedState=Oc(1|u,d,S,g)}function FT(a,u){return bh(8390656,8,a,u)}function qv(a,u){return wh(2048,8,a,u)}function BT(a,u){return wh(4,2,a,u)}function UT(a,u){return wh(4,4,a,u)}function qT(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function zT(a,u,d){return d=d!=null?d.concat([a]):null,wh(4,4,qT.bind(null,u,a),d)}function zv(){}function WT(a,u){var d=En();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&$v(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function HT(a,u){var d=En();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&$v(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function KT(a,u,d){return(Ga&21)===0?(a.baseState&&(a.baseState=!1,Wr=!0),a.memoizedState=d):(zn(d,u)||(d=La(),Rt.lanes|=d,Xa|=d,a.baseState=!0),u)}function jF(a,u){var d=tt;tt=d!==0&&4>d?d:4,a(!0);var g=Lv.transition;Lv.transition={};try{a(!1),u()}finally{tt=d,Lv.transition=g}}function GT(){return En().memoizedState}function MF(a,u,d){var g=Ho(a);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},XT(a))YT(u,d);else if(d=AT(a,u,d,g),d!==null){var _=Dr();Xn(d,a,g,_),QT(d,u,g)}}function DF(a,u,d){var g=Ho(a),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(XT(a))YT(u,_);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var $=u.lastRenderedState,z=S($,d);if(_.hasEagerState=!0,_.eagerState=z,zn(z,$)){var X=u.interleaved;X===null?(_.next=_,kv(u)):(_.next=X.next,X.next=_),u.interleaved=_;return}}catch{}finally{}d=AT(a,u,_,g),d!==null&&(_=Dr(),Xn(d,a,g,_),QT(d,u,g))}}function XT(a){var u=a.alternate;return a===Rt||u!==null&&u===Rt}function YT(a,u){Ac=_h=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function QT(a,u,d){if((d&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,d|=g,u.lanes=d,ko(a,d)}}var xh={readContext:xn,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},LF={readContext:xn,useCallback:function(a,u){return gi().memoizedState=[a,u===void 0?null:u],a},useContext:xn,useEffect:FT,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,bh(4194308,4,qT.bind(null,u,a),d)},useLayoutEffect:function(a,u){return bh(4194308,4,a,u)},useInsertionEffect:function(a,u){return bh(4,2,a,u)},useMemo:function(a,u){var d=gi();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=gi();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=MF.bind(null,Rt,a),[g.memoizedState,a]},useRef:function(a){var u=gi();return a={current:a},u.memoizedState=a},useState:$T,useDebugValue:zv,useDeferredValue:function(a){return gi().memoizedState=a},useTransition:function(){var a=$T(!1),u=a[0];return a=jF.bind(null,a[1]),gi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=Rt,_=gi();if(Ot){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),ur===null)throw Error(r(349));(Ga&30)!==0||NT(g,u,d)}_.memoizedState=d;var S={value:d,getSnapshot:u};return _.queue=S,FT(MT.bind(null,g,S,a),[a]),g.flags|=2048,Oc(9,jT.bind(null,g,S,d,u),void 0,null),d},useId:function(){var a=gi(),u=ur.identifierPrefix;if(Ot){var d=Hi,g=Wi;d=(g&~(1<<32-Nr(g)-1)).toString(32)+d,u=":"+u+"R"+d,d=Pc++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=NF++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},$F={readContext:xn,useCallback:WT,useContext:xn,useEffect:qv,useImperativeHandle:zT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:HT,useReducer:Bv,useRef:VT,useState:function(){return Bv(Ic)},useDebugValue:zv,useDeferredValue:function(a){var u=En();return KT(u,Yt.memoizedState,a)},useTransition:function(){var a=Bv(Ic)[0],u=En().memoizedState;return[a,u]},useMutableSource:kT,useSyncExternalStore:RT,useId:GT,unstable_isNewReconciler:!1},VF={readContext:xn,useCallback:WT,useContext:xn,useEffect:qv,useImperativeHandle:zT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:HT,useReducer:Uv,useRef:VT,useState:function(){return Uv(Ic)},useDebugValue:zv,useDeferredValue:function(a){var u=En();return Yt===null?u.memoizedState=a:KT(u,Yt.memoizedState,a)},useTransition:function(){var a=Uv(Ic)[0],u=En().memoizedState;return[a,u]},useMutableSource:kT,useSyncExternalStore:RT,useId:GT,unstable_isNewReconciler:!1};function Hn(a,u){if(a&&a.defaultProps){u=H({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function Wv(a,u,d,g){u=a.memoizedState,d=d(g,u),d=d==null?u:H({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Eh={isMounted:function(a){return(a=a._reactInternals)?Ln(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=Dr(),_=Ho(a),S=Gi(g,_);S.payload=u,d!=null&&(S.callback=d),u=Uo(a,S,_),u!==null&&(Xn(u,a,_,g),mh(u,a,_))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=Dr(),_=Ho(a),S=Gi(g,_);S.tag=1,S.payload=u,d!=null&&(S.callback=d),u=Uo(a,S,_),u!==null&&(Xn(u,a,_,g),mh(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Dr(),g=Ho(a),_=Gi(d,g);_.tag=2,u!=null&&(_.callback=u),u=Uo(a,_,g),u!==null&&(Xn(u,a,g,d),mh(u,a,g))}};function JT(a,u,d,g,_,S,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,$):u.prototype&&u.prototype.isPureReactComponent?!mc(d,g)||!mc(_,S):!0}function ZT(a,u,d){var g=!1,_=Vo,S=u.contextType;return typeof S=="object"&&S!==null?S=xn(S):(_=zr(u)?qa:Er.current,g=u.contextTypes,S=(g=g!=null)?pu(a,_):Vo),u=new u(d,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Eh,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=S),u}function eA(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&Eh.enqueueReplaceState(u,u.state,null)}function Hv(a,u,d,g){var _=a.stateNode;_.props=d,_.state=a.memoizedState,_.refs={},Rv(a);var S=u.contextType;typeof S=="object"&&S!==null?_.context=xn(S):(S=zr(u)?qa:Er.current,_.context=pu(a,S)),_.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Wv(a,u,S,d),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Eh.enqueueReplaceState(_,_.state,null),gh(a,d,_,g),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function xu(a,u){try{var d="",g=u;do d+=ie(g),g=g.return;while(g);var _=d}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:_,digest:null}}function Kv(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function Gv(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var FF=typeof WeakMap=="function"?WeakMap:Map;function tA(a,u,d){d=Gi(-1,d),d.tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){Ch||(Ch=!0,ly=g),Gv(a,u)},d}function rA(a,u,d){d=Gi(-1,d),d.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;d.payload=function(){return g(_)},d.callback=function(){Gv(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(d.callback=function(){Gv(a,u),typeof g!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),d}function nA(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new FF;var _=new Set;g.set(u,_)}else _=g.get(u),_===void 0&&(_=new Set,g.set(u,_));_.has(d)||(_.add(d),a=e3.bind(null,a,u,d),u.then(a,a))}function iA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function oA(a,u,d,g,_){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=Gi(-1,1),u.tag=2,Uo(d,u,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=_,a)}var BF=j.ReactCurrentOwner,Wr=!1;function Mr(a,u,d,g){u.child=a===null?TT(u,null,d,g):yu(u,a.child,d,g)}function aA(a,u,d,g,_){d=d.render;var S=u.ref;return bu(u,_),g=Vv(a,u,d,g,S,_),d=Fv(),a!==null&&!Wr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Xi(a,u,_)):(Ot&&d&&xv(u),u.flags|=1,Mr(a,u,g,_),u.child)}function sA(a,u,d,g,_){if(a===null){var S=d.type;return typeof S=="function"&&!gy(S)&&S.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=S,uA(a,u,S,g,_)):(a=Dh(d.type,null,g,u,u.mode,_),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,(a.lanes&_)===0){var $=S.memoizedProps;if(d=d.compare,d=d!==null?d:mc,d($,g)&&a.ref===u.ref)return Xi(a,u,_)}return u.flags|=1,a=Go(S,g),a.ref=u.ref,a.return=u,u.child=a}function uA(a,u,d,g,_){if(a!==null){var S=a.memoizedProps;if(mc(S,g)&&a.ref===u.ref)if(Wr=!1,u.pendingProps=g=S,(a.lanes&_)!==0)(a.flags&131072)!==0&&(Wr=!0);else return u.lanes=a.lanes,Xi(a,u,_)}return Xv(a,u,d,g,_)}function lA(a,u,d){var g=u.pendingProps,_=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Su,un),un|=d;else{if((d&1073741824)===0)return a=S!==null?S.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,wt(Su,un),un|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:d,wt(Su,un),un|=g}else S!==null?(g=S.baseLanes|d,u.memoizedState=null):g=d,wt(Su,un),un|=g;return Mr(a,u,_,d),u.child}function cA(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Xv(a,u,d,g,_){var S=zr(d)?qa:Er.current;return S=pu(u,S),bu(u,_),d=Vv(a,u,d,g,S,_),g=Fv(),a!==null&&!Wr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Xi(a,u,_)):(Ot&&g&&xv(u),u.flags|=1,Mr(a,u,d,_),u.child)}function fA(a,u,d,g,_){if(zr(d)){var S=!0;sh(u)}else S=!1;if(bu(u,_),u.stateNode===null)Th(a,u),ZT(u,d,g),Hv(u,d,g,_),g=!0;else if(a===null){var $=u.stateNode,z=u.memoizedProps;$.props=z;var X=$.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=xn(ae):(ae=zr(d)?qa:Er.current,ae=pu(u,ae));var ge=d.getDerivedStateFromProps,ye=typeof ge=="function"||typeof $.getSnapshotBeforeUpdate=="function";ye||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(z!==g||X!==ae)&&eA(u,$,g,ae),Bo=!1;var me=u.memoizedState;$.state=me,gh(u,g,$,_),X=u.memoizedState,z!==g||me!==X||qr.current||Bo?(typeof ge=="function"&&(Wv(u,d,ge,g),X=u.memoizedState),(z=Bo||JT(u,d,z,g,me,X,ae))?(ye||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=X),$.props=g,$.state=X,$.context=ae,g=z):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{$=u.stateNode,PT(a,u),z=u.memoizedProps,ae=u.type===u.elementType?z:Hn(u.type,z),$.props=ae,ye=u.pendingProps,me=$.context,X=d.contextType,typeof X=="object"&&X!==null?X=xn(X):(X=zr(d)?qa:Er.current,X=pu(u,X));var Pe=d.getDerivedStateFromProps;(ge=typeof Pe=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(z!==ye||me!==X)&&eA(u,$,g,X),Bo=!1,me=u.memoizedState,$.state=me,gh(u,g,$,_);var Re=u.memoizedState;z!==ye||me!==Re||qr.current||Bo?(typeof Pe=="function"&&(Wv(u,d,Pe,g),Re=u.memoizedState),(ae=Bo||JT(u,d,ae,g,me,Re,X)||!1)?(ge||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Re,X),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Re,X)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||z===a.memoizedProps&&me===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&me===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Re),$.props=g,$.state=Re,$.context=X,g=ae):(typeof $.componentDidUpdate!="function"||z===a.memoizedProps&&me===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&me===a.memoizedState||(u.flags|=1024),g=!1)}return Yv(a,u,d,g,S,_)}function Yv(a,u,d,g,_,S){cA(a,u);var $=(u.flags&128)!==0;if(!g&&!$)return _&&gT(u,d,!1),Xi(a,u,S);g=u.stateNode,BF.current=u;var z=$&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&$?(u.child=yu(u,a.child,null,S),u.child=yu(u,null,z,S)):Mr(a,u,z,S),u.memoizedState=g.state,_&&gT(u,d,!0),u.child}function dA(a){var u=a.stateNode;u.pendingContext?pT(a,u.pendingContext,u.pendingContext!==u.context):u.context&&pT(a,u.context,!1),Nv(a,u.containerInfo)}function hA(a,u,d,g,_){return vu(),Av(_),u.flags|=256,Mr(a,u,d,g),u.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Jv(a){return{baseLanes:a,cachePool:null,transitions:null}}function pA(a,u,d){var g=u.pendingProps,_=kt.current,S=!1,$=(u.flags&128)!==0,z;if((z=$)||(z=a!==null&&a.memoizedState===null?!1:(_&2)!==0),z?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),wt(kt,_&1),a===null)return Tv(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):($=g.children,a=g.fallback,S?(g=u.mode,S=u.child,$={mode:"hidden",children:$},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=Lh($,g,0,null),a=Za(a,g,d,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=Jv(d),u.memoizedState=Qv,a):Zv(u,$));if(_=a.memoizedState,_!==null&&(z=_.dehydrated,z!==null))return UF(a,u,$,g,z,_,d);if(S){S=g.fallback,$=u.mode,_=a.child,z=_.sibling;var X={mode:"hidden",children:g.children};return($&1)===0&&u.child!==_?(g=u.child,g.childLanes=0,g.pendingProps=X,u.deletions=null):(g=Go(_,X),g.subtreeFlags=_.subtreeFlags&14680064),z!==null?S=Go(z,S):(S=Za(S,$,d,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,g=S,S=u.child,$=a.child.memoizedState,$=$===null?Jv(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=a.childLanes&~d,u.memoizedState=Qv,g}return S=a.child,a=S.sibling,g=Go(S,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=d),g.return=u,g.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=g,u.memoizedState=null,g}function Zv(a,u){return u=Lh({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Sh(a,u,d,g){return g!==null&&Av(g),yu(u,a.child,null,d),a=Zv(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function UF(a,u,d,g,_,S,$){if(d)return u.flags&256?(u.flags&=-257,g=Kv(Error(r(422))),Sh(a,u,$,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=g.fallback,_=u.mode,g=Lh({mode:"visible",children:g.children},_,0,null),S=Za(S,_,$,null),S.flags|=2,g.return=u,S.return=u,g.sibling=S,u.child=g,(u.mode&1)!==0&&yu(u,a.child,null,$),u.child.memoizedState=Jv($),u.memoizedState=Qv,S);if((u.mode&1)===0)return Sh(a,u,$,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var z=g.dgst;return g=z,S=Error(r(419)),g=Kv(S,g,void 0),Sh(a,u,$,g)}if(z=($&a.childLanes)!==0,Wr||z){if(g=ur,g!==null){switch($&-$){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|$))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,Ki(a,_),Xn(g,a,_,-1))}return my(),g=Kv(Error(r(421))),Sh(a,u,$,g)}return _.data==="$?"?(u.flags|=128,u.child=a.child,u=t3.bind(null,a),_._reactRetry=u,null):(a=S.treeContext,sn=Lo(_.nextSibling),an=u,Ot=!0,Wn=null,a!==null&&(bn[wn++]=Wi,bn[wn++]=Hi,bn[wn++]=za,Wi=a.id,Hi=a.overflow,za=u),u=Zv(u,g.children),u.flags|=4096,u)}function mA(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Cv(a.return,u,d)}function ey(a,u,d,g,_){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=d,S.tailMode=_)}function gA(a,u,d){var g=u.pendingProps,_=g.revealOrder,S=g.tail;if(Mr(a,u,g.children,d),g=kt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&mA(a,d,u);else if(a.tag===19)mA(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(wt(kt,g),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(d=u.child,_=null;d!==null;)a=d.alternate,a!==null&&vh(a)===null&&(_=d),d=d.sibling;d=_,d===null?(_=u.child,u.child=null):(_=d.sibling,d.sibling=null),ey(u,!1,_,d,S);break;case"backwards":for(d=null,_=u.child,u.child=null;_!==null;){if(a=_.alternate,a!==null&&vh(a)===null){u.child=_;break}a=_.sibling,_.sibling=d,d=_,_=a}ey(u,!0,d,null,S);break;case"together":ey(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Th(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Xi(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Xa|=u.lanes,(d&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,d=Go(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=Go(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function qF(a,u,d){switch(u.tag){case 3:dA(u),vu();break;case 5:CT(u);break;case 1:zr(u.type)&&sh(u);break;case 4:Nv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,_=u.memoizedProps.value;wt(hh,g._currentValue),g._currentValue=_;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(wt(kt,kt.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?pA(a,u,d):(wt(kt,kt.current&1),a=Xi(a,u,d),a!==null?a.sibling:null);wt(kt,kt.current&1);break;case 19:if(g=(d&u.childLanes)!==0,(a.flags&128)!==0){if(g)return gA(a,u,d);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),wt(kt,kt.current),g)break;return null;case 22:case 23:return u.lanes=0,lA(a,u,d)}return Xi(a,u,d)}var vA,ty,yA,_A;vA=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ty=function(){},yA=function(a,u,d,g){var _=a.memoizedProps;if(_!==g){a=u.stateNode,Ka(mi.current);var S=null;switch(d){case"input":_=Ae(a,_),g=Ae(a,g),S=[];break;case"select":_=H({},_,{value:void 0}),g=H({},g,{value:void 0}),S=[];break;case"textarea":_=en(a,_),g=en(a,g),S=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=ih)}Yl(d,g);var $;d=null;for(ae in _)if(!g.hasOwnProperty(ae)&&_.hasOwnProperty(ae)&&_[ae]!=null)if(ae==="style"){var z=_[ae];for($ in z)z.hasOwnProperty($)&&(d||(d={}),d[$]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(i.hasOwnProperty(ae)?S||(S=[]):(S=S||[]).push(ae,null));for(ae in g){var X=g[ae];if(z=_!=null?_[ae]:void 0,g.hasOwnProperty(ae)&&X!==z&&(X!=null||z!=null))if(ae==="style")if(z){for($ in z)!z.hasOwnProperty($)||X&&X.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in X)X.hasOwnProperty($)&&z[$]!==X[$]&&(d||(d={}),d[$]=X[$])}else d||(S||(S=[]),S.push(ae,d)),d=X;else ae==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,z=z?z.__html:void 0,X!=null&&z!==X&&(S=S||[]).push(ae,X)):ae==="children"?typeof X!="string"&&typeof X!="number"||(S=S||[]).push(ae,""+X):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(i.hasOwnProperty(ae)?(X!=null&&ae==="onScroll"&&Tt("scroll",a),S||z===X||(S=[])):(S=S||[]).push(ae,X))}d&&(S=S||[]).push("style",d);var ae=S;(u.updateQueue=ae)&&(u.flags|=4)}},_A=function(a,u,d,g){d!==g&&(u.flags|=4)};function Cc(a,u){if(!Ot)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Tr(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var _=a.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function zF(a,u,d){var g=u.pendingProps;switch(Ev(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return zr(u.type)&&ah(),Tr(u),null;case 3:return g=u.stateNode,wu(),At(qr),At(Er),Dv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(fh(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Wn!==null&&(dy(Wn),Wn=null))),ty(a,u),Tr(u),null;case 5:jv(u);var _=Ka(Tc.current);if(d=u.type,a!==null&&u.stateNode!=null)yA(a,u,d,g,_),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}if(a=Ka(mi.current),fh(u)){g=u.stateNode,d=u.type;var S=u.memoizedProps;switch(g[pi]=u,g[bc]=S,a=(u.mode&1)!==0,d){case"dialog":Tt("cancel",g),Tt("close",g);break;case"iframe":case"object":case"embed":Tt("load",g);break;case"video":case"audio":for(_=0;_<vc.length;_++)Tt(vc[_],g);break;case"source":Tt("error",g);break;case"img":case"image":case"link":Tt("error",g),Tt("load",g);break;case"details":Tt("toggle",g);break;case"input":ke(g,S),Tt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Tt("invalid",g);break;case"textarea":ai(g,S),Tt("invalid",g)}Yl(d,S),_=null;for(var $ in S)if(S.hasOwnProperty($)){var z=S[$];$==="children"?typeof z=="string"?g.textContent!==z&&(S.suppressHydrationWarning!==!0&&nh(g.textContent,z,a),_=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(S.suppressHydrationWarning!==!0&&nh(g.textContent,z,a),_=["children",""+z]):i.hasOwnProperty($)&&z!=null&&$==="onScroll"&&Tt("scroll",g)}switch(d){case"input":xe(g),st(g,S,!0);break;case"textarea":xe(g),To(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=ih)}g=_,u.updateQueue=g,g!==null&&(u.flags|=4)}else{$=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Kt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=$.createElement(d,{is:g.is}):(a=$.createElement(d),d==="select"&&($=a,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):a=$.createElementNS(a,d),a[pi]=u,a[bc]=g,vA(a,u,!1,!1),u.stateNode=a;e:{switch($=Ql(d,g),d){case"dialog":Tt("cancel",a),Tt("close",a),_=g;break;case"iframe":case"object":case"embed":Tt("load",a),_=g;break;case"video":case"audio":for(_=0;_<vc.length;_++)Tt(vc[_],a);_=g;break;case"source":Tt("error",a),_=g;break;case"img":case"image":case"link":Tt("error",a),Tt("load",a),_=g;break;case"details":Tt("toggle",a),_=g;break;case"input":ke(a,g),_=Ae(a,g),Tt("invalid",a);break;case"option":_=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},_=H({},g,{value:void 0}),Tt("invalid",a);break;case"textarea":ai(a,g),_=en(a,g),Tt("invalid",a);break;default:_=g}Yl(d,_),z=_;for(S in z)if(z.hasOwnProperty(S)){var X=z[S];S==="style"?Gl(a,X):S==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Hl(a,X)):S==="children"?typeof X=="string"?(d!=="textarea"||X!=="")&&Ao(a,X):typeof X=="number"&&Ao(a,""+X):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?X!=null&&S==="onScroll"&&Tt("scroll",a):X!=null&&C(a,S,X,$))}switch(d){case"input":xe(a),st(a,g,!1);break;case"textarea":xe(a),To(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Se(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?Ht(a,!!g.multiple,S,!1):g.defaultValue!=null&&Ht(a,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=ih)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tr(u),null;case 6:if(a&&u.stateNode!=null)_A(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(d=Ka(Tc.current),Ka(mi.current),fh(u)){if(g=u.stateNode,d=u.memoizedProps,g[pi]=u,(S=g.nodeValue!==d)&&(a=an,a!==null))switch(a.tag){case 3:nh(g.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&nh(g.nodeValue,d,(a.mode&1)!==0)}S&&(u.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[pi]=u,u.stateNode=g}return Tr(u),null;case 13:if(At(kt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ot&&sn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)xT(),vu(),u.flags|=98560,S=!1;else if(S=fh(u),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[pi]=u}else vu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),S=!1}else Wn!==null&&(dy(Wn),Wn=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(kt.current&1)!==0?Qt===0&&(Qt=3):my())),u.updateQueue!==null&&(u.flags|=4),Tr(u),null);case 4:return wu(),ty(a,u),a===null&&yc(u.stateNode.containerInfo),Tr(u),null;case 10:return Ov(u.type._context),Tr(u),null;case 17:return zr(u.type)&&ah(),Tr(u),null;case 19:if(At(kt),S=u.memoizedState,S===null)return Tr(u),null;if(g=(u.flags&128)!==0,$=S.rendering,$===null)if(g)Cc(S,!1);else{if(Qt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if($=vh(a),$!==null){for(u.flags|=128,Cc(S,!1),g=$.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=d,d=u.child;d!==null;)S=d,a=g,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,a=$.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return wt(kt,kt.current&1|2),u.child}a=a.sibling}S.tail!==null&&bt()>Tu&&(u.flags|=128,g=!0,Cc(S,!1),u.lanes=4194304)}else{if(!g)if(a=vh($),a!==null){if(u.flags|=128,g=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),Cc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Ot)return Tr(u),null}else 2*bt()-S.renderingStartTime>Tu&&d!==1073741824&&(u.flags|=128,g=!0,Cc(S,!1),u.lanes=4194304);S.isBackwards?($.sibling=u.child,u.child=$):(d=S.last,d!==null?d.sibling=$:u.child=$,S.last=$)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=bt(),u.sibling=null,d=kt.current,wt(kt,g?d&1|2:d&1),u):(Tr(u),null);case 22:case 23:return py(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(un&1073741824)!==0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function WF(a,u){switch(Ev(u),u.tag){case 1:return zr(u.type)&&ah(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return wu(),At(qr),At(Er),Dv(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return jv(u),null;case 13:if(At(kt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));vu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return At(kt),null;case 4:return wu(),null;case 10:return Ov(u.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var Ah=!1,Ar=!1,HF=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Eu(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){jt(a,u,g)}else d.current=null}function ry(a,u,d){try{d()}catch(g){jt(a,u,g)}}var bA=!1;function KF(a,u){if(pv=jo,a=JS(),av(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var $=0,z=-1,X=-1,ae=0,ge=0,ye=a,me=null;t:for(;;){for(var Pe;ye!==d||_!==0&&ye.nodeType!==3||(z=$+_),ye!==S||g!==0&&ye.nodeType!==3||(X=$+g),ye.nodeType===3&&($+=ye.nodeValue.length),(Pe=ye.firstChild)!==null;)me=ye,ye=Pe;for(;;){if(ye===a)break t;if(me===d&&++ae===_&&(z=$),me===S&&++ge===g&&(X=$),(Pe=ye.nextSibling)!==null)break;ye=me,me=ye.parentNode}ye=Pe}d=z===-1||X===-1?null:{start:z,end:X}}else d=null}d=d||{start:0,end:0}}else d=null;for(mv={focusedElem:a,selectionRange:d},jo=!1,Oe=u;Oe!==null;)if(u=Oe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Oe=a;else for(;Oe!==null;){u=Oe;try{var Re=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ne=Re.memoizedProps,$t=Re.memoizedState,re=u.stateNode,Y=re.getSnapshotBeforeUpdate(u.elementType===u.type?Ne:Hn(u.type,Ne),$t);re.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=u.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){jt(u,u.return,we)}if(a=u.sibling,a!==null){a.return=u.return,Oe=a;break}Oe=u.return}return Re=bA,bA=!1,Re}function kc(a,u,d){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&a)===a){var S=_.destroy;_.destroy=void 0,S!==void 0&&ry(u,d,S)}_=_.next}while(_!==g)}}function Ph(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function ny(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function wA(a){var u=a.alternate;u!==null&&(a.alternate=null,wA(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[pi],delete u[bc],delete u[_v],delete u[OF],delete u[CF])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function xA(a){return a.tag===5||a.tag===3||a.tag===4}function EA(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function iy(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=ih));else if(g!==4&&(a=a.child,a!==null))for(iy(a,u,d),a=a.sibling;a!==null;)iy(a,u,d),a=a.sibling}function oy(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(oy(a,u,d),a=a.sibling;a!==null;)oy(a,u,d),a=a.sibling}var gr=null,Kn=!1;function qo(a,u,d){for(d=d.child;d!==null;)SA(a,u,d),d=d.sibling}function SA(a,u,d){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ma,d)}catch{}switch(d.tag){case 5:Ar||Eu(d,u);case 6:var g=gr,_=Kn;gr=null,qo(a,u,d),gr=g,Kn=_,gr!==null&&(Kn?(a=gr,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):gr.removeChild(d.stateNode));break;case 18:gr!==null&&(Kn?(a=gr,d=d.stateNode,a.nodeType===8?yv(a.parentNode,d):a.nodeType===1&&yv(a,d),Un(a)):yv(gr,d.stateNode));break;case 4:g=gr,_=Kn,gr=d.stateNode.containerInfo,Kn=!0,qo(a,u,d),gr=g,Kn=_;break;case 0:case 11:case 14:case 15:if(!Ar&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var S=_,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&ry(d,u,$),_=_.next}while(_!==g)}qo(a,u,d);break;case 1:if(!Ar&&(Eu(d,u),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(z){jt(d,u,z)}qo(a,u,d);break;case 21:qo(a,u,d);break;case 22:d.mode&1?(Ar=(g=Ar)||d.memoizedState!==null,qo(a,u,d),Ar=g):qo(a,u,d);break;default:qo(a,u,d)}}function TA(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new HF),u.forEach(function(g){var _=r3.bind(null,a,g);d.has(g)||(d.add(g),g.then(_,_))})}}function Gn(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var S=a,$=u,z=$;e:for(;z!==null;){switch(z.tag){case 5:gr=z.stateNode,Kn=!1;break e;case 3:gr=z.stateNode.containerInfo,Kn=!0;break e;case 4:gr=z.stateNode.containerInfo,Kn=!0;break e}z=z.return}if(gr===null)throw Error(r(160));SA(S,$,_),gr=null,Kn=!1;var X=_.alternate;X!==null&&(X.return=null),_.return=null}catch(ae){jt(_,u,ae)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)AA(u,a),u=u.sibling}function AA(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Gn(u,a),vi(a),g&4){try{kc(3,a,a.return),Ph(3,a)}catch(Ne){jt(a,a.return,Ne)}try{kc(5,a,a.return)}catch(Ne){jt(a,a.return,Ne)}}break;case 1:Gn(u,a),vi(a),g&512&&d!==null&&Eu(d,d.return);break;case 5:if(Gn(u,a),vi(a),g&512&&d!==null&&Eu(d,d.return),a.flags&32){var _=a.stateNode;try{Ao(_,"")}catch(Ne){jt(a,a.return,Ne)}}if(g&4&&(_=a.stateNode,_!=null)){var S=a.memoizedProps,$=d!==null?d.memoizedProps:S,z=a.type,X=a.updateQueue;if(a.updateQueue=null,X!==null)try{z==="input"&&S.type==="radio"&&S.name!=null&&He(_,S),Ql(z,$);var ae=Ql(z,S);for($=0;$<X.length;$+=2){var ge=X[$],ye=X[$+1];ge==="style"?Gl(_,ye):ge==="dangerouslySetInnerHTML"?Hl(_,ye):ge==="children"?Ao(_,ye):C(_,ge,ye,ae)}switch(z){case"input":at(_,S);break;case"textarea":Mi(_,S);break;case"select":var me=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var Pe=S.value;Pe!=null?Ht(_,!!S.multiple,Pe,!1):me!==!!S.multiple&&(S.defaultValue!=null?Ht(_,!!S.multiple,S.defaultValue,!0):Ht(_,!!S.multiple,S.multiple?[]:"",!1))}_[bc]=S}catch(Ne){jt(a,a.return,Ne)}}break;case 6:if(Gn(u,a),vi(a),g&4){if(a.stateNode===null)throw Error(r(162));_=a.stateNode,S=a.memoizedProps;try{_.nodeValue=S}catch(Ne){jt(a,a.return,Ne)}}break;case 3:if(Gn(u,a),vi(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Un(u.containerInfo)}catch(Ne){jt(a,a.return,Ne)}break;case 4:Gn(u,a),vi(a);break;case 13:Gn(u,a),vi(a),_=a.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(uy=bt())),g&4&&TA(a);break;case 22:if(ge=d!==null&&d.memoizedState!==null,a.mode&1?(Ar=(ae=Ar)||ge,Gn(u,a),Ar=ae):Gn(u,a),vi(a),g&8192){if(ae=a.memoizedState!==null,(a.stateNode.isHidden=ae)&&!ge&&(a.mode&1)!==0)for(Oe=a,ge=a.child;ge!==null;){for(ye=Oe=ge;Oe!==null;){switch(me=Oe,Pe=me.child,me.tag){case 0:case 11:case 14:case 15:kc(4,me,me.return);break;case 1:Eu(me,me.return);var Re=me.stateNode;if(typeof Re.componentWillUnmount=="function"){g=me,d=me.return;try{u=g,Re.props=u.memoizedProps,Re.state=u.memoizedState,Re.componentWillUnmount()}catch(Ne){jt(g,d,Ne)}}break;case 5:Eu(me,me.return);break;case 22:if(me.memoizedState!==null){OA(ye);continue}}Pe!==null?(Pe.return=me,Oe=Pe):OA(ye)}ge=ge.sibling}e:for(ge=null,ye=a;;){if(ye.tag===5){if(ge===null){ge=ye;try{_=ye.stateNode,ae?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(z=ye.stateNode,X=ye.memoizedProps.style,$=X!=null&&X.hasOwnProperty("display")?X.display:null,z.style.display=Kl("display",$))}catch(Ne){jt(a,a.return,Ne)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Ne){jt(a,a.return,Ne)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Gn(u,a),vi(a),g&4&&TA(a);break;case 21:break;default:Gn(u,a),vi(a)}}function vi(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(xA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Ao(_,""),g.flags&=-33);var S=EA(a);oy(a,S,_);break;case 3:case 4:var $=g.stateNode.containerInfo,z=EA(a);iy(a,z,$);break;default:throw Error(r(161))}}catch(X){jt(a,a.return,X)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function GF(a,u,d){Oe=a,PA(a)}function PA(a,u,d){for(var g=(a.mode&1)!==0;Oe!==null;){var _=Oe,S=_.child;if(_.tag===22&&g){var $=_.memoizedState!==null||Ah;if(!$){var z=_.alternate,X=z!==null&&z.memoizedState!==null||Ar;z=Ah;var ae=Ar;if(Ah=$,(Ar=X)&&!ae)for(Oe=_;Oe!==null;)$=Oe,X=$.child,$.tag===22&&$.memoizedState!==null?CA(_):X!==null?(X.return=$,Oe=X):CA(_);for(;S!==null;)Oe=S,PA(S),S=S.sibling;Oe=_,Ah=z,Ar=ae}IA(a)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,Oe=S):IA(a)}}function IA(a){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Ar||Ph(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Ar)if(d===null)g.componentDidMount();else{var _=u.elementType===u.type?d.memoizedProps:Hn(u.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&OT(u,S,g);break;case 3:var $=u.updateQueue;if($!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}OT(u,$,d)}break;case 5:var z=u.stateNode;if(d===null&&u.flags&4){d=z;var X=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&d.focus();break;case"img":X.src&&(d.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ae=u.alternate;if(ae!==null){var ge=ae.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Un(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ar||u.flags&512&&ny(u)}catch(me){jt(u,u.return,me)}}if(u===a){Oe=null;break}if(d=u.sibling,d!==null){d.return=u.return,Oe=d;break}Oe=u.return}}function OA(a){for(;Oe!==null;){var u=Oe;if(u===a){Oe=null;break}var d=u.sibling;if(d!==null){d.return=u.return,Oe=d;break}Oe=u.return}}function CA(a){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Ph(4,u)}catch(X){jt(u,d,X)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var _=u.return;try{g.componentDidMount()}catch(X){jt(u,_,X)}}var S=u.return;try{ny(u)}catch(X){jt(u,S,X)}break;case 5:var $=u.return;try{ny(u)}catch(X){jt(u,$,X)}}}catch(X){jt(u,u.return,X)}if(u===a){Oe=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Oe=z;break}Oe=u.return}}var XF=Math.ceil,Ih=j.ReactCurrentDispatcher,ay=j.ReactCurrentOwner,Sn=j.ReactCurrentBatchConfig,ot=0,ur=null,Ut=null,vr=0,un=0,Su=$o(0),Qt=0,Rc=null,Xa=0,Oh=0,sy=0,Nc=null,Hr=null,uy=0,Tu=1/0,Yi=null,Ch=!1,ly=null,zo=null,kh=!1,Wo=null,Rh=0,jc=0,cy=null,Nh=-1,jh=0;function Dr(){return(ot&6)!==0?bt():Nh!==-1?Nh:Nh=bt()}function Ho(a){return(a.mode&1)===0?1:(ot&2)!==0&&vr!==0?vr&-vr:RF.transition!==null?(jh===0&&(jh=La()),jh):(a=tt,a!==0||(a=window.event,a=a===void 0?16:uc(a.type)),a)}function Xn(a,u,d,g){if(50<jc)throw jc=0,cy=null,Error(r(185));Co(a,d,g),((ot&2)===0||a!==ur)&&(a===ur&&((ot&2)===0&&(Oh|=d),Qt===4&&Ko(a,vr)),Kr(a,g),d===1&&ot===0&&(u.mode&1)===0&&(Tu=bt()+500,uh&&Fo()))}function Kr(a,u){var d=a.callbackNode;$i(a,u);var g=Da(a,a===ur?vr:0);if(g===0)d!==null&&nc(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&nc(d),u===1)a.tag===0?kF(RA.bind(null,a)):vT(RA.bind(null,a)),PF(function(){(ot&6)===0&&Fo()}),d=null;else{switch(Ro(g)){case 1:d=ja;break;case 4:d=Po;break;case 16:d=vn;break;case 536870912:d=jd;break;default:d=vn}d=FA(d,kA.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function kA(a,u){if(Nh=-1,jh=0,(ot&6)!==0)throw Error(r(327));var d=a.callbackNode;if(Au()&&a.callbackNode!==d)return null;var g=Da(a,a===ur?vr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=Mh(a,g);else{u=g;var _=ot;ot|=2;var S=jA();(ur!==a||vr!==u)&&(Yi=null,Tu=bt()+500,Qa(a,u));do try{JF();break}catch(z){NA(a,z)}while(!0);Iv(),Ih.current=S,ot=_,Ut!==null?u=0:(ur=null,vr=0,u=Qt)}if(u!==0){if(u===2&&(_=rn(a),_!==0&&(g=_,u=fy(a,_))),u===1)throw d=Rc,Qa(a,0),Ko(a,g),Kr(a,bt()),d;if(u===6)Ko(a,g);else{if(_=a.current.alternate,(g&30)===0&&!YF(_)&&(u=Mh(a,g),u===2&&(S=rn(a),S!==0&&(g=S,u=fy(a,S))),u===1))throw d=Rc,Qa(a,0),Ko(a,g),Kr(a,bt()),d;switch(a.finishedWork=_,a.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:Ja(a,Hr,Yi);break;case 3:if(Ko(a,g),(g&130023424)===g&&(u=uy+500-bt(),10<u)){if(Da(a,0)!==0)break;if(_=a.suspendedLanes,(_&g)!==g){Dr(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=vv(Ja.bind(null,a,Hr,Yi),u);break}Ja(a,Hr,Yi);break;case 4:if(Ko(a,g),(g&4194240)===g)break;for(u=a.eventTimes,_=-1;0<g;){var $=31-Nr(g);S=1<<$,$=u[$],$>_&&(_=$),g&=~S}if(g=_,g=bt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*XF(g/1960))-g,10<g){a.timeoutHandle=vv(Ja.bind(null,a,Hr,Yi),g);break}Ja(a,Hr,Yi);break;case 5:Ja(a,Hr,Yi);break;default:throw Error(r(329))}}}return Kr(a,bt()),a.callbackNode===d?kA.bind(null,a):null}function fy(a,u){var d=Nc;return a.current.memoizedState.isDehydrated&&(Qa(a,u).flags|=256),a=Mh(a,u),a!==2&&(u=Hr,Hr=d,u!==null&&dy(u)),a}function dy(a){Hr===null?Hr=a:Hr.push.apply(Hr,a)}function YF(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],S=_.getSnapshot;_=_.value;try{if(!zn(S(),_))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ko(a,u){for(u&=~sy,u&=~Oh,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Nr(u),g=1<<d;a[d]=-1,u&=~g}}function RA(a){if((ot&6)!==0)throw Error(r(327));Au();var u=Da(a,0);if((u&1)===0)return Kr(a,bt()),null;var d=Mh(a,u);if(a.tag!==0&&d===2){var g=rn(a);g!==0&&(u=g,d=fy(a,g))}if(d===1)throw d=Rc,Qa(a,0),Ko(a,u),Kr(a,bt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ja(a,Hr,Yi),Kr(a,bt()),null}function hy(a,u){var d=ot;ot|=1;try{return a(u)}finally{ot=d,ot===0&&(Tu=bt()+500,uh&&Fo())}}function Ya(a){Wo!==null&&Wo.tag===0&&(ot&6)===0&&Au();var u=ot;ot|=1;var d=Sn.transition,g=tt;try{if(Sn.transition=null,tt=1,a)return a()}finally{tt=g,Sn.transition=d,ot=u,(ot&6)===0&&Fo()}}function py(){un=Su.current,At(Su)}function Qa(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,AF(d)),Ut!==null)for(d=Ut.return;d!==null;){var g=d;switch(Ev(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ah();break;case 3:wu(),At(qr),At(Er),Dv();break;case 5:jv(g);break;case 4:wu();break;case 13:At(kt);break;case 19:At(kt);break;case 10:Ov(g.type._context);break;case 22:case 23:py()}d=d.return}if(ur=a,Ut=a=Go(a.current,null),vr=un=u,Qt=0,Rc=null,sy=Oh=Xa=0,Hr=Nc=null,Ha!==null){for(u=0;u<Ha.length;u++)if(d=Ha[u],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,S=d.pending;if(S!==null){var $=S.next;S.next=_,g.next=$}d.pending=g}Ha=null}return a}function NA(a,u){do{var d=Ut;try{if(Iv(),yh.current=xh,_h){for(var g=Rt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}_h=!1}if(Ga=0,sr=Yt=Rt=null,Ac=!1,Pc=0,ay.current=null,d===null||d.return===null){Qt=1,Rc=u,Ut=null;break}e:{var S=a,$=d.return,z=d,X=u;if(u=vr,z.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ae=X,ge=z,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Pe=iA($);if(Pe!==null){Pe.flags&=-257,oA(Pe,$,z,S,u),Pe.mode&1&&nA(S,ae,u),u=Pe,X=ae;var Re=u.updateQueue;if(Re===null){var Ne=new Set;Ne.add(X),u.updateQueue=Ne}else Re.add(X);break e}else{if((u&1)===0){nA(S,ae,u),my();break e}X=Error(r(426))}}else if(Ot&&z.mode&1){var $t=iA($);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),oA($t,$,z,S,u),Av(xu(X,z));break e}}S=X=xu(X,z),Qt!==4&&(Qt=2),Nc===null?Nc=[S]:Nc.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var re=tA(S,X,u);IT(S,re);break e;case 1:z=X;var Y=S.type,ne=S.stateNode;if((S.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(zo===null||!zo.has(ne)))){S.flags|=65536,u&=-u,S.lanes|=u;var we=rA(S,z,u);IT(S,we);break e}}S=S.return}while(S!==null)}DA(d)}catch(je){u=je,Ut===d&&d!==null&&(Ut=d=d.return);continue}break}while(!0)}function jA(){var a=Ih.current;return Ih.current=xh,a===null?xh:a}function my(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),ur===null||(Xa&268435455)===0&&(Oh&268435455)===0||Ko(ur,vr)}function Mh(a,u){var d=ot;ot|=2;var g=jA();(ur!==a||vr!==u)&&(Yi=null,Qa(a,u));do try{QF();break}catch(_){NA(a,_)}while(!0);if(Iv(),ot=d,Ih.current=g,Ut!==null)throw Error(r(261));return ur=null,vr=0,Qt}function QF(){for(;Ut!==null;)MA(Ut)}function JF(){for(;Ut!==null&&!Rd();)MA(Ut)}function MA(a){var u=VA(a.alternate,a,un);a.memoizedProps=a.pendingProps,u===null?DA(a):Ut=u,ay.current=null}function DA(a){var u=a;do{var d=u.alternate;if(a=u.return,(u.flags&32768)===0){if(d=zF(d,u,un),d!==null){Ut=d;return}}else{if(d=WF(d,u),d!==null){d.flags&=32767,Ut=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Qt=6,Ut=null;return}}if(u=u.sibling,u!==null){Ut=u;return}Ut=u=a}while(u!==null);Qt===0&&(Qt=5)}function Ja(a,u,d){var g=tt,_=Sn.transition;try{Sn.transition=null,tt=1,ZF(a,u,d,g)}finally{Sn.transition=_,tt=g}return null}function ZF(a,u,d,g){do Au();while(Wo!==null);if((ot&6)!==0)throw Error(r(327));d=a.finishedWork;var _=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var S=d.lanes|d.childLanes;if(yt(a,S),a===ur&&(Ut=ur=null,vr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||kh||(kh=!0,FA(vn,function(){return Au(),null})),S=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||S){S=Sn.transition,Sn.transition=null;var $=tt;tt=1;var z=ot;ot|=4,ay.current=null,KF(a,d),AA(d,a),_F(mv),jo=!!pv,mv=pv=null,a.current=d,GF(d),Jg(),ot=z,tt=$,Sn.transition=S}else a.current=d;if(kh&&(kh=!1,Wo=a,Rh=_),S=a.pendingLanes,S===0&&(zo=null),Md(d.stateNode),Kr(a,bt()),u!==null)for(g=a.onRecoverableError,d=0;d<u.length;d++)_=u[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Ch)throw Ch=!1,a=ly,ly=null,a;return(Rh&1)!==0&&a.tag!==0&&Au(),S=a.pendingLanes,(S&1)!==0?a===cy?jc++:(jc=0,cy=a):jc=0,Fo(),null}function Au(){if(Wo!==null){var a=Ro(Rh),u=Sn.transition,d=tt;try{if(Sn.transition=null,tt=16>a?16:a,Wo===null)var g=!1;else{if(a=Wo,Wo=null,Rh=0,(ot&6)!==0)throw Error(r(331));var _=ot;for(ot|=4,Oe=a.current;Oe!==null;){var S=Oe,$=S.child;if((Oe.flags&16)!==0){var z=S.deletions;if(z!==null){for(var X=0;X<z.length;X++){var ae=z[X];for(Oe=ae;Oe!==null;){var ge=Oe;switch(ge.tag){case 0:case 11:case 15:kc(8,ge,S)}var ye=ge.child;if(ye!==null)ye.return=ge,Oe=ye;else for(;Oe!==null;){ge=Oe;var me=ge.sibling,Pe=ge.return;if(wA(ge),ge===ae){Oe=null;break}if(me!==null){me.return=Pe,Oe=me;break}Oe=Pe}}}var Re=S.alternate;if(Re!==null){var Ne=Re.child;if(Ne!==null){Re.child=null;do{var $t=Ne.sibling;Ne.sibling=null,Ne=$t}while(Ne!==null)}}Oe=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,Oe=$;else e:for(;Oe!==null;){if(S=Oe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:kc(9,S,S.return)}var re=S.sibling;if(re!==null){re.return=S.return,Oe=re;break e}Oe=S.return}}var Y=a.current;for(Oe=Y;Oe!==null;){$=Oe;var ne=$.child;if(($.subtreeFlags&2064)!==0&&ne!==null)ne.return=$,Oe=ne;else e:for($=Y;Oe!==null;){if(z=Oe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Ph(9,z)}}catch(je){jt(z,z.return,je)}if(z===$){Oe=null;break e}var we=z.sibling;if(we!==null){we.return=z.return,Oe=we;break e}Oe=z.return}}if(ot=_,Fo(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ma,a)}catch{}g=!0}return g}finally{tt=d,Sn.transition=u}}return!1}function LA(a,u,d){u=xu(d,u),u=tA(a,u,1),a=Uo(a,u,1),u=Dr(),a!==null&&(Co(a,1,u),Kr(a,u))}function jt(a,u,d){if(a.tag===3)LA(a,a,d);else for(;u!==null;){if(u.tag===3){LA(u,a,d);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zo===null||!zo.has(g))){a=xu(d,a),a=rA(u,a,1),u=Uo(u,a,1),a=Dr(),u!==null&&(Co(u,1,a),Kr(u,a));break}}u=u.return}}function e3(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=Dr(),a.pingedLanes|=a.suspendedLanes&d,ur===a&&(vr&d)===d&&(Qt===4||Qt===3&&(vr&130023424)===vr&&500>bt()-uy?Qa(a,0):sy|=d),Kr(a,u)}function $A(a,u){u===0&&((a.mode&1)===0?u=1:(u=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var d=Dr();a=Ki(a,u),a!==null&&(Co(a,u,d),Kr(a,d))}function t3(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),$A(a,d)}function r3(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,_=a.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),$A(a,d)}var VA;VA=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||qr.current)Wr=!0;else{if((a.lanes&d)===0&&(u.flags&128)===0)return Wr=!1,qF(a,u,d);Wr=(a.flags&131072)!==0}else Wr=!1,Ot&&(u.flags&1048576)!==0&&yT(u,ch,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Th(a,u),a=u.pendingProps;var _=pu(u,Er.current);bu(u,d),_=Vv(null,u,g,a,_,d);var S=Fv();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,zr(g)?(S=!0,sh(u)):S=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Rv(u),_.updater=Eh,u.stateNode=_,_._reactInternals=u,Hv(u,g,a,d),u=Yv(null,u,g,!0,S,d)):(u.tag=0,Ot&&S&&xv(u),Mr(null,u,_,d),u=u.child),u;case 16:g=u.elementType;e:{switch(Th(a,u),a=u.pendingProps,_=g._init,g=_(g._payload),u.type=g,_=u.tag=i3(g),a=Hn(g,a),_){case 0:u=Xv(null,u,g,a,d);break e;case 1:u=fA(null,u,g,a,d);break e;case 11:u=aA(null,u,g,a,d);break e;case 14:u=sA(null,u,g,Hn(g.type,a),d);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Hn(g,_),Xv(a,u,g,_,d);case 1:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Hn(g,_),fA(a,u,g,_,d);case 3:e:{if(dA(u),a===null)throw Error(r(387));g=u.pendingProps,S=u.memoizedState,_=S.element,PT(a,u),gh(u,g,null,d);var $=u.memoizedState;if(g=$.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){_=xu(Error(r(423)),u),u=hA(a,u,g,d,_);break e}else if(g!==_){_=xu(Error(r(424)),u),u=hA(a,u,g,d,_);break e}else for(sn=Lo(u.stateNode.containerInfo.firstChild),an=u,Ot=!0,Wn=null,d=TT(u,null,g,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(vu(),g===_){u=Xi(a,u,d);break e}Mr(a,u,g,d)}u=u.child}return u;case 5:return CT(u),a===null&&Tv(u),g=u.type,_=u.pendingProps,S=a!==null?a.memoizedProps:null,$=_.children,gv(g,_)?$=null:S!==null&&gv(g,S)&&(u.flags|=32),cA(a,u),Mr(a,u,$,d),u.child;case 6:return a===null&&Tv(u),null;case 13:return pA(a,u,d);case 4:return Nv(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=yu(u,null,g,d):Mr(a,u,g,d),u.child;case 11:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Hn(g,_),aA(a,u,g,_,d);case 7:return Mr(a,u,u.pendingProps,d),u.child;case 8:return Mr(a,u,u.pendingProps.children,d),u.child;case 12:return Mr(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,_=u.pendingProps,S=u.memoizedProps,$=_.value,wt(hh,g._currentValue),g._currentValue=$,S!==null)if(zn(S.value,$)){if(S.children===_.children&&!qr.current){u=Xi(a,u,d);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var z=S.dependencies;if(z!==null){$=S.child;for(var X=z.firstContext;X!==null;){if(X.context===g){if(S.tag===1){X=Gi(-1,d&-d),X.tag=2;var ae=S.updateQueue;if(ae!==null){ae=ae.shared;var ge=ae.pending;ge===null?X.next=X:(X.next=ge.next,ge.next=X),ae.pending=X}}S.lanes|=d,X=S.alternate,X!==null&&(X.lanes|=d),Cv(S.return,d,u),z.lanes|=d;break}X=X.next}}else if(S.tag===10)$=S.type===u.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(r(341));$.lanes|=d,z=$.alternate,z!==null&&(z.lanes|=d),Cv($,d,u),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===u){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}Mr(a,u,_.children,d),u=u.child}return u;case 9:return _=u.type,g=u.pendingProps.children,bu(u,d),_=xn(_),g=g(_),u.flags|=1,Mr(a,u,g,d),u.child;case 14:return g=u.type,_=Hn(g,u.pendingProps),_=Hn(g.type,_),sA(a,u,g,_,d);case 15:return uA(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Hn(g,_),Th(a,u),u.tag=1,zr(g)?(a=!0,sh(u)):a=!1,bu(u,d),ZT(u,g,_),Hv(u,g,_,d),Yv(null,u,g,!0,a,d);case 19:return gA(a,u,d);case 22:return lA(a,u,d)}throw Error(r(156,u.tag))};function FA(a,u){return Ks(a,u)}function n3(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(a,u,d,g){return new n3(a,u,d,g)}function gy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function i3(a){if(typeof a=="function")return gy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===F)return 11;if(a===K)return 14}return 2}function Go(a,u){var d=a.alternate;return d===null?(d=Tn(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Dh(a,u,d,g,_,S){var $=2;if(g=a,typeof a=="function")gy(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case P:return Za(d.children,_,S,u);case O:$=8,_|=8;break;case R:return a=Tn(12,d,u,_|2),a.elementType=R,a.lanes=S,a;case D:return a=Tn(13,d,u,_),a.elementType=D,a.lanes=S,a;case Z:return a=Tn(19,d,u,_),a.elementType=Z,a.lanes=S,a;case oe:return Lh(d,_,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:$=10;break e;case M:$=9;break e;case F:$=11;break e;case K:$=14;break e;case J:$=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=Tn($,d,u,_),u.elementType=a,u.type=g,u.lanes=S,u}function Za(a,u,d,g){return a=Tn(7,a,g,u),a.lanes=d,a}function Lh(a,u,d,g){return a=Tn(22,a,g,u),a.elementType=oe,a.lanes=d,a.stateNode={isHidden:!1},a}function vy(a,u,d){return a=Tn(6,a,null,u),a.lanes=d,a}function yy(a,u,d){return u=Tn(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function o3(a,u,d,g,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function _y(a,u,d,g,_,S,$,z,X){return a=new o3(a,u,d,z,X),u===1?(u=1,S===!0&&(u|=8)):u=0,S=Tn(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(S),a}function a3(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}}function BA(a){if(!a)return Vo;a=a._reactInternals;e:{if(Ln(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(zr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(zr(d))return mT(a,d,u)}return u}function UA(a,u,d,g,_,S,$,z,X){return a=_y(d,g,!0,a,_,S,$,z,X),a.context=BA(null),d=a.current,g=Dr(),_=Ho(d),S=Gi(g,_),S.callback=u??null,Uo(d,S,_),a.current.lanes=_,Co(a,_,g),Kr(a,g),a}function $h(a,u,d,g){var _=u.current,S=Dr(),$=Ho(_);return d=BA(d),u.context===null?u.context=d:u.pendingContext=d,u=Gi(S,$),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Uo(_,u,$),a!==null&&(Xn(a,_,$,S),mh(a,_,$)),$}function Vh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function qA(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function by(a,u){qA(a,u),(a=a.alternate)&&qA(a,u)}function s3(){return null}var zA=typeof reportError=="function"?reportError:function(a){console.error(a)};function wy(a){this._internalRoot=a}Fh.prototype.render=wy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));$h(a,u,null,null)},Fh.prototype.unmount=wy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ya(function(){$h(null,a,null,null)}),u[qi]=null}};function Fh(a){this._internalRoot=a}Fh.prototype.unstable_scheduleHydration=function(a){if(a){var u=Fd();a={blockedOn:null,target:a,priority:u};for(var d=0;d<ci.length&&u!==0&&u<ci[d].priority;d++);ci.splice(d,0,a),d===0&&qd(a)}};function xy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function WA(){}function u3(a,u,d,g,_){if(_){if(typeof g=="function"){var S=g;g=function(){var ae=Vh($);S.call(ae)}}var $=UA(u,g,a,0,null,!1,!1,"",WA);return a._reactRootContainer=$,a[qi]=$.current,yc(a.nodeType===8?a.parentNode:a),Ya(),$}for(;_=a.lastChild;)a.removeChild(_);if(typeof g=="function"){var z=g;g=function(){var ae=Vh(X);z.call(ae)}}var X=_y(a,0,!1,null,null,!1,!1,"",WA);return a._reactRootContainer=X,a[qi]=X.current,yc(a.nodeType===8?a.parentNode:a),Ya(function(){$h(u,X,d,g)}),X}function Uh(a,u,d,g,_){var S=d._reactRootContainer;if(S){var $=S;if(typeof _=="function"){var z=_;_=function(){var X=Vh($);z.call(X)}}$h(u,$,a,_)}else $=u3(d,u,a,_,g);return Vh($)}$d=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=Io(u.pendingLanes);d!==0&&(ko(u,d|1),Kr(u,bt()),(ot&6)===0&&(Tu=bt()+500,Fo()))}break;case 13:Ya(function(){var g=Ki(a,1);if(g!==null){var _=Dr();Xn(g,a,1,_)}}),by(a,1)}},Ys=function(a){if(a.tag===13){var u=Ki(a,134217728);if(u!==null){var d=Dr();Xn(u,a,134217728,d)}by(a,134217728)}},Vd=function(a){if(a.tag===13){var u=Ho(a),d=Ki(a,u);if(d!==null){var g=Dr();Xn(d,a,u,g)}by(a,u)}},Fd=function(){return tt},Bd=function(a,u){var d=tt;try{return tt=a,u()}finally{tt=d}},Bs=function(a,u,d){switch(u){case"input":if(at(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var g=d[u];if(g!==a&&g.form===a.form){var _=oh(g);if(!_)throw Error(r(90));te(g),at(g,_)}}}break;case"textarea":Mi(a,d);break;case"select":u=d.value,u!=null&&Ht(a,!!d.multiple,u,!1)}},Ca=hy,Zl=Ya;var l3={usingClientEntryPoint:!1,Events:[wc,du,oh,ui,Jl,hy]},Mc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c3={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=rc(a),a===null?null:a.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||s3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Ma=qh.inject(c3),tn=qh}catch{}}return Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l3,Gr.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(u))throw Error(r(200));return a3(a,u,null,d)},Gr.createRoot=function(a,u){if(!xy(a))throw Error(r(299));var d=!1,g="",_=zA;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=_y(a,1,!1,null,null,d,!1,g,_),a[qi]=u.current,yc(a.nodeType===8?a.parentNode:a),new wy(u)},Gr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=rc(u),a=a===null?null:a.stateNode,a},Gr.flushSync=function(a){return Ya(a)},Gr.hydrate=function(a,u,d){if(!Bh(u))throw Error(r(200));return Uh(null,a,u,!0,d)},Gr.hydrateRoot=function(a,u,d){if(!xy(a))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,S="",$=zA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),u=UA(u,null,a,1,d??null,_,!1,S,$),a[qi]=u.current,yc(a),g)for(a=0;a<g.length;a++)d=g[a],_=d._getVersion,_=_(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,_]:u.mutableSourceEagerHydrationData.push(d,_);return new Fh(u)},Gr.render=function(a,u,d){if(!Bh(u))throw Error(r(200));return Uh(null,a,u,!1,d)},Gr.unmountComponentAtNode=function(a){if(!Bh(a))throw Error(r(40));return a._reactRootContainer?(Ya(function(){Uh(null,null,a,!1,function(){a._reactRootContainer=null,a[qi]=null})}),!0):!1},Gr.unstable_batchedUpdates=hy,Gr.unstable_renderSubtreeIntoContainer=function(a,u,d,g){if(!Bh(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Uh(a,u,d,!1,g)},Gr.version="18.3.1-next-f1338f8080-20240426",Gr}var ZA;function y3(){if(ZA)return Ty.exports;ZA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ty.exports=v3(),Ty.exports}var eP;function _3(){if(eP)return Wh;eP=1;var t=y3();return Wh.createRoot=t.createRoot,Wh.hydrateRoot=t.hydrateRoot,Wh}var b3=_3();const w3=ht(b3);var Lc={},tP;function x3(){if(tP)return Lc;tP=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.parse=s,Lc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const w=new o,x=v.length;if(x<2)return w;const b=(y==null?void 0:y.decode)||h;let A=0;do{const T=v.indexOf("=",A);if(T===-1)break;const C=v.indexOf(";",A),j=C===-1?x:C;if(T>j){A=v.lastIndexOf(";",T-1)+1;continue}const I=l(v,A,T),N=c(v,T,I),P=v.slice(I,N);if(w[P]===void 0){let O=l(v,T+1,j),R=c(v,j,O);const V=b(v.slice(O,R));w[P]=V}A=j+1}while(A<x);return w}function l(v,y,w){do{const x=v.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<w);return w}function c(v,y,w){for(;y>w;){const x=v.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return w}function f(v,y,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=x(y);if(!e.test(b))throw new TypeError(`argument val is invalid: ${y}`);let A=v+"="+b;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function h(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return i.call(v)==="[object Date]"}return Lc}x3();var rP="popstate";function E3(t={}){function e(n,i){let{pathname:o,search:s,hash:l}=n.location;return Kw("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vf(i)}return T3(e,r,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S3(){return Math.random().toString(36).substring(2,10)}function nP(t,e){return{usr:t.state,key:t.key,idx:e}}function Kw(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cd(e):e,state:r,key:e&&e.key||n||S3()}}function vf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function T3(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function p(){l="POP";let b=h(),A=b==null?null:b-f;f=b,c&&c({action:l,location:x.location,delta:A})}function v(b,A){l="PUSH";let T=Kw(x.location,b,A);f=h()+1;let C=nP(T,f),j=x.createHref(T);try{s.pushState(C,"",j)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(j)}o&&c&&c({action:l,location:x.location,delta:1})}function y(b,A){l="REPLACE";let T=Kw(x.location,b,A);f=h();let C=nP(T,f),j=x.createHref(T);s.replaceState(C,"",j),o&&c&&c({action:l,location:x.location,delta:0})}function w(b){return A3(b)}let x={get action(){return l},get location(){return t(i,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(rP,p),c=b,()=>{i.removeEventListener(rP,p),c=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let A=w(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:y,go(b){return s.go(b)}};return x}function A3(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:vf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Bj(t,e,r="/"){return P3(t,e,r,!1)}function P3(t,e,r,n){let i=typeof e=="string"?cd(e):e,o=co(i.pathname||"/",r);if(o==null)return null;let s=Uj(t);I3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=V3(o);l=L3(s[c],f,n)}return l}function Uj(t,e=[],r=[],n=""){let i=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(rr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=oo([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(rr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Uj(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:M3(f,o.index),routesMeta:h})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let c of qj(o.path))i(o,s,c)}),e}function qj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=qj(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function I3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:D3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var O3=/^:[\w-]+$/,C3=3,k3=2,R3=1,N3=10,j3=-2,iP=t=>t==="*";function M3(t,e){let r=t.split("/"),n=r.length;return r.some(iP)&&(n+=j3),e&&(n+=k3),r.filter(i=>!iP(i)).reduce((i,o)=>i+(O3.test(o)?C3:o===""?R3:N3),n)}function D3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function L3(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,h=o==="/"?e:e.slice(o.length)||"/",p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),v=c.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:oo([o,p.pathname]),pathnameBase:q3(oo([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=oo([o,p.pathnameBase]))}return s}function Ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$3(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:p},v)=>{if(h==="*"){let w=l[v]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[v];return p&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function $3(t,e=!1,r=!0){Pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function V3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function F3(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cd(t):t;return{pathname:r?r.startsWith("/")?r:B3(r,e):e,search:z3(n),hash:W3(i)}}function B3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Iy(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zj(t){let e=U3(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Wj(t,e,r,n=!1){let i;typeof t=="string"?i=cd(t):(i={...t},rr(!i.pathname||!i.pathname.includes("?"),Iy("?","pathname","search",i)),rr(!i.pathname||!i.pathname.includes("#"),Iy("#","pathname","hash",i)),rr(!i.search||!i.search.includes("#"),Iy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=F3(i,l),f=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var oo=t=>t.join("/").replace(/\/\/+/g,"/"),q3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Hj=["POST","PUT","PATCH","DELETE"];new Set(Hj);var K3=["GET",...Hj];new Set(K3);var Ol=q.createContext(null);Ol.displayName="DataRouter";var Gm=q.createContext(null);Gm.displayName="DataRouterState";var Kj=q.createContext({isTransitioning:!1});Kj.displayName="ViewTransition";var G3=q.createContext(new Map);G3.displayName="Fetchers";var X3=q.createContext(null);X3.displayName="Await";var Ri=q.createContext(null);Ri.displayName="Navigation";var Xm=q.createContext(null);Xm.displayName="Location";var _o=q.createContext({outlet:null,matches:[],isDataRoute:!1});_o.displayName="Route";var Bx=q.createContext(null);Bx.displayName="RouteError";function Y3(t,{relative:e}={}){rr(fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=q.useContext(Ri),{hash:i,pathname:o,search:s}=dd(t,{relative:e}),l=o;return r!=="/"&&(l=o==="/"?r:oo([r,o])),n.createHref({pathname:l,search:s,hash:i})}function fd(){return q.useContext(Xm)!=null}function Os(){return rr(fd(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Xm).location}var Gj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xj(t){q.useContext(Ri).static||q.useLayoutEffect(t)}function Q3(){let{isDataRoute:t}=q.useContext(_o);return t?c6():J3()}function J3(){rr(fd(),"useNavigate() may be used only in the context of a <Router> component.");let t=q.useContext(Ol),{basename:e,navigator:r}=q.useContext(Ri),{matches:n}=q.useContext(_o),{pathname:i}=Os(),o=JSON.stringify(zj(n)),s=q.useRef(!1);return Xj(()=>{s.current=!0}),q.useCallback((c,f={})=>{if(Pi(s.current,Gj),!s.current)return;if(typeof c=="number"){r.go(c);return}let h=Wj(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:oo([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,i,t])}q.createContext(null);function dd(t,{relative:e}={}){let{matches:r}=q.useContext(_o),{pathname:n}=Os(),i=JSON.stringify(zj(r));return q.useMemo(()=>Wj(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function Z3(t,e,r,n){rr(fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=q.useContext(Ri),{matches:o}=q.useContext(_o),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let A=h&&h.path||"";Yj(c,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Os(),v;v=p;let y=v.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=Bj(t,{pathname:w});return Pi(h||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),i6(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:oo([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:oo([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,r,n)}function e6(){let t=l6(),e=H3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),r?q.createElement("pre",{style:i},r):null,s)}var t6=q.createElement(e6,null),r6=class extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?q.createElement(_o.Provider,{value:this.props.routeContext},q.createElement(Bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n6({routeContext:t,match:e,children:r}){let n=q.useContext(Ol);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(_o.Provider,{value:t},r)}function i6(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);rr(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let p,v=!1,y=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||t6,s&&(l<0&&h===0?(Yj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,h+1)),b=()=>{let A;return p?A=y:v?A=w:f.route.Component?A=q.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=c,q.createElement(n6,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?q.createElement(r6,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function Ux(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o6(t){let e=q.useContext(Ol);return rr(e,Ux(t)),e}function a6(t){let e=q.useContext(Gm);return rr(e,Ux(t)),e}function s6(t){let e=q.useContext(_o);return rr(e,Ux(t)),e}function qx(t){let e=s6(t),r=e.matches[e.matches.length-1];return rr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function u6(){return qx("useRouteId")}function l6(){var n;let t=q.useContext(Bx),e=a6("useRouteError"),r=qx("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function c6(){let{router:t}=o6("useNavigate"),e=qx("useNavigate"),r=q.useRef(!1);return Xj(()=>{r.current=!0}),q.useCallback(async(i,o={})=>{Pi(r.current,Gj),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var oP={};function Yj(t,e,r){!e&&!oP[t]&&(oP[t]=!0,Pi(!1,r))}q.memo(f6);function f6({routes:t,future:e,state:r}){return Z3(t,void 0,r,e)}function d6({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){rr(!fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=q.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=cd(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:v="default"}=r,y=q.useMemo(()=>{let w=co(c,s);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:v},navigationType:n}},[s,c,f,h,p,v,n]);return Pi(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:q.createElement(Ri.Provider,{value:l},q.createElement(Xm.Provider,{children:e,value:y}))}var pp="get",mp="application/x-www-form-urlencoded";function Ym(t){return t!=null&&typeof t.tagName=="string"}function h6(t){return Ym(t)&&t.tagName.toLowerCase()==="button"}function p6(t){return Ym(t)&&t.tagName.toLowerCase()==="form"}function m6(t){return Ym(t)&&t.tagName.toLowerCase()==="input"}function g6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v6(t,e){return t.button===0&&(!e||e==="_self")&&!g6(t)}var Hh=null;function y6(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var _6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oy(t){return t!=null&&!_6.has(t)?(Pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mp}"`),null):t}function b6(t,e){let r,n,i,o,s;if(p6(t)){let l=t.getAttribute("action");n=l?co(l,e):null,r=t.getAttribute("method")||pp,i=Oy(t.getAttribute("enctype"))||mp,o=new FormData(t)}else if(h6(t)||m6(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?co(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||pp,i=Oy(t.getAttribute("formenctype"))||Oy(l.getAttribute("enctype"))||mp,o=new FormData(l,t),!y6()){let{name:f,type:h,value:p}=t;if(h==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,p)}}else{if(Ym(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pp,n=null,i=mp,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function zx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function w6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function E6(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await w6(o,r);return s.links?s.links():[]}return[]}));return P6(n.flat(1).filter(x6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function aP(t,e,r,n,i,o){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>{var h;return r[f].pathname!==c.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function S6(t,e,{includeHydrateFallback:r}={}){return T6(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function T6(t){return[...new Set(t)]}function A6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function P6(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify(A6(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I6=new Set([100,101,204,205]);function O6(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&co(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Qj(){let t=q.useContext(Ol);return zx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C6(){let t=q.useContext(Gm);return zx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wx=q.createContext(void 0);Wx.displayName="FrameworkContext";function Jj(){let t=q.useContext(Wx);return zx(t,"You must render this element inside a <HydratedRouter> element"),t}function k6(t,e){let r=q.useContext(Wx),[n,i]=q.useState(!1),[o,s]=q.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=e,v=q.useRef(null);q.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=A=>{A.forEach(T=>{s(T.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[t]),q.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,v,{}]:[o,v,{onFocus:$c(l,y),onBlur:$c(c,w),onMouseEnter:$c(f,y),onMouseLeave:$c(h,w),onTouchStart:$c(p,y)}]:[!1,v,{}]}function $c(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function R6({page:t,...e}){let{router:r}=Qj(),n=q.useMemo(()=>Bj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?q.createElement(j6,{page:t,matches:n,...e}):null}function N6(t){let{manifest:e,routeModules:r}=Jj(),[n,i]=q.useState([]);return q.useEffect(()=>{let o=!1;return E6(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function j6({page:t,matches:e,...r}){let n=Os(),{manifest:i,routeModules:o}=Jj(),{basename:s}=Qj(),{loaderData:l,matches:c}=C6(),f=q.useMemo(()=>aP(t,e,c,i,n,"data"),[t,e,c,i,n]),h=q.useMemo(()=>aP(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=q.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(A=>{var C;let T=i.routes[A.route.id];!T||!T.hasLoader||(!f.some(j=>j.route.id===A.route.id)&&A.route.id in l&&((C=o[A.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?x=!0:w.add(A.route.id))}),w.size===0)return[];let b=O6(t,s);return x&&w.size>0&&b.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[s,l,n,i,f,e,t,o]),v=q.useMemo(()=>S6(h,i),[h,i]),y=N6(h);return q.createElement(q.Fragment,null,p.map(w=>q.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>q.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:x})=>q.createElement("link",{key:w,...x})))}function M6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Zj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zj&&(window.__reactRouterVersion="7.6.1")}catch{}function D6({basename:t,children:e,window:r}){let n=q.useRef();n.current==null&&(n.current=E3({window:r,v5Compat:!0}));let i=n.current,[o,s]=q.useState({action:i.action,location:i.location}),l=q.useCallback(c=>{q.startTransition(()=>s(c))},[s]);return q.useLayoutEffect(()=>i.listen(l),[i,l]),q.createElement(d6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var eM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tM=q.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:l,target:c,to:f,preventScrollReset:h,viewTransition:p,...v},y){let{basename:w}=q.useContext(Ri),x=typeof f=="string"&&eM.test(f),b,A=!1;if(typeof f=="string"&&x&&(b=f,Zj))try{let R=new URL(window.location.href),V=f.startsWith("//")?new URL(R.protocol+f):new URL(f),M=co(V.pathname,w);V.origin===R.origin&&M!=null?f=M+V.search+V.hash:A=!0}catch{Pi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Y3(f,{relative:i}),[C,j,I]=k6(n,v),N=F6(f,{replace:s,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function P(R){e&&e(R),R.defaultPrevented||N(R)}let O=q.createElement("a",{...v,...I,href:b||T,onClick:A||o?e:P,ref:M6(y,j),target:c,"data-discover":!x&&r==="render"?"true":void 0});return C&&!x?q.createElement(q.Fragment,null,O,q.createElement(R6,{page:T})):O});tM.displayName="Link";var L6=q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:l,children:c,...f},h){let p=dd(s,{relative:f.relative}),v=Os(),y=q.useContext(Gm),{navigator:w,basename:x}=q.useContext(Ri),b=y!=null&&W6(p)&&l===!0,A=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,T=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(T=T.toLowerCase(),C=C?C.toLowerCase():null,A=A.toLowerCase()),C&&x&&(C=co(C,x)||C);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let I=T===A||!i&&T.startsWith(A)&&T.charAt(j)==="/",N=C!=null&&(C===A||!i&&C.startsWith(A)&&C.charAt(A.length)==="/"),P={isActive:I,isPending:N,isTransitioning:b},O=I?e:void 0,R;typeof n=="function"?R=n(P):R=[n,I?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(P):o;return q.createElement(tM,{...f,"aria-current":O,className:R,ref:h,style:V,to:s,viewTransition:l},typeof c=="function"?c(P):c)});L6.displayName="NavLink";var $6=q.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=pp,action:l,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:p,...v},y)=>{let w=q6(),x=z6(l,{relative:f}),b=s.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&eM.test(l),T=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let j=C.nativeEvent.submitter,I=(j==null?void 0:j.getAttribute("formmethod"))||s;w(j||C.currentTarget,{fetcherKey:e,method:I,navigate:r,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:p})};return q.createElement("form",{ref:y,method:b,action:x,onSubmit:n?c:T,...v,"data-discover":!A&&t==="render"?"true":void 0})});$6.displayName="Form";function V6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rM(t){let e=q.useContext(Ol);return rr(e,V6(t)),e}function F6(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=Q3(),c=Os(),f=dd(t,{relative:o});return q.useCallback(h=>{if(v6(h,e)){h.preventDefault();let p=r!==void 0?r:vf(c)===vf(f);l(t,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,f,r,n,e,t,i,o,s])}var B6=0,U6=()=>`__${String(++B6)}__`;function q6(){let{router:t}=rM("useSubmit"),{basename:e}=q.useContext(Ri),r=u6();return q.useCallback(async(n,i={})=>{let{action:o,method:s,encType:l,formData:c,body:f}=b6(n,e);if(i.navigate===!1){let h=i.fetcherKey||U6();await t.fetch(h,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function z6(t,{relative:e}={}){let{basename:r}=q.useContext(Ri),n=q.useContext(_o);rr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...dd(t||".",{relative:e})},s=Os();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:oo([r,o.pathname])),vf(o)}function W6(t,e={}){let r=q.useContext(Kj);rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rM("useViewTransitionState"),i=dd(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=co(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=co(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ip(i.pathname,s)!=null||Ip(i.pathname,o)!=null}[...I6];const H6=({tabs:t,activeTab:e,onTabChange:r})=>L.jsx("div",{className:"border-b border-gray-200",children:L.jsx("nav",{className:"flex -mb-px",children:t.map((n,i)=>L.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-colors duration-200 ${e===i?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,onClick:()=>r(i),children:n},i))})}),nM=q.createContext(void 0),hd=()=>{const t=q.useContext(nM);if(!t)throw new Error("useData must be used within a DataProvider");return t},K6=t=>{const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e},Cy=(t,e,r)=>{try{const n=[e.join(","),...t.map(o=>e.map(s=>K6(o[s])).join(","))].join(`
`);localStorage.setItem(r,n);const i=new Date().toISOString().replace(/[:.]/g,"-");return localStorage.setItem(`${r}.${i}.backup`,n),!0}catch(n){return console.error(`Error saving CSV at ${r}:`,n),!1}},sP=t=>{try{const e=localStorage.getItem(t);return e||(t.includes("products")?`codigo,nombre,stock,precio_costo,precio_venta,categoria,imagen,stockMinimo
`:t.includes("sales")?`fecha_hora,codigo_barra,nombre_producto,cantidad_vendida,precio_unitario,total_linea,cajero
`:"")}catch(e){return console.error(`Error loading CSV from ${t}:`,e),""}},G6=t=>{try{const e=t.split(`
`);if(e.length<=1)return{};const r=e[0].split(","),n={},i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={codigo:i(s[0]||""),nombre:i(s[1]||""),stock:parseInt(i(s[2]||"0"))||0,precio_costo:parseFloat(i(s[3]||"0"))||0,precio_venta:parseFloat(i(s[4]||"0"))||0,categoria:i(s[5]||"Sin Categoría"),imagen:i(s[6]||""),stockMinimo:parseInt(i(s[7]||"5"))||5,precio:0};l.codigo&&(n[l.codigo]=l)}}}),n}catch(e){return console.error("Error parsing products CSV:",e),{}}},X6=t=>{try{const e=t.split(`
`);if(e.length<=1)return[];const r=e[0].split(","),n=[],i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={fecha_hora:i(s[0]||""),codigo_barra:i(s[1]||""),nombre_producto:i(s[2]||""),cantidad_vendida:parseInt(i(s[3]||"0"))||0,precio_unitario:parseFloat(i(s[4]||"0"))||0,total_linea:parseFloat(i(s[5]||"0"))||0,cajero:i(s[6]||"")};l.codigo_barra&&l.fecha_hora&&n.push(l)}}}),n}catch(e){return console.error("Error parsing sales CSV:",e),[]}},Y6=({children:t})=>{const[e,r]=q.useState({}),[n,i]=q.useState([]),[o,s]=q.useState(!0),[l,c]=q.useState(null),f=q.useRef(null);q.useEffect(()=>{(async()=>{try{s(!0);const C=sP("products.csv"),j=sP("sales.csv"),I=G6(C),N=X6(j);r(I),i(N),console.log("Data loaded successfully")}catch(C){console.error("Error loading data:",C)}finally{s(!1)}})()},[]);const h=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{const T=["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo"],C=["fecha_hora","codigo_barra","nombre_producto","cantidad_vendida","precio_unitario","total_linea","cajero"],j=Object.values(e),I=Cy(j,T,"products.csv"),N=Cy(n,C,"sales.csv");I&&N&&(c(new Date),console.log("Data saved successfully"))}catch(T){console.error("Error saving data:",T)}},1e3)};q.useEffect(()=>{o||h()},[e,n,o]);const p=T=>{const C=T.codigo||T.nombre;r(j=>({...j,[C]:{...T,categoria:T.categoria||"Sin Categoría",imagen:T.imagen||"",stockMinimo:T.stockMinimo||5}}))},v=T=>{const C=T.codigo||T.nombre;r(j=>{const I=j[C];return I?{...j,[C]:{...I,...T,stock:T.stock!==void 0?T.stock:I.stock}}:j})},y=T=>{i(C=>[...C,T])},w=(T,C)=>{const I=e[T]||Object.values(e).find(P=>P.nombre===T),N=(I==null?void 0:I.codigo)||(I==null?void 0:I.nombre);return!I||I.stock<C?!1:(r(P=>({...P,[N]:{...I,stock:I.stock-C}})),!0)},x=T=>e[T]||Object.values(e).find(C=>C.nombre===T)||null,b=T=>{const C=T;let j=C;if(!e[C]){const N=Object.values(e).find(P=>P.nombre===C);N&&(j=N.codigo||N.nombre)}const I={...e};delete I[j],r(I),Cy(Object.values(I),["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo"],"products.csv")},A=(T,C)=>{const j=T,I=e[j]||Object.values(e).find(N=>N.nombre===j);I!=null&&I.codigo||(I==null||I.nombre),I&&v({...I,stock:C})};return q.useEffect(()=>{const T=setInterval(()=>{if(navigator.onLine&&Object.keys(e).length>0){const C=["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo","seVendePorPeso","precioPorKilo"],j=Object.values(e).map(R=>C.map(V=>R[V]!==void 0?R[V]:"").join(",")),I=[C.join(","),...j].join(`
`),N=new Blob([I],{type:"text/csv"}),P=URL.createObjectURL(N),O=document.createElement("a");O.href=P,O.download=`backup_stock_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`,O.style.display="none",document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(P)}},18e5);return()=>clearInterval(T)},[e]),L.jsx(nM.Provider,{value:{products:e,sales:n,addProduct:p,updateProduct:v,addSale:y,decreaseStock:w,getProduct:x,deleteProduct:b,updateStock:A,isLoading:o,lastSaved:l},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),gt=(t,e)=>{const r=q.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},h)=>q.createElement("svg",{ref:h,...Q6,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${J6(t)}`,l].join(" "),...f},[...e.map(([p,v])=>q.createElement(p,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=gt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=gt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=gt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=gt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=gt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=gt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=gt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=gt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=gt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=gt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=gt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=gt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=gt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=gt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=gt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=gt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=gt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=gt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=gt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=gt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=gt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=gt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=gt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=gt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),d5=()=>{const{isLoading:t,lastSaved:e}=hd();return t?L.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[L.jsx(t5,{className:"animate-spin",size:16}),L.jsx("span",{className:"text-sm",children:"Cargando datos..."})]}):L.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[L.jsx(lM,{size:16}),L.jsx("span",{className:"text-sm",children:e?`Guardado: ${e.toLocaleTimeString()}`:"Datos sincronizados"})]})};function fM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=fM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=fM(t))&&(n&&(n+=" "),n+=e);return n}var ky,pP;function Zr(){if(pP)return ky;pP=1;var t=Array.isArray;return ky=t,ky}var Ry,mP;function dM(){if(mP)return Ry;mP=1;var t=typeof zh=="object"&&zh&&zh.Object===Object&&zh;return Ry=t,Ry}var Ny,gP;function Ni(){if(gP)return Ny;gP=1;var t=dM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Ny=r,Ny}var jy,vP;function pd(){if(vP)return jy;vP=1;var t=Ni(),e=t.Symbol;return jy=e,jy}var My,yP;function h5(){if(yP)return My;yP=1;var t=pd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(l?s[i]=c:delete s[i]),h}return My=o,My}var Dy,_P;function p5(){if(_P)return Dy;_P=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Dy=r,Dy}var Ly,bP;function bo(){if(bP)return Ly;bP=1;var t=pd(),e=h5(),r=p5(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:o&&o in Object(l)?e(l):r(l)}return Ly=s,Ly}var $y,wP;function wo(){if(wP)return $y;wP=1;function t(e){return e!=null&&typeof e=="object"}return $y=t,$y}var Vy,xP;function Cl(){if(xP)return Vy;xP=1;var t=bo(),e=wo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Vy=n,Vy}var Fy,EP;function Hx(){if(EP)return Fy;EP=1;var t=Zr(),e=Cl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Fy=i,Fy}var By,SP;function wa(){if(SP)return By;SP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return By=t,By}var Uy,TP;function Kx(){if(TP)return Uy;TP=1;var t=bo(),e=wa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==o}return Uy=s,Uy}var qy,AP;function m5(){if(AP)return qy;AP=1;var t=Ni(),e=t["__core-js_shared__"];return qy=e,qy}var zy,PP;function g5(){if(PP)return zy;PP=1;var t=m5(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return zy=r,zy}var Wy,IP;function hM(){if(IP)return Wy;IP=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Wy=r,Wy}var Hy,OP;function v5(){if(OP)return Hy;OP=1;var t=Kx(),e=g5(),r=wa(),n=hM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var y=t(v)?h:o;return y.test(n(v))}return Hy=p,Hy}var Ky,CP;function y5(){if(CP)return Ky;CP=1;function t(e,r){return e==null?void 0:e[r]}return Ky=t,Ky}var Gy,kP;function Cs(){if(kP)return Gy;kP=1;var t=v5(),e=y5();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Gy=r,Gy}var Xy,RP;function Qm(){if(RP)return Xy;RP=1;var t=Cs(),e=t(Object,"create");return Xy=e,Xy}var Yy,NP;function _5(){if(NP)return Yy;NP=1;var t=Qm();function e(){this.__data__=t?t(null):{},this.size=0}return Yy=e,Yy}var Qy,jP;function b5(){if(jP)return Qy;jP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Qy=t,Qy}var Jy,MP;function w5(){if(MP)return Jy;MP=1;var t=Qm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return n.call(s,o)?s[o]:void 0}return Jy=i,Jy}var Zy,DP;function x5(){if(DP)return Zy;DP=1;var t=Qm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Zy=n,Zy}var e0,LP;function E5(){if(LP)return e0;LP=1;var t=Qm(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return e0=r,e0}var t0,$P;function S5(){if($P)return t0;$P=1;var t=_5(),e=b5(),r=w5(),n=x5(),i=E5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,t0=o,t0}var r0,VP;function T5(){if(VP)return r0;VP=1;function t(){this.__data__=[],this.size=0}return r0=t,r0}var n0,FP;function Gx(){if(FP)return n0;FP=1;function t(e,r){return e===r||e!==e&&r!==r}return n0=t,n0}var i0,BP;function Jm(){if(BP)return i0;BP=1;var t=Gx();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return i0=e,i0}var o0,UP;function A5(){if(UP)return o0;UP=1;var t=Jm(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():r.call(o,s,1),--this.size,!0}return o0=n,o0}var a0,qP;function P5(){if(qP)return a0;qP=1;var t=Jm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return a0=e,a0}var s0,zP;function I5(){if(zP)return s0;zP=1;var t=Jm();function e(r){return t(this.__data__,r)>-1}return s0=e,s0}var u0,WP;function O5(){if(WP)return u0;WP=1;var t=Jm();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return u0=e,u0}var l0,HP;function Zm(){if(HP)return l0;HP=1;var t=T5(),e=A5(),r=P5(),n=I5(),i=O5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,l0=o,l0}var c0,KP;function Xx(){if(KP)return c0;KP=1;var t=Cs(),e=Ni(),r=t(e,"Map");return c0=r,c0}var f0,GP;function C5(){if(GP)return f0;GP=1;var t=S5(),e=Zm(),r=Xx();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return f0=n,f0}var d0,XP;function k5(){if(XP)return d0;XP=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return d0=t,d0}var h0,YP;function eg(){if(YP)return h0;YP=1;var t=k5();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return h0=e,h0}var p0,QP;function R5(){if(QP)return p0;QP=1;var t=eg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return p0=e,p0}var m0,JP;function N5(){if(JP)return m0;JP=1;var t=eg();function e(r){return t(this,r).get(r)}return m0=e,m0}var g0,ZP;function j5(){if(ZP)return g0;ZP=1;var t=eg();function e(r){return t(this,r).has(r)}return g0=e,g0}var v0,eI;function M5(){if(eI)return v0;eI=1;var t=eg();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return v0=e,v0}var y0,tI;function Yx(){if(tI)return y0;tI=1;var t=C5(),e=R5(),r=N5(),n=j5(),i=M5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,y0=o,y0}var _0,rI;function pM(){if(rI)return _0;rI=1;var t=Yx(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=n.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,_0=r,_0}var b0,nI;function D5(){if(nI)return b0;nI=1;var t=pM(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return b0=r,b0}var w0,iI;function L5(){if(iI)return w0;iI=1;var t=D5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(r,"$1"):l||s)}),o});return w0=n,w0}var x0,oI;function Qx(){if(oI)return x0;oI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return x0=t,x0}var E0,aI;function $5(){if(aI)return E0;aI=1;var t=pd(),e=Qx(),r=Zr(),n=Cl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return E0=s,E0}var S0,sI;function mM(){if(sI)return S0;sI=1;var t=$5();function e(r){return r==null?"":t(r)}return S0=e,S0}var T0,uI;function gM(){if(uI)return T0;uI=1;var t=Zr(),e=Hx(),r=L5(),n=mM();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return T0=i,T0}var A0,lI;function tg(){if(lI)return A0;lI=1;var t=Cl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return A0=e,A0}var P0,cI;function Jx(){if(cI)return P0;cI=1;var t=gM(),e=tg();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return P0=r,P0}var I0,fI;function vM(){if(fI)return I0;fI=1;var t=Jx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return I0=e,I0}var V5=vM();const pn=ht(V5);var O0,dI;function F5(){if(dI)return O0;dI=1;function t(e){return e==null}return O0=t,O0}var B5=F5();const Xe=ht(B5);var C0,hI;function U5(){if(hI)return C0;hI=1;var t=bo(),e=Zr(),r=wo(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return C0=i,C0}var q5=U5();const ys=ht(q5);var z5=Kx();const Ue=ht(z5);var W5=wa();const kl=ht(W5);var k0={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI;function H5(){if(pI)return ct;pI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case t:switch(b=b.type,b){case r:case i:case n:case f:case h:return b;default:switch(b=b&&b.$$typeof,b){case l:case s:case c:case v:case p:case o:return b;default:return A}}case e:return A}}}return ct.ContextConsumer=s,ct.ContextProvider=o,ct.Element=t,ct.ForwardRef=c,ct.Fragment=r,ct.Lazy=v,ct.Memo=p,ct.Portal=e,ct.Profiler=i,ct.StrictMode=n,ct.Suspense=f,ct.SuspenseList=h,ct.isAsyncMode=function(){return!1},ct.isConcurrentMode=function(){return!1},ct.isContextConsumer=function(b){return x(b)===s},ct.isContextProvider=function(b){return x(b)===o},ct.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ct.isForwardRef=function(b){return x(b)===c},ct.isFragment=function(b){return x(b)===r},ct.isLazy=function(b){return x(b)===v},ct.isMemo=function(b){return x(b)===p},ct.isPortal=function(b){return x(b)===e},ct.isProfiler=function(b){return x(b)===i},ct.isStrictMode=function(b){return x(b)===n},ct.isSuspense=function(b){return x(b)===f},ct.isSuspenseList=function(b){return x(b)===h},ct.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===h||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===p||b.$$typeof===o||b.$$typeof===s||b.$$typeof===c||b.$$typeof===w||b.getModuleId!==void 0)},ct.typeOf=x,ct}var mI;function K5(){return mI||(mI=1,k0.exports=H5()),k0.exports}var G5=K5(),R0,gI;function yM(){if(gI)return R0;gI=1;var t=bo(),e=wo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return R0=n,R0}var N0,vI;function X5(){if(vI)return N0;vI=1;var t=yM();function e(r){return t(r)&&r!=+r}return N0=e,N0}var Y5=X5();const Rl=ht(Y5);var Q5=yM();const J5=ht(Q5);var $r=function(e){return e===0?0:e>0?1:-1},ss=function(e){return ys(e)&&e.indexOf("%")===e.length-1},be=function(e){return J5(e)&&!Rl(e)},tr=function(e){return be(e)||ys(e)},Z5=0,Nl=function(e){var r=++Z5;return"".concat(e||"").concat(r)},Vr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!ys(e))return n;var o;if(ss(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Rl(o)&&(o=n),i&&o>r&&(o=r),o},Zo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},eB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Qr=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function Cp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):pn(n,e))===r})}var tB=function(e,r){return be(e)&&be(r)?e-r:ys(e)&&ys(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Fu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}var rB=["viewBox","children"],nB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yI=["points","pathLength"],j0={svg:rB,polygon:yI,polyline:yI},Zx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(q.isValidElement(e)&&(n=e.props),!kl(n))return null;var i={};return Object.keys(n).forEach(function(o){Zx.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},iB=function(e,r,n){return function(i){return e(r,n,i),null}},_s=function(e,r,n){if(!kl(e)||Yw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Zx.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=iB(s,r,n))}),i},oB=["children"],aB=["children"];function _I(t,e){if(t==null)return{};var r=sB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qw(t){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(t)}var bI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ao=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},wI=null,M0=null,eE=function t(e){if(e===wI&&Array.isArray(M0))return M0;var r=[];return q.Children.forEach(e,function(n){Xe(n)||(G5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),M0=r,wI=e,r};function kn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ao(i)}):n=[ao(e)],eE(t).forEach(function(i){var o=pn(i,"type.displayName")||pn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function cn(t,e){var r=kn(t,e);return r&&r[0]}var xI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!be(n)||n<=0||!be(i)||i<=0)},uB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lB=function(e){return e&&e.type&&ys(e.type)&&uB.indexOf(e.type)>=0},cB=function(e){return e&&Qw(e)==="object"&&"clipDot"in e},fB=function(e,r,n,i){var o,s=(o=j0==null?void 0:j0[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ue(e)&&(i&&s.includes(r)||nB.includes(r))||n&&Zx.includes(r)},De=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!kl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;fB((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=i[s])}),o},Jw=function t(e,r){if(e===r)return!0;var n=q.Children.count(e);if(n!==q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return EI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!EI(o,s))return!1}return!0},EI=function(e,r){if(Xe(e)&&Xe(r))return!0;if(!Xe(e)&&!Xe(r)){var n=e.props||{},i=n.children,o=_I(n,oB),s=r.props||{},l=s.children,c=_I(s,aB);return i&&l?Fu(o,c)&&Jw(i,l):!i&&!l?Fu(o,c):!1}return!1},SI=function(e,r){var n=[],i={};return eE(e).forEach(function(o,s){if(lB(o))n.push(o);else if(o){var l=ao(o.type),c=r[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,s);n.push(p),i[l]=!0}}}),n},dB=function(e){var r=e&&e.type;return r&&bI[r]?bI[r]:null},hB=function(e,r){return eE(r).indexOf(e)},pB=["children","width","height","viewBox","className","style","title","desc"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}function mB(t,e){if(t==null)return{};var r=gB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function e1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=mB(t,pB),h=i||{width:r,height:n,x:0,y:0},p=Ye("recharts-surface",o);return W.createElement("svg",Zw({},De(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var vB=["children","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function yB(t,e){if(t==null)return{};var r=_B(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _B(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var it=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=yB(t,vB),o=Ye("recharts-layer",n);return W.createElement("g",t1({className:o},De(i,!0),{ref:e}),r)}),ni=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},D0,TI;function bB(){if(TI)return D0;TI=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return D0=t,D0}var L0,AI;function wB(){if(AI)return L0;AI=1;var t=bB();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return L0=e,L0}var $0,PI;function _M(){if(PI)return $0;PI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return $0=c,$0}var V0,II;function xB(){if(II)return V0;II=1;function t(e){return e.split("")}return V0=t,V0}var F0,OI;function EB(){if(OI)return F0;OI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",x="["+o+"]?",b="(?:"+y+"(?:"+[h,p,v].join("|")+")"+x+w+")*",A=x+w+b,T="(?:"+[h+l+"?",l,p,v,s].join("|")+")",C=RegExp(c+"(?="+c+")|"+T+A,"g");function j(I){return I.match(C)||[]}return F0=j,F0}var B0,CI;function SB(){if(CI)return B0;CI=1;var t=xB(),e=_M(),r=EB();function n(i){return e(i)?r(i):t(i)}return B0=n,B0}var U0,kI;function TB(){if(kI)return U0;kI=1;var t=wB(),e=_M(),r=SB(),n=mM();function i(o){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return U0=i,U0}var q0,RI;function AB(){if(RI)return q0;RI=1;var t=TB(),e=t("toUpperCase");return q0=e,q0}var PB=AB();const rg=ht(PB);function Et(t){return function(){return t}}const bM=Math.cos,Rp=Math.sin,oi=Math.sqrt,Np=Math.PI,ng=2*Np,r1=Math.PI,n1=2*r1,ns=1e-6,IB=n1-ns;function wM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function OB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wM;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class CB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wM:OB(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-e,f=i-r,h=s-e,p=l-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ns)if(!(Math.abs(p*c-f*h)>ns)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,w=i-l,x=c*c+f*f,b=y*y+w*w,A=Math.sqrt(x),T=Math.sqrt(v),C=o*Math.tan((r1-Math.acos((x+v-b)/(2*A*T)))/2),j=C/T,I=C/A;Math.abs(j-1)>ns&&this._append`L${e+j*h},${r+j*p}`,this._append`A${o},${o},0,0,${+(p*y>h*w)},${this._x1=e+I*c},${this._y1=r+I*f}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,h=r+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ns||Math.abs(this._y1-h)>ns)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%n1+n1),v>IB?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:v>ns&&this._append`A${n},${n},0,${+(v>=r1)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function tE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new CB(e)}function rE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xM(t){this._context=t}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ig(t){return new xM(t)}function EM(t){return t[0]}function SM(t){return t[1]}function TM(t,e){var r=Et(!0),n=null,i=ig,o=null,s=tE(l);t=typeof t=="function"?t:t===void 0?EM:Et(t),e=typeof e=="function"?e:e===void 0?SM:Et(e);function l(c){var f,h=(c=rE(c)).length,p,v=!1,y;for(n==null&&(o=i(y=s())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(y)return o=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Et(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Et(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Et(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),l):n},l}function Kh(t,e,r){var n=null,i=Et(!0),o=null,s=ig,l=null,c=tE(f);t=typeof t=="function"?t:t===void 0?EM:Et(+t),e=typeof e=="function"?e:Et(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?SM:Et(+r);function f(p){var v,y,w,x=(p=rE(p)).length,b,A=!1,T,C=new Array(x),j=new Array(x);for(o==null&&(l=s(T=c())),v=0;v<=x;++v){if(!(v<x&&i(b=p[v],v,p))===A)if(A=!A)y=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=y;--w)l.point(C[w],j[w]);l.lineEnd(),l.areaEnd()}A&&(C[v]=+t(b,v,p),j[v]=+e(b,v,p),l.point(n?+n(b,v,p):C[v],r?+r(b,v,p):j[v]))}if(T)return l=null,T+""||null}function h(){return TM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Et(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Et(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Et(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class AM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function kB(t){return new AM(t,!0)}function RB(t){return new AM(t,!1)}const nE={draw(t,e){const r=oi(e/Np);t.moveTo(r,0),t.arc(0,0,r,0,ng)}},NB={draw(t,e){const r=oi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PM=oi(1/3),jB=PM*2,MB={draw(t,e){const r=oi(e/jB),n=r*PM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},DB={draw(t,e){const r=oi(e),n=-r/2;t.rect(n,n,r,r)}},LB=.8908130915292852,IM=Rp(Np/10)/Rp(7*Np/10),$B=Rp(ng/10)*IM,VB=-bM(ng/10)*IM,FB={draw(t,e){const r=oi(e*LB),n=$B*r,i=VB*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=ng*o/5,l=bM(s),c=Rp(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},z0=oi(3),BB={draw(t,e){const r=-oi(e/(z0*3));t.moveTo(0,r*2),t.lineTo(-z0*r,-r),t.lineTo(z0*r,-r),t.closePath()}},An=-.5,Pn=oi(3)/2,i1=1/oi(12),UB=(i1/2+1)*3,qB={draw(t,e){const r=oi(e/UB),n=r/2,i=r*i1,o=n,s=r*i1+r,l=-o,c=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(An*n-Pn*i,Pn*n+An*i),t.lineTo(An*o-Pn*s,Pn*o+An*s),t.lineTo(An*l-Pn*c,Pn*l+An*c),t.lineTo(An*n+Pn*i,An*i-Pn*n),t.lineTo(An*o+Pn*s,An*s-Pn*o),t.lineTo(An*l+Pn*c,An*c-Pn*l),t.closePath()}};function zB(t,e){let r=null,n=tE(i);t=typeof t=="function"?t:Et(t||nE),e=typeof e=="function"?e:Et(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Et(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Et(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function jp(){}function Mp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function OM(t){this._context=t}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WB(t){return new OM(t)}function CM(t){this._context=t}CM.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HB(t){return new CM(t)}function kM(t){this._context=t}kM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KB(t){return new kM(t)}function RM(t){this._context=t}RM.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function GB(t){return new RM(t)}function NI(t){return t<0?-1:1}function jI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(o*i+s*n)/(n+i);return(NI(o)+NI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function MI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function W0(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-n)/3;t._context.bezierCurveTo(n+l,i+l*e,o-l,s-l*r,o,s)}function Dp(t){this._context=t}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W0(this,this._t0,MI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W0(this,MI(this,r=jI(this,t,e)),r);break;default:W0(this,this._t0,r=jI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function NM(t){this._context=new jM(t)}(NM.prototype=Object.create(Dp.prototype)).point=function(t,e){Dp.prototype.point.call(this,e,t)};function jM(t){this._context=t}jM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function XB(t){return new Dp(t)}function YB(t){return new NM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=DI(t),i=DI(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DI(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function QB(t){return new MM(t)}function og(t,e){this._context=t,this._t=e}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function JB(t){return new og(t,.5)}function ZB(t){return new og(t,0)}function eU(t){return new og(t,1)}function Gu(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,l=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function o1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function tU(t,e){return t[e]}function rU(t){const e=[];return e.key=t,e}function nU(){var t=Et([]),e=o1,r=Gu,n=tU;function i(o){var s=Array.from(t.apply(this,arguments),rU),l,c=s.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+n(p,s[l].key,f,o)]).data=p;for(l=0,h=rE(e(s));l<c;++l)s[h[l]].index=l;return r(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Et(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Et(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?o1:typeof o=="function"?o:Et(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Gu,i):r},i}function iU(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Gu(t,e)}}function oU(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gu(t,e)}}function aU(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[n][1]||0,v=h[n-1][1]||0,y=(p-v)/2,w=0;w<l;++w){var x=t[e[w]],b=x[n][1]||0,A=x[n-1][1]||0;y+=b-A}c+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Gu(t,e)}}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var sU=["type","size","sizeType"];function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){uU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uU(t,e,r){return e=lU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lU(t){var e=cU(t,"string");return yf(e)=="symbol"?e:e+""}function cU(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fU(t,e){if(t==null)return{};var r=dU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DM={symbolCircle:nE,symbolCross:NB,symbolDiamond:MB,symbolSquare:DB,symbolStar:FB,symbolTriangle:BB,symbolWye:qB},hU=Math.PI/180,pU=function(e){var r="symbol".concat(rg(e));return DM[r]||nE},mU=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*hU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},gU=function(e,r){DM["symbol".concat(rg(e))]=r},iE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=fU(e,sU),f=$I($I({},c),{},{type:n,size:o,sizeType:l}),h=function(){var b=pU(n),A=zB().type(b).size(mU(o,l,n));return A()},p=f.className,v=f.cx,y=f.cy,w=De(f,!0);return v===+v&&y===+y&&o===+o?W.createElement("path",a1({},w,{className:Ye("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:h()})):null};iE.registerSymbol=gU;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){_f(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$M(n.key),n)}}function bU(t,e,r){return e&&_U(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wU(t,e,r){return e=Lp(e),xU(t,LM()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function xU(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EU(t)}function EU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LM=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function SU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(t,e)}function _f(t,e,r){return e=$M(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $M(t){var e=TU(t,"string");return Xu(e)=="symbol"?e:e+""}function TU(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yn=32,oE=function(t){function e(){return yU(this,e),wU(this,e,arguments)}return SU(e,t),bU(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Yn/2,s=Yn/6,l=Yn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Yn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Yn,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var f=vU({},n);return delete f.legendIcon,W.cloneElement(n.legendIcon,f)}return W.createElement(iE,{fill:c,cx:o,cy:o,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Yn,height:Yn},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,w){var x=y.formatter||c,b=Ye(_f(_f({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var A=Ue(y.value)?null:y.value;ni(!Ue(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=y.inactive?f:y.color;return W.createElement("li",s1({className:b,style:p,key:"legend-item-".concat(w)},_s(n.props,y,w)),W.createElement(e1,{width:s,height:s,viewBox:h,style:v},n.renderIcon(y)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},x?x(A,y,w):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(q.PureComponent);_f(oE,"displayName","Legend");_f(oE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var H0,FI;function AU(){if(FI)return H0;FI=1;var t=Zm();function e(){this.__data__=new t,this.size=0}return H0=e,H0}var K0,BI;function PU(){if(BI)return K0;BI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return K0=t,K0}var G0,UI;function IU(){if(UI)return G0;UI=1;function t(e){return this.__data__.get(e)}return G0=t,G0}var X0,qI;function OU(){if(qI)return X0;qI=1;function t(e){return this.__data__.has(e)}return X0=t,X0}var Y0,zI;function CU(){if(zI)return Y0;zI=1;var t=Zm(),e=Xx(),r=Yx(),n=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(o,s),this.size=l.size,this}return Y0=i,Y0}var Q0,WI;function VM(){if(WI)return Q0;WI=1;var t=Zm(),e=AU(),r=PU(),n=IU(),i=OU(),o=CU();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,Q0=s,Q0}var J0,HI;function kU(){if(HI)return J0;HI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return J0=e,J0}var Z0,KI;function RU(){if(KI)return Z0;KI=1;function t(e){return this.__data__.has(e)}return Z0=t,Z0}var e_,GI;function FM(){if(GI)return e_;GI=1;var t=Yx(),e=kU(),r=RU();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,e_=n,e_}var t_,XI;function BM(){if(XI)return t_;XI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return t_=t,t_}var r_,YI;function UM(){if(YI)return r_;YI=1;function t(e,r){return e.has(r)}return r_=t,r_}var n_,QI;function qM(){if(QI)return n_;QI=1;var t=FM(),e=BM(),r=UM(),n=1,i=2;function o(s,l,c,f,h,p){var v=c&n,y=s.length,w=l.length;if(y!=w&&!(v&&w>y))return!1;var x=p.get(s),b=p.get(l);if(x&&b)return x==l&&b==s;var A=-1,T=!0,C=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++A<y;){var j=s[A],I=l[A];if(f)var N=v?f(I,j,A,l,s,p):f(j,I,A,s,l,p);if(N!==void 0){if(N)continue;T=!1;break}if(C){if(!e(l,function(P,O){if(!r(C,O)&&(j===P||h(j,P,c,f,p)))return C.push(O)})){T=!1;break}}else if(!(j===I||h(j,I,c,f,p))){T=!1;break}}return p.delete(s),p.delete(l),T}return n_=o,n_}var i_,JI;function NU(){if(JI)return i_;JI=1;var t=Ni(),e=t.Uint8Array;return i_=e,i_}var o_,ZI;function jU(){if(ZI)return o_;ZI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return o_=t,o_}var a_,eO;function aE(){if(eO)return a_;eO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return a_=t,a_}var s_,tO;function MU(){if(tO)return s_;tO=1;var t=pd(),e=NU(),r=Gx(),n=qM(),i=jU(),o=aE(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",x="[object String]",b="[object Symbol]",A="[object ArrayBuffer]",T="[object DataView]",C=t?t.prototype:void 0,j=C?C.valueOf:void 0;function I(N,P,O,R,V,M,F){switch(O){case T:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case A:return!(N.byteLength!=P.byteLength||!M(new e(N),new e(P)));case c:case f:case v:return r(+N,+P);case h:return N.name==P.name&&N.message==P.message;case y:case x:return N==P+"";case p:var D=i;case w:var Z=R&s;if(D||(D=o),N.size!=P.size&&!Z)return!1;var K=F.get(N);if(K)return K==P;R|=l,F.set(N,P);var J=n(D(N),D(P),R,V,M,F);return F.delete(N),J;case b:if(j)return j.call(N)==j.call(P)}return!1}return s_=I,s_}var u_,rO;function zM(){if(rO)return u_;rO=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return u_=t,u_}var l_,nO;function DU(){if(nO)return l_;nO=1;var t=zM(),e=Zr();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return l_=r,l_}var c_,iO;function LU(){if(iO)return c_;iO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[o++]=l)}return s}return c_=t,c_}var f_,oO;function $U(){if(oO)return f_;oO=1;function t(){return[]}return f_=t,f_}var d_,aO;function VU(){if(aO)return d_;aO=1;var t=LU(),e=$U(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return d_=o,d_}var h_,sO;function FU(){if(sO)return h_;sO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return h_=t,h_}var p_,uO;function BU(){if(uO)return p_;uO=1;var t=bo(),e=wo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return p_=n,p_}var m_,lO;function sE(){if(lO)return m_;lO=1;var t=BU(),e=wo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return m_=o,m_}var Yc={exports:{}},g_,cO;function UU(){if(cO)return g_;cO=1;function t(){return!1}return g_=t,g_}Yc.exports;var fO;function WM(){return fO||(fO=1,function(t,e){var r=Ni(),n=UU(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||n;t.exports=f}(Yc,Yc.exports)),Yc.exports}var v_,dO;function uE(){if(dO)return v_;dO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return v_=r,v_}var y_,hO;function lE(){if(hO)return y_;hO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return y_=e,y_}var __,pO;function qU(){if(pO)return __;pO=1;var t=bo(),e=lE(),r=wo(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",T="[object Float32Array]",C="[object Float64Array]",j="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",V="[object Uint32Array]",M={};M[T]=M[C]=M[j]=M[I]=M[N]=M[P]=M[O]=M[R]=M[V]=!0,M[n]=M[i]=M[b]=M[o]=M[A]=M[s]=M[l]=M[c]=M[f]=M[h]=M[p]=M[v]=M[y]=M[w]=M[x]=!1;function F(D){return r(D)&&e(D.length)&&!!M[t(D)]}return __=F,__}var b_,mO;function HM(){if(mO)return b_;mO=1;function t(e){return function(r){return e(r)}}return b_=t,b_}var Qc={exports:{}};Qc.exports;var gO;function zU(){return gO||(gO=1,function(t,e){var r=dM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(Qc,Qc.exports)),Qc.exports}var w_,vO;function KM(){if(vO)return w_;vO=1;var t=qU(),e=HM(),r=zU(),n=r&&r.isTypedArray,i=n?e(n):t;return w_=i,w_}var x_,yO;function WU(){if(yO)return x_;yO=1;var t=FU(),e=sE(),r=Zr(),n=WM(),i=uE(),o=KM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var p=r(f),v=!p&&e(f),y=!p&&!v&&n(f),w=!p&&!v&&!y&&o(f),x=p||v||y||w,b=x?t(f.length,String):[],A=b.length;for(var T in f)(h||l.call(f,T))&&!(x&&(T=="length"||y&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,A)))&&b.push(T);return b}return x_=c,x_}var E_,_O;function HU(){if(_O)return E_;_O=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return E_=e,E_}var S_,bO;function GM(){if(bO)return S_;bO=1;function t(e,r){return function(n){return e(r(n))}}return S_=t,S_}var T_,wO;function KU(){if(wO)return T_;wO=1;var t=GM(),e=t(Object.keys,Object);return T_=e,T_}var A_,xO;function GU(){if(xO)return A_;xO=1;var t=HU(),e=KU(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))n.call(o,l)&&l!="constructor"&&s.push(l);return s}return A_=i,A_}var P_,EO;function md(){if(EO)return P_;EO=1;var t=Kx(),e=lE();function r(n){return n!=null&&e(n.length)&&!t(n)}return P_=r,P_}var I_,SO;function ag(){if(SO)return I_;SO=1;var t=WU(),e=GU(),r=md();function n(i){return r(i)?t(i):e(i)}return I_=n,I_}var O_,TO;function XU(){if(TO)return O_;TO=1;var t=DU(),e=VU(),r=ag();function n(i){return t(i,r,e)}return O_=n,O_}var C_,AO;function YU(){if(AO)return C_;AO=1;var t=XU(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,l,c,f,h){var p=l&e,v=t(o),y=v.length,w=t(s),x=w.length;if(y!=x&&!p)return!1;for(var b=y;b--;){var A=v[b];if(!(p?A in s:n.call(s,A)))return!1}var T=h.get(o),C=h.get(s);if(T&&C)return T==s&&C==o;var j=!0;h.set(o,s),h.set(s,o);for(var I=p;++b<y;){A=v[b];var N=o[A],P=s[A];if(c)var O=p?c(P,N,A,s,o,h):c(N,P,A,o,s,h);if(!(O===void 0?N===P||f(N,P,l,c,h):O)){j=!1;break}I||(I=A=="constructor")}if(j&&!I){var R=o.constructor,V=s.constructor;R!=V&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof V=="function"&&V instanceof V)&&(j=!1)}return h.delete(o),h.delete(s),j}return C_=i,C_}var k_,PO;function QU(){if(PO)return k_;PO=1;var t=Cs(),e=Ni(),r=t(e,"DataView");return k_=r,k_}var R_,IO;function JU(){if(IO)return R_;IO=1;var t=Cs(),e=Ni(),r=t(e,"Promise");return R_=r,R_}var N_,OO;function XM(){if(OO)return N_;OO=1;var t=Cs(),e=Ni(),r=t(e,"Set");return N_=r,N_}var j_,CO;function ZU(){if(CO)return j_;CO=1;var t=Cs(),e=Ni(),r=t(e,"WeakMap");return j_=r,j_}var M_,kO;function eq(){if(kO)return M_;kO=1;var t=QU(),e=Xx(),r=JU(),n=XM(),i=ZU(),o=bo(),s=hM(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",y=s(t),w=s(e),x=s(r),b=s(n),A=s(i),T=o;return(t&&T(new t(new ArrayBuffer(1)))!=v||e&&T(new e)!=l||r&&T(r.resolve())!=f||n&&T(new n)!=h||i&&T(new i)!=p)&&(T=function(C){var j=o(C),I=j==c?C.constructor:void 0,N=I?s(I):"";if(N)switch(N){case y:return v;case w:return l;case x:return f;case b:return h;case A:return p}return j}),M_=T,M_}var D_,RO;function tq(){if(RO)return D_;RO=1;var t=VM(),e=qM(),r=MU(),n=YU(),i=eq(),o=Zr(),s=WM(),l=KM(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(x,b,A,T,C,j){var I=o(x),N=o(b),P=I?h:i(x),O=N?h:i(b);P=P==f?p:P,O=O==f?p:O;var R=P==p,V=O==p,M=P==O;if(M&&s(x)){if(!s(b))return!1;I=!0,R=!1}if(M&&!R)return j||(j=new t),I||l(x)?e(x,b,A,T,C,j):r(x,b,P,A,T,C,j);if(!(A&c)){var F=R&&y.call(x,"__wrapped__"),D=V&&y.call(b,"__wrapped__");if(F||D){var Z=F?x.value():x,K=D?b.value():b;return j||(j=new t),C(Z,K,A,T,j)}}return M?(j||(j=new t),n(x,b,A,T,C,j)):!1}return D_=w,D_}var L_,NO;function cE(){if(NO)return L_;NO=1;var t=tq(),e=wo();function r(n,i,o,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,l)}return L_=r,L_}var $_,jO;function rq(){if(jO)return $_;jO=1;var t=VM(),e=cE(),r=1,n=2;function i(o,s,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var v=l[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<h;){v=l[f];var y=v[0],w=o[y],x=v[1];if(p&&v[2]){if(w===void 0&&!(y in o))return!1}else{var b=new t;if(c)var A=c(w,x,y,o,s,b);if(!(A===void 0?e(x,w,r|n,c,b):A))return!1}}return!0}return $_=i,$_}var V_,MO;function YM(){if(MO)return V_;MO=1;var t=wa();function e(r){return r===r&&!t(r)}return V_=e,V_}var F_,DO;function nq(){if(DO)return F_;DO=1;var t=YM(),e=ag();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],l=n[s];i[o]=[s,l,t(l)]}return i}return F_=r,F_}var B_,LO;function QM(){if(LO)return B_;LO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return B_=t,B_}var U_,$O;function iq(){if($O)return U_;$O=1;var t=rq(),e=nq(),r=QM();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return U_=n,U_}var q_,VO;function oq(){if(VO)return q_;VO=1;function t(e,r){return e!=null&&r in Object(e)}return q_=t,q_}var z_,FO;function aq(){if(FO)return z_;FO=1;var t=gM(),e=sE(),r=Zr(),n=uE(),i=lE(),o=tg();function s(l,c,f){c=t(c,l);for(var h=-1,p=c.length,v=!1;++h<p;){var y=o(c[h]);if(!(v=l!=null&&f(l,y)))break;l=l[y]}return v||++h!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||e(l)))}return z_=s,z_}var W_,BO;function sq(){if(BO)return W_;BO=1;var t=oq(),e=aq();function r(n,i){return n!=null&&e(n,i,t)}return W_=r,W_}var H_,UO;function uq(){if(UO)return H_;UO=1;var t=cE(),e=vM(),r=sq(),n=Hx(),i=YM(),o=QM(),s=tg(),l=1,c=2;function f(h,p){return n(h)&&i(p)?o(s(h),p):function(v){var y=e(v,h);return y===void 0&&y===p?r(v,h):t(p,y,l|c)}}return H_=f,H_}var K_,qO;function jl(){if(qO)return K_;qO=1;function t(e){return e}return K_=t,K_}var G_,zO;function lq(){if(zO)return G_;zO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return G_=t,G_}var X_,WO;function cq(){if(WO)return X_;WO=1;var t=Jx();function e(r){return function(n){return t(n,r)}}return X_=e,X_}var Y_,HO;function fq(){if(HO)return Y_;HO=1;var t=lq(),e=cq(),r=Hx(),n=tg();function i(o){return r(o)?t(n(o)):e(o)}return Y_=i,Y_}var Q_,KO;function ji(){if(KO)return Q_;KO=1;var t=iq(),e=uq(),r=jl(),n=Zr(),i=fq();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Q_=o,Q_}var J_,GO;function JM(){if(GO)return J_;GO=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return J_=t,J_}var Z_,XO;function dq(){if(XO)return Z_;XO=1;function t(e){return e!==e}return Z_=t,Z_}var eb,YO;function hq(){if(YO)return eb;YO=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return eb=t,eb}var tb,QO;function pq(){if(QO)return tb;QO=1;var t=JM(),e=dq(),r=hq();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return tb=n,tb}var rb,JO;function mq(){if(JO)return rb;JO=1;var t=pq();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return rb=e,rb}var nb,ZO;function gq(){if(ZO)return nb;ZO=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return nb=t,nb}var ib,eC;function vq(){if(eC)return ib;eC=1;function t(){}return ib=t,ib}var ob,tC;function yq(){if(tC)return ob;tC=1;var t=XM(),e=vq(),r=aE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return ob=i,ob}var ab,rC;function _q(){if(rC)return ab;rC=1;var t=FM(),e=mq(),r=gq(),n=UM(),i=yq(),o=aE(),s=200;function l(c,f,h){var p=-1,v=e,y=c.length,w=!0,x=[],b=x;if(h)w=!1,v=r;else if(y>=s){var A=f?null:i(c);if(A)return o(A);w=!1,v=n,b=new t}else b=f?[]:x;e:for(;++p<y;){var T=c[p],C=f?f(T):T;if(T=h||T!==0?T:0,w&&C===C){for(var j=b.length;j--;)if(b[j]===C)continue e;f&&b.push(C),x.push(T)}else v(b,C,h)||(b!==x&&b.push(C),x.push(T))}return x}return ab=l,ab}var sb,nC;function bq(){if(nC)return sb;nC=1;var t=ji(),e=_q();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return sb=r,sb}var wq=bq();const iC=ht(wq);function ZM(t,e,r){return e===!0?iC(t,r):Ue(e)?iC(t,e):t}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var xq=["ref"];function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tD(n.key),n)}}function Sq(t,e,r){return e&&aC(t.prototype,e),r&&aC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tq(t,e,r){return e=$p(e),Aq(t,eD()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function Aq(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pq(t)}function Pq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function Iq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l1(t,e)}function sg(t,e,r){return e=tD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tD(t){var e=Oq(t,"string");return Yu(e)=="symbol"?e:e+""}function Oq(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cq(t,e){if(t==null)return{};var r=kq(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rq(t){return t.value}function Nq(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=Cq(e,xq);return W.createElement(oE,r)}var sC=1,hs=function(t){function e(){var r;Eq(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Tq(this,e,[].concat(i)),sg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Iq(e,t),Sq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sC||Math.abs(i.height-this.lastBoundingBox.height)>sC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();v={top:((h||0)-w.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qi(Qi({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Qi(Qi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},Nq(o,Qi(Qi({},this.props),{},{payload:ZM(h,f,Rq)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Qi(Qi({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(q.PureComponent);sg(hs,"displayName","Legend");sg(hs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ub,uC;function jq(){if(uC)return ub;uC=1;var t=pd(),e=sE(),r=Zr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return ub=i,ub}var lb,lC;function rD(){if(lC)return lb;lC=1;var t=zM(),e=jq();function r(n,i,o,s,l){var c=-1,f=n.length;for(o||(o=e),l||(l=[]);++c<f;){var h=n[c];i>0&&o(h)?i>1?r(h,i-1,o,s,l):t(l,h):s||(l[l.length]=h)}return l}return lb=r,lb}var cb,cC;function Mq(){if(cC)return cb;cC=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),l=i(r),c=l.length;c--;){var f=l[e?c:++o];if(n(s[f],f,s)===!1)break}return r}}return cb=t,cb}var fb,fC;function Dq(){if(fC)return fb;fC=1;var t=Mq(),e=t();return fb=e,fb}var db,dC;function nD(){if(dC)return db;dC=1;var t=Dq(),e=ag();function r(n,i){return n&&t(n,i,e)}return db=r,db}var hb,hC;function Lq(){if(hC)return hb;hC=1;var t=md();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return hb=e,hb}var pb,pC;function fE(){if(pC)return pb;pC=1;var t=nD(),e=Lq(),r=e(t);return pb=r,pb}var mb,mC;function iD(){if(mC)return mb;mC=1;var t=fE(),e=md();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,f){s[++o]=i(l,c,f)}),s}return mb=r,mb}var gb,gC;function $q(){if(gC)return gb;gC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return gb=t,gb}var vb,vC;function Vq(){if(vC)return vb;vC=1;var t=Cl();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,l=t(r),c=n!==void 0,f=n===null,h=n===n,p=t(n);if(!f&&!p&&!l&&r>n||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!s)return 1;if(!o&&!l&&!p&&r<n||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return vb=e,vb}var yb,yC;function Fq(){if(yC)return yb;yC=1;var t=Vq();function e(r,n,i){for(var o=-1,s=r.criteria,l=n.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return r.index-n.index}return yb=e,yb}var _b,_C;function Bq(){if(_C)return _b;_C=1;var t=Qx(),e=Jx(),r=ji(),n=iD(),i=$q(),o=HM(),s=Fq(),l=jl(),c=Zr();function f(h,p,v){p.length?p=t(p,function(x){return c(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):p=[l];var y=-1;p=t(p,o(r));var w=n(h,function(x,b,A){var T=t(p,function(C){return C(x)});return{criteria:T,index:++y,value:x}});return i(w,function(x,b){return s(x,b,v)})}return _b=f,_b}var bb,bC;function Uq(){if(bC)return bb;bC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return bb=t,bb}var wb,wC;function qq(){if(wC)return wb;wC=1;var t=Uq(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=o(f),t(n,this,h)}}return wb=r,wb}var xb,xC;function zq(){if(xC)return xb;xC=1;function t(e){return function(){return e}}return xb=t,xb}var Eb,EC;function oD(){if(EC)return Eb;EC=1;var t=Cs(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Eb=e,Eb}var Sb,SC;function Wq(){if(SC)return Sb;SC=1;var t=zq(),e=oD(),r=jl(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Sb=n,Sb}var Tb,TC;function Hq(){if(TC)return Tb;TC=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Tb=n,Tb}var Ab,AC;function Kq(){if(AC)return Ab;AC=1;var t=Wq(),e=Hq(),r=e(t);return Ab=r,Ab}var Pb,PC;function Gq(){if(PC)return Pb;PC=1;var t=jl(),e=qq(),r=Kq();function n(i,o){return r(e(i,o,t),i+"")}return Pb=n,Pb}var Ib,IC;function ug(){if(IC)return Ib;IC=1;var t=Gx(),e=md(),r=uE(),n=wa();function i(o,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Ib=i,Ib}var Ob,OC;function Xq(){if(OC)return Ob;OC=1;var t=rD(),e=Bq(),r=Gq(),n=ug(),i=r(function(o,s){if(o==null)return[];var l=s.length;return l>1&&n(o,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Ob=i,Ob}var Yq=Xq();const dE=ht(Yq);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function Qq(t,e){return t9(t)||e9(t,e)||Zq(t,e)||Jq()}function Jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zq(t,e){if(t){if(typeof t=="string")return CC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(t,e)}}function CC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function t9(t){if(Array.isArray(t))return t}function kC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(r),!0).forEach(function(n){r9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r9(t,e,r){return e=n9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n9(t){var e=i9(t,"string");return bf(e)=="symbol"?e:e+""}function i9(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o9(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var a9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,v=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,x=e.label,b=e.labelFormatter,A=e.accessibilityLayer,T=A===void 0?!1:A,C=function(){if(h&&h.length){var F={padding:0,margin:0},D=(v?dE(h,v):h).map(function(Z,K){if(Z.type==="none")return null;var J=Cb({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},l),oe=Z.formatter||p||o9,Q=Z.value,se=Z.name,H=Q,U=se;if(oe&&H!=null&&U!=null){var G=oe(Q,se,Z,K,h);if(Array.isArray(G)){var ue=Qq(G,2);H=ue[0],U=ue[1]}else H=G}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:J},tr(U)?W.createElement("span",{className:"recharts-tooltip-item-name"},U):null,tr(U)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},H),W.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:F},D)}return null},j=Cb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),I=Cb({margin:0},f),N=!Xe(x),P=N?x:"",O=Ye("recharts-default-tooltip",y),R=Ye("recharts-tooltip-label",w);N&&b&&h!==void 0&&h!==null&&(P=b(x,h));var V=T?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",c1({className:O,style:j},V),W.createElement("p",{className:R,style:I},W.isValidElement(P)?P:"".concat(P)),C())};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Gh(t,e,r){return e=s9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s9(t){var e=u9(t,"string");return wf(e)=="symbol"?e:e+""}function u9(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc="recharts-tooltip-wrapper",l9={visibility:"hidden"};function c9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ye(Vc,Gh(Gh(Gh(Gh({},"".concat(Vc,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(Vc,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(Vc,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(Vc,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function RC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&be(o[n]))return o[n];var h=r[n]-l-i,p=r[n]+i;if(e[n])return s[n]?h:p;if(s[n]){var v=h,y=c[n];return v<y?Math.max(p,c[n]):Math.max(h,c[n])}var w=p+l,x=c[n]+f;return w>x?Math.max(h,c[n]):Math.max(p,c[n])}function f9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function d9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&r?(h=RC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=RC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=f9({translateX:h,translateY:p,useTranslate3d:l})):f=l9,{cssProperties:f,cssClasses:c9({translateX:h,translateY:p,coordinate:r})}}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){d1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sD(n.key),n)}}function m9(t,e,r){return e&&p9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g9(t,e,r){return e=Vp(e),v9(t,aD()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function v9(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y9(t)}function y9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function _9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function d1(t,e,r){return e=sD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sD(t){var e=b9(t,"string");return Qu(e)=="symbol"?e:e+""}function b9(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MC=1,w9=function(t){function e(){var r;h9(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=g9(this,e,[].concat(i)),d1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return _9(e,t),m9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MC||Math.abs(n.height-this.state.lastBoundingBox.height)>MC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,y=i.offset,w=i.position,x=i.reverseDirection,b=i.useTranslate3d,A=i.viewBox,T=i.wrapperStyle,C=d9({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:y,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:A}),j=C.cssClasses,I=C.cssProperties,N=jC(jC({transition:v&&o?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},T);return W.createElement("div",{tabIndex:-1,className:j,style:N,ref:function(O){n.wrapperNode=O}},f)}}])}(q.PureComponent),x9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ks={isSsr:x9()};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function DC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(r),!0).forEach(function(n){hE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lD(n.key),n)}}function T9(t,e,r){return e&&S9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A9(t,e,r){return e=Fp(e),P9(t,uD()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function P9(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9(t)}function I9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function O9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function hE(t,e,r){return e=lD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lD(t){var e=C9(t,"string");return Ju(e)=="symbol"?e:e+""}function C9(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k9(t){return t.dataKey}function R9(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(a9,e)}var fn=function(t){function e(){return E9(this,e),A9(this,e,arguments)}return O9(e,t),T9(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,v=i.isAnimationActive,y=i.offset,w=i.payload,x=i.payloadUniqBy,b=i.position,A=i.reverseDirection,T=i.useTranslate3d,C=i.viewBox,j=i.wrapperStyle,I=w??[];p&&I.length&&(I=ZM(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),x,k9));var N=I.length>0;return W.createElement(w9,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:o,coordinate:h,hasPayload:N,offset:y,position:b,reverseDirection:A,useTranslate3d:T,viewBox:C,wrapperStyle:j},R9(f,LC(LC({},this.props),{},{payload:I})))}}])}(q.PureComponent);hE(fn,"displayName","Tooltip");hE(fn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ks.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kb,$C;function N9(){if($C)return kb;$C=1;var t=Ni(),e=function(){return t.Date.now()};return kb=e,kb}var Rb,VC;function j9(){if(VC)return Rb;VC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Rb=e,Rb}var Nb,FC;function M9(){if(FC)return Nb;FC=1;var t=j9(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Nb=r,Nb}var jb,BC;function cD(){if(BC)return jb;BC=1;var t=M9(),e=wa(),r=Cl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return jb=c,jb}var Mb,UC;function D9(){if(UC)return Mb;UC=1;var t=wa(),e=N9(),r=cD(),n="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var h,p,v,y,w,x,b=0,A=!1,T=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(A=!!f.leading,T="maxWait"in f,v=T?i(r(f.maxWait)||0,c):v,C="trailing"in f?!!f.trailing:C);function j(D){var Z=h,K=p;return h=p=void 0,b=D,y=l.apply(K,Z),y}function I(D){return b=D,w=setTimeout(O,c),A?j(D):y}function N(D){var Z=D-x,K=D-b,J=c-Z;return T?o(J,v-K):J}function P(D){var Z=D-x,K=D-b;return x===void 0||Z>=c||Z<0||T&&K>=v}function O(){var D=e();if(P(D))return R(D);w=setTimeout(O,N(D))}function R(D){return w=void 0,C&&h?j(D):(h=p=void 0,y)}function V(){w!==void 0&&clearTimeout(w),b=0,h=x=p=w=void 0}function M(){return w===void 0?y:R(e())}function F(){var D=e(),Z=P(D);if(h=arguments,p=this,x=D,Z){if(w===void 0)return I(x);if(T)return clearTimeout(w),w=setTimeout(O,c),j(x)}return w===void 0&&(w=setTimeout(O,c)),y}return F.cancel=V,F.flush=M,F}return Mb=s,Mb}var Db,qC;function L9(){if(qC)return Db;qC=1;var t=D9(),e=wa(),r="Expected a function";function n(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Db=n,Db}var $9=L9();const fD=ht($9);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function zC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(r),!0).forEach(function(n){V9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V9(t,e,r){return e=F9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9(t){var e=B9(t,"string");return xf(e)=="symbol"?e:e+""}function B9(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U9(t,e){return H9(t)||W9(t,e)||z9(t,e)||q9()}function q9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(t,e){if(t){if(typeof t=="string")return WC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WC(t,e)}}function WC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function H9(t){if(Array.isArray(t))return t}var Yh=q.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,y=t.children,w=t.debounce,x=w===void 0?0:w,b=t.id,A=t.className,T=t.onResize,C=t.style,j=C===void 0?{}:C,I=q.useRef(null),N=q.useRef();N.current=T,q.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var P=q.useState({containerWidth:i.width,containerHeight:i.height}),O=U9(P,2),R=O[0],V=O[1],M=q.useCallback(function(D,Z){V(function(K){var J=Math.round(D),oe=Math.round(Z);return K.containerWidth===J&&K.containerHeight===oe?K:{containerWidth:J,containerHeight:oe}})},[]);q.useEffect(function(){var D=function(se){var H,U=se[0].contentRect,G=U.width,ue=U.height;M(G,ue),(H=N.current)===null||H===void 0||H.call(N,G,ue)};x>0&&(D=fD(D,x,{trailing:!0,leading:!1}));var Z=new ResizeObserver(D),K=I.current.getBoundingClientRect(),J=K.width,oe=K.height;return M(J,oe),Z.observe(I.current),function(){Z.disconnect()}},[M,x]);var F=q.useMemo(function(){var D=R.containerWidth,Z=R.containerHeight;if(D<0||Z<0)return null;ni(ss(s)||ss(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=ss(s)?D:s,J=ss(c)?Z:c;r&&r>0&&(K?J=K/r:J&&(K=J*r),v&&J>v&&(J=v)),ni(K>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,J,s,c,h,p,r);var oe=!Array.isArray(y)&&ao(y.type).endsWith("Chart");return W.Children.map(y,function(Q){return W.isValidElement(Q)?q.cloneElement(Q,Xh({width:K,height:J},oe?{style:Xh({height:"100%",width:"100%",maxHeight:J,maxWidth:K},Q.props.style)}:{})):Q})},[r,y,c,v,p,h,R,s]);return W.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",A),style:Xh(Xh({},j),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:v}),ref:I},F)}),lg=function(e){return null};lg.displayName="Cell";function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K9(t,e,r){return e=G9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G9(t){var e=X9(t,"string");return Ef(e)=="symbol"?e:e+""}function X9(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu={widthCache:{},cacheCount:0},Y9=2e3,Q9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KC="recharts_measurement_span";function J9(t){var e=p1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ks.isSsr)return{width:0,height:0};var n=J9(r),i=JSON.stringify({text:e,copyStyle:n});if(Pu.widthCache[i])return Pu.widthCache[i];try{var o=document.getElementById(KC);o||(o=document.createElement("span"),o.setAttribute("id",KC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=p1(p1({},Q9),n);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Pu.widthCache[i]=c,++Pu.cacheCount>Y9&&(Pu.cacheCount=0,Pu.widthCache={}),c}catch{return{width:0,height:0}}},Z9=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Bp(t,e){return nz(t)||rz(t,e)||tz(t,e)||ez()}function ez(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tz(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function nz(t){if(Array.isArray(t))return t}function iz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,az(n.key),n)}}function oz(t,e,r){return e&&XC(t.prototype,e),r&&XC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function az(t){var e=sz(t,"string");return Sf(e)=="symbol"?e:e+""}function sz(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cz=Object.keys(dD),ju="NaN";function fz(t,e){return t*dD[e]}var Qh=function(){function t(e,r){iz(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!uz.test(r)&&(this.num=NaN,this.unit=""),cz.includes(r)&&(this.num=fz(e,r),this.unit="px")}return oz(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=lz.exec(r))!==null&&n!==void 0?n:[],o=Bp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function hD(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=YC.exec(e))!==null&&r!==void 0?r:[],i=Bp(n,4),o=i[1],s=i[2],l=i[3],c=Qh.parse(o??""),f=Qh.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return ju;e=e.replace(YC,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=QC.exec(e))!==null&&p!==void 0?p:[],y=Bp(v,4),w=y[1],x=y[2],b=y[3],A=Qh.parse(w??""),T=Qh.parse(b??""),C=x==="+"?A.add(T):A.subtract(T);if(C.isNaN())return ju;e=e.replace(QC,C.toString())}return e}var JC=/\(([^()]*)\)/;function dz(t){for(var e=t;e.includes("(");){var r=JC.exec(e),n=Bp(r,2),i=n[1];e=e.replace(JC,hD(i))}return e}function hz(t){var e=t.replace(/\s+/g,"");return e=dz(e),e=hD(e),e}function pz(t){try{return hz(t)}catch{return ju}}function Lb(t){var e=pz(t.slice(5,-1));return e===ju?"":e}var mz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gz=["dx","dy","angle","className","breakAll"];function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function ZC(t,e){if(t==null)return{};var r=vz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ek(t,e){return wz(t)||bz(t,e)||_z(t,e)||yz()}function yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(t,e){if(t){if(typeof t=="string")return tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function wz(t){if(Array.isArray(t))return t}var pD=/[ \f\n\r\t\v\u2028\u2029]+/,mD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Xe(r)||(n?o=r.toString().split(""):o=r.toString().split(pD));var s=o.map(function(c){return{word:c,width:of(c,i).width}}),l=n?0:of(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},xz=function(e,r,n,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=be(s),p=l,v=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(J,oe){var Q=oe.word,se=oe.width,H=J[J.length-1];if(H&&(i==null||o||H.width+se+n<Number(i)))H.words.push(Q),H.width+=se+n;else{var U={words:[Q],width:se};J.push(U)}return J},[])},y=v(r),w=function(K){return K.reduce(function(J,oe){return J.width>oe.width?J:oe})};if(!h)return y;for(var x="…",b=function(K){var J=p.slice(0,K),oe=mD({breakAll:f,style:c,children:J+x}).wordsWithComputedWidth,Q=v(oe),se=Q.length>s||w(Q).width>Number(i);return[se,Q]},A=0,T=p.length-1,C=0,j;A<=T&&C<=p.length-1;){var I=Math.floor((A+T)/2),N=I-1,P=b(N),O=ek(P,2),R=O[0],V=O[1],M=b(I),F=ek(M,1),D=F[0];if(!R&&!D&&(A=I+1),R&&D&&(T=I-1),!R&&D){j=V;break}C++}return j||y},rk=function(e){var r=Xe(e)?[]:e.toString().split(pD);return[{words:r}]},Ez=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!ks.isSsr){var c,f,h=mD({breakAll:s,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,v=h.spaceWidth;c=p,f=v}else return rk(i);return xz({breakAll:s,children:i,maxLines:l,style:o},c,f,r,n)}return rk(i)},nk="#808080",bs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,v=e.textAnchor,y=v===void 0?"start":v,w=e.verticalAnchor,x=w===void 0?"end":w,b=e.fill,A=b===void 0?nk:b,T=ZC(e,mz),C=q.useMemo(function(){return Ez({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:p,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,p,T.style,T.width]),j=T.dx,I=T.dy,N=T.angle,P=T.className,O=T.breakAll,R=ZC(T,gz);if(!tr(n)||!tr(o))return null;var V=n+(be(j)?j:0),M=o+(be(I)?I:0),F;switch(x){case"start":F=Lb("calc(".concat(f,")"));break;case"middle":F=Lb("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:F=Lb("calc(".concat(C.length-1," * -").concat(l,")"));break}var D=[];if(p){var Z=C[0].width,K=T.width;D.push("scale(".concat((be(K)?K/Z:1)/Z,")"))}return N&&D.push("rotate(".concat(N,", ").concat(V,", ").concat(M,")")),D.length&&(R.transform=D.join(" ")),W.createElement("text",m1({},De(R,!0),{x:V,y:M,className:Ye("recharts-text",P),textAnchor:y,fill:A.includes("url")?nk:A}),C.map(function(J,oe){var Q=J.words.join(O?"":" ");return W.createElement("tspan",{x:V,dy:oe===0?F:l,key:"".concat(Q,"-").concat(oe)},Q)}))};function sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pE(t){let e,r,n;t.length!==2?(e=sa,r=(l,c)=>sa(t(l),c),n=(l,c)=>t(l)-c):(e=t===sa||t===Sz?t:Tz,r=t,n=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function Tz(){return 0}function gD(t){return t===null?NaN:+t}function*Az(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Pz=pE(sa),gd=Pz.right;pE(gD).center;class ik extends Map{constructor(e,r=Cz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(ok(this,e))}has(e){return super.has(ok(this,e))}set(e,r){return super.set(Iz(this,e),r)}delete(e){return super.delete(Oz(this,e))}}function ok({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Iz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Oz({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Cz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kz(t=sa){if(t===sa)return vD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Rz=Math.sqrt(50),Nz=Math.sqrt(10),jz=Math.sqrt(2);function Up(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Rz?10:o>=Nz?5:o>=jz?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?Up(t,e,r*2):[l,c,f]}function g1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Up(e,t,r):Up(t,e,r);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function v1(t,e,r){return e=+e,t=+t,r=+r,Up(t,e,r)[2]}function y1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?v1(e,t,r):v1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ak(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?vD:kz(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/c+v)),w=Math.min(n,Math.floor(e+(c-f)*p/c+v));yD(t,e,y,w,i)}const o=t[e];let s=r,l=n;for(Fc(t,r,e),i(t[n],o)>0&&Fc(t,r,n);s<l;){for(Fc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[r],o)===0?Fc(t,r,l):(++l,Fc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Fc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Mz(t,e,r){if(t=Float64Array.from(Az(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return sk(t);if(e>=1)return ak(t);var n,i=(n-1)*e,o=Math.floor(i),s=ak(yD(t,o).subarray(0,o+1)),l=sk(t.subarray(o+1));return s+(l-s)*(i-o)}}function Dz(t,e,r=gD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),l=+r(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function Lz(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _1=Symbol("implicit");function mE(){var t=new ik,e=[],r=[],n=_1;function i(o){let s=t.get(o);if(s===void 0){if(n!==_1)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ik;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mE(e,r).unknown(n)},jn.apply(i,arguments),i}function Tf(){var t=mE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,y=i<n,w=y?i:n,x=y?n:i;o=(x-w)/Math.max(1,v-c+f*2),l&&(o=Math.floor(o)),w+=(x-w-o*(v-c))*h,s=o*(1-c),l&&(w=Math.round(w),s=Math.round(s));var b=Lz(v).map(function(A){return w+o*A});return r(y?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return Tf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},jn.apply(p(),arguments)}function _D(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _D(e())},t}function af(){return _D(Tf.apply(null,arguments).paddingInner(1))}function gE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function bD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vd(){}var Af=.7,qp=1/Af,Bu="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$z=/^#([0-9a-f]{3,8})$/,Vz=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),Fz=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),Bz=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Pf}\\)$`),Uz=new RegExp(`^rgba\\(${wi},${wi},${wi},${Pf}\\)$`),qz=new RegExp(`^hsl\\(${Pf},${wi},${wi}\\)$`),zz=new RegExp(`^hsla\\(${Pf},${wi},${wi},${Pf}\\)$`),uk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gE(vd,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:lk,formatHex:lk,formatHex8:Wz,formatHsl:Hz,formatRgb:ck,toString:ck});function lk(){return this.rgb().formatHex()}function Wz(){return this.rgb().formatHex8()}function Hz(){return wD(this).formatHsl()}function ck(){return this.rgb().formatRgb()}function If(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=$z.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?fk(e):r===3?new Jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Vz.exec(t))?new Jr(e[1],e[2],e[3],1):(e=Fz.exec(t))?new Jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bz.exec(t))?Jh(e[1],e[2],e[3],e[4]):(e=Uz.exec(t))?Jh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qz.exec(t))?pk(e[1],e[2]/100,e[3]/100,1):(e=zz.exec(t))?pk(e[1],e[2]/100,e[3]/100,e[4]):uk.hasOwnProperty(t)?fk(uk[t]):t==="transparent"?new Jr(NaN,NaN,NaN,0):null}function fk(t){return new Jr(t>>16&255,t>>8&255,t&255,1)}function Jh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Jr(t,e,r,n)}function Kz(t){return t instanceof vd||(t=If(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function b1(t,e,r,n){return arguments.length===1?Kz(t):new Jr(t,e,r,n??1)}function Jr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gE(Jr,b1,bD(vd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jr(ps(this.r),ps(this.g),ps(this.b),zp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dk,formatHex:dk,formatHex8:Gz,formatRgb:hk,toString:hk}));function dk(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Gz(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function hk(){const t=zp(this.opacity);return`${t===1?"rgb(":"rgba("}${ps(this.r)}, ${ps(this.g)}, ${ps(this.b)}${t===1?")":`, ${t})`}`}function zp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function us(t){return t=ps(t),(t<16?"0":"")+t.toString(16)}function pk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,r,n)}function wD(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof vd||(t=If(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new Zn(s,l,c,t.opacity)}function Xz(t,e,r,n){return arguments.length===1?wD(t):new Zn(t,e,r,n??1)}function Zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gE(Zn,Xz,bD(vd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Jr($b(t>=240?t-240:t+120,i,n),$b(t,i,n),$b(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zn(mk(this.h),Zh(this.s),Zh(this.l),zp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zp(this.opacity);return`${t===1?"hsl(":"hsla("}${mk(this.h)}, ${Zh(this.s)*100}%, ${Zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mk(t){return t=(t||0)%360,t<0?t+360:t}function Zh(t){return Math.max(0,Math.min(1,t||0))}function $b(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vE=t=>()=>t;function Yz(t,e){return function(r){return t+r*e}}function Qz(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Jz(t){return(t=+t)==1?xD:function(e,r){return r-e?Qz(e,r,t):vE(isNaN(e)?r:e)}}function xD(t,e){var r=e-t;return r?Yz(t,r):vE(isNaN(t)?e:t)}const gk=function t(e){var r=Jz(e);function n(i,o){var s=r((i=b1(i)).r,(o=b1(o)).r),l=r(i.g,o.g),c=r(i.b,o.b),f=xD(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function Zz(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function e8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function t8(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Ml(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<n;++s)o[s]=i[s](l);return o}}function r8(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function n8(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ml(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var w1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vb=new RegExp(w1.source,"g");function i8(t){return function(){return t}}function o8(t){return function(e){return t(e)+""}}function a8(t,e){var r=w1.lastIndex=Vb.lastIndex=0,n,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=w1.exec(t))&&(i=Vb.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Wp(n,i)})),r=Vb.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?o8(c[0].x):i8(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function Ml(t,e){var r=typeof e,n;return e==null||r==="boolean"?vE(e):(r==="number"?Wp:r==="string"?(n=If(e))?(e=n,gk):a8:e instanceof If?gk:e instanceof Date?r8:e8(e)?Zz:Array.isArray(e)?t8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n8:Wp)(t,e)}function yE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function s8(t,e){e===void 0&&(e=t,t=Ml);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function u8(t){return function(){return t}}function Hp(t){return+t}var vk=[0,1];function Fr(t){return t}function x1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:u8(isNaN(e)?NaN:.5)}function l8(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function c8(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=x1(i,n),o=r(s,o)):(n=x1(n,i),o=r(o,s)),function(l){return o(n(l))}}function f8(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=x1(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=gd(t,l,1,n)-1;return o[c](i[c](l))}}function yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cg(){var t=vk,e=vk,r=Ml,n,i,o,s=Fr,l,c,f;function h(){var v=Math.min(t.length,e.length);return s!==Fr&&(s=l8(t[0],t[v-1])),l=v>2?f8:c8,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=l(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=l(e,t.map(n),Wp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Hp),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=yE,h()},p.clamp=function(v){return arguments.length?(s=v?!0:Fr,h()):s!==Fr},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,y){return n=v,i=y,h()}}function _E(){return cg()(Fr,Fr)}function d8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zu(t){return t=Kp(Math.abs(t)),t?t[1]:NaN}function h8(t,e){return function(r,n){for(var i=r.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function p8(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var m8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(t){if(!(e=m8.exec(t)))throw new Error("invalid format: "+t);var e;return new bE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Of.prototype=bE.prototype;function bE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g8(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ED;function v8(t,e){var r=Kp(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(ED=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Kp(t,Math.max(0,e+o-1))[0]}function yk(t,e){var r=Kp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const _k={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yk(t*100,e),r:yk,s:v8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bk(t){return t}var wk=Array.prototype.map,xk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function y8(t){var e=t.grouping===void 0||t.thousands===void 0?bk:h8(wk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?bk:p8(wk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Of(p);var v=p.fill,y=p.align,w=p.sign,x=p.symbol,b=p.zero,A=p.width,T=p.comma,C=p.precision,j=p.trim,I=p.type;I==="n"?(T=!0,I="g"):_k[I]||(C===void 0&&(C=12),j=!0,I="g"),(b||v==="0"&&y==="=")&&(b=!0,v="0",y="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=x==="$"?n:/[%p]/.test(I)?s:"",O=_k[I],R=/[defgprs%]/.test(I);C=C===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function V(M){var F=N,D=P,Z,K,J;if(I==="c")D=O(M)+D,M="";else{M=+M;var oe=M<0||1/M<0;if(M=isNaN(M)?c:O(Math.abs(M),C),j&&(M=g8(M)),oe&&+M==0&&w!=="+"&&(oe=!1),F=(oe?w==="("?w:l:w==="-"||w==="("?"":w)+F,D=(I==="s"?xk[8+ED/3]:"")+D+(oe&&w==="("?")":""),R){for(Z=-1,K=M.length;++Z<K;)if(J=M.charCodeAt(Z),48>J||J>57){D=(J===46?i+M.slice(Z+1):M.slice(Z))+D,M=M.slice(0,Z);break}}}T&&!b&&(M=e(M,1/0));var Q=F.length+M.length+D.length,se=Q<A?new Array(A-Q+1).join(v):"";switch(T&&b&&(M=e(se+M,se.length?A-D.length:1/0),se=""),y){case"<":M=F+M+D+se;break;case"=":M=F+se+M+D;break;case"^":M=se.slice(0,Q=se.length>>1)+F+M+D+se.slice(Q);break;default:M=se+F+M+D;break}return o(M)}return V.toString=function(){return p+""},V}function h(p,v){var y=f((p=Of(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Zu(v)/3)))*3,x=Math.pow(10,-w),b=xk[8+w/3];return function(A){return y(x*A)+b}}return{format:f,formatPrefix:h}}var ep,wE,SD;_8({thousands:",",grouping:[3],currency:["$",""]});function _8(t){return ep=y8(t),wE=ep.format,SD=ep.formatPrefix,ep}function b8(t){return Math.max(0,-Zu(Math.abs(t)))}function w8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function x8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function TD(t,e,r,n){var i=y1(t,e,r),o;switch(n=Of(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=w8(i,s))&&(n.precision=o),SD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=x8(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=b8(i))&&(n.precision=o-(n.type==="%")*2);break}}return wE(n)}function xa(t){var e=t.domain;return t.ticks=function(r){var n=e();return g1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return TD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],l=n[o],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=v1(s,l,r),f===c)return n[i]=s,n[o]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Gp(){var t=_E();return t.copy=function(){return yd(t,Gp())},jn.apply(t,arguments),xa(t)}function AD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Hp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return AD(t).unknown(e)},t=arguments.length?Array.from(t,Hp):[0,1],xa(r)}function PD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function Ek(t){return Math.log(t)}function Sk(t){return Math.exp(t)}function E8(t){return-Math.log(-t)}function S8(t){return-Math.exp(-t)}function T8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function A8(t){return t===10?T8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function P8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Tk(t){return(e,r)=>-t(-e,r)}function xE(t){const e=t(Ek,Sk),r=e.domain;let n=10,i,o;function s(){return i=P8(n),o=A8(n),r()[0]<0?(i=Tk(i),o=Tk(o),t(E8,S8)):t(Ek,Sk),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),y=i(h),w,x;const b=l==null?10:+l;let A=[];if(!(n%1)&&y-v<b){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<n;++w)if(x=v<0?w/o(-v):w*o(v),!(x<f)){if(x>h)break;A.push(x)}}else for(;v<=y;++v)for(w=n-1;w>=1;--w)if(x=v>0?w/o(-v):w*o(v),!(x<f)){if(x>h)break;A.push(x)}A.length*2<b&&(A=g1(f,h,b))}else A=g1(v,y,Math.min(y-v,b)).map(o);return p?A.reverse():A},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Of(c)).precision==null&&(c.trim=!0),c=wE(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(PD(r(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function ID(){const t=xE(cg()).domain([1,10]);return t.copy=()=>yd(t,ID()).base(t.base()),jn.apply(t,arguments),t}function Ak(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Pk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EE(t){var e=1,r=t(Ak(e),Pk(e));return r.constant=function(n){return arguments.length?t(Ak(e=+n),Pk(e)):e},xa(r)}function OD(){var t=EE(cg());return t.copy=function(){return yd(t,OD()).constant(t.constant())},jn.apply(t,arguments)}function Ik(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function I8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function O8(t){return t<0?-t*t:t*t}function SE(t){var e=t(Fr,Fr),r=1;function n(){return r===1?t(Fr,Fr):r===.5?t(I8,O8):t(Ik(r),Ik(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xa(e)}function TE(){var t=SE(cg());return t.copy=function(){return yd(t,TE()).exponent(t.exponent())},jn.apply(t,arguments),t}function C8(){return TE.apply(null,arguments).exponent(.5)}function Ok(t){return Math.sign(t)*t*t}function k8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CD(){var t=_E(),e=[0,1],r=!1,n;function i(o){var s=k8(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(Ok(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Hp)).map(Ok)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return CD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},jn.apply(i,arguments),xa(i)}function kD(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Dz(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:e[gd(r,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return kD().domain(t).range(e).unknown(n)},jn.apply(o,arguments)}function RD(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[gd(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return RD().domain([t,e]).range(i).unknown(o)},jn.apply(xa(s),arguments)}function ND(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[gd(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ND().domain(t).range(e).unknown(r)},jn.apply(i,arguments)}const Fb=new Date,Bb=new Date;function or(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>or(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Fb.setTime(+o),Bb.setTime(+s),t(Fb),t(Bb),Math.floor(r(Fb,Bb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Xp=or(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?or(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Xp);Xp.range;const eo=1e3,Cn=eo*60,to=Cn*60,fo=to*24,AE=fo*7,Ck=fo*30,Ub=fo*365,ls=or(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getUTCSeconds());ls.range;const PE=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getMinutes());PE.range;const IE=or(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Cn)},(t,e)=>(e-t)/Cn,t=>t.getUTCMinutes());IE.range;const OE=or(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo-t.getMinutes()*Cn)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getHours());OE.range;const CE=or(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCHours());CE.range;const _d=or(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/fo,t=>t.getDate()-1);_d.range;const fg=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>t.getUTCDate()-1);fg.range;const jD=or(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>Math.floor(t/fo));jD.range;function Rs(t){return or(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Cn)/AE)}const dg=Rs(0),Yp=Rs(1),R8=Rs(2),N8=Rs(3),el=Rs(4),j8=Rs(5),M8=Rs(6);dg.range;Yp.range;R8.range;N8.range;el.range;j8.range;M8.range;function Ns(t){return or(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AE)}const hg=Ns(0),Qp=Ns(1),D8=Ns(2),L8=Ns(3),tl=Ns(4),$8=Ns(5),V8=Ns(6);hg.range;Qp.range;D8.range;L8.range;tl.range;$8.range;V8.range;const kE=or(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kE.range;const RE=or(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RE.range;const ho=or(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ho.range;const po=or(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:or(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});po.range;function MD(t,e,r,n,i,o){const s=[[ls,1,eo],[ls,5,5*eo],[ls,15,15*eo],[ls,30,30*eo],[o,1,Cn],[o,5,5*Cn],[o,15,15*Cn],[o,30,30*Cn],[i,1,to],[i,3,3*to],[i,6,6*to],[i,12,12*to],[n,1,fo],[n,2,2*fo],[r,1,AE],[e,1,Ck],[e,3,3*Ck],[t,1,Ub]];function l(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:c(f,h,p),w=y?y.range(f,+h+1):[];return v?w.reverse():w}function c(f,h,p){const v=Math.abs(h-f)/p,y=pE(([,,b])=>b).right(s,v);if(y===s.length)return t.every(y1(f/Ub,h/Ub,p));if(y===0)return Xp.every(Math.max(y1(f,h,p),1));const[w,x]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(x)}return[l,c]}const[F8,B8]=MD(po,RE,hg,jD,CE,IE),[U8,q8]=MD(ho,kE,dg,_d,OE,PE);function qb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function z8(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=Uc(i),h=qc(i),p=Uc(o),v=qc(o),y=Uc(s),w=qc(s),x=Uc(l),b=qc(l),A=Uc(c),T=qc(c),C={a:oe,A:Q,b:se,B:H,c:null,d:Dk,e:Dk,f:h7,g:E7,G:T7,H:c7,I:f7,j:d7,L:DD,m:p7,M:m7,p:U,q:G,Q:Vk,s:Fk,S:g7,u:v7,U:y7,V:_7,w:b7,W:w7,x:null,X:null,y:x7,Y:S7,Z:A7,"%":$k},j={a:ue,A:ve,b:ie,B:ce,c:null,d:Lk,e:Lk,f:C7,g:F7,G:U7,H:P7,I:I7,j:O7,L:$D,m:k7,M:R7,p:pe,q:Se,Q:Vk,s:Fk,S:N7,u:j7,U:M7,V:D7,w:L7,W:$7,x:null,X:null,y:V7,Y:B7,Z:q7,"%":$k},I={a:V,A:M,b:F,B:D,c:Z,d:jk,e:jk,f:a7,g:Nk,G:Rk,H:Mk,I:Mk,j:r7,L:o7,m:t7,M:n7,p:R,q:e7,Q:u7,s:l7,S:i7,u:X8,U:Y8,V:Q8,w:G8,W:J8,x:K,X:J,y:Nk,Y:Rk,Z:Z8,"%":s7};C.x=N(r,C),C.X=N(n,C),C.c=N(e,C),j.x=N(r,j),j.X=N(n,j),j.c=N(e,j);function N(de,Te){return function(xe){var te=[],Me=-1,Ae=0,ke=de.length,He,at,st;for(xe instanceof Date||(xe=new Date(+xe));++Me<ke;)de.charCodeAt(Me)===37&&(te.push(de.slice(Ae,Me)),(at=kk[He=de.charAt(++Me)])!=null?He=de.charAt(++Me):at=He==="e"?" ":"0",(st=Te[He])&&(He=st(xe,at)),te.push(He),Ae=Me+1);return te.push(de.slice(Ae,Me)),te.join("")}}function P(de,Te){return function(xe){var te=Bc(1900,void 0,1),Me=O(te,de,xe+="",0),Ae,ke;if(Me!=xe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Te&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Ae=zb(Bc(te.y,0,1)),ke=Ae.getUTCDay(),Ae=ke>4||ke===0?Qp.ceil(Ae):Qp(Ae),Ae=fg.offset(Ae,(te.V-1)*7),te.y=Ae.getUTCFullYear(),te.m=Ae.getUTCMonth(),te.d=Ae.getUTCDate()+(te.w+6)%7):(Ae=qb(Bc(te.y,0,1)),ke=Ae.getDay(),Ae=ke>4||ke===0?Yp.ceil(Ae):Yp(Ae),Ae=_d.offset(Ae,(te.V-1)*7),te.y=Ae.getFullYear(),te.m=Ae.getMonth(),te.d=Ae.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),ke="Z"in te?zb(Bc(te.y,0,1)).getUTCDay():qb(Bc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(ke+5)%7:te.w+te.U*7-(ke+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,zb(te)):qb(te)}}function O(de,Te,xe,te){for(var Me=0,Ae=Te.length,ke=xe.length,He,at;Me<Ae;){if(te>=ke)return-1;if(He=Te.charCodeAt(Me++),He===37){if(He=Te.charAt(Me++),at=I[He in kk?Te.charAt(Me++):He],!at||(te=at(de,xe,te))<0)return-1}else if(He!=xe.charCodeAt(te++))return-1}return te}function R(de,Te,xe){var te=f.exec(Te.slice(xe));return te?(de.p=h.get(te[0].toLowerCase()),xe+te[0].length):-1}function V(de,Te,xe){var te=y.exec(Te.slice(xe));return te?(de.w=w.get(te[0].toLowerCase()),xe+te[0].length):-1}function M(de,Te,xe){var te=p.exec(Te.slice(xe));return te?(de.w=v.get(te[0].toLowerCase()),xe+te[0].length):-1}function F(de,Te,xe){var te=A.exec(Te.slice(xe));return te?(de.m=T.get(te[0].toLowerCase()),xe+te[0].length):-1}function D(de,Te,xe){var te=x.exec(Te.slice(xe));return te?(de.m=b.get(te[0].toLowerCase()),xe+te[0].length):-1}function Z(de,Te,xe){return O(de,e,Te,xe)}function K(de,Te,xe){return O(de,r,Te,xe)}function J(de,Te,xe){return O(de,n,Te,xe)}function oe(de){return s[de.getDay()]}function Q(de){return o[de.getDay()]}function se(de){return c[de.getMonth()]}function H(de){return l[de.getMonth()]}function U(de){return i[+(de.getHours()>=12)]}function G(de){return 1+~~(de.getMonth()/3)}function ue(de){return s[de.getUTCDay()]}function ve(de){return o[de.getUTCDay()]}function ie(de){return c[de.getUTCMonth()]}function ce(de){return l[de.getUTCMonth()]}function pe(de){return i[+(de.getUTCHours()>=12)]}function Se(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Te=N(de+="",C);return Te.toString=function(){return de},Te},parse:function(de){var Te=P(de+="",!1);return Te.toString=function(){return de},Te},utcFormat:function(de){var Te=N(de+="",j);return Te.toString=function(){return de},Te},utcParse:function(de){var Te=P(de+="",!0);return Te.toString=function(){return de},Te}}}var kk={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,W8=/^%/,H8=/[\\^$*+?|[\]().{}]/g;function lt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function K8(t){return t.replace(H8,"\\$&")}function Uc(t){return new RegExp("^(?:"+t.map(K8).join("|")+")","i")}function qc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function G8(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function X8(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Y8(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Q8(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function J8(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Rk(t,e,r){var n=hr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Nk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Z8(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function e7(t,e,r){var n=hr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function t7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function jk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function r7(t,e,r){var n=hr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Mk(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function n7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function i7(t,e,r){var n=hr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function o7(t,e,r){var n=hr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function a7(t,e,r){var n=hr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function s7(t,e,r){var n=W8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function u7(t,e,r){var n=hr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function l7(t,e,r){var n=hr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Dk(t,e){return lt(t.getDate(),e,2)}function c7(t,e){return lt(t.getHours(),e,2)}function f7(t,e){return lt(t.getHours()%12||12,e,2)}function d7(t,e){return lt(1+_d.count(ho(t),t),e,3)}function DD(t,e){return lt(t.getMilliseconds(),e,3)}function h7(t,e){return DD(t,e)+"000"}function p7(t,e){return lt(t.getMonth()+1,e,2)}function m7(t,e){return lt(t.getMinutes(),e,2)}function g7(t,e){return lt(t.getSeconds(),e,2)}function v7(t){var e=t.getDay();return e===0?7:e}function y7(t,e){return lt(dg.count(ho(t)-1,t),e,2)}function LD(t){var e=t.getDay();return e>=4||e===0?el(t):el.ceil(t)}function _7(t,e){return t=LD(t),lt(el.count(ho(t),t)+(ho(t).getDay()===4),e,2)}function b7(t){return t.getDay()}function w7(t,e){return lt(Yp.count(ho(t)-1,t),e,2)}function x7(t,e){return lt(t.getFullYear()%100,e,2)}function E7(t,e){return t=LD(t),lt(t.getFullYear()%100,e,2)}function S7(t,e){return lt(t.getFullYear()%1e4,e,4)}function T7(t,e){var r=t.getDay();return t=r>=4||r===0?el(t):el.ceil(t),lt(t.getFullYear()%1e4,e,4)}function A7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function Lk(t,e){return lt(t.getUTCDate(),e,2)}function P7(t,e){return lt(t.getUTCHours(),e,2)}function I7(t,e){return lt(t.getUTCHours()%12||12,e,2)}function O7(t,e){return lt(1+fg.count(po(t),t),e,3)}function $D(t,e){return lt(t.getUTCMilliseconds(),e,3)}function C7(t,e){return $D(t,e)+"000"}function k7(t,e){return lt(t.getUTCMonth()+1,e,2)}function R7(t,e){return lt(t.getUTCMinutes(),e,2)}function N7(t,e){return lt(t.getUTCSeconds(),e,2)}function j7(t){var e=t.getUTCDay();return e===0?7:e}function M7(t,e){return lt(hg.count(po(t)-1,t),e,2)}function VD(t){var e=t.getUTCDay();return e>=4||e===0?tl(t):tl.ceil(t)}function D7(t,e){return t=VD(t),lt(tl.count(po(t),t)+(po(t).getUTCDay()===4),e,2)}function L7(t){return t.getUTCDay()}function $7(t,e){return lt(Qp.count(po(t)-1,t),e,2)}function V7(t,e){return lt(t.getUTCFullYear()%100,e,2)}function F7(t,e){return t=VD(t),lt(t.getUTCFullYear()%100,e,2)}function B7(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function U7(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tl(t):tl.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function q7(){return"+0000"}function $k(){return"%"}function Vk(t){return+t}function Fk(t){return Math.floor(+t/1e3)}var Iu,FD,BD;z7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function z7(t){return Iu=z8(t),FD=Iu.format,Iu.parse,BD=Iu.utcFormat,Iu.utcParse,Iu}function W7(t){return new Date(t)}function H7(t){return t instanceof Date?+t:+new Date(+t)}function NE(t,e,r,n,i,o,s,l,c,f){var h=_E(),p=h.invert,v=h.domain,y=f(".%L"),w=f(":%S"),x=f("%I:%M"),b=f("%I %p"),A=f("%a %d"),T=f("%b %d"),C=f("%B"),j=f("%Y");function I(N){return(c(N)<N?y:l(N)<N?w:s(N)<N?x:o(N)<N?b:n(N)<N?i(N)<N?A:T:r(N)<N?C:j)(N)}return h.invert=function(N){return new Date(p(N))},h.domain=function(N){return arguments.length?v(Array.from(N,H7)):v().map(W7)},h.ticks=function(N){var P=v();return t(P[0],P[P.length-1],N??10)},h.tickFormat=function(N,P){return P==null?I:f(P)},h.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?v(PD(P,N)):h},h.copy=function(){return yd(h,NE(t,e,r,n,i,o,s,l,c,f))},h}function K7(){return jn.apply(NE(U8,q8,ho,kE,dg,_d,OE,PE,ls,FD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G7(){return jn.apply(NE(F8,B8,po,RE,hg,fg,CE,IE,ls,BD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pg(){var t=0,e=1,r,n,i,o,s=Fr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(v){var y,w;return arguments.length?([y,w]=v,s=p(y,w),f):[s(0),s(1)]}}return f.range=h(Ml),f.rangeRound=h(yE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Ea(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UD(){var t=xa(pg()(Fr));return t.copy=function(){return Ea(t,UD())},xo.apply(t,arguments)}function qD(){var t=xE(pg()).domain([1,10]);return t.copy=function(){return Ea(t,qD()).base(t.base())},xo.apply(t,arguments)}function zD(){var t=EE(pg());return t.copy=function(){return Ea(t,zD()).constant(t.constant())},xo.apply(t,arguments)}function jE(){var t=SE(pg());return t.copy=function(){return Ea(t,jE()).exponent(t.exponent())},xo.apply(t,arguments)}function X7(){return jE.apply(null,arguments).exponent(.5)}function WD(){var t=[],e=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return e((gd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Mz(t,o/n))},r.copy=function(){return WD(e).domain(t)},xo.apply(r,arguments)}function mg(){var t=0,e=.5,r=1,n=1,i,o,s,l,c,f=Fr,h,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+h(x))-o)*(n*x<n*o?l:c),f(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,r]=x,i=h(t=+t),o=h(e=+e),s=h(r=+r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(f=x,y):f};function w(x){return function(b){var A,T,C;return arguments.length?([A,T,C]=b,f=s8(x,[A,T,C]),y):[f(0),f(.5),f(1)]}}return y.range=w(Ml),y.rangeRound=w(yE),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return h=x,i=x(t),o=x(e),s=x(r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y}}function HD(){var t=xa(mg()(Fr));return t.copy=function(){return Ea(t,HD())},xo.apply(t,arguments)}function KD(){var t=xE(mg()).domain([.1,1,10]);return t.copy=function(){return Ea(t,KD()).base(t.base())},xo.apply(t,arguments)}function GD(){var t=EE(mg());return t.copy=function(){return Ea(t,GD()).constant(t.constant())},xo.apply(t,arguments)}function ME(){var t=SE(mg());return t.copy=function(){return Ea(t,ME()).exponent(t.exponent())},xo.apply(t,arguments)}function Y7(){return ME.apply(null,arguments).exponent(.5)}const Bk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tf,scaleDiverging:HD,scaleDivergingLog:KD,scaleDivergingPow:ME,scaleDivergingSqrt:Y7,scaleDivergingSymlog:GD,scaleIdentity:AD,scaleImplicit:_1,scaleLinear:Gp,scaleLog:ID,scaleOrdinal:mE,scalePoint:af,scalePow:TE,scaleQuantile:kD,scaleQuantize:RD,scaleRadial:CD,scaleSequential:UD,scaleSequentialLog:qD,scaleSequentialPow:jE,scaleSequentialQuantile:WD,scaleSequentialSqrt:X7,scaleSequentialSymlog:zD,scaleSqrt:C8,scaleSymlog:OD,scaleThreshold:ND,scaleTime:K7,scaleUtc:G7,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var Wb,Uk;function gg(){if(Uk)return Wb;Uk=1;var t=Cl();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var l=r[o],c=n(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return Wb=e,Wb}var Hb,qk;function XD(){if(qk)return Hb;qk=1;function t(e,r){return e>r}return Hb=t,Hb}var Kb,zk;function Q7(){if(zk)return Kb;zk=1;var t=gg(),e=XD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Kb=n,Kb}var J7=Q7();const ia=ht(J7);var Gb,Wk;function YD(){if(Wk)return Gb;Wk=1;function t(e,r){return e<r}return Gb=t,Gb}var Xb,Hk;function Z7(){if(Hk)return Xb;Hk=1;var t=gg(),e=YD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Xb=n,Xb}var eW=Z7();const vg=ht(eW);var Yb,Kk;function tW(){if(Kk)return Yb;Kk=1;var t=Qx(),e=ji(),r=iD(),n=Zr();function i(o,s){var l=n(o)?t:r;return l(o,e(s,3))}return Yb=i,Yb}var Qb,Gk;function rW(){if(Gk)return Qb;Gk=1;var t=rD(),e=tW();function r(n,i){return t(e(n,i),1)}return Qb=r,Qb}var nW=rW();const iW=ht(nW);var Jb,Xk;function oW(){if(Xk)return Jb;Xk=1;var t=cE();function e(r,n){return t(r,n)}return Jb=e,Jb}var aW=oW();const rl=ht(aW);var Dl=1e9,sW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LE,Ct=!0,Nn="[DecimalError] ",ms=Nn+"Invalid argument: ",DE=Nn+"Exponent out of range: ",Ll=Math.floor,is=Math.pow,uW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,cr=1e7,Pt=7,QD=9007199254740991,Jp=Ll(QD/Pt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return so(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return _t(so(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return Wt(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hn))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(Ct=!1,e=so(Cf(r,o),Cf(t,o),o),Ct=!0,_t(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eL(e,t):JD(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Nn+"NaN");return r.s?(Ct=!1,e=so(r,t,0,1).times(t),Ct=!0,r.minus(e)):_t(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return ZD(this)};Ce.naturalLogarithm=Ce.ln=function(){return Cf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JD(e,t):eL(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ms+t);if(e=Wt(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Nn+"NaN")}for(t=Wt(l),Ct=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=_i(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ll((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(o=n,n=o.plus(so(l,o,s+2)).times(.5),_i(o.d).slice(0,s)===(e=_i(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_t(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(e!="9999")break;s+=4}return Ct=!0,_t(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,o,s,l,c,f,h=this,p=h.constructor,v=h.d,y=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=y.length,c<f&&(o=v,v=y,y=o,s=c,c=f,f=s),o=[],s=c+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=o[i]+y[n]*v[i-n-1]+e,o[i--]=l%cr|0,e=l/cr|0;o[i]=(o[i]+e)%cr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ct?_t(t,p.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ii(t,0,Dl),e===void 0?e=n.rounding:Ii(e,0,8),_t(r,t+Wt(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ws(n,!0):(Ii(t,0,Dl),e===void 0?e=i.rounding:Ii(e,0,8),n=_t(new i(n),t+1,e),r=ws(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ws(i):(Ii(t,0,Dl),e===void 0?e=o.rounding:Ii(e,0,8),n=_t(new o(i),t+Wt(i)+1,e),r=ws(n.abs(),!1,t+Wt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return _t(new e(t),Wt(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,o,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(hn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Nn+"Infinity");return l}if(l.eq(hn))return l;if(n=c.precision,t.eq(hn))return _t(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=l.s,s){if((r=h<0?-h:h)<=QD){for(i=new c(hn),e=Math.ceil(n/Pt+4),Ct=!1;r%2&&(i=i.times(l),Qk(i.d,e)),r=Ll(r/2),r!==0;)l=l.times(l),Qk(l.d,e);return Ct=!0,t.s<0?new c(hn).div(i):_t(i,n)}}else if(o<0)throw Error(Nn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ct=!1,i=t.times(Cf(l,n+f)),Ct=!0,i=ZD(i),i.s=o,i};Ce.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Wt(i),n=ws(i,r<=o.toExpNeg||r>=o.toExpPos)):(Ii(t,1,Dl),e===void 0?e=o.rounding:Ii(e,0,8),i=_t(new o(i),t,e),r=Wt(i),n=ws(i,t<=r||r<=o.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ii(t,1,Dl),e===void 0?e=n.rounding:Ii(e,0,8)),_t(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Wt(t),r=t.constructor;return ws(t,e<=r.toExpNeg||e>=r.toExpPos)};function JD(t,e){var r,n,i,o,s,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ct?_t(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(n=c,o=-o,l=f.length):(n=f,i=s,l=c.length),s=Math.ceil(p/Pt),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/cr|0,c[o]%=cr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ct?_t(e,p):e}function Ii(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ms+t)}function _i(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=Pt-n.length,r&&(o+=Jo(r)),o+=n;s=t[e],n=s+"",r=Pt-n.length,r&&(o+=Jo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var so=function(){function t(n,i){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%cr|0,s=o/cr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*cr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var l,c,f,h,p,v,y,w,x,b,A,T,C,j,I,N,P,O,R=n.constructor,V=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Nn+"Division by zero");for(c=n.e-i.e,P=F.length,I=M.length,y=new R(V),w=y.d=[],f=0;F[f]==(M[f]||0);)++f;if(F[f]>(M[f]||0)&&--c,o==null?T=o=R.precision:s?T=o+(Wt(n)-Wt(i))+1:T=o,T<0)return new R(0);if(T=T/Pt+2|0,f=0,P==1)for(h=0,F=F[0],T++;(f<I||h)&&T--;f++)C=h*cr+(M[f]||0),w[f]=C/F|0,h=C%F|0;else{for(h=cr/(F[0]+1)|0,h>1&&(F=t(F,h),M=t(M,h),P=F.length,I=M.length),j=P,x=M.slice(0,P),b=x.length;b<P;)x[b++]=0;O=F.slice(),O.unshift(0),N=F[0],F[1]>=cr/2&&++N;do h=0,l=e(F,x,P,b),l<0?(A=x[0],P!=b&&(A=A*cr+(x[1]||0)),h=A/N|0,h>1?(h>=cr&&(h=cr-1),p=t(F,h),v=p.length,b=x.length,l=e(p,x,v,b),l==1&&(h--,r(p,P<v?O:F,v))):(h==0&&(l=h=1),p=F.slice()),v=p.length,v<b&&p.unshift(0),r(x,p,b),l==-1&&(b=x.length,l=e(F,x,P,b),l<1&&(h++,r(x,P<b?O:F,b))),b=x.length):l===0&&(h++,x=[0]),w[f++]=h,l&&x[0]?x[b++]=M[j]||0:(x=[M[j]],b=1);while((j++<I||x[0]!==void 0)&&T--)}return w[0]||w.shift(),y.e=c,_t(y,s?o+Wt(y)+1:o)}}();function ZD(t,e){var r,n,i,o,s,l,c=0,f=0,h=t.constructor,p=h.precision;if(Wt(t)>16)throw Error(DE+Wt(t));if(!t.s)return new h(hn);for(Ct=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(is(2,f))/Math.LN10*2+5|0,l+=n,r=i=o=new h(hn),h.precision=l;;){if(i=_t(i.times(t),l),r=r.times(++c),s=o.plus(so(i,r,l)),_i(s.d).slice(0,l)===_i(o.d).slice(0,l)){for(;f--;)o=_t(o.times(o),l);return h.precision=p,e==null?(Ct=!0,_t(o,p)):o}o=s}}function Wt(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function Zb(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(Nn+"LN10 precision limit exceeded");return _t(new t(t.LN10),e)}function Jo(t){for(var e="";t--;)e+="0";return e}function Cf(t,e){var r,n,i,o,s,l,c,f,h,p=1,v=10,y=t,w=y.d,x=y.constructor,b=x.precision;if(y.s<1)throw Error(Nn+(y.s?"NaN":"-Infinity"));if(y.eq(hn))return new x(0);if(e==null?(Ct=!1,f=b):f=e,y.eq(10))return e==null&&(Ct=!0),Zb(x,f);if(f+=v,x.precision=f,r=_i(w),n=r.charAt(0),o=Wt(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=_i(y.d),n=r.charAt(0),p++;o=Wt(y),n>1?(y=new x("0."+r),o++):y=new x(n+"."+r.slice(1))}else return c=Zb(x,f+2,b).times(o+""),y=Cf(new x(n+"."+r.slice(1)),f-v).plus(c),x.precision=b,e==null?(Ct=!0,_t(y,b)):y;for(l=s=y=so(y.minus(hn),y.plus(hn),f),h=_t(y.times(y),f),i=3;;){if(s=_t(s.times(h),f),c=l.plus(so(s,new x(i),f)),_i(c.d).slice(0,f)===_i(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(Zb(x,f+2,b).times(o+""))),l=so(l,new x(p),f),x.precision=b,e==null?(Ct=!0,_t(l,b)):l;l=c,i+=2}}function Yk(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ll(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pt;n<i;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>Jp||t.e<-Jp))throw Error(DE+r)}else t.s=0,t.e=0,t.d=[0];return t}function _t(t,e,r){var n,i,o,s,l,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=Pt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Pt),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;n%=Pt,i=n-Pt+s}if(r!==void 0&&(o=is(10,s-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/is(10,s-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=Wt(t),p.length=1,e=e-o-1,p[0]=is(10,(Pt-e%Pt)%Pt),t.e=Ll(-e/Pt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,o=1,h--):(p.length=h+1,o=is(10,Pt-n),p[h]=i>0?(f/is(10,s-i)%is(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==cr&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=cr)break;p[h--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Ct&&(t.e>Jp||t.e<-Jp))throw Error(DE+Wt(t));return t}function eL(t,e){var r,n,i,o,s,l,c,f,h,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ct?_t(e,y):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(y/Pt),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=cr-1;--c[o],c[i]+=cr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ct?_t(e,y):e):new v(0)}function ws(t,e,r){var n,i=Wt(t),o=_i(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Jo(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Jo(-i-1)+o,r&&(n=r-s)>0&&(o+=Jo(n))):i>=s?(o+=Jo(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Jo(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Jo(n))),t.s<0?"-"+o:o}function Qk(t,e){if(t.length>e)return t.length=e,!0}function tL(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ms+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Yk(s,o.toString())}else if(typeof o!="string")throw Error(ms+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,uW.test(o))Yk(s,o);else throw Error(ms+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tL,i.config=i.set=lW,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function lW(t){if(!t||typeof t!="object")throw Error(Nn+"Object expected");var e,r,n,i=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ll(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ms+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ms+r+": "+n);return this}var LE=tL(sW);hn=new LE(1);const vt=LE;function cW(t){return pW(t)||hW(t)||dW(t)||fW()}function fW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return E1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(t,e)}}function hW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pW(t){if(Array.isArray(t))return E1(t)}function E1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mW=function(e){return e},rL={},nL=function(e){return e===rL},Jk=function(e){return function r(){return arguments.length===0||arguments.length===1&&nL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},gW=function t(e,r){return e===1?r:Jk(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==rL}).length;return s>=e?r.apply(void 0,i):t(e-s,Jk(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return nL(p)?c.shift():p});return r.apply(void 0,cW(h).concat(c))}))})},yg=function(e){return gW(e.length,e)},S1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},vW=yg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),yW=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return mW;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},T1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function _W(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function bW(t,e,r){for(var n=new vt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var wW=yg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),xW=yg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),EW=yg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const _g={rangeStep:bW,getDigitCount:_W,interpolateNumber:wW,uninterpolateNumber:xW,uninterpolateTruncation:EW};function A1(t){return AW(t)||TW(t)||oL(t)||SW()}function SW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AW(t){if(Array.isArray(t))return P1(t)}function kf(t,e){return OW(t)||IW(t,e)||oL(t,e)||PW()}function PW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oL(t,e){if(t){if(typeof t=="string")return P1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(t,e)}}function P1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function OW(t){if(Array.isArray(t))return t}function aL(t){var e=kf(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function sL(t,e,r){if(t.lte(0))return new vt(0);var n=_g.getDigitCount(t.toNumber()),i=new vt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,l=new vt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?c:new vt(Math.ceil(c))}function CW(t,e,r){var n=1,i=new vt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new vt(10).pow(_g.getDigitCount(t)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):r||(i=new vt(Math.floor(t)));var s=Math.floor((e-1)/2),l=yW(vW(function(c){return i.add(new vt(c-s).mul(n)).toNumber()}),S1);return l(0,e)}function uL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var o=sL(new vt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new vt(0):(s=new vt(t).add(e).div(2),s=s.sub(new vt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new vt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>r?uL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,l=e>0?l:l+(r-f)),{step:o,tickMin:s.sub(new vt(l).mul(o)),tickMax:s.add(new vt(c).mul(o))})}function kW(t){var e=kf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=aL([r,n]),c=kf(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(A1(S1(0,i-1).map(function(){return 1/0}))):[].concat(A1(S1(0,i-1).map(function(){return-1/0})),[h]);return r>n?T1(p):p}if(f===h)return CW(f,i,o);var v=uL(f,h,s,o),y=v.step,w=v.tickMin,x=v.tickMax,b=_g.rangeStep(w,x.add(new vt(.1).mul(y)),y);return r>n?T1(b):b}function RW(t,e){var r=kf(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aL([n,i]),l=kf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),p=sL(new vt(f).sub(c).div(h-1),o,0),v=[].concat(A1(_g.rangeStep(new vt(c),new vt(f).sub(new vt(.99).mul(p)),p)),[f]);return n>i?T1(v):v}var NW=iL(kW),jW=iL(RW),MW="Invariant failed";function xs(t,e){throw new Error(MW)}var DW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(this,arguments)}function LW(t,e){return BW(t)||FW(t,e)||VW(t,e)||$W()}function $W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(t,e){if(t){if(typeof t=="string")return Zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(t,e)}}function Zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function BW(t){if(Array.isArray(t))return t}function UW(t,e){if(t==null)return{};var r=qW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fL(n.key),n)}}function HW(t,e,r){return e&&WW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KW(t,e,r){return e=em(e),GW(t,lL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function GW(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XW(t)}function XW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function YW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I1(t,e)}function cL(t,e,r){return e=fL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fL(t){var e=QW(t,"string");return nl(e)=="symbol"?e:e+""}function QW(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bg=function(t){function e(){return zW(this,e),KW(this,e,arguments)}return YW(e,t),HW(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,l=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,v=UW(n,DW),y=De(v,!1);this.props.direction==="x"&&h.type!=="number"&&xs();var w=c.map(function(x){var b=f(x,l),A=b.x,T=b.y,C=b.value,j=b.errorVal;if(!j)return null;var I=[],N,P;if(Array.isArray(j)){var O=LW(j,2);N=O[0],P=O[1]}else N=P=j;if(o==="vertical"){var R=h.scale,V=T+i,M=V+s,F=V-s,D=R(C-N),Z=R(C+P);I.push({x1:Z,y1:M,x2:Z,y2:F}),I.push({x1:D,y1:V,x2:Z,y2:V}),I.push({x1:D,y1:M,x2:D,y2:F})}else if(o==="horizontal"){var K=p.scale,J=A+i,oe=J-s,Q=J+s,se=K(C-N),H=K(C+P);I.push({x1:oe,y1:H,x2:Q,y2:H}),I.push({x1:J,y1:se,x2:J,y2:H}),I.push({x1:oe,y1:se,x2:Q,y2:se})}return W.createElement(it,Zp({className:"recharts-errorBar",key:"bar-".concat(I.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},y),I.map(function(U){return W.createElement("line",Zp({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return W.createElement(it,{className:"recharts-errorBars"},w)}}])}(W.Component);cL(bg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});cL(bg,"displayName","ErrorBar");function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){JW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JW(t,e,r){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZW(t){var e=eH(t,"string");return Rf(e)=="symbol"?e:e+""}function eH(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=cn(r,hs);if(!s)return null;var l=hs.defaultProps,c=l!==void 0?es(es({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(n||[]).reduce(function(h,p){var v=p.item,y=p.props,w=y.sectors||y.data||[];return h.concat(w.map(function(x){return{type:s.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(h){var p=h.item,v=p.type.defaultProps,y=v!==void 0?es(es({},v),p.props):{},w=y.dataKey,x=y.name,b=y.legendType,A=y.hide;return{inactive:A,dataKey:w,type:c.iconType||b||"square",color:$E(p),value:x||w,payload:y}}),es(es(es({},c),hs.getWithHeight(s,i)),{},{payload:f,item:s})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function tR(t){return iH(t)||nH(t)||rH(t)||tH()}function tH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function nH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iH(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){Uu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uu(t,e,r){return e=oH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oH(t){var e=aH(t,"string");return Nf(e)=="symbol"?e:e+""}function aH(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zt(t,e,r){return Xe(t)||Xe(e)?r:tr(e)?pn(t,e,r):Ue(e)?e(t):r}function sf(t,e,r,n){var i=iW(t,function(l){return Zt(l,e)});if(r==="number"){var o=i.filter(function(l){return be(l)||parseFloat(l)});return o.length?[vg(o),ia(o)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Xe(l)}):i;return s.map(function(l){return tr(l)||l instanceof Date?l:""})}var sH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if($r(p-h)!==$r(v-p)){var w=[];if($r(v-p)===$r(c[1]-c[0])){y=v;var x=p+c[1]-c[0];w[0]=Math.min(x,(x+h)/2),w[1]=Math.max(x,(x+h)/2)}else{y=h;var b=v+c[1]-c[0];w[0]=Math.min(p,(b+p)/2),w[1]=Math.max(p,(b+p)/2)}var A=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>A[0]&&e<=A[1]||e>=w[0]&&e<=w[1]){s=i[f].index;break}}else{var T=Math.min(h,v),C=Math.max(h,v);if(e>(T+p)/2&&e<=(C+p)/2){s=i[f].index;break}}}else for(var j=0;j<l;j++)if(j===0&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2&&e<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&e>(n[j].coordinate+n[j-1].coordinate)/2){s=n[j].index;break}return s},$E=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},uH=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var h=o[l[c]].stackGroups,p=Object.keys(h),v=0,y=p.length;v<y;v++){var w=h[p[v]],x=w.items,b=w.cateAxisId,A=x.filter(function(P){return ao(P.type).indexOf("Bar")>=0});if(A&&A.length){var T=A[0].type.defaultProps,C=T!==void 0?Mt(Mt({},T),A[0].props):A[0].props,j=C.barSize,I=C[b];s[I]||(s[I]=[]);var N=Xe(j)?r:j;s[I].push({item:A[0],stackList:A.slice(1),barSize:Xe(N)?void 0:Vr(N,n,0)})}}return s},lH=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Vr(r,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,y=i/c,w=s.reduce(function(j,I){return j+I.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&y>0&&(v=!0,y*=.9,w=c*y);var x=(i-w)/2>>0,b={offset:x-f,size:0};h=s.reduce(function(j,I){var N={item:I.item,position:{offset:b.offset+b.size+f,size:v?y:I.barSize}},P=[].concat(tR(j),[N]);return b=P[P.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:b})}),P},p)}else{var A=Vr(n,i,0,!0);i-2*A-(c-1)*f<=0&&(f=0);var T=(i-2*A-(c-1)*f)/c;T>1&&(T>>=0);var C=l===+l?Math.min(T,l):T;h=s.reduce(function(j,I,N){var P=[].concat(tR(j),[{item:I.item,position:{offset:A+(T+f)*N+(T-C)/2,size:C}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},p)}return h},cH=function(e,r,n,i){var o=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),f=dL({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,v=h.height,y=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&y!=="center"&&be(e[y]))return Mt(Mt({},e),{},Uu({},y,e[y]+(p||0)));if((x==="horizontal"||x==="vertical"&&y==="center")&&w!=="middle"&&be(e[w]))return Mt(Mt({},e),{},Uu({},w,e[w]+(v||0)))}return e},fH=function(e,r,n){return Xe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hL=function(e,r,n,i,o){var s=r.props.children,l=kn(s,bg).filter(function(f){return fH(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=Zt(h,n);if(Xe(p))return f;var v=Array.isArray(p)?[vg(p),ia(p)]:[p,p],y=c.reduce(function(w,x){var b=Zt(h,x,0),A=v[0]-Math.abs(Array.isArray(b)?b[0]:b),T=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(A,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},dH=function(e,r,n,i,o){var s=r.map(function(l){return hL(e,l,n,o,i)}).filter(function(l){return!Xe(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pL=function(e,r,n,i,o){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&hL(e,c,f,i)||sf(e,f,n,o)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},mL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},gL=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||l.push(r),s||l.push(n),l},ro=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$r(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return h.filter(function(p){return!Rl(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},ew=new WeakMap,tp=function(e,r){if(typeof r!="function")return e;ew.has(e)||ew.set(e,new WeakMap);var n=ew.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},vL=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Tf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Gp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:af(),realScaleType:"point"}:o==="category"?{scale:Tf(),realScaleType:"band"}:{scale:Gp(),realScaleType:"linear"};if(ys(i)){var c="scale".concat(rg(i));return{scale:(Bk[c]||af)(),realScaleType:Bk[c]?c:"point"}}return Ue(i)?{scale:i}:{scale:af(),realScaleType:"point"}},nR=1e-4,yL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-nR,s=Math.max(i[0],i[1])+nR,l=e(r[0]),c=e(r[n-1]);(l<o||l>s||c<o||c>s)&&e.domain([r[0],r[n-1]])}},hH=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},pH=function(e,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(o[0]=n),(!be(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},mH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,l=0;l<r;++l){var c=Rl(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},gH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var l=Rl(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},vH={sign:mH,expand:iU,none:Gu,silhouette:oU,wiggle:aU,positive:gH},yH=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),o=vH[n],s=nU().keys(i).value(function(l,c){return+Zt(l,c,0)}).order(o1).offset(o);return s(e)},_H=function(e,r,n,i,o,s){if(!e)return null;var l=s?r.reverse():r,c={},f=l.reduce(function(p,v){var y,w=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Mt(Mt({},v.type.defaultProps),v.props):v.props,x=w.stackId,b=w.hide;if(b)return p;var A=w[n],T=p[A]||{hasStack:!1,stackGroups:{}};if(tr(x)){var C=T.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(v),T.hasStack=!0,T.stackGroups[x]=C}else T.stackGroups[Nl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Mt(Mt({},p),{},Uu({},A,T))},c),h={};return Object.keys(f).reduce(function(p,v){var y=f[v];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,b){var A=y.stackGroups[b];return Mt(Mt({},x),{},Uu({},b,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:yH(e,A.items,o)}))},w)}return Mt(Mt({},p),{},Uu({},v,y))},h)},_L=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=NW(f,o,l);return e.domain([vg(h),ia(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),v=jW(p,o,l);return{niceTicks:v}}return null};function iR(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var l=Cp(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=Zt(i,Xe(s)?e.dataKey:s);return Xe(c)?null:e.scale(c)}var oR=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Zt(s,r.dataKey,r.domain[l]);return Xe(c)?null:r.scale(c)-o/2+i},bH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},wH=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(tr(o)){var s=r[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},xH=function(e){return e.reduce(function(r,n){return[vg(n.concat([r[0]]).filter(be)),ia(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},bL=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,h){var p=xH(h.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C1=function(e,r,n){if(Ue(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(aR.test(e[0])){var o=+aR.exec(e[0])[1];i[0]=r[0]-o}else Ue(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(sR.test(e[1])){var s=+sR.exec(e[1])[1];i[1]=r[1]+s}else Ue(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},tm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=dE(r,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},uR=function(e,r,n){return!e||!e.length||rl(e,pn(n,"type.defaultProps.domain"))?r:e},wL=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Mt(Mt({},De(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:$E(e),value:Zt(r,i),type:c,payload:r,chartType:f,hide:h})};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){xL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xL(t,e,r){return e=EH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EH(t){var e=SH(t,"string");return jf(e)=="symbol"?e:e+""}function SH(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TH(t,e){return OH(t)||IH(t,e)||PH(t,e)||AH()}function AH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return cR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function OH(t){if(Array.isArray(t))return t}var rm=Math.PI/180,CH=function(e){return e*180/Math.PI},St=function(e,r,n,i){return{x:e+Math.cos(-rm*i)*n,y:r+Math.sin(-rm*i)*n}},EL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kH=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.startAngle,f=e.endAngle,h=Vr(e.cx,s,s/2),p=Vr(e.cy,l,l/2),v=EL(s,l,n),y=Vr(e.innerRadius,v,0),w=Vr(e.outerRadius,v,v*.8),x=Object.keys(r);return x.reduce(function(b,A){var T=r[A],C=T.domain,j=T.reversed,I;if(Xe(T.range))i==="angleAxis"?I=[c,f]:i==="radiusAxis"&&(I=[y,w]),j&&(I=[I[1],I[0]]);else{I=T.range;var N=I,P=TH(N,2);c=P[0],f=P[1]}var O=vL(T,o),R=O.realScaleType,V=O.scale;V.domain(C).range(I),yL(V);var M=_L(V,Zi(Zi({},T),{},{realScaleType:R})),F=Zi(Zi(Zi({},T),M),{},{range:I,radius:w,realScaleType:R,scale:V,cx:h,cy:p,innerRadius:y,outerRadius:w,startAngle:c,endAngle:f});return Zi(Zi({},b),{},xL({},A,F))},{})},RH=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},NH=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,l=RH({x:n,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(n-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:CH(f),angleInRadian:f}},jH=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},MH=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},fR=function(e,r){var n=e.x,i=e.y,o=NH({x:n,y:i},r),s=o.radius,l=o.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=jH(r),p=h.startAngle,v=h.endAngle,y=l,w;if(p<=v){for(;y>v;)y-=360;for(;y<p;)y+=360;w=y>=p&&y<=v}else{for(;y>p;)y-=360;for(;y<v;)y+=360;w=y>=v&&y<=p}return w?Zi(Zi({},r),{},{radius:s,angle:MH(y,r)}):null},SL=function(e){return!q.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var DH=["offset"];function LH(t){return BH(t)||FH(t)||VH(t)||$H()}function $H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VH(t,e){if(t){if(typeof t=="string")return k1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(t,e)}}function FH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BH(t){if(Array.isArray(t))return k1(t)}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UH(t,e){if(t==null)return{};var r=qH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){zH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zH(t,e,r){return e=WH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WH(t){var e=HH(t,"string");return Mf(e)=="symbol"?e:e+""}function HH(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}var KH=function(e){var r=e.value,n=e.formatter,i=Xe(e.children)?r:e.children;return Ue(n)?n(i):i},GH=function(e,r){var n=$r(r-e),i=Math.min(Math.abs(r-e),360);return n*i},XH=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,v=c.outerRadius,y=c.startAngle,w=c.endAngle,x=c.clockWise,b=(p+v)/2,A=GH(y,w),T=A>=0?1:-1,C,j;i==="insideStart"?(C=y+T*s,j=x):i==="insideEnd"?(C=w-T*s,j=!x):i==="end"&&(C=w+T*s,j=x),j=A<=0?j:!j;var I=St(f,h,b,C),N=St(f,h,b,C+(j?1:-1)*359),P="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Xe(e.id)?Nl("recharts-radial-line-"):e.id;return W.createElement("text",Df({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:O,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(O)},r))},YH=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,v=(h+p)/2;if(i==="outside"){var y=St(s,l,f+n,v),w=y.x,x=y.y;return{x:w,y:x,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,A=St(s,l,b,v),T=A.x,C=A.y;return{x:T,y:C,textAnchor:"middle",verticalAnchor:"middle"}},QH=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,l=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,v=p*i,y=p>0?"end":"start",w=p>0?"start":"end",x=f>=0?1:-1,b=x*i,A=x>0?"end":"start",T=x>0?"start":"end";if(o==="top"){var C={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Jt(Jt({},C),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var j={x:l+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:w};return Jt(Jt({},j),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(o==="left"){var I={x:l-b,y:c+h/2,textAnchor:A,verticalAnchor:"middle"};return Jt(Jt({},I),n?{width:Math.max(I.x-n.x,0),height:h}:{})}if(o==="right"){var N={x:l+f+b,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return Jt(Jt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:h}:{})}var P=n?{width:f,height:h}:{};return o==="insideLeft"?Jt({x:l+b,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},P):o==="insideRight"?Jt({x:l+f-b,y:c+h/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideTop"?Jt({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:w},P):o==="insideBottom"?Jt({x:l+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:y},P):o==="insideTopLeft"?Jt({x:l+b,y:c+v,textAnchor:T,verticalAnchor:w},P):o==="insideTopRight"?Jt({x:l+f-b,y:c+v,textAnchor:A,verticalAnchor:w},P):o==="insideBottomLeft"?Jt({x:l+b,y:c+h-v,textAnchor:T,verticalAnchor:y},P):o==="insideBottomRight"?Jt({x:l+f-b,y:c+h-v,textAnchor:A,verticalAnchor:y},P):kl(o)&&(be(o.x)||ss(o.x))&&(be(o.y)||ss(o.y))?Jt({x:l+Vr(o.x,f),y:c+Vr(o.y,h),textAnchor:"end",verticalAnchor:"end"},P):Jt({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},JH=function(e){return"cx"in e&&be(e.cx)};function dr(t){var e=t.offset,r=e===void 0?5:e,n=UH(t,DH),i=Jt({offset:r},n),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,v=i.textBreakAll;if(!o||Xe(l)&&Xe(c)&&!q.isValidElement(f)&&!Ue(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var y;if(Ue(f)){if(y=q.createElement(f,i),q.isValidElement(y))return y}else y=KH(i);var w=JH(o),x=De(i,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return XH(i,y,x);var b=w?YH(i):QH(i);return W.createElement(bs,Df({className:Ye("recharts-label",p)},x,b,{breakAll:v}),y)}dr.displayName="Label";var TL=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,v=e.y,y=e.top,w=e.left,x=e.width,b=e.height,A=e.clockWise,T=e.labelViewBox;if(T)return T;if(be(x)&&be(b)){if(be(p)&&be(v))return{x:p,y:v,width:x,height:b};if(be(y)&&be(w))return{x:y,y:w,width:x,height:b}}return be(p)&&be(v)?{x:p,y:v,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:A}:e.viewBox?e.viewBox:{}},ZH=function(e,r){return e?e===!0?W.createElement(dr,{key:"label-implicit",viewBox:r}):tr(e)?W.createElement(dr,{key:"label-implicit",viewBox:r,value:e}):q.isValidElement(e)?e.type===dr?q.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(dr,{key:"label-implicit",content:e,viewBox:r}):Ue(e)?W.createElement(dr,{key:"label-implicit",content:e,viewBox:r}):kl(e)?W.createElement(dr,Df({viewBox:r},e,{key:"label-implicit"})):null:null},eK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=TL(e),s=kn(i,dr).map(function(c,f){return q.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return s;var l=ZH(e.label,r||o);return[l].concat(LH(s))};dr.parseViewBox=TL;dr.renderCallByParent=eK;var tw,hR;function tK(){if(hR)return tw;hR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return tw=t,tw}var rK=tK();const nK=ht(rK);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var iK=["valueAccessor"],oK=["data","dataKey","clockWise","id","textBreakAll"];function aK(t){return cK(t)||lK(t)||uK(t)||sK()}function sK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(t,e){if(t){if(typeof t=="string")return R1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(t,e)}}function lK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cK(t){if(Array.isArray(t))return R1(t)}function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(this,arguments)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){fK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e,r){return e=dK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dK(t){var e=hK(t,"string");return Lf(e)=="symbol"?e:e+""}function hK(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gR(t,e){if(t==null)return{};var r=pK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mK=function(e){return Array.isArray(e.value)?nK(e.value):e.value};function uo(t){var e=t.valueAccessor,r=e===void 0?mK:e,n=gR(t,iK),i=n.data,o=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,f=gR(n,oK);return!i||!i.length?null:W.createElement(it,{className:"recharts-label-list"},i.map(function(h,p){var v=Xe(o)?r(h,p):Zt(h&&h.payload,o),y=Xe(l)?{}:{id:"".concat(l,"-").concat(p)};return W.createElement(dr,nm({},De(h,!0),f,y,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:dr.parseViewBox(Xe(s)?h:mR(mR({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}uo.displayName="LabelList";function gK(t,e){return t?t===!0?W.createElement(uo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ue(t)?W.createElement(uo,{key:"labelList-implicit",data:e,content:t}):kl(t)?W.createElement(uo,nm({data:e},t,{key:"labelList-implicit"})):null:null}function vK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=kn(n,uo).map(function(s,l){return q.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var o=gK(t.label,e);return[o].concat(aK(i))}uo.renderCallByParent=vK;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N1.apply(this,arguments)}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){yK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yK(t,e,r){return e=_K(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _K(t){var e=bK(t,"string");return $f(e)=="symbol"?e:e+""}function bK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wK=function(e,r){var n=$r(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},rp=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/rm,v=f?o:o+s*p,y=St(r,n,h,v),w=St(r,n,i,v),x=f?o-s*p:o,b=St(r,n,h*Math.cos(p*rm),x);return{center:y,circleTangency:w,lineTangency:b,theta:p}},AL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=wK(s,l),f=s+c,h=St(r,n,o,s),p=St(r,n,o,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=St(r,n,i,s),w=St(r,n,i,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},xK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=$r(h-f),v=rp({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,x=v.theta,b=rp({cx:r,cy:n,radius:o,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),A=b.circleTangency,T=b.lineTangency,C=b.theta,j=c?Math.abs(f-h):Math.abs(f-h)-x-C;if(j<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AL({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var I="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
  `);if(i>0){var N=rp({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=N.circleTangency,O=N.lineTangency,R=N.theta,V=rp({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=V.circleTangency,F=V.lineTangency,D=V.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-R-D;if(Z<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},EK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PL=function(e){var r=yR(yR({},EK),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,v=r.className;if(s<o||h===p)return null;var y=Ye("recharts-sector",v),w=s-o,x=Vr(l,w,0,!0),b;return x>0&&Math.abs(h-p)<360?b=xK({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):b=AL({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:p}),W.createElement("path",N1({},De(r,!0),{className:y,d:b,role:"img"}))};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){SK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SK(t,e,r){return e=TK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TK(t){var e=AK(t,"string");return Vf(e)=="symbol"?e:e+""}function AK(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR={curveBasisClosed:HB,curveBasisOpen:KB,curveBasis:WB,curveBumpX:kB,curveBumpY:RB,curveLinearClosed:GB,curveLinear:ig,curveMonotoneX:XB,curveMonotoneY:YB,curveNatural:QB,curveStep:JB,curveStepAfter:eU,curveStepBefore:ZB},np=function(e){return e.x===+e.x&&e.y===+e.y},zc=function(e){return e.x},Wc=function(e){return e.y},PK=function(e,r){if(Ue(e))return e;var n="curve".concat(rg(e));return(n==="curveMonotone"||n==="curveBump")&&r?wR["".concat(n).concat(r==="vertical"?"Y":"X")]:wR[n]||ig},IK=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=PK(n,l),p=f?o.filter(function(x){return np(x)}):o,v;if(Array.isArray(s)){var y=f?s.filter(function(x){return np(x)}):s,w=p.map(function(x,b){return bR(bR({},x),{},{base:y[b]})});return l==="vertical"?v=Kh().y(Wc).x1(zc).x0(function(x){return x.base.x}):v=Kh().x(zc).y1(Wc).y0(function(x){return x.base.y}),v.defined(np).curve(h),v(w)}return l==="vertical"&&be(s)?v=Kh().y(Wc).x1(zc).x0(s):be(s)?v=Kh().x(zc).y1(Wc).y0(s):v=TM().x(zc).y(Wc),v.defined(np).curve(h),v(p)},qu=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?IK(e):i;return W.createElement("path",j1({},De(e,!1),kp(e),{className:Ye("recharts-curve",r),d:s,ref:o}))},rw={exports:{}},nw,xR;function OK(){if(xR)return nw;xR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nw=t,nw}var iw,ER;function CK(){if(ER)return iw;ER=1;var t=OK();function e(){}function r(){}return r.resetWarningCache=e,iw=function(){function n(s,l,c,f,h,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},iw}var SR;function kK(){return SR||(SR=1,rw.exports=CK()()),rw.exports}var RK=kK();const ft=ht(RK);var NK=Object.getOwnPropertyNames,jK=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty;function TR(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function ip(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var c=t(r,n,i);return o.delete(r),o.delete(n),c}}function AR(t){return NK(t).concat(jK(t))}var DK=Object.hasOwn||function(t,e){return MK.call(t,e)};function js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var LK="__v",$K="__o",VK="_owner",PR=Object.getOwnPropertyDescriptor,IR=Object.keys;function FK(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function BK(t,e){return js(t.getTime(),e.getTime())}function UK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qK(t,e){return t===e}function OR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var f=e.entries(),h=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=s.value,y=l.value;if(r.equals(v[0],y[0],c,p,t,e,r)&&r.equals(v[1],y[1],v[0],y[0],t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}var zK=js;function WK(t,e,r){var n=IR(t),i=n.length;if(IR(e).length!==i)return!1;for(;i-- >0;)if(!IL(t,e,r,n[i]))return!1;return!0}function Hc(t,e,r){var n=AR(t),i=n.length;if(AR(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=n[i],!IL(t,e,r,o)||(s=PR(t,o),l=PR(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function HK(t,e){return js(t.valueOf(),e.valueOf())}function KK(t,e){return t.source===e.source&&t.flags===e.flags}function CR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),s,l;(s=o.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function GK(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function XK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function IL(t,e,r,n){return(n===VK||n===$K||n===LK)&&(t.$$typeof||e.$$typeof)?!0:DK(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var YK="[object Arguments]",QK="[object Boolean]",JK="[object Date]",ZK="[object Error]",eG="[object Map]",tG="[object Number]",rG="[object Object]",nG="[object RegExp]",iG="[object Set]",oG="[object String]",aG="[object URL]",sG=Array.isArray,kR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,RR=Object.assign,uG=Object.prototype.toString.call.bind(Object.prototype.toString);function lG(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,p=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(w,x,b){if(w===x)return!0;if(w==null||x==null)return!1;var A=typeof w;if(A!==typeof x)return!1;if(A!=="object")return A==="number"?s(w,x,b):A==="function"?i(w,x,b):!1;var T=w.constructor;if(T!==x.constructor)return!1;if(T===Object)return l(w,x,b);if(sG(w))return e(w,x,b);if(kR!=null&&kR(w))return p(w,x,b);if(T===Date)return r(w,x,b);if(T===RegExp)return f(w,x,b);if(T===Map)return o(w,x,b);if(T===Set)return h(w,x,b);var C=uG(w);return C===JK?r(w,x,b):C===nG?f(w,x,b):C===eG?o(w,x,b):C===iG?h(w,x,b):C===rG?typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,b):C===aG?v(w,x,b):C===ZK?n(w,x,b):C===YK?l(w,x,b):C===QK||C===tG||C===oG?c(w,x,b):!1}}function cG(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hc:FK,areDatesEqual:BK,areErrorsEqual:UK,areFunctionsEqual:qK,areMapsEqual:n?TR(OR,Hc):OR,areNumbersEqual:zK,areObjectsEqual:n?Hc:WK,arePrimitiveWrappersEqual:HK,areRegExpsEqual:KK,areSetsEqual:n?TR(CR,Hc):CR,areTypedArraysEqual:n?Hc:GK,areUrlsEqual:XK};if(r&&(i=RR({},i,r(i))),e){var o=ip(i.areArraysEqual),s=ip(i.areMapsEqual),l=ip(i.areObjectsEqual),c=ip(i.areSetsEqual);i=RR({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function fG(t){return function(e,r,n,i,o,s,l){return t(e,r,l)}}function dG(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(c,f){var h=n(),p=h.cache,v=p===void 0?e?new WeakMap:void 0:p,y=h.meta;return r(c,f,{cache:v,equals:i,meta:y,strict:o})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return r(c,f,s)}}var hG=Sa();Sa({strict:!0});Sa({circular:!0});Sa({circular:!0,strict:!0});Sa({createInternalComparator:function(){return js}});Sa({strict:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js},strict:!0});function Sa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=cG(t),c=lG(l),f=n?n(c):fG(c);return dG({circular:r,comparator:c,createState:i,equals:f,strict:s})}function pG(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):pG(i)};requestAnimationFrame(n)}function M1(t){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}function mG(t){return _G(t)||yG(t)||vG(t)||gG()}function gG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(t,e){if(t){if(typeof t=="string")return jR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(t,e)}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _G(t){if(Array.isArray(t))return t}function bG(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=mG(s),c=l[0],f=l.slice(1);if(typeof c=="number"){NR(i.bind(null,f),c);return}i(c),NR(i.bind(null,f));return}M1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){OL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OL(t,e,r){return e=wG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wG(t){var e=xG(t,"string");return Ff(e)==="symbol"?e:String(e)}function xG(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EG=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},SG=function(e){return e},TG=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uf=function(e,r){return Object.keys(r).reduce(function(n,i){return DR(DR({},n),{},OL({},i,e(i,r[i])))},{})},LR=function(e,r,n){return e.map(function(i){return"".concat(TG(i)," ").concat(r,"ms ").concat(n)}).join(",")};function AG(t,e){return OG(t)||IG(t,e)||CL(t,e)||PG()}function PG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function OG(t){if(Array.isArray(t))return t}function CG(t){return NG(t)||RG(t)||CL(t)||kG()}function kG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(t,e){if(t){if(typeof t=="string")return D1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(t,e)}}function RG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NG(t){if(Array.isArray(t))return D1(t)}function D1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var im=1e-4,kL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},RL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},$R=function(e,r){return function(n){var i=kL(e,r);return RL(i,n)}},jG=function(e,r){return function(n){var i=kL(e,r),o=[].concat(CG(i.map(function(s,l){return s*l}).slice(1)),[0]);return RL(o,n)}},VR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=AG(f,4);i=h[0],o=h[1],s=h[2],l=h[3]}}}var p=$R(i,s),v=$R(o,l),y=jG(i,s),w=function(A){return A>1?1:A<0?0:A},x=function(A){for(var T=A>1?1:A,C=T,j=0;j<8;++j){var I=p(C)-T,N=y(C);if(Math.abs(I-T)<im||N<im)return v(C);C=w(C-I/N)}return v(C)};return x.isStepper=!1,x},MG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,p,v){var y=-(h-p)*n,w=v*o,x=v+(y-w)*l/1e3,b=v*l/1e3+h;return Math.abs(b-p)<im&&Math.abs(x)<im?[p,0]:[b,x]};return c.isStepper=!0,c.dt=l,c},DG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VR(i);case"spring":return MG();default:if(i.split("(")[0]==="cubic-bezier")return VR(i)}return typeof i=="function"?i:null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function FR(t){return VG(t)||$G(t)||NL(t)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VG(t){if(Array.isArray(t))return $1(t)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){L1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L1(t,e,r){return e=FG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FG(t){var e=BG(t,"string");return Bf(e)==="symbol"?e:String(e)}function BG(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UG(t,e){return WG(t)||zG(t,e)||NL(t,e)||qG()}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(t,e){if(t){if(typeof t=="string")return $1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(t,e)}}function $1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function WG(t){if(Array.isArray(t))return t}var om=function(e,r,n){return e+(r-e)*n},V1=function(e){var r=e.from,n=e.to;return r!==n},HG=function t(e,r,n){var i=uf(function(o,s){if(V1(s)){var l=e(s.from,s.to,s.velocity),c=UG(l,2),f=c[0],h=c[1];return _r(_r({},s),{},{from:f,velocity:h})}return s},r);return n<1?uf(function(o,s){return V1(s)?_r(_r({},s),{},{velocity:om(s.velocity,i[o].velocity,n),from:om(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const KG=function(t,e,r,n,i){var o=EG(t,e),s=o.reduce(function(b,A){return _r(_r({},b),{},L1({},A,[t[A],e[A]]))},{}),l=o.reduce(function(b,A){return _r(_r({},b),{},L1({},A,{from:t[A],velocity:0,to:e[A]}))},{}),c=-1,f,h,p=function(){return null},v=function(){return uf(function(A,T){return T.from},l)},y=function(){return!Object.values(l).filter(V1).length},w=function(A){f||(f=A);var T=A-f,C=T/r.dt;l=HG(r,l,C),i(_r(_r(_r({},t),e),v())),f=A,y()||(c=requestAnimationFrame(p))},x=function(A){h||(h=A);var T=(A-h)/n,C=uf(function(I,N){return om.apply(void 0,FR(N).concat([r(T)]))},s);if(i(_r(_r(_r({},t),e),C)),T<1)c=requestAnimationFrame(p);else{var j=uf(function(I,N){return om.apply(void 0,FR(N).concat([r(1)]))},s);i(_r(_r(_r({},t),e),j))}};return p=r.isStepper?w:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}var GG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XG(t,e){if(t==null)return{};var r=YG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YG(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ow(t){return eX(t)||ZG(t)||JG(t)||QG()}function QG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JG(t,e){if(t){if(typeof t=="string")return F1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F1(t,e)}}function ZG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eX(t){if(Array.isArray(t))return F1(t)}function F1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jc(t,e,r){return e=jL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jL(n.key),n)}}function nX(t,e,r){return e&&rX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jL(t){var e=iX(t,"string");return il(e)==="symbol"?e:String(e)}function iX(t,e){if(il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B1(t,e)}function aX(t){var e=sX();return function(){var n=am(t),i;if(e){var o=am(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return U1(this,i)}}function U1(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(t)}function q1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}var Oi=function(t){oX(r,t);var e=aX(r);function r(n,i){var o;tX(this,r),o=e.call(this,n,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,v=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(q1(o)),o.changeStyle=o.changeStyle.bind(q1(o)),!l||y<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:h}),U1(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},U1(o);o.state={style:c?Jc({},c,f):f}}else o.state={style:{}};return o}return nX(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,v=this.state.style;if(l){if(!s){var y={style:c?Jc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(y);return}if(!(hG(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?p:i.to;if(this.state&&v){var b={style:c?Jc({},c,x):x};(c&&v[c]!==x||!c&&v!==x)&&this.setState(b)}this.runAnimation(Qn(Qn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,y=KG(s,l,DG(f),c,this.changeStyle),w=function(){o.stopJSAnimation=y()};this.manager.start([v,h,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,v=p===void 0?0:p,y=function(x,b,A){if(A===0)return x;var T=b.duration,C=b.easing,j=C===void 0?"ease":C,I=b.style,N=b.properties,P=b.onAnimationEnd,O=A>0?s[A-1]:b,R=N||Object.keys(I);if(typeof j=="function"||j==="spring")return[].concat(ow(x),[o.runJSAnimation.bind(o,{from:O.style,to:I,duration:T,easing:j}),T]);var V=LR(R,T,j),M=Qn(Qn(Qn({},O.style),I),{},{transition:V});return[].concat(ow(x),[M,T,P]).filter(SG)};return this.manager.start([c].concat(ow(s.reduce(y,[h,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=bG());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,y=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var x=l?Jc({},l,c):c,b=LR(Object.keys(x),s,f);w.start([h,o,Qn(Qn({},x),{},{transition:b}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=XG(i,GG),f=q.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||s<=0)return o;var p=function(y){var w=y.props,x=w.style,b=x===void 0?{}:x,A=w.className,T=q.cloneElement(y,Qn(Qn({},c),{},{style:Qn(Qn({},b),h),className:A}));return T};return f===1?p(q.Children.only(o)):W.createElement("div",null,q.Children.map(o,function(v){return p(v)}))}}]),r}(q.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}function uX(t,e){return dX(t)||fX(t,e)||cX(t,e)||lX()}function lX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(t,e){if(t){if(typeof t=="string")return qR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function dX(t){if(Array.isArray(t))return t}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){hX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hX(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=mX(t,"string");return Uf(e)=="symbol"?e:e+""}function mX(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HR=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=o[v]>s?s:o[v];h="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),h+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*p[1])),h+="L ".concat(e+n,",").concat(r+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),h+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*p[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var w=Math.min(s,o);h="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*w," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},gX=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=h&&i>=p&&i<=v}return!1},vX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VE=function(e){var r=WR(WR({},vX),e),n=q.useRef(),i=q.useState(-1),o=uX(i,2),s=o[0],l=o[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,f=r.y,h=r.width,p=r.height,v=r.radius,y=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,A=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var C=Ye("recharts-rectangle",y);return T?W.createElement(Oi,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:x,animationEasing:w,isActive:T},function(j){var I=j.width,N=j.height,P=j.x,O=j.y;return W.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:A,easing:w},W.createElement("path",sm({},De(r,!0),{className:C,d:HR(P,O,I,N,v),ref:n})))}):W.createElement("path",sm({},De(r,!0),{className:C,d:HR(c,f,h,p,v)}))},yX=["points","className","baseLinePoints","connectNulls"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function _X(t,e){if(t==null)return{};var r=bX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KR(t){return SX(t)||EX(t)||xX(t)||wX()}function wX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xX(t,e){if(t){if(typeof t=="string")return z1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(t,e)}}function EX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SX(t){if(Array.isArray(t))return z1(t)}function z1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var GR=function(e){return e&&e.x===+e.x&&e.y===+e.y},TX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){GR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),GR(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lf=function(e,r){var n=TX(e);r&&(n=[n.reduce(function(o,s){return[].concat(KR(o),KR(s))},[])]);var i=n.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},AX=function(e,r,n){var i=lf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lf(r.reverse(),n).slice(1))},PX=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,s=_X(e,yX);if(!r||!r.length)return null;var l=Ye("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=AX(r,i,o);return W.createElement("g",{className:l},W.createElement("path",Mu({},De(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?W.createElement("path",Mu({},De(s,!0),{fill:"none",d:lf(r,o)})):null,c?W.createElement("path",Mu({},De(s,!0),{fill:"none",d:lf(i,o)})):null)}var h=lf(r,o);return W.createElement("path",Mu({},De(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W1.apply(this,arguments)}var wg=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=Ye("recharts-dot",o);return r===+r&&n===+n&&i===+i?W.createElement("circle",W1({},De(e,!1),kp(e),{className:s,cx:r,cy:n,r:i})):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var IX=["x","y","top","left","width","height","className"];function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){CX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CX(t,e,r){return e=kX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kX(t){var e=RX(t,"string");return qf(e)=="symbol"?e:e+""}function RX(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NX(t,e){if(t==null)return{};var r=jX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MX=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},DX=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,v=e.height,y=v===void 0?0:v,w=e.className,x=NX(e,IX),b=OX({x:n,y:o,top:l,left:f,width:p,height:y},x);return!be(n)||!be(o)||!be(p)||!be(y)||!be(l)||!be(f)?null:W.createElement("path",H1({},De(b,!0),{className:Ye("recharts-cross",w),d:MX(n,o,p,y,l,f)}))},aw,YR;function LX(){if(YR)return aw;YR=1;var t=gg(),e=XD(),r=ji();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return aw=n,aw}var $X=LX();const VX=ht($X);var sw,QR;function FX(){if(QR)return sw;QR=1;var t=gg(),e=ji(),r=YD();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return sw=n,sw}var BX=FX();const UX=ht(BX);var qX=["cx","cy","angle","ticks","axisLine"],zX=["ticks","tick","angle","tickFormatter","stroke"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZR(t,e){if(t==null)return{};var r=WX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DL(n.key),n)}}function KX(t,e,r){return e&&e2(t.prototype,e),r&&e2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,r){return e=um(e),XX(t,ML()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function XX(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YX(t)}function YX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function QX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K1(t,e)}function xg(t,e,r){return e=DL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DL(t){var e=JX(t,"string");return ol(e)=="symbol"?e:e+""}function JX(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eg=function(t){function e(){return HX(this,e),GX(this,e,arguments)}return QX(e,t),KX(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return St(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=VX(l,function(h){return h.coordinate||0}),f=UX(l,function(h){return h.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,f=ZR(n,qX),h=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),p=St(i,o,h[0],s),v=St(i,o,h[1],s),y=ts(ts(ts({},De(f,!1)),{},{fill:"none"},De(c,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return W.createElement("line",cf({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,h=ZR(i,zX),p=this.getTickTextAnchor(),v=De(h,!1),y=De(s,!1),w=o.map(function(x,b){var A=n.getTickValueCoord(x),T=ts(ts(ts(ts({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:f},y),{},{index:b},A),{},{payload:x});return W.createElement(it,cf({className:Ye("recharts-polar-radius-axis-tick",SL(s)),key:"tick-".concat(x.coordinate)},_s(n.props,x,b)),e.renderTickItem(s,T,c?c(x.value,b):x.value))});return W.createElement(it,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(it,{className:Ye("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),dr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(q.PureComponent);xg(Eg,"displayName","PolarRadiusAxis");xg(Eg,"axisType","radiusAxis");xg(Eg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(this,arguments)}function t2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(r),!0).forEach(function(n){Sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function eY(t,e,r){return e&&r2(t.prototype,e),r&&r2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tY(t,e,r){return e=lm(e),rY(t,LL()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function rY(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(t)}function nY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function iY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G1(t,e)}function Sg(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=oY(t,"string");return al(e)=="symbol"?e:e+""}function oY(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aY=Math.PI/180,sY=1e-5,Tg=function(t){function e(){return ZX(this,e),tY(this,e,arguments)}return iY(e,t),eY(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,s=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=St(o,s,l,n.coordinate),v=St(o,s,l+(c==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*aY),s;return o>sY?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,f=rs(rs({},De(this.props,!1)),{},{fill:"none"},De(l,!1));if(c==="circle")return W.createElement(wg,as({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:s}));var h=this.props.ticks,p=h.map(function(v){return St(i,o,s,v.coordinate)});return W.createElement(PX,as({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,h=De(this.props,!1),p=De(s,!1),v=rs(rs({},h),{},{fill:"none"},De(l,!1)),y=o.map(function(w,x){var b=n.getTickLineCoord(w),A=n.getTickTextAnchor(w),T=rs(rs(rs({textAnchor:A},h),{},{stroke:"none",fill:f},p),{},{index:x,payload:w,x:b.x2,y:b.y2});return W.createElement(it,as({className:Ye("recharts-polar-angle-axis-tick",SL(s)),key:"tick-".concat(w.coordinate)},_s(n.props,w,x)),l&&W.createElement("line",as({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,T,c?c(w.value,x):w.value))});return W.createElement(it,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!i||!i.length?null:W.createElement(it,{className:Ye("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,as({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(q.PureComponent);Sg(Tg,"displayName","PolarAngleAxis");Sg(Tg,"axisType","angleAxis");Sg(Tg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var uw,n2;function uY(){if(n2)return uw;n2=1;var t=GM(),e=t(Object.getPrototypeOf,Object);return uw=e,uw}var lw,i2;function lY(){if(i2)return lw;i2=1;var t=bo(),e=uY(),r=wo(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return lw=f,lw}var cY=lY();const fY=ht(cY);var cw,o2;function dY(){if(o2)return cw;o2=1;var t=bo(),e=wo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return cw=n,cw}var hY=dY();const pY=ht(hY);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(this,arguments)}function mY(t,e){return _Y(t)||yY(t,e)||vY(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vY(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _Y(t){if(Array.isArray(t))return t}function s2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(r),!0).forEach(function(n){bY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bY(t,e,r){return e=wY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wY(t){var e=xY(t,"string");return zf(e)=="symbol"?e:e+""}function xY(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l2=function(e,r,n,i,o){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+o),l+="L ".concat(e+n-s/2-i,",").concat(r+o),l+="L ".concat(e,",").concat(r," Z"),l},EY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SY=function(e){var r=u2(u2({},EY),e),n=q.useRef(),i=q.useState(-1),o=mY(i,2),s=o[0],l=o[1];q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,p=r.lowerWidth,v=r.height,y=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,A=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||v!==+v||h===0&&p===0||v===0)return null;var T=Ye("recharts-trapezoid",y);return A?W.createElement(Oi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:v,x:c,y:f},duration:x,animationEasing:w,isActive:A},function(C){var j=C.upperWidth,I=C.lowerWidth,N=C.height,P=C.x,O=C.y;return W.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:w},W.createElement("path",cm({},De(r,!0),{className:T,d:l2(P,O,j,I,N),ref:n})))}):W.createElement("g",null,W.createElement("path",cm({},De(r,!0),{className:T,d:l2(c,f,h,p,v)})))},TY=["option","shapeType","propTransformer","activeClassName","isActive"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function AY(t,e){if(t==null)return{};var r=PY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(r),!0).forEach(function(n){IY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IY(t,e,r){return e=OY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OY(t){var e=CY(t,"string");return Wf(e)=="symbol"?e:e+""}function CY(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kY(t,e){return fm(fm({},e),t)}function RY(t,e){return t==="symbols"}function f2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(VE,r);case"trapezoid":return W.createElement(SY,r);case"sector":return W.createElement(PL,r);case"symbols":if(RY(e))return W.createElement(iE,r);break;default:return null}}function NY(t){return q.isValidElement(t)?t.props:t}function VL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?kY:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=AY(t,TY),f;if(q.isValidElement(e))f=q.cloneElement(e,fm(fm({},c),NY(e)));else if(Ue(e))f=e(c);else if(fY(e)&&!pY(e)){var h=i(e,c);f=W.createElement(f2,{shapeType:r,elementProps:h})}else{var p=c;f=W.createElement(f2,{shapeType:r,elementProps:p})}return l?W.createElement(it,{className:s},f):f}function Ag(t,e){return e!=null&&"trapezoids"in t.props}function Pg(t,e){return e!=null&&"sectors"in t.props}function Hf(t,e){return e!=null&&"points"in t.props}function jY(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function MY(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function DY(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function LY(t,e){var r;return Ag(t,e)?r=jY:Pg(t,e)?r=MY:Hf(t,e)&&(r=DY),r}function $Y(t,e){var r;return Ag(t,e)?r="trapezoids":Pg(t,e)?r="sectors":Hf(t,e)&&(r="points"),r}function VY(t,e){if(Ag(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hf(t,e)?e.payload:{}}function FY(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=$Y(r,e),o=VY(r,e),s=n.filter(function(c,f){var h=rl(o,c),p=r.props[i].filter(function(w){var x=LY(r,e);return x(w,e)}),v=r.props[i].indexOf(p[p.length-1]),y=f===v;return h&&y}),l=n.indexOf(s[s.length-1]);return l}var gp;function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Du.apply(this,arguments)}function d2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d2(Object(r),!0).forEach(function(n){In(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BL(n.key),n)}}function UY(t,e,r){return e&&h2(t.prototype,e),r&&h2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qY(t,e,r){return e=dm(e),zY(t,FL()?Reflect.construct(e,r||[],dm(t).constructor):e.apply(t,r))}function zY(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(t)}function HY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X1(t,e)}function In(t,e,r){return e=BL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t){var e=KY(t,"string");return sl(e)=="symbol"?e:e+""}function KY(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eo=function(t){function e(r){var n;return BY(this,e),n=qY(this,e,[r]),In(n,"pieRef",null),In(n,"sectorRefs",[]),In(n,"id",Nl("recharts-pie-")),In(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(i)&&i()}),In(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return HY(e,t),UY(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,c=o.dataKey,f=o.valueKey,h=De(this.props,!1),p=De(s,!1),v=De(l,!1),y=s&&s.offsetRadius||20,w=n.map(function(x,b){var A=(x.startAngle+x.endAngle)/2,T=St(x.cx,x.cy,x.outerRadius+y,A),C=xt(xt(xt(xt({},h),x),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(T.x,x.cx)},T),j=xt(xt(xt(xt({},h),x),{},{fill:"none",stroke:x.fill},v),{},{index:b,points:[St(x.cx,x.cy,x.outerRadius,A),T]}),I=c;return Xe(c)&&Xe(f)?I="value":Xe(c)&&(I=f),W.createElement(it,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,j,"line"),e.renderLabelItem(s,C,Zt(x,I)))});return W.createElement(it,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,y=p?s:v,w=xt(xt({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return W.createElement(it,Du({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},_s(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),W.createElement(VL,Du({option:y,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,v=p.prevSectors,y=p.prevIsAnimationActive;return W.createElement(Oi,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,b=[],A=o&&o[0],T=A.startAngle;return o.forEach(function(C,j){var I=v&&v[j],N=j>0?pn(C,"paddingAngle",0):0;if(I){var P=Qr(I.endAngle-I.startAngle,C.endAngle-C.startAngle),O=xt(xt({},C),{},{startAngle:T+N,endAngle:T+P(x)+N});b.push(O),T=O.endAngle}else{var R=C.endAngle,V=C.startAngle,M=Qr(0,R-V),F=M(x),D=xt(xt({},C),{},{startAngle:T+N,endAngle:T+F+N});b.push(D),T=D.endAngle}}),W.createElement(it,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,c=i.label,f=i.cx,h=i.cy,p=i.innerRadius,v=i.outerRadius,y=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!s||!s.length||!be(f)||!be(h)||!be(p)||!be(v))return null;var x=Ye("recharts-pie",l);return W.createElement(it,{tabIndex:this.props.rootTabIndex,className:x,ref:function(A){n.pieRef=A}},this.renderSectors(),c&&this.renderLabels(s),dr.renderCallByParent(this.props,null,!1),(!y||w)&&uo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);if(Ue(n))return n(i);var s=Ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(qu,Du({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);var s=o;if(Ue(n)&&(s=n(i),W.isValidElement(s)))return s;var l=Ye("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return W.createElement(bs,Du({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(q.PureComponent);gp=Eo;In(Eo,"displayName","Pie");In(Eo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ks.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});In(Eo,"parseDeltaAngle",function(t,e){var r=$r(e-t),n=Math.min(Math.abs(e-t),360);return r*n});In(Eo,"getRealPieData",function(t){var e=t.data,r=t.children,n=De(t,!1),i=kn(r,lg);return e&&e.length?e.map(function(o,s){return xt(xt(xt({payload:o},n),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return xt(xt({},n),o.props)}):[]});In(Eo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,s=EL(i,o),l=n+Vr(t.cx,i,i/2),c=r+Vr(t.cy,o,o/2),f=Vr(t.innerRadius,s,0),h=Vr(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}});In(Eo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?xt(xt({},e.type.defaultProps),e.props):e.props,i=gp.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,p=n.valueKey,v=n.tooltipType,y=Math.abs(n.minAngle),w=gp.parseCoordinateOfPie(n,r),x=gp.parseDeltaAngle(s,l),b=Math.abs(x),A=f;Xe(f)&&Xe(p)?(ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):Xe(f)&&(ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=p);var T=i.filter(function(O){return Zt(O,A,0)!==0}).length,C=(b>=360?T:T-1)*c,j=b-T*y-C,I=i.reduce(function(O,R){var V=Zt(R,A,0);return O+(be(V)?V:0)},0),N;if(I>0){var P;N=i.map(function(O,R){var V=Zt(O,A,0),M=Zt(O,h,R),F=(be(V)?V:0)/I,D;R?D=P.endAngle+$r(x)*c*(V!==0?1:0):D=s;var Z=D+$r(x)*((V!==0?y:0)+F*j),K=(D+Z)/2,J=(w.innerRadius+w.outerRadius)/2,oe=[{name:M,value:V,payload:O,dataKey:A,type:v}],Q=St(w.cx,w.cy,J,K);return P=xt(xt(xt({percent:F,cornerRadius:o,name:M,tooltipPayload:oe,midAngle:K,middleRadius:J,tooltipPosition:Q},O),w),{},{value:Zt(O,A),startAngle:D,endAngle:Z,payload:O,paddingAngle:$r(x)*c}),P})}return xt(xt({},w),{},{sectors:N,data:i})});var fw,p2;function GY(){if(p2)return fw;p2=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var l=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=n,n+=o;return f}return fw=r,fw}var dw,m2;function UL(){if(m2)return dw;m2=1;var t=cD(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*r}return i===i?i:0}return dw=n,dw}var hw,g2;function XY(){if(g2)return hw;g2=1;var t=GY(),e=ug(),r=UL();function n(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),l=l===void 0?o<s?1:-1:r(l),t(o,s,l,i)}}return hw=n,hw}var pw,v2;function YY(){if(v2)return pw;v2=1;var t=XY(),e=t();return pw=e,pw}var QY=YY();const hm=ht(QY);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){qL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qL(t,e,r){return e=JY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JY(t){var e=ZY(t,"string");return Kf(e)=="symbol"?e:e+""}function ZY(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eQ=["Webkit","Moz","O","ms"],tQ=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=eQ.reduce(function(o,s){return _2(_2({},o),{},qL({},s+n,r))},{});return i[e]=r,i};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function nQ(t,e,r){return e&&w2(t.prototype,e),r&&w2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iQ(t,e,r){return e=mm(e),oQ(t,zL()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function oQ(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(t)}function aQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function sQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y1(t,e)}function ln(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=uQ(t,"string");return ul(e)=="symbol"?e:e+""}function uQ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lQ=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=af().domain(hm(0,c)).range([o,o+s-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},x2=function(e){return e.changedTouches&&!!e.changedTouches.length},ll=function(t){function e(r){var n;return rQ(this,e),n=iQ(this,e,[r]),ln(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ln(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ln(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),ln(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ln(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ln(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ln(n,"handleSlideDragStart",function(i){var o=x2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sQ(e,t),nQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),v=Math.max(i,o),y=e.getIndexInRange(s,p),w=e.getIndexInRange(s,v);return{startIndex:y-y%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Zt(o[n],l,n);return Ue(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,v=c.startIndex,y=c.endIndex,w=c.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+h-p-l,f+h-p-s):x<0&&(x=Math.max(x,f-s,f-l));var b=this.getIndex({startX:s+x,endX:l+x});(b.startIndex!==v||b.endIndex!==y)&&w&&w(b),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=x2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,v=h.width,y=h.travellerWidth,w=h.onChange,x=h.gap,b=h.data,A={startX:this.state.startX,endX:this.state.endX},T=n.pageX-o;T>0?T=Math.min(T,p+v-y-f):T<0&&(T=Math.max(T,p-f)),A[s]=f+T;var C=this.getIndex(A),j=C.startIndex,I=C.endIndex,N=function(){var O=b.length-1;return s==="startX"&&(l>c?j%x===0:I%x===0)||l<c&&I===O||s==="endX"&&(l>c?I%x===0:j%x===0)||l>c&&I===O};this.setState(ln(ln({},s,f+T),"brushMoveStartX",n.pageX),function(){w&&N()&&w(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var v=p+n;if(!(v===-1||v>=l.length)){var y=l[v];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(ln({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.fill,f=n.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.data,f=n.children,h=n.padding,p=q.Children.only(f);return p?W.cloneElement(p,{x:i,y:o,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,l=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,v=c.traveller,y=c.ariaLabel,w=c.data,x=c.startIndex,b=c.endIndex,A=Math.max(n,this.props.x),T=mw(mw({},De(this.props,!1)),{},{x:A,y:f,width:h,height:p}),C=y||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=w[b])===null||s===void 0?void 0:s.name);return W.createElement(it,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,T))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,p=h.startX,v=h.endX,y=5,w={pointerEvents:"none",fill:f};return W.createElement(it,{className:"recharts-brush-texts"},W.createElement(bs,pm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-y,y:s+l/2},w),this.getTextOfTick(i)),W.createElement(bs,pm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+y,y:s+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,l=n.x,c=n.y,f=n.width,h=n.height,p=n.alwaysShowText,v=this.state,y=v.startX,w=v.endX,x=v.isTextActive,b=v.isSlideMoving,A=v.isTravellerMoving,T=v.isTravellerFocused;if(!i||!i.length||!be(l)||!be(c)||!be(f)||!be(h)||f<=0||h<=0)return null;var C=Ye("recharts-brush",o),j=W.Children.count(s)===1,I=tQ("userSelect","none");return W.createElement(it,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(x||b||A||T||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,l=n.height,c=n.stroke,f=Math.floor(o+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return W.isValidElement(n)?o=W.cloneElement(n,i):Ue(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,l=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return mw({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?lQ({data:o,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(q.PureComponent);ln(ll,"displayName","Brush");ln(ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gw,E2;function cQ(){if(E2)return gw;E2=1;var t=fE();function e(r,n){var i;return t(r,function(o,s,l){return i=n(o,s,l),!i}),!!i}return gw=e,gw}var vw,S2;function fQ(){if(S2)return vw;S2=1;var t=BM(),e=ji(),r=cQ(),n=Zr(),i=ug();function o(s,l,c){var f=n(s)?t:r;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return vw=o,vw}var dQ=fQ();const hQ=ht(dQ);var xi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},yw,T2;function pQ(){if(T2)return yw;T2=1;var t=oD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return yw=e,yw}var _w,A2;function mQ(){if(A2)return _w;A2=1;var t=pQ(),e=nD(),r=ji();function n(i,o){var s={};return o=r(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return _w=n,_w}var gQ=mQ();const vQ=ht(gQ);var bw,P2;function yQ(){if(P2)return bw;P2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return bw=t,bw}var ww,I2;function _Q(){if(I2)return ww;I2=1;var t=fE();function e(r,n){var i=!0;return t(r,function(o,s,l){return i=!!n(o,s,l),i}),i}return ww=e,ww}var xw,O2;function bQ(){if(O2)return xw;O2=1;var t=yQ(),e=_Q(),r=ji(),n=Zr(),i=ug();function o(s,l,c){var f=n(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,r(l,3))}return xw=o,xw}var wQ=bQ();const HL=ht(wQ);var xQ=["x","y"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q1.apply(this,arguments)}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){EQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EQ(t,e,r){return e=SQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SQ(t){var e=TQ(t,"string");return Gf(e)=="symbol"?e:e+""}function TQ(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQ(t,e){if(t==null)return{};var r=PQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IQ(t,e){var r=t.x,n=t.y,i=AQ(t,xQ),o="".concat(r),s=parseInt(o,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Kc(Kc(Kc(Kc(Kc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function k2(t){return W.createElement(VL,Q1({shapeType:"rectangle",propTransformer:IQ,activeClassName:"recharts-active-bar"},t))}var OQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||xs(),r)}},CQ=["value","background"],KL;function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function kQ(t,e){if(t==null)return{};var r=RQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){oa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function jQ(t,e,r){return e&&N2(t.prototype,e),r&&N2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MQ(t,e,r){return e=vm(e),DQ(t,GL()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function DQ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LQ(t)}function LQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function $Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J1(t,e)}function J1(t,e){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J1(t,e)}function oa(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=VQ(t,"string");return cl(e)=="symbol"?e:e+""}function VQ(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=function(t){function e(){var r;NQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=MQ(this,e,[].concat(i)),oa(r,"state",{isAnimationFinished:!1}),oa(r,"id",Nl("recharts-bar-")),oa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return $Q(e,t),jQ(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=De(this.props,!1);return n&&n.map(function(p,v){var y=v===c,w=y?f:s,x=zt(zt(zt({},h),p),{},{isActive:y,option:w,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(it,gm({className:"recharts-bar-rectangle"},_s(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),W.createElement(k2,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state.prevData;return W.createElement(Oi,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,x=o.map(function(b,A){var T=v&&v[A];if(T){var C=Qr(T.x,b.x),j=Qr(T.y,b.y),I=Qr(T.width,b.width),N=Qr(T.height,b.height);return zt(zt({},b),{},{x:C(w),y:j(w),width:I(w),height:N(w)})}if(s==="horizontal"){var P=Qr(0,b.height),O=P(w);return zt(zt({},b),{},{y:b.y+b.height-O,height:O})}var R=Qr(0,b.width),V=R(w);return zt(zt({},b),{},{width:V})});return W.createElement(it,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=De(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,v=kQ(f,CQ);if(!p)return null;var y=zt(zt(zt(zt(zt({},v),{},{fill:"#eee"},p),c),_s(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return W.createElement(k2,gm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=kn(h,bg);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,y=function(b,A){var T=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:T,errorVal:Zt(b,A)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(it,w,p.map(function(x){return W.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,h=n.top,p=n.width,v=n.height,y=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,A=Ye("recharts-bar",s),T=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,j=T||C,I=Xe(x)?this.id:x;return W.createElement(it,{className:A},T||C?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(I)},W.createElement("rect",{x:T?f:f-p/2,y:C?h:h-v/2,width:T?p:p*2,height:C?v:v*2}))):null,W.createElement(it,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(I,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,I),(!y||b)&&uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(q.PureComponent);KL=pa;oa(pa,"displayName","Bar");oa(pa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oa(pa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,v=t.offset,y=hH(n,r);if(!y)return null;var w=e.layout,x=r.type.defaultProps,b=x!==void 0?zt(zt({},x),r.props):r.props,A=b.dataKey,T=b.children,C=b.minPointSize,j=w==="horizontal"?s:o,I=f?j.scale.domain():null,N=bH({numericAxis:j}),P=kn(T,lg),O=p.map(function(R,V){var M,F,D,Z,K,J;f?M=pH(f[h+V],I):(M=Zt(R,A),Array.isArray(M)||(M=[N,M]));var oe=OQ(C,KL.defaultProps.minPointSize)(M[1],V);if(w==="horizontal"){var Q,se=[s.scale(M[0]),s.scale(M[1])],H=se[0],U=se[1];F=oR({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:R,index:V}),D=(Q=U??H)!==null&&Q!==void 0?Q:void 0,Z=y.size;var G=H-U;if(K=Number.isNaN(G)?0:G,J={x:F,y:s.y,width:Z,height:s.height},Math.abs(oe)>0&&Math.abs(K)<Math.abs(oe)){var ue=$r(K||oe)*(Math.abs(oe)-Math.abs(K));D-=ue,K+=ue}}else{var ve=[o.scale(M[0]),o.scale(M[1])],ie=ve[0],ce=ve[1];if(F=ie,D=oR({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:R,index:V}),Z=ce-ie,K=y.size,J={x:o.x,y:D,width:o.width,height:K},Math.abs(oe)>0&&Math.abs(Z)<Math.abs(oe)){var pe=$r(Z||oe)*(Math.abs(oe)-Math.abs(Z));Z+=pe}}return zt(zt(zt({},R),{},{x:F,y:D,width:Z,height:K,value:f?M:M[1],payload:R,background:J},P&&P[V]&&P[V].props),{},{tooltipPayload:[wL(r,R)],tooltipPosition:{x:F+Z/2,y:D+K/2}})});return zt({data:O,layout:w},v)});function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function FQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YL(n.key),n)}}function BQ(t,e,r){return e&&j2(t.prototype,e),r&&j2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function M2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(r),!0).forEach(function(n){Ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ig(t,e,r){return e=YL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YL(t){var e=UQ(t,"string");return Xf(e)=="symbol"?e:e+""}function UQ(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!cn(f,pa);return h.reduce(function(y,w){var x=r[w],b=x.orientation,A=x.domain,T=x.padding,C=T===void 0?{}:T,j=x.mirror,I=x.reversed,N="".concat(b).concat(j?"Mirror":""),P,O,R,V,M;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var F=A[1]-A[0],D=1/0,Z=x.categoricalDomain.sort(tB);if(Z.forEach(function(ve,ie){ie>0&&(D=Math.min((ve||0)-(Z[ie-1]||0),D))}),Number.isFinite(D)){var K=D/F,J=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(P=K*J/2),x.padding==="no-gap"){var oe=Vr(e.barCategoryGap,K*J),Q=K*J/2;P=Q-oe-(Q-oe)/J*oe}}}i==="xAxis"?O=[n.left+(C.left||0)+(P||0),n.left+n.width-(C.right||0)-(P||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(P||0),n.top+n.height-(C.bottom||0)-(P||0)]:O=x.range,I&&(O=[O[1],O[0]]);var se=vL(x,o,v),H=se.scale,U=se.realScaleType;H.domain(A).range(O),yL(H);var G=_L(H,Jn(Jn({},x),{},{realScaleType:U}));i==="xAxis"?(M=b==="top"&&!j||b==="bottom"&&j,R=n.left,V=p[N]-M*x.height):i==="yAxis"&&(M=b==="left"&&!j||b==="right"&&j,R=p[N]-M*x.width,V=n.top);var ue=Jn(Jn(Jn({},x),G),{},{realScaleType:U,x:R,y:V,scale:H,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return ue.bandSize=tm(ue,G),!x.hide&&i==="xAxis"?p[N]+=(M?-1:1)*ue.height:x.hide||(p[N]+=(M?-1:1)*ue.width),Jn(Jn({},y),{},Ig({},w,ue))},{})},JL=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},qQ=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return JL({x:r,y:n},{x:i,y:o})},ZL=function(){function t(e){FQ(this,t),this.scale=e}return BQ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ig(ZL,"EPS",1e-4);var FE=function(e){var r=Object.keys(e).reduce(function(n,i){return Jn(Jn({},n),{},Ig({},i,ZL.create(e[i])))},{});return Jn(Jn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return vQ(i,function(c,f){return r[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return HL(i,function(o,s){return r[s].isInRange(o)})}})};function zQ(t){return(t%180+180)%180}var WQ=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=zQ(i),s=o*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Ew,D2;function HQ(){if(D2)return Ew;D2=1;var t=ji(),e=md(),r=ag();function n(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=r(o),s=function(p){return f(c[p],p,c)}}var h=i(o,s,l);return h>-1?c[f?o[h]:h]:void 0}}return Ew=n,Ew}var Sw,L2;function KQ(){if(L2)return Sw;L2=1;var t=UL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Sw=e,Sw}var Tw,$2;function GQ(){if($2)return Tw;$2=1;var t=JM(),e=ji(),r=KQ(),n=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:r(l);return f<0&&(f=n(c+f,0)),t(o,e(s,3),f)}return Tw=i,Tw}var Aw,V2;function XQ(){if(V2)return Aw;V2=1;var t=HQ(),e=GQ(),r=t(e);return Aw=r,Aw}var YQ=XQ();const QQ=ht(YQ);var JQ=pM();const ZQ=ht(JQ);var eJ=ZQ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),BE=q.createContext(void 0),UE=q.createContext(void 0),e$=q.createContext(void 0),t$=q.createContext({}),r$=q.createContext(void 0),n$=q.createContext(0),i$=q.createContext(0),F2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=eJ(o);return W.createElement(BE.Provider,{value:n},W.createElement(UE.Provider,{value:i},W.createElement(t$.Provider,{value:o},W.createElement(e$.Provider,{value:h},W.createElement(r$.Provider,{value:s},W.createElement(n$.Provider,{value:f},W.createElement(i$.Provider,{value:c},l)))))))},tJ=function(){return q.useContext(r$)},o$=function(e){var r=q.useContext(BE);r==null&&xs();var n=r[e];return n==null&&xs(),n},rJ=function(){var e=q.useContext(BE);return Zo(e)},nJ=function(){var e=q.useContext(UE),r=QQ(e,function(n){return HL(n.domain,Number.isFinite)});return r||Zo(e)},a$=function(e){var r=q.useContext(UE);r==null&&xs();var n=r[e];return n==null&&xs(),n},iJ=function(){var e=q.useContext(e$);return e},oJ=function(){return q.useContext(t$)},qE=function(){return q.useContext(i$)},zE=function(){return q.useContext(n$)};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function aJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function uJ(t,e,r){return e&&sJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJ(t,e,r){return e=ym(e),cJ(t,s$()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function cJ(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJ(t)}function fJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z1(t,e)}function Z1(t,e){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z1(t,e)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WE(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=hJ(t,"string");return fl(e)=="symbol"?e:e+""}function hJ(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pJ(t,e){return yJ(t)||vJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function yJ(t){if(Array.isArray(t))return t}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ex.apply(this,arguments)}var _J=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ue(e)?n=e(r):n=W.createElement("line",ex({},r,{className:"recharts-reference-line-line"})),n},bJ=function(e,r,n,i,o,s,l,c,f){var h=o.x,p=o.y,v=o.width,y=o.height;if(n){var w=f.y,x=e.y.apply(w,{position:s});if(xi(f,"discard")&&!e.y.isInRange(x))return null;var b=[{x:h+v,y:x},{x:h,y:x}];return c==="left"?b.reverse():b}if(r){var A=f.x,T=e.x.apply(A,{position:s});if(xi(f,"discard")&&!e.x.isInRange(T))return null;var C=[{x:T,y:p+y},{x:T,y:p}];return l==="top"?C.reverse():C}if(i){var j=f.segment,I=j.map(function(N){return e.apply(N,{position:s})});return xi(f,"discard")&&hQ(I,function(N){return!e.isInRange(N)})?null:I}return null};function wJ(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=tJ(),h=o$(i),p=a$(o),v=iJ();if(!f||!v)return null;ni(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=FE({x:h.scale,y:p.scale}),w=tr(e),x=tr(r),b=n&&n.length===2,A=bJ(y,w,x,b,v,t.position,h.orientation,p.orientation,t);if(!A)return null;var T=pJ(A,2),C=T[0],j=C.x,I=C.y,N=T[1],P=N.x,O=N.y,R=xi(t,"hidden")?"url(#".concat(f,")"):void 0,V=U2(U2({clipPath:R},De(t,!0)),{},{x1:j,y1:I,x2:P,y2:O});return W.createElement(it,{className:Ye("recharts-reference-line",l)},_J(s,V),dr.renderCallByParent(t,qQ({x1:j,y1:I,x2:P,y2:O})))}var HE=function(t){function e(){return aJ(this,e),lJ(this,e,arguments)}return dJ(e,t),uJ(e,[{key:"render",value:function(){return W.createElement(wJ,this.props)}}])}(W.Component);WE(HE,"displayName","ReferenceLine");WE(HE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){Og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function SJ(t,e,r){return e&&EJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e,r){return e=_m(e),AJ(t,l$()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function AJ(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PJ(t)}function PJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function IJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function Og(t,e,r){return e=c$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=OJ(t,"string");return dl(e)=="symbol"?e:e+""}function OJ(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CJ=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=FE({x:i.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},Cg=function(t){function e(){return xJ(this,e),TJ(this,e,arguments)}return IJ(e,t),SJ(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,f=tr(i),h=tr(o);if(ni(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=CJ(this.props);if(!p)return null;var v=p.x,y=p.y,w=this.props,x=w.shape,b=w.className,A=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=W2(W2({clipPath:A},De(this.props,!0)),{},{cx:v,cy:y});return W.createElement(it,{className:Ye("recharts-reference-dot",b)},e.renderDot(x,T),dr.renderCallByParent(this.props,{x:v-s,y:y-s,width:2*s,height:2*s}))}}])}(W.Component);Og(Cg,"displayName","ReferenceDot");Og(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Og(Cg,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ue(t)?r=t(e):r=W.createElement(wg,tx({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nx.apply(this,arguments)}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function H2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d$(n.key),n)}}function NJ(t,e,r){return e&&RJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jJ(t,e,r){return e=bm(e),MJ(t,f$()?Reflect.construct(e,r||[],bm(t).constructor):e.apply(t,r))}function MJ(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DJ(t)}function DJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f$=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(t)}function LJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ix(t,e)}function kg(t,e,r){return e=d$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d$(t){var e=$J(t,"string");return hl(e)=="symbol"?e:e+""}function $J(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VJ=function(e,r,n,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var v=FE({x:h.scale,y:p.scale}),y={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return xi(o,"discard")&&(!v.isInRange(y)||!v.isInRange(w))?null:JL(y,w)},Rg=function(t){function e(){return kJ(this,e),jJ(this,e,arguments)}return LJ(e,t),NJ(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,l=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;ni(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=tr(i),v=tr(o),y=tr(s),w=tr(l),x=this.props.shape;if(!p&&!v&&!y&&!w&&!x)return null;var b=VJ(p,v,y,w,this.props);if(!b&&!x)return null;var A=xi(this.props,"hidden")?"url(#".concat(h,")"):void 0;return W.createElement(it,{className:Ye("recharts-reference-area",c)},e.renderRect(x,K2(K2({clipPath:A},De(this.props,!0)),b)),dr.renderCallByParent(this.props,b))}}])}(W.Component);kg(Rg,"displayName","ReferenceArea");kg(Rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kg(Rg,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ue(t)?r=t(e):r=W.createElement(VE,nx({},e,{className:"recharts-reference-area-rect"})),r});function h$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function FJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return WQ(n,r)}function BJ(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:n?i:o,end:n?i+s:o+l}:{start:n?i+s:o+l,end:n?i:o}}function wm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function UJ(t,e){return h$(t,e+1)}function qJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,p=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:h$(n,f)};var x=c,b,A=function(){return b===void 0&&(b=r(w,x)),b},T=w.coordinate,C=c===0||wm(t,T,A,h,l);C||(c=0,h=s,f+=1),C&&(h=T+t*(A()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){zJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zJ(t,e,r){return e=WJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WJ(t){var e=HJ(t,"string");return Yf(e)=="symbol"?e:e+""}function HJ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(v){var y=o[v],w,x=function(){return w===void 0&&(w=r(y,v)),w};if(v===s-1){var b=t*(y.coordinate+t*x()/2-c);o[v]=y=Ir(Ir({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else o[v]=y=Ir(Ir({},y),{},{tickCoord:y.coordinate});var A=wm(t,y.tickCoord,x,l,c);A&&(c=y.tickCoord-t*(x()/2+i),o[v]=Ir(Ir({},y),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function GJ(t,e,r,n,i,o){var s=(n||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var h=n[l-1],p=r(h,l-1),v=t*(h.coordinate+t*p/2-f);s[l-1]=h=Ir(Ir({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var y=wm(t,h.tickCoord,function(){return p},c,f);y&&(f=h.tickCoord-t*(p/2+i),s[l-1]=Ir(Ir({},h),{},{isShow:!0}))}for(var w=o?l-1:l,x=function(T){var C=s[T],j,I=function(){return j===void 0&&(j=r(C,T)),j};if(T===0){var N=t*(C.coordinate-t*I()/2-c);s[T]=C=Ir(Ir({},C),{},{tickCoord:N<0?C.coordinate-N*t:C.coordinate})}else s[T]=C=Ir(Ir({},C),{},{tickCoord:C.coordinate});var P=wm(t,C.tickCoord,I,c,f);P&&(c=C.tickCoord+t*(I()/2+i),s[T]=Ir(Ir({},C),{},{isShow:!0}))},b=0;b<w;b++)x(b);return s}function KE(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(be(c)||ks.isSsr)return UJ(i,typeof c=="number"&&be(c)?c:0);var v=[],y=l==="top"||l==="bottom"?"width":"height",w=h&&y==="width"?of(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(C,j){var I=Ue(f)?f(C.value,j):C.value;return y==="width"?FJ(of(I,{fontSize:e,letterSpacing:r}),w,p):of(I,{fontSize:e,letterSpacing:r})[y]},b=i.length>=2?$r(i[1].coordinate-i[0].coordinate):1,A=BJ(o,b,y);return c==="equidistantPreserveStart"?qJ(b,A,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=GJ(b,A,x,i,s,c==="preserveStartEnd"):v=KJ(b,A,x,i,s),v.filter(function(T){return T.isShow}))}var XJ=["viewBox"],YJ=["viewBox"],QJ=["ticks"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){GE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pw(t,e){if(t==null)return{};var r=JJ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function eZ(t,e,r){return e&&Y2(t.prototype,e),r&&Y2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tZ(t,e,r){return e=xm(e),rZ(t,p$()?Reflect.construct(e,r||[],xm(t).constructor):e.apply(t,r))}function rZ(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nZ(t)}function nZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}function iZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function GE(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m$(t){var e=oZ(t,"string");return pl(e)=="symbol"?e:e+""}function oZ(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $l=function(t){function e(r){var n;return ZJ(this,e),n=tZ(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return iZ(e,t),eZ(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=Pw(n,XJ),l=this.props,c=l.viewBox,f=Pw(l,YJ);return!Fu(o,c)||!Fu(s,f)||!Fu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,v=i.tickMargin,y,w,x,b,A,T,C=p?-1:1,j=n.tickSize||h,I=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,b=s+ +!p*c,x=b-C*j,T=x-C*v,A=I;break;case"left":x=b=n.coordinate,w=o+ +!p*l,y=w-C*j,A=y-C*v,T=I;break;case"right":x=b=n.coordinate,w=o+ +p*l,y=w+C*j,A=y+C*v,T=I;break;default:y=w=n.coordinate,b=s+ +p*c,x=b+C*j,T=x+C*v,A=I;break}return{line:{x1:y,y1:x,x2:w,y2:b},tick:{x:A,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,p=Lr(Lr(Lr({},De(this.props,!1)),De(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=Lr(Lr({},p),{},{x1:i,y1:o+v*l,x2:i+s,y2:o+v*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);p=Lr(Lr({},p),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+l})}return W.createElement("line",Lu({},p,{className:Ye("recharts-cartesian-axis-line",pn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,v=l.unit,y=KE(Lr(Lr({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=De(this.props,!1),A=De(h,!1),T=Lr(Lr({},b),{},{fill:"none"},De(c,!1)),C=y.map(function(j,I){var N=s.getTickLineCoord(j),P=N.line,O=N.tick,R=Lr(Lr(Lr(Lr({textAnchor:w,verticalAnchor:x},b),{},{stroke:"none",fill:f},A),O),{},{index:I,payload:j,visibleTicksCount:y.length,tickFormatter:p});return W.createElement(it,Lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},_s(s.props,j,I)),c&&W.createElement("line",Lu({},T,P,{className:Ye("recharts-cartesian-axis-tick-line",pn(c,"className"))})),h&&e.renderTickItem(h,R,"".concat(Ue(p)?p(j.value,I):j.value).concat(v||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,v=p.ticks,y=Pw(p,QJ),w=v;return Ue(c)&&(w=v&&v.length>0?c(this.props):c(y)),s<=0||l<=0||!w||!w.length?null:W.createElement(it,{className:Ye("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),dr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ue(n)?s=n(i):s=W.createElement(bs,Lu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(q.Component);GE($l,"displayName","CartesianAxis");GE($l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var aZ=["x1","y1","x2","y2","key"],sZ=["offset"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){uZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uZ(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=cZ(t,"string");return Es(e)=="symbol"?e:e+""}function cZ(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs.apply(this,arguments)}function J2(t,e){if(t==null)return{};var r=fZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dZ=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return W.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function g$(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ue(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=J2(e,aZ),f=De(c,!1);f.offset;var h=J2(f,sZ);r=W.createElement("line",cs({},h,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function hZ(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Cr(Cr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return g$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pZ(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Cr(Cr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return g$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mZ(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==h[0]&&h.unshift(0);var p=h.map(function(v,y){var w=!h[y+1],x=w?i+s-v:h[y+1]-v;if(x<=0)return null;var b=y%e.length;return W.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:x,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function gZ(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,y){return v-y});o!==h[0]&&h.unshift(0);var p=h.map(function(v,y){var w=!h[y+1],x=w?o+l-v:h[y+1]-v;if(x<=0)return null;var b=y%n.length;return W.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:x,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var vZ=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return gL(KE(Cr(Cr(Cr({},$l.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},yZ=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return gL(KE(Cr(Cr(Cr({},$l.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},Ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vp(t){var e,r,n,i,o,s,l=qE(),c=zE(),f=oJ(),h=Cr(Cr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ou.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ou.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ou.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ou.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ou.verticalFill,x:be(t.x)?t.x:f.left,y:be(t.y)?t.y:f.top,width:be(t.width)?t.width:f.width,height:be(t.height)?t.height:f.height}),p=h.x,v=h.y,y=h.width,w=h.height,x=h.syncWithTicks,b=h.horizontalValues,A=h.verticalValues,T=rJ(),C=nJ();if(!be(y)||y<=0||!be(w)||w<=0||!be(p)||p!==+p||!be(v)||v!==+v)return null;var j=h.verticalCoordinatesGenerator||vZ,I=h.horizontalCoordinatesGenerator||yZ,N=h.horizontalPoints,P=h.verticalPoints;if((!N||!N.length)&&Ue(I)){var O=b&&b.length,R=I({yAxis:C?Cr(Cr({},C),{},{ticks:O?b:C.ticks}):void 0,width:l,height:c,offset:f},O?!0:x);ni(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Es(R),"]")),Array.isArray(R)&&(N=R)}if((!P||!P.length)&&Ue(j)){var V=A&&A.length,M=j({xAxis:T?Cr(Cr({},T),{},{ticks:V?A:T.ticks}):void 0,width:l,height:c,offset:f},V?!0:x);ni(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Es(M),"]")),Array.isArray(M)&&(P=M)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(dZ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),W.createElement(hZ,cs({},h,{offset:f,horizontalPoints:N,xAxis:T,yAxis:C})),W.createElement(pZ,cs({},h,{offset:f,verticalPoints:P,xAxis:T,yAxis:C})),W.createElement(mZ,cs({},h,{horizontalPoints:N})),W.createElement(gZ,cs({},h,{verticalPoints:P})))}vp.displayName="CartesianGrid";var _Z=["layout","type","stroke","connectNulls","isRange","ref"],bZ=["key"],v$;function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function y$(t,e){if(t==null)return{};var r=wZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b$(n.key),n)}}function EZ(t,e,r){return e&&eN(t.prototype,e),r&&eN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SZ(t,e,r){return e=Em(e),TZ(t,_$()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function TZ(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AZ(t)}function AZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function PZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ax(t,e)}function ax(t,e){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ax(t,e)}function bi(t,e,r){return e=b$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){var e=IZ(t,"string");return ml(e)=="symbol"?e:e+""}function IZ(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ta=function(t){function e(){var r;xZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=SZ(this,e,[].concat(i)),bi(r,"state",{isAnimationFinished:!0}),bi(r,"id",Nl("recharts-area-")),bi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ue(s)&&s()}),bi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ue(s)&&s()}),r}return PZ(e,t),EZ(e,[{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,v=De(this.props,!1),y=De(f,!0),w=h.map(function(b,A){var T=Qo(Qo(Qo({key:"dot-".concat(A),r:3},v),y),{},{index:A,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:h});return e.renderDotItem(f,T)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return W.createElement(it,fs({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,h=n*Math.abs(c-f),p=ia(s.map(function(v){return v.y||0}));return be(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.y||0})),p)),be(p)?W.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,h=n*Math.abs(c-f),p=ia(s.map(function(v){return v.x||0}));return be(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.x||0})),p)),be(p)?W.createElement("rect",{x:0,y:c<f?c:c-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,s){var l=this.props,c=l.layout,f=l.type,h=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var y=y$(l,_Z);return W.createElement(it,{clipPath:o?"url(#clipPath-".concat(s,")"):null},W.createElement(qu,fs({},De(y,!0),{points:n,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&W.createElement(qu,fs({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:n})),h!=="none"&&v&&W.createElement(qu,fs({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,p=s.animationDuration,v=s.animationEasing,y=s.animationId,w=this.state,x=w.prevPoints,b=w.prevBaseLine;return W.createElement(Oi,{begin:h,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var T=A.t;if(x){var C=x.length/l.length,j=l.map(function(O,R){var V=Math.floor(R*C);if(x[V]){var M=x[V],F=Qr(M.x,O.x),D=Qr(M.y,O.y);return Qo(Qo({},O),{},{x:F(T),y:D(T)})}return O}),I;if(be(c)&&typeof c=="number"){var N=Qr(b,c);I=N(T)}else if(Xe(c)||Rl(c)){var P=Qr(b,0);I=P(T)}else I=c.map(function(O,R){var V=Math.floor(R*C);if(b[V]){var M=b[V],F=Qr(M.x,O.x),D=Qr(M.y,O.y);return Qo(Qo({},O),{},{x:F(T),y:D(T)})}return O});return o.renderAreaStatically(j,I,n,i)}return W.createElement(it,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(T))),W.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,h=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return c&&s&&s.length&&(!h&&v>0||!rl(h,s)||!rl(p,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,p=i.xAxis,v=i.yAxis,y=i.width,w=i.height,x=i.isAnimationActive,b=i.id;if(o||!l||!l.length)return null;var A=this.state.isAnimationFinished,T=l.length===1,C=Ye("recharts-area",c),j=p&&p.allowDataOverflow,I=v&&v.allowDataOverflow,N=j||I,P=Xe(b)?this.id:b,O=(n=De(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=O.r,V=R===void 0?3:R,M=O.strokeWidth,F=M===void 0?2:M,D=cB(s)?s:{},Z=D.clipDot,K=Z===void 0?!0:Z,J=V*2+F;return W.createElement(it,{className:C},j||I?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:j?h:h-y/2,y:I?f:f-w/2,width:j?y:y*2,height:I?w:w*2})),!K&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:h-J/2,y:f-J/2,width:y+J,height:w+J}))):null,T?null:this.renderArea(N,P),(s||T)&&this.renderDots(N,K,P),(!x||A)&&uo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(q.PureComponent);v$=Ta;bi(Ta,"displayName","Area");bi(Ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(Ta,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(be(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});bi(Ta,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,v=t.offset,y=e.layout,w=f&&f.length,x=v$.getBaseValue(e,r,n,i),b=y==="horizontal",A=!1,T=p.map(function(j,I){var N;w?N=f[h+I]:(N=Zt(j,c),Array.isArray(N)?A=!0:N=[x,N]);var P=N[1]==null||w&&Zt(j,c)==null;return b?{x:iR({axis:n,ticks:o,bandSize:l,entry:j,index:I}),y:P?null:i.scale(N[1]),value:N,payload:j}:{x:P?null:n.scale(N[1]),y:iR({axis:i,ticks:s,bandSize:l,entry:j,index:I}),value:N,payload:j}}),C;return w||A?C=T.map(function(j){var I=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:I!=null&&j.y!=null?i.scale(I):null}:{x:I!=null?n.scale(I):null,y:j.y}}):C=b?i.scale(x):n.scale(x),Qo({points:T,baseLine:C,layout:y,isRange:A},v)});bi(Ta,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ue(t))r=t(e);else{var n=Ye("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=y$(e,bZ);r=W.createElement(wg,fs({},o,{key:i,className:n}))}return r});function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function OZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function kZ(t,e,r){return e&&CZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RZ(t,e,r){return e=Sm(e),NZ(t,w$()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function NZ(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jZ(t)}function jZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function MZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(t,e)}function x$(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=DZ(t,"string");return gl(e)=="symbol"?e:e+""}function DZ(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}function LZ(t){var e=t.xAxisId,r=qE(),n=zE(),i=o$(e);return i==null?null:W.createElement($l,ux({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ro(s,!0)}}))}var gs=function(t){function e(){return OZ(this,e),RZ(this,e,arguments)}return MZ(e,t),kZ(e,[{key:"render",value:function(){return W.createElement(LZ,this.props)}}])}(W.Component);x$(gs,"displayName","XAxis");x$(gs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function $Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function FZ(t,e,r){return e&&VZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BZ(t,e,r){return e=Tm(e),UZ(t,S$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function UZ(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qZ(t)}function qZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function zZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lx(t,e)}function T$(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=WZ(t,"string");return vl(e)=="symbol"?e:e+""}function WZ(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}var HZ=function(e){var r=e.yAxisId,n=qE(),i=zE(),o=a$(r);return o==null?null:W.createElement($l,cx({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return ro(l,!0)}}))},vs=function(t){function e(){return $Z(this,e),BZ(this,e,arguments)}return zZ(e,t),FZ(e,[{key:"render",value:function(){return W.createElement(HZ,this.props)}}])}(W.Component);T$(vs,"displayName","YAxis");T$(vs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tN(t){return YZ(t)||XZ(t)||GZ(t)||KZ()}function KZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GZ(t,e){if(t){if(typeof t=="string")return fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(t,e)}}function XZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YZ(t){if(Array.isArray(t))return fx(t)}function fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dx=function(e,r,n,i,o){var s=kn(e,HE),l=kn(e,Cg),c=[].concat(tN(s),tN(l)),f=kn(e,Rg),h="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(x,b){if(b.props[h]===n&&xi(b.props,"extendDomain")&&be(b.props[p])){var A=b.props[p];return[Math.min(x[0],A),Math.max(x[1],A)]}return x},v)),f.length){var y="".concat(p,"1"),w="".concat(p,"2");v=f.reduce(function(x,b){if(b.props[h]===n&&xi(b.props,"extendDomain")&&be(b.props[y])&&be(b.props[w])){var A=b.props[y],T=b.props[w];return[Math.min(x[0],A,T),Math.max(x[1],A,T)]}return x},v)}return o&&o.length&&(v=o.reduce(function(x,b){return be(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},v)),v},Iw={exports:{}},rN;function QZ(){return rN||(rN=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,p||c,v),w=r?r+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,v,y,w){var x=r?r+f:f;if(!this._events[x])return!1;var b=this._events[x],A=arguments.length,T,C;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),A){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,p),!0;case 4:return b.fn.call(b.context,h,p,v),!0;case 5:return b.fn.call(b.context,h,p,v,y),!0;case 6:return b.fn.call(b.context,h,p,v,y,w),!0}for(C=1,T=new Array(A-1);C<A;C++)T[C-1]=arguments[C];b.fn.apply(b.context,T)}else{var j=b.length,I;for(C=0;C<j;C++)switch(b[C].once&&this.removeListener(f,b[C].fn,void 0,!0),A){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,h);break;case 3:b[C].fn.call(b[C].context,h,p);break;case 4:b[C].fn.call(b[C].context,h,p,v);break;default:if(!T)for(I=1,T=new Array(A-1);I<A;I++)T[I-1]=arguments[I];b[C].fn.apply(b[C].context,T)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,v){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!v||w.once)&&(!p||w.context===p)&&s(this,y);else{for(var x=0,b=[],A=w.length;x<A;x++)(w[x].fn!==h||v&&!w[x].once||p&&w[x].context!==p)&&b.push(w[x]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Iw)),Iw.exports}var JZ=QZ();const ZZ=ht(JZ);var Ow=new ZZ,Cw="recharts.syncMouseEvents";function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function eee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function ree(t,e,r){return e&&tee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kw(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=nee(t,"string");return Qf(e)=="symbol"?e:e+""}function nee(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iee=function(){function t(){eee(this,t),kw(this,"activeIndex",0),kw(this,"coordinateList",[]),kw(this,"layout","horizontal")}return ree(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,p=h===void 0?null:h,v=r.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,v=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])}();function oee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&be(n)&&be(i))return!0}return!1}function aee(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function I$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=St(e,r,n,i),l=St(e,r,n,o);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function see(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,v=St(l,c,f,p),y=St(l,c,h,p);n=v.x,i=v.y,o=y.x,s=y.y}else return I$(e);return[{x:n,y:i},{x:o,y:s}]}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){uee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uee(t,e,r){return e=lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lee(t){var e=cee(t,"string");return Jf(e)=="symbol"?e:e+""}function cee(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fee(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var w,x=qu;if(v==="ScatterChart")w=s,x=DX;else if(v==="BarChart")w=aee(p,s,c,h),x=VE;else if(p==="radial"){var b=I$(s),A=b.cx,T=b.cy,C=b.radius,j=b.startAngle,I=b.endAngle;w={cx:A,cy:T,startAngle:j,endAngle:I,innerRadius:C,outerRadius:C},x=PL}else w={points:see(p,s,c)},x=qu;var N=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},c),w),De(y,!1)),{},{payload:l,payloadIndex:f,className:Ye("recharts-tooltip-cursor",y.className)});return q.isValidElement(y)?q.cloneElement(y,N):q.createElement(x,N)}var dee=["item"],hee=["children","className","width","height","style","compact","title","desc"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function iN(t,e){return gee(t)||mee(t,e)||C$(t,e)||pee()}function pee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function gee(t){if(Array.isArray(t))return t}function oN(t,e){if(t==null)return{};var r=vee(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k$(n.key),n)}}function bee(t,e,r){return e&&_ee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wee(t,e,r){return e=Am(e),xee(t,O$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function xee(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eee(t)}function Eee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function See(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hx(t,e)}function hx(t,e){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hx(t,e)}function _l(t){return Pee(t)||Aee(t)||C$(t)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C$(t,e){if(t){if(typeof t=="string")return px(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(t,e)}}function Aee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pee(t){if(Array.isArray(t))return px(t)}function px(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(r),!0).forEach(function(n){Be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Be(t,e,r){return e=k$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k$(t){var e=Iee(t,"string");return yl(e)=="symbol"?e:e+""}function Iee(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oee={xAxis:["bottom","top"],yAxis:["left","right"]},Cee={width:"100%",height:"100%"},R$={x:0,y:0};function ap(t){return t}var kee=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ree=function(e,r,n,i){var o=r.find(function(h){return h&&h.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return fe(fe(fe({},i),St(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return fe(fe(fe({},i),St(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return R$},Ng=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(_l(l),_l(f)):l},[]);return s.length>0?s:e&&e.length&&be(i)&&be(o)?e.slice(i,o+1):[]};function N$(t){return t==="number"?[0,"auto"]:void 0}var mx=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,l=Ng(r,e);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var y=p===void 0?l:p;v=Cp(y,s.dataKey,i)}else v=p&&p[n]||l[n];return v?[].concat(_l(c),[wL(f,v)]):c},[])},sN=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=kee(o,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=sH(s,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,v=mx(e,r,h,p),y=Ree(n,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:v,activeCoordinate:y}}return null},Nee=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=e.stackOffset,y=mL(h,o);return n.reduce(function(w,x){var b,A=x.type.defaultProps!==void 0?fe(fe({},x.type.defaultProps),x.props):x.props,T=A.type,C=A.dataKey,j=A.allowDataOverflow,I=A.allowDuplicatedCategory,N=A.scale,P=A.ticks,O=A.includeHidden,R=A[s];if(w[R])return w;var V=Ng(e.data,{graphicalItems:i.filter(function(G){var ue,ve=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s];return ve===R}),dataStartIndex:c,dataEndIndex:f}),M=V.length,F,D,Z;oee(A.domain,j,T)&&(F=C1(A.domain,null,j),y&&(T==="number"||N!=="auto")&&(Z=sf(V,C,"category")));var K=N$(T);if(!F||F.length===0){var J,oe=(J=A.domain)!==null&&J!==void 0?J:K;if(C){if(F=sf(V,C,T),T==="category"&&y){var Q=eB(F);I&&Q?(D=F,F=hm(0,M)):I||(F=uR(oe,F,x).reduce(function(G,ue){return G.indexOf(ue)>=0?G:[].concat(_l(G),[ue])},[]))}else if(T==="category")I?F=F.filter(function(G){return G!==""&&!Xe(G)}):F=uR(oe,F,x).reduce(function(G,ue){return G.indexOf(ue)>=0||ue===""||Xe(ue)?G:[].concat(_l(G),[ue])},[]);else if(T==="number"){var se=dH(V,i.filter(function(G){var ue,ve,ie=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s],ce="hide"in G.props?G.props.hide:(ve=G.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return ie===R&&(O||!ce)}),C,o,h);se&&(F=se)}y&&(T==="number"||N!=="auto")&&(Z=sf(V,C,"category"))}else y?F=hm(0,M):l&&l[R]&&l[R].hasStack&&T==="number"?F=v==="expand"?[0,1]:bL(l[R].stackGroups,c,f):F=pL(V,i.filter(function(G){var ue=s in G.props?G.props[s]:G.type.defaultProps[s],ve="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ue===R&&(O||!ve)}),T,h,!0);if(T==="number")F=dx(p,F,R,o,P),oe&&(F=C1(oe,F,j));else if(T==="category"&&oe){var H=oe,U=F.every(function(G){return H.indexOf(G)>=0});U&&(F=H)}}return fe(fe({},w),{},Be({},R,fe(fe({},A),{},{axisType:o,domain:F,categoricalDomain:Z,duplicateDomain:D,originalDomain:(b=A.domain)!==null&&b!==void 0?b:K,isCategorical:y,layout:h})))},{})},jee=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=Ng(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),y=v.length,w=mL(h,o),x=-1;return n.reduce(function(b,A){var T=A.type.defaultProps!==void 0?fe(fe({},A.type.defaultProps),A.props):A.props,C=T[s],j=N$("number");if(!b[C]){x++;var I;return w?I=hm(0,y):l&&l[C]&&l[C].hasStack?(I=bL(l[C].stackGroups,c,f),I=dx(p,I,C,o)):(I=C1(j,pL(v,n.filter(function(N){var P,O,R=s in N.props?N.props[s]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[s],V="hide"in N.props?N.props.hide:(O=N.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===C&&!V}),"number",h),i.defaultProps.allowDataOverflow),I=dx(p,I,C,o)),fe(fe({},b),{},Be({},C,fe(fe({axisType:o},i.defaultProps),{},{hide:!0,orientation:pn(Oee,"".concat(o,".").concat(x%2),null),domain:I,originalDomain:j,isCategorical:w,layout:h})))}return b},{})},Mee=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),v=kn(h,o),y={};return v&&v.length?y=Nee(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=jee(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},Dee=function(e){var r=Zo(e),n=ro(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tm(r,n)}},uN=function(e){var r=e.children,n=e.defaultShowTooltip,i=cn(r,ll),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Lee=function(e){return!e||!e.length?!1:e.some(function(r){var n=ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},lN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$ee=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=n.width,h=n.height,p=n.children,v=n.margin||{},y=cn(p,ll),w=cn(p,hs),x=Object.keys(c).reduce(function(I,N){var P=c[N],O=P.orientation;return!P.mirror&&!P.hide?fe(fe({},I),{},Be({},O,I[O]+P.width)):I},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(I,N){var P=s[N],O=P.orientation;return!P.mirror&&!P.hide?fe(fe({},I),{},Be({},O,pn(I,"".concat(O))+P.height)):I},{top:v.top||0,bottom:v.bottom||0}),A=fe(fe({},b),x),T=A.bottom;y&&(A.bottom+=y.props.height||ll.defaultProps.height),w&&r&&(A=cH(A,i,n,r));var C=f-A.left-A.right,j=h-A.top-A.bottom;return fe(fe({brushBottom:T},A),{},{width:Math.max(C,0),height:Math.max(j,0)})},Vee=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},XE=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,v=function(A,T){var C=T.graphicalItems,j=T.stackGroups,I=T.offset,N=T.updateId,P=T.dataStartIndex,O=T.dataEndIndex,R=A.barSize,V=A.layout,M=A.barGap,F=A.barCategoryGap,D=A.maxBarSize,Z=lN(V),K=Z.numericAxisName,J=Z.cateAxisName,oe=Lee(C),Q=[];return C.forEach(function(se,H){var U=Ng(A.data,{graphicalItems:[se],dataStartIndex:P,dataEndIndex:O}),G=se.type.defaultProps!==void 0?fe(fe({},se.type.defaultProps),se.props):se.props,ue=G.dataKey,ve=G.maxBarSize,ie=G["".concat(K,"Id")],ce=G["".concat(J,"Id")],pe={},Se=c.reduce(function(Ht,en){var ai=T["".concat(en.axisType,"Map")],Mi=G["".concat(en.axisType,"Id")];ai&&ai[Mi]||en.axisType==="zAxis"||xs();var To=ai[Mi];return fe(fe({},Ht),{},Be(Be({},en.axisType,To),"".concat(en.axisType,"Ticks"),ro(To)))},pe),de=Se[J],Te=Se["".concat(J,"Ticks")],xe=j&&j[ie]&&j[ie].hasStack&&wH(se,j[ie].stackGroups),te=ao(se.type).indexOf("Bar")>=0,Me=tm(de,Te),Ae=[],ke=oe&&uH({barSize:R,stackGroups:j,totalSize:Vee(Se,J)});if(te){var He,at,st=Xe(ve)?D:ve,pt=(He=(at=tm(de,Te,!0))!==null&&at!==void 0?at:st)!==null&&He!==void 0?He:0;Ae=lH({barGap:M,barCategoryGap:F,bandSize:pt!==Me?pt:Me,sizeList:ke[ce],maxBarSize:st}),pt!==Me&&(Ae=Ae.map(function(Ht){return fe(fe({},Ht),{},{position:fe(fe({},Ht.position),{},{offset:Ht.position.offset-pt/2})})}))}var Ft=se&&se.type&&se.type.getComposedData;Ft&&Q.push({props:fe(fe({},Ft(fe(fe({},Se),{},{displayedData:U,props:A,dataKey:ue,item:se,bandSize:Me,barPosition:Ae,offset:I,stackedData:xe,layout:V,dataStartIndex:P,dataEndIndex:O}))),{},Be(Be(Be({key:se.key||"item-".concat(H)},K,Se[K]),J,Se[J]),"animationId",N)),childIndex:hB(se,A.children),item:se})}),Q},y=function(A,T){var C=A.props,j=A.dataStartIndex,I=A.dataEndIndex,N=A.updateId;if(!xI({props:C}))return null;var P=C.children,O=C.layout,R=C.stackOffset,V=C.data,M=C.reverseStackOrder,F=lN(O),D=F.numericAxisName,Z=F.cateAxisName,K=kn(P,n),J=_H(V,K,"".concat(D,"Id"),"".concat(Z,"Id"),R,M),oe=c.reduce(function(G,ue){var ve="".concat(ue.axisType,"Map");return fe(fe({},G),{},Be({},ve,Mee(C,fe(fe({},ue),{},{graphicalItems:K,stackGroups:ue.axisType===D&&J,dataStartIndex:j,dataEndIndex:I}))))},{}),Q=$ee(fe(fe({},oe),{},{props:C,graphicalItems:K}),T==null?void 0:T.legendBBox);Object.keys(oe).forEach(function(G){oe[G]=h(C,oe[G],Q,G.replace("Map",""),r)});var se=oe["".concat(Z,"Map")],H=Dee(se),U=v(C,fe(fe({},oe),{},{dataStartIndex:j,dataEndIndex:I,updateId:N,graphicalItems:K,stackGroups:J,offset:Q}));return fe(fe({formattedGraphicalItems:U,graphicalItems:K,offset:Q,stackGroups:J},H),oe)},w=function(b){function A(T){var C,j,I;return yee(this,A),I=wee(this,A,[T]),Be(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(I,"accessibilityManager",new iee),Be(I,"handleLegendBBoxUpdate",function(N){if(N){var P=I.state,O=P.dataStartIndex,R=P.dataEndIndex,V=P.updateId;I.setState(fe({legendBBox:N},y({props:I.props,dataStartIndex:O,dataEndIndex:R,updateId:V},fe(fe({},I.state),{},{legendBBox:N}))))}}),Be(I,"handleReceiveSyncEvent",function(N,P,O){if(I.props.syncId===N){if(O===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(P)}}),Be(I,"handleBrushChange",function(N){var P=N.startIndex,O=N.endIndex;if(P!==I.state.dataStartIndex||O!==I.state.dataEndIndex){var R=I.state.updateId;I.setState(function(){return fe({dataStartIndex:P,dataEndIndex:O},y({props:I.props,dataStartIndex:P,dataEndIndex:O,updateId:R},I.state))}),I.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),Be(I,"handleMouseEnter",function(N){var P=I.getMouseInfo(N);if(P){var O=fe(fe({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var R=I.props.onMouseEnter;Ue(R)&&R(O,N)}}),Be(I,"triggeredAfterMouseMove",function(N){var P=I.getMouseInfo(N),O=P?fe(fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(O),I.triggerSyncEvent(O);var R=I.props.onMouseMove;Ue(R)&&R(O,N)}),Be(I,"handleItemMouseEnter",function(N){I.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Be(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),Be(I,"handleMouseMove",function(N){N.persist(),I.throttleTriggeredAfterMouseMove(N)}),Be(I,"handleMouseLeave",function(N){I.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var O=I.props.onMouseLeave;Ue(O)&&O(P,N)}),Be(I,"handleOuterEvent",function(N){var P=dB(N),O=pn(I.props,"".concat(P));if(P&&Ue(O)){var R,V;/.*touch.*/i.test(P)?V=I.getMouseInfo(N.changedTouches[0]):V=I.getMouseInfo(N),O((R=V)!==null&&R!==void 0?R:{},N)}}),Be(I,"handleClick",function(N){var P=I.getMouseInfo(N);if(P){var O=fe(fe({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var R=I.props.onClick;Ue(R)&&R(O,N)}}),Be(I,"handleMouseDown",function(N){var P=I.props.onMouseDown;if(Ue(P)){var O=I.getMouseInfo(N);P(O,N)}}),Be(I,"handleMouseUp",function(N){var P=I.props.onMouseUp;if(Ue(P)){var O=I.getMouseInfo(N);P(O,N)}}),Be(I,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Be(I,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseDown(N.changedTouches[0])}),Be(I,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseUp(N.changedTouches[0])}),Be(I,"handleDoubleClick",function(N){var P=I.props.onDoubleClick;if(Ue(P)){var O=I.getMouseInfo(N);P(O,N)}}),Be(I,"handleContextMenu",function(N){var P=I.props.onContextMenu;if(Ue(P)){var O=I.getMouseInfo(N);P(O,N)}}),Be(I,"triggerSyncEvent",function(N){I.props.syncId!==void 0&&Ow.emit(Cw,I.props.syncId,N,I.eventEmitterSymbol)}),Be(I,"applySyncEvent",function(N){var P=I.props,O=P.layout,R=P.syncMethod,V=I.state.updateId,M=N.dataStartIndex,F=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)I.setState(fe({dataStartIndex:M,dataEndIndex:F},y({props:I.props,dataStartIndex:M,dataEndIndex:F,updateId:V},I.state)));else if(N.activeTooltipIndex!==void 0){var D=N.chartX,Z=N.chartY,K=N.activeTooltipIndex,J=I.state,oe=J.offset,Q=J.tooltipTicks;if(!oe)return;if(typeof R=="function")K=R(Q,N);else if(R==="value"){K=-1;for(var se=0;se<Q.length;se++)if(Q[se].value===N.activeLabel){K=se;break}}var H=fe(fe({},oe),{},{x:oe.left,y:oe.top}),U=Math.min(D,H.x+H.width),G=Math.min(Z,H.y+H.height),ue=Q[K]&&Q[K].value,ve=mx(I.state,I.props.data,K),ie=Q[K]?{x:O==="horizontal"?Q[K].coordinate:U,y:O==="horizontal"?G:Q[K].coordinate}:R$;I.setState(fe(fe({},N),{},{activeLabel:ue,activeCoordinate:ie,activePayload:ve,activeTooltipIndex:K}))}else I.setState(N)}),Be(I,"renderCursor",function(N){var P,O=I.state,R=O.isTooltipActive,V=O.activeCoordinate,M=O.activePayload,F=O.offset,D=O.activeTooltipIndex,Z=O.tooltipAxisBandSize,K=I.getTooltipEventType(),J=(P=N.props.active)!==null&&P!==void 0?P:R,oe=I.props.layout,Q=N.key||"_recharts-cursor";return W.createElement(fee,{key:Q,activeCoordinate:V,activePayload:M,activeTooltipIndex:D,chartName:r,element:N,isActive:J,layout:oe,offset:F,tooltipAxisBandSize:Z,tooltipEventType:K})}),Be(I,"renderPolarAxis",function(N,P,O){var R=pn(N,"type.axisType"),V=pn(I.state,"".concat(R,"Map")),M=N.type.defaultProps,F=M!==void 0?fe(fe({},M),N.props):N.props,D=V&&V[F["".concat(R,"Id")]];return q.cloneElement(N,fe(fe({},D),{},{className:Ye(R,D.className),key:N.key||"".concat(P,"-").concat(O),ticks:ro(D,!0)}))}),Be(I,"renderPolarGrid",function(N){var P=N.props,O=P.radialLines,R=P.polarAngles,V=P.polarRadius,M=I.state,F=M.radiusAxisMap,D=M.angleAxisMap,Z=Zo(F),K=Zo(D),J=K.cx,oe=K.cy,Q=K.innerRadius,se=K.outerRadius;return q.cloneElement(N,{polarAngles:Array.isArray(R)?R:ro(K,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(V)?V:ro(Z,!0).map(function(H){return H.coordinate}),cx:J,cy:oe,innerRadius:Q,outerRadius:se,key:N.key||"polar-grid",radialLines:O})}),Be(I,"renderLegend",function(){var N=I.state.formattedGraphicalItems,P=I.props,O=P.children,R=P.width,V=P.height,M=I.props.margin||{},F=R-(M.left||0)-(M.right||0),D=dL({children:O,formattedGraphicalItems:N,legendWidth:F,legendContent:f});if(!D)return null;var Z=D.item,K=oN(D,dee);return q.cloneElement(Z,fe(fe({},K),{},{chartWidth:R,chartHeight:V,margin:M,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),Be(I,"renderTooltip",function(){var N,P=I.props,O=P.children,R=P.accessibilityLayer,V=cn(O,fn);if(!V)return null;var M=I.state,F=M.isTooltipActive,D=M.activeCoordinate,Z=M.activePayload,K=M.activeLabel,J=M.offset,oe=(N=V.props.active)!==null&&N!==void 0?N:F;return q.cloneElement(V,{viewBox:fe(fe({},J),{},{x:J.left,y:J.top}),active:oe,label:K,payload:oe?Z:[],coordinate:D,accessibilityLayer:R})}),Be(I,"renderBrush",function(N){var P=I.props,O=P.margin,R=P.data,V=I.state,M=V.offset,F=V.dataStartIndex,D=V.dataEndIndex,Z=V.updateId;return q.cloneElement(N,{key:N.key||"_recharts-brush",onChange:tp(I.handleBrushChange,N.props.onChange),data:R,x:be(N.props.x)?N.props.x:M.left,y:be(N.props.y)?N.props.y:M.top+M.height+M.brushBottom-(O.bottom||0),width:be(N.props.width)?N.props.width:M.width,startIndex:F,endIndex:D,updateId:"brush-".concat(Z)})}),Be(I,"renderReferenceElement",function(N,P,O){if(!N)return null;var R=I,V=R.clipPathId,M=I.state,F=M.xAxisMap,D=M.yAxisMap,Z=M.offset,K=N.type.defaultProps||{},J=N.props,oe=J.xAxisId,Q=oe===void 0?K.xAxisId:oe,se=J.yAxisId,H=se===void 0?K.yAxisId:se;return q.cloneElement(N,{key:N.key||"".concat(P,"-").concat(O),xAxis:F[Q],yAxis:D[H],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:V})}),Be(I,"renderActivePoints",function(N){var P=N.item,O=N.activePoint,R=N.basePoint,V=N.childIndex,M=N.isRange,F=[],D=P.props.key,Z=P.item.type.defaultProps!==void 0?fe(fe({},P.item.type.defaultProps),P.item.props):P.item.props,K=Z.activeDot,J=Z.dataKey,oe=fe(fe({index:V,dataKey:J,cx:O.x,cy:O.y,r:4,fill:$E(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},De(K,!1)),kp(K));return F.push(A.renderActiveDot(K,oe,"".concat(D,"-activePoint-").concat(V))),R?F.push(A.renderActiveDot(K,fe(fe({},oe),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(V))):M&&F.push(null),F}),Be(I,"renderGraphicChild",function(N,P,O){var R=I.filterFormatItem(N,P,O);if(!R)return null;var V=I.getTooltipEventType(),M=I.state,F=M.isTooltipActive,D=M.tooltipAxis,Z=M.activeTooltipIndex,K=M.activeLabel,J=I.props.children,oe=cn(J,fn),Q=R.props,se=Q.points,H=Q.isRange,U=Q.baseLine,G=R.item.type.defaultProps!==void 0?fe(fe({},R.item.type.defaultProps),R.item.props):R.item.props,ue=G.activeDot,ve=G.hide,ie=G.activeBar,ce=G.activeShape,pe=!!(!ve&&F&&oe&&(ue||ie||ce)),Se={};V!=="axis"&&oe&&oe.props.trigger==="click"?Se={onClick:tp(I.handleItemMouseEnter,N.props.onClick)}:V!=="axis"&&(Se={onMouseLeave:tp(I.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:tp(I.handleItemMouseEnter,N.props.onMouseEnter)});var de=q.cloneElement(N,fe(fe({},R.props),Se));function Te(en){return typeof D.dataKey=="function"?D.dataKey(en.payload):null}if(pe)if(Z>=0){var xe,te;if(D.dataKey&&!D.allowDuplicatedCategory){var Me=typeof D.dataKey=="function"?Te:"payload.".concat(D.dataKey.toString());xe=Cp(se,Me,K),te=H&&U&&Cp(U,Me,K)}else xe=se==null?void 0:se[Z],te=H&&U&&U[Z];if(ce||ie){var Ae=N.props.activeIndex!==void 0?N.props.activeIndex:Z;return[q.cloneElement(N,fe(fe(fe({},R.props),Se),{},{activeIndex:Ae})),null,null]}if(!Xe(xe))return[de].concat(_l(I.renderActivePoints({item:R,activePoint:xe,basePoint:te,childIndex:Z,isRange:H})))}else{var ke,He=(ke=I.getItemByXY(I.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:de},at=He.graphicalItem,st=at.item,pt=st===void 0?N:st,Ft=at.childIndex,Ht=fe(fe(fe({},R.props),Se),{},{activeIndex:Ft});return[q.cloneElement(pt,Ht),null,null]}return H?[de,null,null]:[de,null]}),Be(I,"renderCustomized",function(N,P,O){return q.cloneElement(N,fe(fe({key:"recharts-customized-".concat(O)},I.props),I.state))}),Be(I,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((C=T.id)!==null&&C!==void 0?C:Nl("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=fD(I.triggeredAfterMouseMove,(j=T.throttleDelay)!==null&&j!==void 0?j:1e3/60),I.state={},I}return See(A,b),bee(A,[{key:"componentDidMount",value:function(){var C,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,j=C.children,I=C.data,N=C.height,P=C.layout,O=cn(j,fn);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=mx(this.state,I,R,V),F=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+N)/2,Z=P==="horizontal",K=Z?{x:F,y:D}:{y:F,x:D},J=this.state.formattedGraphicalItems.find(function(Q){var se=Q.item;return se.type.name==="Scatter"});J&&(K=fe(fe({},K),J.props.points[R].tooltipPosition),M=J.props.points[R].tooltipPayload);var oe={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:V,activePayload:M,activeCoordinate:K};this.setState(oe),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var I,N;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(C){Jw([cn(C.children,fn)],[cn(this.props.children,fn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=cn(this.props.children,fn);if(C&&typeof C.props.shared=="boolean"){var j=C.props.shared?"axis":"item";return l.indexOf(j)>=0?j:o}return o}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var j=this.container,I=j.getBoundingClientRect(),N=Z9(I),P={chartX:Math.round(C.pageX-N.left),chartY:Math.round(C.pageY-N.top)},O=I.width/j.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,O);if(!R)return null;var V=this.state,M=V.xAxisMap,F=V.yAxisMap,D=this.getTooltipEventType(),Z=sN(this.state,this.props.data,this.props.layout,R);if(D!=="axis"&&M&&F){var K=Zo(M).scale,J=Zo(F).scale,oe=K&&K.invert?K.invert(P.chartX):null,Q=J&&J.invert?J.invert(P.chartY):null;return fe(fe({},P),{},{xValue:oe,yValue:Q},Z)}return Z?fe(fe({},P),Z):null}},{key:"inRange",value:function(C,j){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=C/I,O=j/I;if(N==="horizontal"||N==="vertical"){var R=this.state.offset,V=P>=R.left&&P<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return V?{x:P,y:O}:null}var M=this.state,F=M.angleAxisMap,D=M.radiusAxisMap;if(F&&D){var Z=Zo(F);return fR({x:P,y:O},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,j=this.getTooltipEventType(),I=cn(C,fn),N={};I&&j==="axis"&&(I.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=kp(this.props,this.handleOuterEvent);return fe(fe({},P),N)}},{key:"addListener",value:function(){Ow.on(Cw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ow.removeListener(Cw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,j,I){for(var N=this.state.formattedGraphicalItems,P=0,O=N.length;P<O;P++){var R=N[P];if(R.item===C||R.props.key===C.key||j===ao(R.item.type)&&I===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,j=this.state.offset,I=j.left,N=j.top,P=j.height,O=j.width;return W.createElement("defs",null,W.createElement("clipPath",{id:C},W.createElement("rect",{x:I,y:N,height:P,width:O})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(j,I){var N=iN(I,2),P=N[0],O=N[1];return fe(fe({},j),{},Be({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(j,I){var N=iN(I,2),P=N[0],O=N[1];return fe(fe({},j),{},Be({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[C])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(C){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[C])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(C){var j=this.state,I=j.formattedGraphicalItems,N=j.activeItem;if(I&&I.length)for(var P=0,O=I.length;P<O;P++){var R=I[P],V=R.props,M=R.item,F=M.type.defaultProps!==void 0?fe(fe({},M.type.defaultProps),M.props):M.props,D=ao(M.type);if(D==="Bar"){var Z=(V.data||[]).find(function(Q){return gX(C,Q)});if(Z)return{graphicalItem:R,payload:Z}}else if(D==="RadialBar"){var K=(V.data||[]).find(function(Q){return fR(C,Q)});if(K)return{graphicalItem:R,payload:K}}else if(Ag(R,N)||Pg(R,N)||Hf(R,N)){var J=FY({graphicalItem:R,activeTooltipItem:N,itemData:F.data}),oe=F.activeIndex===void 0?J:F.activeIndex;return{graphicalItem:fe(fe({},R),{},{childIndex:oe}),payload:Hf(R,N)?F.data[J]:R.props.data[J]}}}return null}},{key:"render",value:function(){var C=this;if(!xI(this))return null;var j=this.props,I=j.children,N=j.className,P=j.width,O=j.height,R=j.style,V=j.compact,M=j.title,F=j.desc,D=oN(j,hee),Z=De(D,!1);if(V)return W.createElement(F2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(e1,$u({},Z,{width:P,height:O,title:M,desc:F}),this.renderClipPath(),SI(I,this.renderMap)));if(this.props.accessibilityLayer){var K,J;Z.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,Z.role=(J=this.props.role)!==null&&J!==void 0?J:"application",Z.onKeyDown=function(Q){C.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){C.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return W.createElement(F2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",$u({className:Ye("recharts-wrapper",N),style:fe({position:"relative",cursor:"default",width:P,height:O},R)},oe,{ref:function(se){C.container=se}}),W.createElement(e1,$u({},Z,{width:P,height:O,title:M,desc:F,style:Cee}),this.renderClipPath(),SI(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(q.Component);Be(w,"displayName",r),Be(w,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Be(w,"getDerivedStateFromProps",function(b,A){var T=b.dataKey,C=b.data,j=b.children,I=b.width,N=b.height,P=b.layout,O=b.stackOffset,R=b.margin,V=A.dataStartIndex,M=A.dataEndIndex;if(A.updateId===void 0){var F=uN(b);return fe(fe(fe({},F),{},{updateId:0},y(fe(fe({props:b},F),{},{updateId:0}),A)),{},{prevDataKey:T,prevData:C,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:R,prevChildren:j})}if(T!==A.prevDataKey||C!==A.prevData||I!==A.prevWidth||N!==A.prevHeight||P!==A.prevLayout||O!==A.prevStackOffset||!Fu(R,A.prevMargin)){var D=uN(b),Z={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},K=fe(fe({},sN(A,C,P)),{},{updateId:A.updateId+1}),J=fe(fe(fe({},D),Z),K);return fe(fe(fe({},J),y(fe({props:b},J),A)),{},{prevDataKey:T,prevData:C,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:R,prevChildren:j})}if(!Jw(j,A.prevChildren)){var oe,Q,se,H,U=cn(j,ll),G=U&&(oe=(Q=U.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:V,ue=U&&(se=(H=U.props)===null||H===void 0?void 0:H.endIndex)!==null&&se!==void 0?se:M,ve=G!==V||ue!==M,ie=!Xe(C),ce=ie&&!ve?A.updateId:A.updateId+1;return fe(fe({updateId:ce},y(fe(fe({props:b},A),{},{updateId:ce,dataStartIndex:G,dataEndIndex:ue}),A)),{},{prevChildren:j,dataStartIndex:G,dataEndIndex:ue})}return null}),Be(w,"renderActiveDot",function(b,A,T){var C;return q.isValidElement(b)?C=q.cloneElement(b,A):Ue(b)?C=b(A):C=W.createElement(wg,A),W.createElement(it,{className:"recharts-active-dot",key:T},C)});var x=q.forwardRef(function(A,T){return W.createElement(w,$u({},A,{ref:T}))});return x.displayName=w.displayName,x},cN=XE({chartName:"BarChart",GraphicalChild:pa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:QL}),Fee=XE({chartName:"PieChart",GraphicalChild:Eo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Tg},{axisType:"radiusAxis",AxisComp:Eg}],formatAxisMap:kH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Bee=XE({chartName:"AreaChart",GraphicalChild:Ta,axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:QL});const Ji={primary:"#3B82F6",secondary:"#10B981",warning:"#F59E0B",danger:"#EF4444",purple:"#8B5CF6",pink:"#EC4899"},Gc=({title:t,value:e,subtitle:r,icon:n,gradient:i,delay:o=0})=>L.jsx("div",{className:`${i} p-3 sm:p-4 lg:p-6 rounded-xl text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-fade-in-up min-h-[120px] sm:min-h-[140px] lg:min-h-[160px] flex flex-col justify-between`,style:{animationDelay:`${o}ms`},children:L.jsxs("div",{className:"flex items-start justify-between h-full",children:[L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("p",{className:"text-white/80 text-xs sm:text-sm font-medium mb-1 truncate",children:t}),L.jsx("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold mb-1 break-words",children:e}),r&&L.jsx("p",{className:"text-white/70 text-xs hidden sm:block",children:r})]}),L.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-lg backdrop-blur-sm flex-shrink-0 ml-2",children:L.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8",children:n})})]})}),sp=({title:t,icon:e,children:r,delay:n=0,className:i=""})=>L.jsxs("div",{className:`bg-white p-3 sm:p-4 lg:p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 animate-fade-in-up border border-gray-100 ${i}`,style:{animationDelay:`${n}ms`},children:[L.jsxs("h3",{className:"text-sm sm:text-base lg:text-lg font-bold mb-3 sm:mb-4 lg:mb-6 flex items-center gap-2 sm:gap-3 text-gray-800",children:[L.jsx("div",{className:"p-1 sm:p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white flex-shrink-0",children:L.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:e})}),L.jsx("span",{className:"truncate",children:t})]}),L.jsx("div",{className:"w-full overflow-hidden",children:r})]}),Uee=()=>{const{products:t,sales:e}=hd(),r=q.useMemo(()=>{const l=Object.values(t),c=l.filter(p=>p.stock<=5).length,f=l.filter(p=>p.stock>5&&p.stock<=15).length,h=l.filter(p=>p.stock>15).length;return[{name:"Crítico (≤5)",value:c,color:Ji.danger},{name:"Medio (6-15)",value:f,color:Ji.warning},{name:"Alto (>15)",value:h,color:Ji.secondary}]},[t]),n=q.useMemo(()=>{const l={};return Object.values(t).forEach(c=>{const f=c.categoria||"Sin Categoría",h=c.stock*c.precio_costo,p=c.stock*c.precio_venta,v=p-h;l[f]||(l[f]={costo:0,venta:0,ganancia:0}),l[f].costo+=h,l[f].venta+=p,l[f].ganancia+=v}),Object.entries(l).map(([c,f])=>({categoria:c.length>8?c.substring(0,8)+"...":c,categoriaCompleta:c,valor_costo:Math.round(f.costo*100)/100,valor_venta:Math.round(f.venta*100)/100,ganancia_potencial:Math.round(f.ganancia*100)/100}))},[t]),i=q.useMemo(()=>{const l=Object.keys(t).length,c=e.reduce((v,y)=>v+y.cantidad_vendida,0),f=e.reduce((v,y)=>v+y.total_linea,0),h=Object.values(t).filter(v=>v.stock<=5).length,p=e.reduce((v,y)=>{const w=Object.values(t).find(x=>x.codigo===y.codigo_barra);if(w){const x=w.precio_costo*y.cantidad_vendida;return v+(y.total_linea-x)}return v},0);return{totalProductos:l,totalVentas:c,ingresosTotales:Math.round(f*100)/100,gananciaReal:Math.round(p*100)/100,productosStockBajo:h}},[t,e]),o=q.useMemo(()=>{const l=new Date;return Array.from({length:7},(h,p)=>{const v=new Date(l);return v.setDate(v.getDate()-p),v.toISOString().split("T")[0]}).reverse().map(h=>{const p=e.filter(w=>w.fecha_hora.startsWith(h)),v=p.reduce((w,x)=>w+x.cantidad_vendida,0),y=p.reduce((w,x)=>w+x.total_linea,0);return{fecha:new Date(h).toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),fechaCorta:new Date(h).toLocaleDateString("es-ES",{day:"numeric"}),ventas:v,ingresos:Math.round(y*100)/100}})},[e]),s=q.useMemo(()=>{const l={};return e.forEach(c=>{const f=Object.values(t).find(h=>h.codigo===c.codigo_barra);f&&(l[c.codigo_barra]||(l[c.codigo_barra]={nombre:f.nombre,cantidad:0,ingresos:0}),l[c.codigo_barra].cantidad+=c.cantidad_vendida,l[c.codigo_barra].ingresos+=c.total_linea)}),Object.values(l).sort((c,f)=>f.cantidad-c.cantidad).slice(0,5).map(c=>({...c,nombre:c.nombre.length>15?c.nombre.substring(0,15)+"...":c.nombre,nombreCompleto:c.nombre,ingresos:Math.round(c.ingresos*100)/100}))},[e,t]);return L.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 p-1 sm:p-2 max-w-full overflow-hidden",children:[L.jsxs("div",{className:"text-center animate-fade-in px-2",children:[L.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"🏪 Dashboard del Kiosko"}),L.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg px-4",children:"Métricas en tiempo real para tu negocio"})]}),L.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 px-2",children:[L.jsx(Gc,{title:"Productos",value:i.totalProductos,subtitle:"en inventario",icon:L.jsx(sM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",delay:0}),L.jsx(Gc,{title:"Ventas",value:i.totalVentas,subtitle:"unidades vendidas",icon:L.jsx(a5,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-green-500 via-green-600 to-emerald-700",delay:100}),L.jsx(Gc,{title:"Ingresos",value:`$${i.ingresosTotales.toLocaleString()}`,subtitle:"en ventas",icon:L.jsx(Gw,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-700",delay:200}),L.jsx(Gc,{title:"Ganancia",value:`$${i.gananciaReal.toLocaleString()}`,subtitle:"beneficio neto",icon:L.jsx(l5,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500",delay:300}),L.jsx(Gc,{title:"Stock Crítico",value:i.productosStockBajo,subtitle:"productos ≤5 unidades",icon:L.jsx(iM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-red-500 via-pink-500 to-rose-600",delay:400})]}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 px-2",children:[L.jsx(sp,{title:"Estado del Stock",icon:L.jsx(u5,{}),delay:500,className:"col-span-1",children:L.jsx(Yh,{width:"100%",height:250,className:"sm:h-[300px]",children:L.jsxs(Fee,{children:[L.jsx(Eo,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:c,percent:f})=>window.innerWidth<640?`${c}`:`${l}: ${c} (${(f*100).toFixed(0)}%)`,outerRadius:window.innerWidth<640?60:window.innerWidth<1024?80:100,fill:"#8884d8",dataKey:"value",animationBegin:0,animationDuration:1e3,children:r.map((l,c)=>L.jsx(lg,{fill:l.color},`cell-${c}`))}),L.jsx(fn,{contentStyle:{fontSize:window.innerWidth<640?"12px":"14px",padding:window.innerWidth<640?"8px":"12px"}})]})})}),L.jsx(sp,{title:"Valor por Categoría",icon:L.jsx(Gw,{}),delay:600,className:"col-span-1",children:L.jsx(Yh,{width:"100%",height:250,className:"sm:h-[300px]",children:L.jsxs(cN,{data:n,margin:{top:5,right:5,left:5,bottom:5},children:[L.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),L.jsx(gs,{dataKey:"categoria",tick:{fontSize:window.innerWidth<640?10:12},interval:0,angle:window.innerWidth<640?-45:0,textAnchor:window.innerWidth<640?"end":"middle",height:window.innerWidth<640?60:30}),L.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?40:60}),L.jsx(fn,{formatter:(l,c,f)=>{var h,p;return[`$${l}`,"Valor",((h=f.payload)==null?void 0:h.categoriaCompleta)||((p=f.payload)==null?void 0:p.categoria)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),L.jsx(pa,{dataKey:"valor_venta",fill:"url(#colorGradient)",radius:[4,4,0,0],animationDuration:1e3}),L.jsx("defs",{children:L.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[L.jsx("stop",{offset:"5%",stopColor:Ji.secondary,stopOpacity:.9}),L.jsx("stop",{offset:"95%",stopColor:Ji.secondary,stopOpacity:.6})]})})]})})}),L.jsx(sp,{title:"Ventas Últimos 7 Días",icon:L.jsx(f5,{}),delay:700,className:"col-span-1",children:L.jsx(Yh,{width:"100%",height:250,className:"sm:h-[300px]",children:L.jsxs(Bee,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[L.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),L.jsx(gs,{dataKey:window.innerWidth<640?"fechaCorta":"fecha",tick:{fontSize:window.innerWidth<640?10:12}}),L.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?35:50}),L.jsx(fn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),L.jsx(hs,{wrapperStyle:{fontSize:window.innerWidth<640?"12px":"14px"}}),L.jsx(Ta,{type:"monotone",dataKey:"ventas",stackId:"1",stroke:Ji.primary,fill:Ji.primary,fillOpacity:.6,name:"Cantidad Vendida",animationDuration:1500})]})})}),L.jsx(sp,{title:"Top 5 Productos Más Vendidos",icon:L.jsx(s5,{}),delay:800,className:"col-span-1",children:L.jsx(Yh,{width:"100%",height:250,className:"sm:h-[300px]",children:L.jsxs(cN,{data:s,layout:"horizontal",margin:{top:5,right:5,left:5,bottom:5},children:[L.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),L.jsx(gs,{type:"number",tick:{fontSize:window.innerWidth<640?10:12}}),L.jsx(vs,{dataKey:"nombre",type:"category",width:window.innerWidth<640?80:window.innerWidth<1024?100:120,tick:{fontSize:window.innerWidth<640?9:11}}),L.jsx(fn,{formatter:(l,c,f)=>{var h,p;return[l,"Cantidad",((h=f.payload)==null?void 0:h.nombreCompleto)||((p=f.payload)==null?void 0:p.nombre)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),L.jsx(pa,{dataKey:"cantidad",fill:"url(#purpleGradient)",radius:[0,4,4,0],animationDuration:1200}),L.jsx("defs",{children:L.jsxs("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[L.jsx("stop",{offset:"5%",stopColor:Ji.purple,stopOpacity:.9}),L.jsx("stop",{offset:"95%",stopColor:Ji.pink,stopOpacity:.7})]})})]})})})]})]})},Yr=({label:t,id:e,type:r="text",value:n,onChange:i,placeholder:o="",required:s=!1,error:l,maxLength:c,step:f,className:h=""})=>L.jsxs("div",{className:"mb-4",children:[L.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",s&&L.jsx("span",{className:"text-red-500",children:"*"})]}),L.jsx("input",{id:e,type:r,value:n,onChange:i,placeholder:o,required:s,maxLength:c,step:f,className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"border-red-500":"border-gray-300"} ${h}`}),l&&L.jsx("p",{className:"mt-1 text-sm text-red-500",children:l})]}),dn=({children:t,onClick:e,type:r="button",variant:n="primary",disabled:i=!1,className:o=""})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center justify-center gap-2",l={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"};return L.jsx("button",{type:r,onClick:e,disabled:i,className:`${s} ${l[n]} ${i?"opacity-50 cursor-not-allowed":""} ${o}`,children:t})},qee=({type:t,message:e,onClose:r,duration:n=3e3})=>{q.useEffect(()=>{const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]);const i={success:L.jsx(oM,{size:20,className:"text-green-500"}),error:L.jsx(c5,{size:20,className:"text-red-500"}),warning:L.jsx(Op,{size:20,className:"text-yellow-500"}),info:L.jsx(Op,{size:20,className:"text-blue-500"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return L.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md shadow-md border ${o[t]} max-w-md animate-fade-in-up`,children:L.jsxs("div",{className:"flex items-start",children:[L.jsx("div",{className:"flex-shrink-0",children:i[t]}),L.jsx("div",{className:"ml-3 flex-1",children:L.jsx("p",{className:"text-sm font-medium text-gray-800",children:e})}),L.jsx("button",{onClick:r,className:"ml-4 text-gray-400 hover:text-gray-500 focus:outline-none",children:L.jsx(Xw,{size:16})})]})})},j$=q.createContext(void 0),M$=()=>{const t=q.useContext(j$);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},zee=({children:t})=>{const[e,r]=q.useState([]),n=(o,s)=>{const l=Math.random().toString(36).substring(2,9);r(c=>[...c,{id:l,message:o,type:s}])},i=o=>{r(s=>s.filter(l=>l.id!==o))};return L.jsxs(j$.Provider,{value:{showToast:n},children:[t,e.map(o=>L.jsx(qee,{type:o.type,message:o.message,onClose:()=>i(o.id)},o.id))]})},Wee=()=>{const{products:t,addProduct:e,updateProduct:r,getProduct:n}=hd(),{showToast:i}=M$(),o=q.useRef(null),[s,l]=q.useState(""),[c,f]=q.useState(""),[h,p]=q.useState(""),[v,y]=q.useState(""),[w,x]=q.useState(""),[b,A]=q.useState("Sin Categoría"),[T,C]=q.useState(!1),[j,I]=q.useState(""),[N,P]=q.useState({}),[O,R]=q.useState(!1),[V,M]=q.useState(null),[F,D]=q.useState(!1),[Z,K]=q.useState(!1);q.useEffect(()=>{var ie;if(V){const ce=n(V);ce?(l(ce.codigo||""),f(ce.nombre),p(ce.stock.toString()),y(ce.precio_costo.toString()),x(ce.precio_venta.toString()),A(ce.categoria),C(ce.seVendePorPeso||!1),I(((ie=ce.precioPorKilo)==null?void 0:ie.toString())||""),R(!0)):J()}else J()},[V,n]);const J=()=>{l(""),f(""),p(""),y(""),x(""),A("Sin Categoría"),C(!1),I(""),P({}),R(!1),M(null)},oe=()=>{const ie={};if(s?/^\d{13}$/.test(s)||(ie.codigo="El código debe tener 13 dígitos numéricos"):ie.codigo="El código de barras es obligatorio",c?c.length>50&&(ie.nombre="El nombre no puede exceder los 50 caracteres"):ie.nombre="El nombre del producto es obligatorio",!h)ie.stock=T?"El stock inicial en gramos es obligatorio":"El stock inicial es obligatorio";else{const ce=parseInt(h);(isNaN(ce)||ce<0)&&(ie.stock=T?"El stock en gramos debe ser un número entero no negativo":"El stock debe ser un número entero no negativo")}if(!v)ie.precio_costo="El precio de costo es obligatorio";else{const ce=parseFloat(v);(isNaN(ce)||ce<=0)&&(ie.precio_costo="El precio de costo debe ser un número positivo")}if(T)if(!j)ie.precioPorKilo="El precio por kilo es obligatorio para productos por peso";else{const ce=parseFloat(j),pe=parseFloat(v);isNaN(ce)||ce<=0?ie.precioPorKilo="El precio por kilo debe ser un número positivo":!isNaN(pe)&&pe>0&&ce<=pe&&(ie.precioPorKilo="El precio por kilo debe ser mayor al precio de costo por kilo")}else if(!w)ie.precio_venta="El precio de venta es obligatorio";else{const ce=parseFloat(w),pe=parseFloat(v);isNaN(ce)||ce<=0?ie.precio_venta="El precio de venta debe ser un número positivo":!isNaN(pe)&&ce<=pe&&(ie.precio_venta="El precio de venta debe ser mayor al precio de costo")}return b.trim()||(ie.categoria="La categoría es obligatoria"),P(ie),Object.keys(ie).length===0},Q=()=>{const ie=parseFloat(v),ce=parseFloat(w);return!isNaN(ie)&&!isNaN(ce)&&ie>0?((ce-ie)/ie*100).toFixed(1):"0"},se=(ie,ce)=>{const pe=[],Se=ie.sevendeporpeso==="true"||ie.sevendeporpeso==="1";return!Se&&(!ie.codigo||!/^\d{13}$/.test(ie.codigo))&&pe.push(`Línea ${ce}: Código de barras inválido (debe tener 13 dígitos) para producto por unidad`),Se&&ie.codigo&&!/^\d{13}$/.test(ie.codigo)&&pe.push(`Línea ${ce}: Código de barras, si se provee, debe tener 13 dígitos`),(!ie.nombre||ie.nombre.length>50)&&pe.push(`Línea ${ce}: Nombre inválido (obligatorio, máximo 50 caracteres)`),(isNaN(parseInt(ie.stock))||parseInt(ie.stock)<0)&&pe.push(`Línea ${ce}: Stock inválido (debe ser un número entero no negativo)`),(isNaN(parseFloat(ie.precio_costo))||parseFloat(ie.precio_costo)<=0)&&pe.push(`Línea ${ce}: Precio de costo inválido (debe ser un número positivo)`),Se?((isNaN(parseFloat(ie.precioporkilo))||parseFloat(ie.precioporkilo)<=0)&&pe.push(`Línea ${ce}: Precio por kilo inválido para producto por peso`),parseFloat(ie.precioporkilo)<=parseFloat(ie.precio_costo)&&pe.push(`Línea ${ce}: El precio por kilo debe ser mayor al precio de costo.`)):((isNaN(parseFloat(ie.precio_venta))||parseFloat(ie.precio_venta)<=0)&&pe.push(`Línea ${ce}: Precio de venta inválido para producto por unidad`),parseFloat(ie.precio_venta)<=parseFloat(ie.precio_costo)&&pe.push(`Línea ${ce}: El precio de venta debe ser mayor al precio de costo`)),pe},H=ie=>{const ce={success:0,errors:[],warnings:[]};try{const pe=ie.trim().split(`
`);if(pe.length<2)return ce.errors.push("El archivo CSV debe contener al menos una línea de encabezados y una línea de datos"),ce;const Se=pe[0].split(",").map(te=>te.trim().toLowerCase().replace(/\s+/g,"")),xe=[...["nombre","stock","precio_costo","categoria"],"sevendeporpeso"].filter(te=>!Se.includes(te));if(xe.length>0)return ce.errors.push(`Encabezados faltantes requeridos: ${xe.join(", ")}. Asegúrate de incluir 'sevendeporpeso'.`),ce;for(let te=1;te<pe.length;te++){const Me=pe[te].trim();if(!Me)continue;const Ae=Me.split(",").map(Ft=>Ft.trim().replace(/^"|"$/g,"")),ke={};Se.forEach((Ft,Ht)=>{ke[Ft]=Ae[Ht]||""});const He=ke.sevendeporpeso==="true"||ke.sevendeporpeso==="1";if(He&&!ke.precioporkilo){ce.errors.push(`Línea ${te+1}: Falta 'precioporkilo' para producto pesable.`);continue}if(!He&&!ke.precio_venta){ce.errors.push(`Línea ${te+1}: Falta 'precio_venta' para producto por unidad.`);continue}const at=se(ke,te+1);if(at.length>0){ce.errors.push(...at);continue}const st={codigo:ke.codigo||void 0,nombre:ke.nombre,stock:parseInt(ke.stock),precio_costo:parseFloat(ke.precio_costo),precio_venta:parseFloat(He?ke.precioporkilo||"0":ke.precio_venta),precio:parseFloat(He?ke.precioporkilo||"0":ke.precio_venta),categoria:ke.categoria||"Sin Categoría",imagen:ke.imagen||"",seVendePorPeso:He,precioPorKilo:He?parseFloat(ke.precioporkilo):void 0,stockMinimo:parseInt(ke.stockminimo)||(He?1e3:5)};let pt=st.codigo;if(!pt&&st.seVendePorPeso&&(pt=st.nombre),!pt){ce.errors.push(`Línea ${te+1}: No se pudo determinar un identificador para el producto (código o nombre para pesables).`);continue}t[pt]?(ce.warnings.push(`Línea ${te+1}: Producto ${pt} ya existe, se actualizará`),r(st)):e(st),ce.success++}}catch(pe){console.error("Error parsing CSV:",pe),ce.errors.push("Error general al procesar el archivo CSV: "+pe.message)}return ce},U=ie=>{var Se;const ce=(Se=ie.target.files)==null?void 0:Se[0];if(!ce)return;if(!ce.name.toLowerCase().endsWith(".csv")){i("Por favor seleccione un archivo CSV válido","error");return}K(!0);const pe=new FileReader;pe.onload=de=>{var Te;try{const xe=(Te=de.target)==null?void 0:Te.result,te=H(xe);if(te.errors.length>0)i(`Errores encontrados:
${te.errors.slice(0,3).join(`
`)}${te.errors.length>3?`
...`:""}`,"error");else{let Me=`✅ ${te.success} productos importados exitosamente`;te.warnings.length>0&&(Me+=`
⚠️ ${te.warnings.length} advertencias`),i(Me,"success")}}catch{i("Error al leer el archivo CSV","error")}finally{K(!1),o.current&&(o.current.value="")}},pe.onerror=()=>{i("Error al leer el archivo","error"),K(!1)},pe.readAsText(ce)},G=()=>{const ie=["codigo,nombre,stock,precio_costo,precio_venta,categoria,seVendePorPeso,precioPorKilo",'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas,false,','1234567890124,"Papas Fritas",30,45.50,75.00,Snacks,false,','1234567890125,"Agua Mineral",100,25.00,40.00,Bebidas,false,','1234567890126,"Galletitas",60,30.00,50.00,Alimentos,false,','1234567890127,"Chocolate",40,60.00,100.00,Alimentos,false,','1234567890128,"Queso Cremoso",5000,1200.00,,Lácteos,true,1800.00','1234567890129,"Jamón Cocido",4000,1500.00,,Fiambres,true,2200.00','1234567890130,"Carne Picada",6000,1800.00,,Carnes,true,2500.00','1234567890131,"Salame",3500,2000.00,,Fiambres,true,3200.00','1234567890132,"Queso Rallado",2000,2500.00,,Lácteos,true,3500.00'].join(`
`),ce=new Blob([ie],{type:"text/csv;charset=utf-8;"}),pe=document.createElement("a"),Se=URL.createObjectURL(ce);pe.setAttribute("href",Se),pe.setAttribute("download","ejemplo_productos.csv"),pe.style.visibility="hidden",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},ue=ie=>{if(ie.preventDefault(),!oe())return;const ce={codigo:s,nombre:c,stock:parseInt(h),precio_costo:parseFloat(v),precio_venta:parseFloat(w),categoria:b,imagen:"",stockMinimo:5,precio:parseFloat(w)};if(!!t[s]&&!O){R(!0),i("Este producto ya existe. Modifique los datos para actualizarlo.","info");return}O?(r(ce),i("Producto actualizado exitosamente","success")):(e(ce),i("Producto registrado exitosamente","success")),l(""),f(""),p(""),y(""),x(""),A("Sin Categoría"),R(!1)},ve=ie=>{const ce=ie.target.value;if(l(ce),ce.length===13&&t[ce]){const pe=t[ce];f(pe.nombre),p(pe.stock.toString()),y(pe.precio_costo.toString()),x(pe.precio_venta.toString()),A(pe.categoria),R(!0),i("Producto encontrado. Los campos han sido actualizados.","info")}else O&&R(!1)};return L.jsxs("div",{children:[L.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestión de Productos"}),L.jsxs("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[L.jsxs("div",{className:"flex items-center justify-between mb-4",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(hP,{className:"text-blue-600",size:20}),L.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Importar Productos desde CSV"})]}),L.jsxs("button",{onClick:()=>D(!F),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm",children:[L.jsx(fP,{size:16}),F?"Ocultar":"Ver"," Tutorial"]})]}),L.jsxs("div",{className:"flex gap-4 mb-4",children:[L.jsx("input",{ref:o,type:"file",accept:".csv",onChange:U,className:"hidden",disabled:Z}),L.jsx(dn,{onClick:()=>{var ie;return(ie=o.current)==null?void 0:ie.click()},disabled:Z,variant:"primary",children:Z?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Importando..."]}):L.jsxs(L.Fragment,{children:[L.jsx(hP,{size:18}),"Seleccionar Archivo CSV"]})}),L.jsxs(dn,{onClick:G,variant:"secondary",children:[L.jsx(fP,{size:18}),"Descargar Ejemplo"]})]}),F&&L.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4 space-y-4",children:[L.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[L.jsx(Op,{className:"text-blue-600",size:16}),"Formato Requerido del CSV"]}),L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Encabezados obligatorios (primera línea):"}),L.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"codigo,nombre,stock,precio_costo,precio_venta,categoria,seVendePorPeso,precioPorKilo"})]}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Ejemplo de datos:"}),L.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono",children:[L.jsx("div",{children:'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas,false,'}),L.jsx("div",{children:'1234567890124,"Papas Fritas",30,45.50,75.00,Snacks,false,'})]})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[L.jsxs("div",{children:[L.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"✅ Reglas de Validación:"}),L.jsxs("ul",{className:"space-y-1 text-gray-600",children:[L.jsxs("li",{children:["• ",L.jsx("strong",{children:"codigo:"})," 13 dígitos numéricos"]}),L.jsxs("li",{children:["• ",L.jsx("strong",{children:"nombre:"})," Máximo 50 caracteres"]}),L.jsxs("li",{children:["• ",L.jsx("strong",{children:"stock:"})," Número entero positivo"]}),L.jsxs("li",{children:["• ",L.jsx("strong",{children:"precio_costo:"})," Número positivo"]}),L.jsxs("li",{children:["• ",L.jsx("strong",{children:"precio_venta:"})," Mayor al precio de costo"]}),L.jsxs("li",{children:["• ",L.jsx("strong",{children:"categoria:"})," Texto (opcional)"]})]})]}),L.jsxs("div",{children:[L.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"💡 Consejos:"}),L.jsxs("ul",{className:"space-y-1 text-gray-600",children:[L.jsx("li",{children:"• Use comillas para textos con comas"}),L.jsx("li",{children:"• Productos existentes se actualizarán"}),L.jsx("li",{children:"• Descargue el ejemplo para ver el formato"}),L.jsx("li",{children:"• Guarde el archivo como CSV UTF-8"})]})]})]})]})]})]}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agregar Producto Individual"}),L.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[L.jsx(Yr,{label:"Código de Barras",id:"codigo",type:"text",value:s,onChange:ve,placeholder:"Ingrese código de 13 dígitos",required:!0,error:N.codigo,maxLength:13}),L.jsx(Yr,{label:"Nombre del Producto",id:"nombre",value:c,onChange:ie=>f(ie.target.value),placeholder:"Ingrese nombre del producto",required:!0,error:N.nombre,maxLength:50}),L.jsx(Yr,{label:"Categoría",id:"categoria",value:b,onChange:ie=>A(ie.target.value),placeholder:"Ej: Bebidas, Snacks, etc.",required:!0,error:N.categoria}),L.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[L.jsx("input",{type:"checkbox",id:"seVendePorPeso",checked:T,onChange:ie=>C(ie.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),L.jsx("label",{htmlFor:"seVendePorPeso",className:"text-sm font-medium text-gray-700",children:"Se vende por peso"})]}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsx(Yr,{label:"Precio de Costo ($)",id:"precio_costo",type:"number",step:"0.01",value:v,onChange:ie=>y(ie.target.value),placeholder:"0.00",required:!0,error:N.precio_costo}),T?L.jsx(Yr,{label:"Precio por Kilo ($)",id:"precioPorKilo",type:"number",step:"0.01",value:j,onChange:ie=>I(ie.target.value),placeholder:"0.00",required:!0,error:N.precioPorKilo}):L.jsx(Yr,{label:"Precio de Venta ($)",id:"precio_venta",type:"number",step:"0.01",value:w,onChange:ie=>x(ie.target.value),placeholder:"0.00",required:!0,error:N.precio_venta})]}),L.jsx(Yr,{label:T?"Stock Inicial (gramos)":"Stock Inicial",id:"stock",type:"number",value:h,onChange:ie=>p(ie.target.value),placeholder:T?"Ingrese gramos":"Ingrese cantidad",required:!0,error:N.stock}),L.jsx(dn,{type:"submit",variant:O?"success":"primary",className:"w-full",children:O?L.jsxs(L.Fragment,{children:[L.jsx(lM,{size:18}),"Actualizar Producto"]}):L.jsxs(L.Fragment,{children:[L.jsx(uM,{size:18}),"Registrar Producto"]})})]})]}),L.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[L.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[L.jsx(Gw,{size:20}),"Información de Precios"]}),L.jsxs("div",{className:"space-y-4",children:[L.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[L.jsx("span",{className:"text-gray-600",children:"Precio de Costo:"}),L.jsxs("span",{className:"font-semibold text-red-600",children:["$",v||"0.00"]})]}),L.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[L.jsx("span",{className:"text-gray-600",children:T?"Precio por Kilo:":"Precio de Venta:"}),L.jsxs("span",{className:"font-semibold text-green-600",children:["$",T?j||"0.00":w||"0.00"]})]}),L.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border border-blue-200",children:[L.jsx("span",{className:"text-gray-600",children:T?"Ganancia por Kilo:":"Ganancia por Unidad:"}),L.jsxs("span",{className:"font-semibold text-blue-600",children:["$",T?(parseFloat(j||"0")-parseFloat(v||"0")).toFixed(2):(parseFloat(w||"0")-parseFloat(v||"0")).toFixed(2)]})]}),L.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded border border-purple-200",children:[L.jsx("span",{className:"text-gray-600",children:"Margen de Ganancia:"}),L.jsxs("span",{className:"font-semibold text-purple-600",children:[T?((parseFloat(j||"0")-parseFloat(v||"0"))/parseFloat(v||"1")*100).toFixed(1):Q(),"%"]})]})]})]})]})]})};var yp={exports:{}},Hee=yp.exports,fN;function Kee(){return fN||(fN=1,function(t,e){(function(r,n){t.exports=n(Km())})(typeof self<"u"?self:Hee,function(r){return function(){var n={155:function(A){A.exports=r}},i={};function o(A){var T=i[A];if(T!==void 0)return T.exports;var C=i[A]={exports:{}};return n[A](C,C.exports,o),C.exports}o.d=function(A,T){for(var C in T)o.o(T,C)&&!o.o(A,C)&&Object.defineProperty(A,C,{enumerable:!0,get:T[C]})},o.o=function(A,T){return Object.prototype.hasOwnProperty.call(A,T)},o.r=function(A){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{useReactToPrint:function(){return b}});var l=o(155);function c({level:A="error",messages:T,suppressErrors:C=!1}){C||(A==="error"?console.error(T):A==="warning"?console.warn(T):console.debug(T))}function f(A,T){if(T||!A){const C=document.getElementById("printWindow");C&&document.body.removeChild(C)}}function h(A){return A instanceof Error?A:new Error("Unknown Error")}function p(A,T){const{documentTitle:C,onAfterPrint:j,onPrintError:I,preserveAfterPrint:N,print:P,suppressErrors:O}=T;setTimeout(()=>{var R,V;if(A.contentWindow){let F=function(){j==null||j(),f(N)};var M=F;if(A.contentWindow.focus(),P)P(A).then(F).catch(D=>{I?I("print",h(D)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:O})});else{if(A.contentWindow.print){const D=(V=(R=A.contentDocument)===null||R===void 0?void 0:R.title)!==null&&V!==void 0?V:"",Z=A.ownerDocument.title;C&&(A.ownerDocument.title=C,A.contentDocument&&(A.contentDocument.title=C)),A.contentWindow.print(),C&&(A.ownerDocument.title=Z,A.contentDocument&&(A.contentDocument.title=D))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:O});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(D=>{var Z,K;return((K=(Z=navigator.userAgent)!==null&&Z!==void 0?Z:navigator.vendor)!==null&&K!==void 0?K:"opera"in window&&window.opera).match(D)})?setTimeout(F,500):F()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:O})},500)}function v(A){const T=[],C=document.createTreeWalker(A,NodeFilter.SHOW_ELEMENT,null);let j=C.nextNode();for(;j;)T.push(j),j=C.nextNode();return T}function y(A,T,C){const j=v(A),I=v(T);if(j.length===I.length)for(let N=0;N<j.length;N++){const P=j[N],O=I[N],R=P.shadowRoot;if(R!==null){const V=O.attachShadow({mode:R.mode});V.innerHTML=R.innerHTML,y(R,V,C)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",A,T],suppressErrors:C})}const w=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(A,T,C,j){var I,N,P,O,R;const{contentNode:V,clonedContentNode:M,clonedImgNodes:F,clonedVideoNodes:D,numResourcesToLoad:Z,originalCanvasNodes:K}=C,{bodyClass:J,fonts:oe,ignoreGlobalStyles:Q,pageStyle:se,nonce:H,suppressErrors:U,copyShadowRoots:G}=j;A.onload=null;const ue=(I=A.contentDocument)!==null&&I!==void 0?I:(N=A.contentWindow)===null||N===void 0?void 0:N.document;if(ue){const ve=ue.body.appendChild(M);G&&y(V,ve,!!U),oe&&(!((P=A.contentDocument)===null||P===void 0)&&P.fonts&&(!((O=A.contentWindow)===null||O===void 0)&&O.FontFace)?oe.forEach(xe=>{const te=new FontFace(xe.family,xe.source,{weight:xe.weight,style:xe.style});A.contentDocument.fonts.add(te),te.loaded.then(()=>{T(te)}).catch(Me=>{T(te,["Failed loading the font:",te,"Load error:",h(Me)])})}):(oe.forEach(xe=>{T(xe)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:U})));const ie=se??w,ce=ue.createElement("style");H&&(ce.setAttribute("nonce",H),ue.head.setAttribute("nonce",H)),ce.appendChild(ue.createTextNode(ie)),ue.head.appendChild(ce),J&&ue.body.classList.add(...J.split(" "));const pe=ue.querySelectorAll("canvas");for(let xe=0;xe<K.length;++xe){const te=K[xe],Me=pe[xe];if(Me===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",te],suppressErrors:U});continue}const Ae=Me.getContext("2d");Ae&&Ae.drawImage(te,0,0)}for(let xe=0;xe<F.length;xe++){const te=F[xe],Me=te.getAttribute("src");if(Me){const Ae=new Image;Ae.onload=()=>{T(te)},Ae.onerror=(ke,He,at,st,pt)=>{T(te,["Error loading <img>",te,"Error",pt])},Ae.src=Me}else T(te,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',te])}for(let xe=0;xe<D.length;xe++){const te=D[xe];te.preload="auto";const Me=te.getAttribute("poster");if(Me){const Ae=new Image;Ae.onload=()=>{T(te)},Ae.onerror=(ke,He,at,st,pt)=>{T(te,["Error loading video poster",Me,"for video",te,"Error:",pt])},Ae.src=Me}else te.readyState>=2?T(te):te.src?(te.onloadeddata=()=>{T(te)},te.onerror=(Ae,ke,He,at,st)=>{T(te,["Error loading video",te,"Error",st])},te.onstalled=()=>{T(te,["Loading video stalled, skipping",te])}):T(te,["Error loading video, `src` is empty",te])}const Se="select",de=V.querySelectorAll(Se),Te=ue.querySelectorAll(Se);for(let xe=0;xe<de.length;xe++)Te[xe].value=de[xe].value;if(!Q){const xe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let te=0,Me=xe.length;te<Me;++te){const Ae=xe[te];if(Ae.tagName.toLowerCase()==="style"){const ke=ue.createElement(Ae.tagName),He=Ae.sheet;if(He){let at="";try{const st=He.cssRules.length;for(let pt=0;pt<st;++pt)typeof He.cssRules[pt].cssText=="string"&&(at+=`${He.cssRules[pt].cssText}\r
`)}catch(st){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ae,`Original error: ${h(st).message}`],level:"warning"})}ke.setAttribute("id",`react-to-print-${te}`),H&&ke.setAttribute("nonce",H),ke.appendChild(ue.createTextNode(at)),ue.head.appendChild(ke)}}else if(Ae.getAttribute("href"))if(Ae.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ae],level:"warning"}),T(Ae);else{const ke=ue.createElement(Ae.tagName);for(let He=0,at=Ae.attributes.length;He<at;++He){const st=Ae.attributes[He];st&&ke.setAttribute(st.nodeName,(R=st.nodeValue)!==null&&R!==void 0?R:"")}ke.onload=()=>{T(ke)},ke.onerror=(He,at,st,pt,Ft)=>{T(ke,["Failed to load",ke,"Error:",Ft])},H&&ke.setAttribute("nonce",H),ue.head.appendChild(ke)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ae],level:"warning"}),T(Ae)}}}Z===0&&p(A,j)}function b({bodyClass:A,contentRef:T,copyShadowRoots:C,documentTitle:j,fonts:I,ignoreGlobalStyles:N,nonce:P,onAfterPrint:O,onBeforePrint:R,onPrintError:V,pageStyle:M,preserveAfterPrint:F,print:D,suppressErrors:Z}){return(0,l.useCallback)(K=>{function J(){const oe={bodyClass:A,contentRef:T,copyShadowRoots:C,documentTitle:j,fonts:I,ignoreGlobalStyles:N,nonce:P,onAfterPrint:O,onPrintError:V,pageStyle:M,preserveAfterPrint:F,print:D,suppressErrors:Z},Q=function(){const U=document.createElement("iframe");return U.width=`${document.documentElement.clientWidth}px`,U.height=`${document.documentElement.clientHeight}px`,U.style.position="absolute",U.style.top=`-${document.documentElement.clientHeight+100}px`,U.style.left=`-${document.documentElement.clientWidth+100}px`,U.id="printWindow",U.srcdoc="<!DOCTYPE html>",U}(),se=function(U,G){const{contentRef:ue,fonts:ve,ignoreGlobalStyles:ie,suppressErrors:ce}=G,pe=function({contentRef:Me,optionalContent:Ae,suppressErrors:ke}){return!Ae||Ae instanceof Event||(Me&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof Ae!="function")?Me?Me.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:ke}):Ae()}({contentRef:ue,optionalContent:U,suppressErrors:ce});if(!pe)return;const Se=pe.cloneNode(!0),de=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Te=Se.querySelectorAll("img"),xe=Se.querySelectorAll("video"),te=ve?ve.length:0;return{contentNode:pe,clonedContentNode:Se,clonedImgNodes:Te,clonedVideoNodes:xe,numResourcesToLoad:(ie?0:de.length)+Te.length+xe.length+te,originalCanvasNodes:pe.querySelectorAll("canvas")}}(K,oe);if(!se)return void c({messages:["There is nothing to print"],suppressErrors:Z});const H=function(U,G,ue){const{suppressErrors:ve}=U,ie=[],ce=[];return function(pe,Se){ie.includes(pe)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",pe],suppressErrors:ve}):(Se?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Se],suppressErrors:ve}),ce.push(pe)):ie.push(pe),ie.length+ce.length===G&&p(ue,U))}}(oe,se.numResourcesToLoad,Q);(function(U,G,ue,ve){U.onload=()=>{x(U,G,ue,ve)},document.body.appendChild(U)})(Q,H,se,oe)}f(F,!0),R?R().then(()=>{J()}).catch(oe=>{V==null||V("onBeforePrint",h(oe))}):J()},[A,T,C,j,I,N,P,O,R,V,M,F,D,Z])}return s}()})}(yp)),yp.exports}var Gee=Kee();function gx({columns:t,data:e,keyExtractor:r,emptyMessage:n="No hay datos disponibles"}){return e.length===0?L.jsx("div",{className:"text-center py-8 text-gray-500",children:n}):L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[L.jsx("thead",{className:"bg-gray-50",children:L.jsx("tr",{children:t.map((i,o)=>L.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i.header},o))})}),L.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>L.jsx("tr",{className:"hover:bg-gray-50",children:t.map((o,s)=>L.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.render?o.render(i):String(i[o.accessor])},s))},r(i)))})]})})}const D$=W.forwardRef(({cart:t,cajero:e,total:r,fecha:n},i)=>L.jsxs("div",{ref:i,className:"p-4 max-w-xs mx-auto font-mono text-sm",children:[L.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:[L.jsx("h1",{className:"text-lg font-bold",children:"🏪 KIOSKO LOCAL"}),L.jsx("p",{className:"text-xs",children:"Ticket de Compra"}),L.jsx("p",{className:"text-xs",children:n})]}),L.jsx("div",{className:"mb-3",children:L.jsxs("p",{className:"text-xs",children:[L.jsx("strong",{children:"Cajero:"})," ",e]})}),L.jsxs("div",{className:"border-b border-dashed border-gray-400 pb-2 mb-3",children:[L.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[L.jsx("span",{children:"PRODUCTO"}),L.jsx("span",{children:"CANT"}),L.jsx("span",{children:"PRECIO"}),L.jsx("span",{children:"TOTAL"})]}),t.map((o,s)=>L.jsxs("div",{className:"mb-2",children:[L.jsx("div",{className:"text-xs font-semibold",children:o.nombre}),L.jsxs("div",{className:"flex justify-between text-xs",children:[L.jsx("span",{children:o.codigo}),L.jsx("span",{children:o.cantidad}),L.jsxs("span",{children:["$",o.precio_unitario.toFixed(2)]}),L.jsxs("span",{children:["$",o.subtotal.toFixed(2)]})]})]},s))]}),L.jsx("div",{className:"border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:L.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[L.jsx("span",{children:"TOTAL A PAGAR:"}),L.jsxs("span",{children:["$",r.toFixed(2)]})]})}),L.jsxs("div",{className:"text-center text-xs",children:[L.jsx("p",{className:"font-bold mb-2",children:"¡¡ GRACIAS POR TU COMPRA !!"}),L.jsx("p",{children:"Que tengas un excelente día"}),L.jsx("p",{className:"mt-2",children:"🌟 Vuelve pronto 🌟"})]}),L.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed border-gray-400 pt-2",children:[L.jsx("p",{children:"Este no es un comprobante fiscal"}),L.jsx("p",{children:"Solo para control interno"})]})]}));D$.displayName="TicketPrint";const L$=q.createContext(void 0),Xee=()=>{const t=q.useContext(L$);if(!t)throw new Error("useCashier must be used within a CashierProvider");return t},Yee=({children:t})=>{const[e,r]=q.useState("");q.useEffect(()=>{const o=localStorage.getItem("currentCajero");o&&r(o)},[]);const n=o=>{r(o),localStorage.setItem("currentCajero",o)},i=()=>{r(""),localStorage.removeItem("currentCajero")};return L.jsx(L$.Provider,{value:{cajero:e,setCajero:n,clearCajero:i},children:t})},Qee=()=>{var se;const{getProduct:t,decreaseStock:e,addSale:r,products:n}=hd(),{showToast:i}=M$(),{cajero:o,setCajero:s}=Xee(),l=q.useRef(null),[c,f]=q.useState(""),[h,p]=q.useState("1"),[v,y]=q.useState([]),[w,x]=q.useState({}),[b,A]=q.useState(null),[T,C]=q.useState(null),[j,I]=q.useState(""),[N,P]=q.useState([]),O=Gee.useReactToPrint({contentRef:l,documentTitle:"Ticket de Venta",onAfterPrint:()=>{i("Ticket enviado a impresora","success")},onBeforePrint:async()=>{i("Preparando impresión...","info")}}),R=()=>{if(v.length===0){i("No hay productos en el carrito para imprimir","warning");return}if(!o.trim()){i("Debe ingresar el nombre del cajero antes de imprimir","warning");return}const H=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});A({cart:[...v],cajero:o,total:J(),fecha:H}),setTimeout(()=>{l.current?O():i("Error: No se pudo encontrar el contenido del ticket para imprimir.","error")},100)};q.useEffect(()=>{if(j.length>2){const U=j.toLowerCase(),G=Object.values(n).filter(ue=>ue.codigo&&ue.codigo.toLowerCase().includes(U)||ue.nombre.toLowerCase().includes(U));P(G.slice(0,10))}else P([]);const H=t(j);H?(C(H),f(H.codigo||H.nombre),I(H.codigo||H.nombre),P([])):j.length<=2&&!Object.values(n).find(U=>U.nombre.toLowerCase()===j.toLowerCase())&&C(null)},[j,n,t]);const V=H=>{C(H);const U=H.codigo||H.nombre;f(U),I(U),P([]),H.seVendePorPeso?p("100"):p("1")},M=()=>{const H={};if(c.trim()||(H.codigoOrNombre="El código o nombre del producto es obligatorio"),!h.trim())H.cantidad="La cantidad es obligatoria";else{const U=parseFloat(h);(isNaN(U)||U<=0)&&(H.cantidad=T!=null&&T.seVendePorPeso?"Los gramos deben ser un número positivo":"La cantidad debe ser un número entero positivo")}return x(H),Object.keys(H).length===0},F=()=>o.trim()?(x(H=>{const{cajero:U,...G}=H;return G}),!0):(x(H=>({...H,cajero:"El nombre del cajero es obligatorio"})),!1),D=()=>{if(!M()||!T){T||i("Producto no seleccionado o no encontrado.","warning");return}const H=T,U=parseFloat(h),G=H.codigo||H.nombre,ue=v.findIndex(Se=>(Se.codigo||Se.nombre)===G);let ve=0;ue!==-1&&(ve=v[ue].cantidad);const ie=ve+U;if(H.stock<ie){i(`Stock insuficiente. Stock disponible: ${H.stock}${H.seVendePorPeso?"g":""}, en carrito: ${ve}${H.seVendePorPeso?"g":""}`,"warning");return}let ce,pe;if(H.seVendePorPeso){if(!H.precioPorKilo){i("Este producto por peso no tiene un precio por kilo definido.","error");return}ce=U/1e3*H.precioPorKilo,pe=H.precioPorKilo}else ce=H.precio_venta*U,pe=H.precio_venta;if(ue>=0)y(Se=>Se.map((de,Te)=>Te===ue?{...de,cantidad:de.cantidad+U,subtotal:de.subtotal+ce}:de));else{const Se=Date.now().toString();y(de=>[...de,{id:Se,codigo:H.codigo,nombre:H.nombre,cantidad:U,precio_unitario:pe,subtotal:ce,seVendePorPeso:Q(H)}])}I(""),f(""),C(null),p(H.seVendePorPeso?"100":"1"),x(Se=>{const{codigoOrNombre:de,cantidad:Te,...xe}=Se;return xe}),i(`${H.nombre} agregado a la venta (${U}${H.seVendePorPeso?"g":" unidades"})`,"success")},Z=H=>{y(U=>U.filter(G=>G.id!==H))},K=(H,U)=>{const G=parseFloat(U);if(isNaN(G)||G<=0){Z(H);return}const ue=v.findIndex(de=>de.id===H);if(ue===-1)return;const ve=v[ue],ie=t(ve.codigo||ve.nombre);if(!ie){i("Producto original no encontrado para actualizar cantidad.","error");return}let ce=0;v.forEach(de=>{de.id!==H&&(de.codigo||de.nombre)===(ve.codigo||ve.nombre)&&(ce+=de.cantidad)});const pe=ce+G;if(ie.stock<pe){i(`Stock insuficiente. Stock disponible: ${ie.stock}${ie.seVendePorPeso?"g":""}`,"warning");return}let Se;if(ve.seVendePorPeso){if(!ie.precioPorKilo)return;Se=G/1e3*ie.precioPorKilo}else Se=ie.precio_venta*G;y(de=>de.map(Te=>Te.id===H?{...Te,cantidad:G,subtotal:Se}:Te))},J=()=>v.reduce((H,U)=>H+U.subtotal,0),oe=()=>{if(!F())return;if(v.length===0){i("No hay productos en la venta actual","warning");return}let H=!0;const U=new Date().toISOString(),G=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ue={cart:[...v],cajero:o,total:J(),fecha:G};v.forEach(ve=>{const ie=ve.codigo||ve.nombre;if(e(ie,ve.cantidad)){const pe={fecha_hora:U,codigo_barra:ve.codigo,nombre_producto:ve.nombre,cantidad_vendida:ve.seVendePorPeso?0:ve.cantidad,peso_vendido_gr:ve.seVendePorPeso?ve.cantidad:void 0,precio_unitario:ve.precio_unitario,total_linea:ve.subtotal,cajero:o};r(pe)}else H=!1,i(`Error al procesar ${ve.nombre}. Stock no actualizado.`,"error")}),H?(A(ue),i("Venta finalizada con éxito","success"),y([]),f(""),I(""),C(null),p("1")):i("Algunos productos no pudieron ser procesados. Revisa el stock.","warning")},Q=H=>H?H.seVendePorPeso===!0||H.seVendePorPeso==="true"||H.seVendePorPeso===1||H.seVendePorPeso==="1":!1;return L.jsxs("div",{className:"container mx-auto p-4 flex flex-col lg:flex-row gap-4",children:[L.jsxs("div",{className:"lg:w-2/3",children:[L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[L.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Registrar Venta"}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[L.jsxs("div",{className:"md:col-span-2 relative",children:[L.jsx(Yr,{label:"Buscar Producto (Código o Nombre)",type:"text",placeholder:"Escribe código o nombre...",value:j,id:"searchProductInput",onChange:H=>{I(H.target.value),H.target.value||(C(null),f(""))},error:w.codigoOrNombre}),N.length>0&&L.jsx("ul",{className:"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-60 overflow-y-auto shadow-lg",children:N.map(H=>L.jsxs("li",{className:"p-2 hover:bg-gray-100 cursor-pointer",onClick:()=>V(H),children:[H.nombre," (",H.codigo||"Sin código",") - Stock: ",H.stock,H.seVendePorPeso?"g":""]},H.codigo||H.nombre))}),T&&L.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md text-sm",children:["Seleccionado: ",L.jsx("strong",{children:T.nombre}),"(Stock: ",T.stock,Q(T)?"g":"",", Precio: ",Q(T)?`${(se=T.precioPorKilo)==null?void 0:se.toFixed(2)}/kg`:`${T.precio_venta.toFixed(2)}/u`,")"]})]}),L.jsx(Yr,{label:Q(T)?"Cantidad (gramos)":"Cantidad (unidades)",type:"number",id:"cantidadInput",placeholder:Q(T)?"Ej: 250 (para 1/4 kg)":"Ej: 2",value:h,onChange:H=>p(H.target.value),error:w.cantidad,min:(Q(T),"1")}),L.jsxs(dn,{onClick:D,className:"h-10 mt-1 md:mt-0",children:[L.jsx(uM,{size:18})," Agregar"]})]}),(T==null?void 0:T.seVendePorPeso)&&L.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded-md text-sm flex items-center gap-2",children:[L.jsx("span",{role:"img","aria-label":"balanza",children:"⚖️"}),"Ingrese la cantidad en gramos. Ejemplo: 250 para 1/4 kg, 500 para medio kilo, 1000 para 1 kg."]})]}),L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[L.jsxs("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:["Carrito Actual (",v.length," items)"]}),v.length===0?L.jsx("p",{className:"text-gray-500",children:"El carrito está vacío."}):L.jsx(gx,{columns:[{header:"Producto",accessor:"nombre",render:H=>L.jsxs("span",{className:H.seVendePorPeso?"bg-yellow-50 px-2 py-1 rounded flex items-center gap-1":"",children:[H.nombre," ",H.seVendePorPeso&&L.jsx("span",{title:"Por peso",className:"text-yellow-600",children:"⚖️"})]})},{header:"Cantidad",accessor:"cantidad",render:H=>L.jsxs("div",{className:"flex items-center gap-1",children:[L.jsx(Yr,{type:"number",id:`cart-qty-${H.id}`,value:H.cantidad.toString(),onChange:U=>K(H.id,U.target.value),className:"w-20 text-sm p-1",min:(Q(H),"1"),label:Q(H)?"g":"u"}),Q(H)?L.jsx("span",{className:"text-xs text-gray-500",children:"g"}):L.jsx("span",{className:"text-xs text-gray-500",children:"u"})]})},{header:"Precio Unit.",accessor:"precio_unitario",render:H=>`${H.precio_unitario.toFixed(2)}${Q(H)?"/kg":"/u"}`},{header:"Subtotal",accessor:"subtotal",render:H=>H.subtotal.toFixed(2)},{header:"Acciones",accessor:"id",render:H=>L.jsx(dn,{onClick:()=>Z(H.id),variant:"danger",className:"p-1",children:L.jsx(cM,{size:16})})}],data:v,keyExtractor:H=>H.id}),v.length>0&&L.jsx("div",{className:"mt-6 text-right",children:L.jsxs("p",{className:"text-xl font-bold text-gray-800",children:["Total: $",J().toFixed(2)]})})]})]}),L.jsx("div",{className:"lg:w-1/3",children:L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[L.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Finalizar Venta"}),L.jsx(Yr,{label:"Nombre del Cajero",type:"text",id:"cajeroInput",placeholder:"Ingrese su nombre",value:o,onChange:H=>s(H.target.value),error:w.cajero,className:"mb-4"}),L.jsxs("div",{className:"flex flex-col space-y-3",children:[L.jsxs(dn,{onClick:oe,disabled:v.length===0,children:[L.jsx(oM,{size:18})," Finalizar y Guardar Venta"]}),L.jsxs(dn,{onClick:R,variant:"secondary",disabled:v.length===0,children:[" ",L.jsx(o5,{size:18})," Imprimir Ticket Actual"]})]})]})}),b&&L.jsx("div",{style:{display:"none"},children:L.jsx(D$,{ref:l,cart:b.cart,total:b.total,cajero:b.cajero,fecha:b.fecha})})]})},Jee=()=>{var Z;const{products:t,sales:e,updateProduct:r,deleteProduct:n,updateStock:i}=hd(),[o,s]=q.useState("stock"),[l,c]=q.useState(null),[f,h]=q.useState(null),[p,v]=q.useState({precio_costo:"",precio_venta:""}),[y,w]=q.useState(""),[x,b]=q.useState(null),A=q.useMemo(()=>Object.values(t).sort((K,J)=>K.nombre.localeCompare(J.nombre)),[t]),T=q.useMemo(()=>[...e].sort((K,J)=>new Date(J.fecha_hora).getTime()-new Date(K.fecha_hora).getTime()),[e]),C=K=>{c(K.codigo||null),v({precio_costo:K.precio_costo.toString(),precio_venta:K.precio_venta.toString()})},j=K=>{const J=parseFloat(p.precio_costo),oe=parseFloat(p.precio_venta);J>=0&&oe>=0&&r({...t[K],precio_costo:J,precio_venta:oe}),c(null),v({precio_costo:"",precio_venta:""})},I=()=>{c(null),v({precio_costo:"",precio_venta:""})},N=K=>{h(K.codigo||null),w(K.stock.toString())},P=K=>{const J=parseInt(y);!isNaN(J)&&J>=0&&i(K,J),h(null),w("")},O=()=>{h(null),w("")},R=K=>{n(K),b(null)},V=(K,J)=>{const oe=J[K.codigo_barra||""]||Object.values(J).find(se=>se.nombre===K.nombre_producto);if(!oe)return!1;const Q=oe.seVendePorPeso;return Q===!0||Q==="true"||Q===1||Q==="1"},M=[{header:"Código",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Stock Actual",accessor:"stock",render:K=>f===K.codigo?L.jsx(Yr,{type:"number",min:"0",value:y,onChange:J=>w(J.target.value),className:"w-20 text-sm",label:"",id:""}):L.jsx("span",{className:`font-medium ${K.stock<=5?"text-red-600":""}`,children:K.stock})},{header:"Precio Costo",accessor:"precio_costo",render:K=>l===K.codigo?L.jsx(Yr,{type:"number",step:"0.01",value:p.precio_costo,onChange:J=>v(oe=>({...oe,precio_costo:J.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${K.precio_costo.toFixed(2)}`},{header:"Precio Venta",accessor:"precio_venta",render:K=>l===K.codigo?L.jsx(Yr,{type:"number",step:"0.01",value:p.precio_venta,onChange:J=>v(oe=>({...oe,precio_venta:J.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${K.precio_venta.toFixed(2)}`},{header:"Acciones",accessor:"codigo",render:K=>l===K.codigo?L.jsxs("div",{className:"flex gap-1",children:[L.jsx("button",{onClick:()=>K.codigo&&j(K.codigo),className:"p-1 text-green-600 hover:text-green-800",title:"Guardar precios",children:L.jsx(lP,{size:16})}),L.jsx("button",{onClick:I,className:"p-1 text-red-600 hover:text-red-800",title:"Cancelar",children:L.jsx(Xw,{size:16})})]}):f===K.codigo?L.jsxs("div",{className:"flex gap-1",children:[L.jsx("button",{onClick:()=>K.codigo&&P(K.codigo),className:"p-1 text-green-600 hover:text-green-800",title:"Guardar stock",children:L.jsx(lP,{size:16})}),L.jsx("button",{onClick:O,className:"p-1 text-red-600 hover:text-red-800",title:"Cancelar",children:L.jsx(Xw,{size:16})})]}):L.jsxs("div",{className:"flex gap-1",children:[L.jsx("button",{onClick:()=>C(K),className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar precios",children:L.jsx(i5,{size:16})}),L.jsx("button",{onClick:()=>N(K),className:"p-1 text-orange-600 hover:text-orange-800",title:"Editar stock",children:L.jsx(sM,{size:16})}),L.jsx("button",{onClick:()=>b(K.codigo||null),className:"p-1 text-red-600 hover:text-red-800",title:"Eliminar producto",children:L.jsx(cM,{size:16})})]})}],F=[{header:"Fecha y Hora",accessor:"fecha_hora",render:K=>{const J=new Date(K.fecha_hora);return`${J.toLocaleDateString()} ${J.toLocaleTimeString()}`}},{header:"Cajero",accessor:"cajero"},{header:"Producto",accessor:"nombre_producto"},{header:"Cantidad",accessor:"cantidad_vendida",render:K=>V(K,t)&&K.peso_vendido_gr&&K.peso_vendido_gr>0?`${K.peso_vendido_gr}g`:K.cantidad_vendida},{header:"Código",accessor:"codigo_barra"},{header:"Precio Unit.",accessor:"precio_unitario",render:K=>V(K,t)?`$${K.precio_unitario.toFixed(2)}/kg`:`$${K.precio_unitario.toFixed(2)}/u`}],D=(K,J)=>{const oe=Object.keys(K[0]||{}).join(","),Q=K.map(ue=>Object.values(ue).join(",")),se=[oe,...Q].join(`
`),H=new Blob([se],{type:"text/csv"}),U=URL.createObjectURL(H),G=document.createElement("a");G.href=U,G.download=`${J}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(G),G.click(),document.body.removeChild(G)};return L.jsxs("div",{children:[L.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Reportes"}),x&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:[L.jsx("h3",{className:"text-lg font-semibold mb-4 text-red-600",children:"Confirmar Eliminación"}),L.jsxs("p",{className:"mb-6 text-gray-700",children:["¿Estás seguro de que deseas eliminar el producto ",L.jsx("strong",{children:(Z=t[x])==null?void 0:Z.nombre}),"?",L.jsx("br",{}),L.jsx("span",{className:"text-sm text-red-600",children:"Esta acción no se puede deshacer."})]}),L.jsxs("div",{className:"flex gap-3 justify-end",children:[L.jsx(dn,{variant:"secondary",onClick:()=>b(null),children:"Cancelar"}),L.jsx(dn,{variant:"primary",onClick:()=>R(x),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),L.jsxs("div",{className:"mb-6 flex gap-4",children:[L.jsxs(dn,{variant:o==="stock"?"primary":"secondary",onClick:()=>s("stock"),children:[L.jsx(uP,{size:18}),"Inventario Actual"]}),L.jsxs(dn,{variant:o==="sales"?"primary":"secondary",onClick:()=>s("sales"),children:[L.jsx(uP,{size:18}),"Historial de Ventas"]})]}),o==="stock"?L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"text-lg font-medium",children:"Inventario de Productos"}),L.jsxs(dn,{variant:"secondary",onClick:()=>D(A,"inventario"),disabled:A.length===0,children:[L.jsx(cP,{size:18}),"Exportar a CSV"]})]}),L.jsx(gx,{columns:M,data:A,keyExtractor:K=>K.codigo||"",emptyMessage:"No hay productos registrados"}),A.length>0&&L.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de productos: ",A.length," | Stock total: ",A.reduce((K,J)=>K+J.stock,0)," unidades"]})]}):L.jsxs("div",{children:[L.jsxs("div",{className:"flex justify-between items-center mb-4",children:[L.jsx("h3",{className:"text-lg font-medium",children:"Historial de Ventas"}),L.jsxs(dn,{variant:"secondary",onClick:()=>D(T,"ventas"),disabled:T.length===0,children:[L.jsx(cP,{size:18}),"Exportar a CSV"]})]}),L.jsx(gx,{columns:F,data:T,keyExtractor:K=>K.fecha_hora+K.codigo_barra,emptyMessage:"No hay ventas registradas"}),T.length>0&&L.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de ventas: ",T.length," | Unidades vendidas: ",T.reduce((K,J)=>K+J.cantidad_vendida,0)]})]})]})},Zee=()=>{};var dN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},ete=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},V$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(v=64)),n.push(r[h],r[p],r[v],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ete(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new tte;const v=o<<2|l>>4;if(n.push(v),f!==64){const y=l<<4&240|f>>2;if(n.push(y),p!==64){const w=f<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rte=function(t){const e=$$(t);return V$.encodeByteArray(e,!0)},Pm=function(t){return rte(t).replace(/\./g,"")},F$=function(t){try{return V$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ite=()=>nte().__FIREBASE_DEFAULTS__,ote=()=>{if(typeof process>"u"||typeof dN>"u")return;const t=dN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ate=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F$(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return Zee()||ite()||ote()||ate()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B$=t=>{var e,r;return(r=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},ste=t=>{const e=B$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},U$=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},q$=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){return t.endsWith(".cloudworkstations.dev")}async function z$(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pm(JSON.stringify(r)),Pm(JSON.stringify(s)),""].join(".")}const ff={};function cte(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function fte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let hN=!1;function W$(t,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||ff[t]===e||ff[t]||hN)return;ff[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=cte().prod.length>0;function s(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{hN=!0,s()},v}function h(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=fte(n),y=r("text"),w=document.getElementById(y)||document.createElement("span"),x=r("learnmore"),b=document.getElementById(x)||document.createElement("a"),A=r("preprendIcon"),T=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const C=v.element;l(C),h(b,x);const j=f();c(T,A),C.append(T,w,b,j),document.body.appendChild(C)}o?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function hte(){var t;const e=(t=jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vte(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yte(){return!hte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _te(){try{return typeof indexedDB=="object"}catch{return!1}}function bte(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte="FirebaseError";class So extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=wte,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wd.prototype.create)}}class wd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?xte(o,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new So(i,l,n)}}function xte(t,e){return t.replace(Ete,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Ete=/\{\$([^}]+)}/g;function Ste(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(pN(o)&&pN(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function pN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ef(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Tte(t,e){const r=new Ate(t,e);return r.subscribe.bind(r)}class Ate{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Pte(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Rw),i.error===void 0&&(i.error=Rw),i.complete===void 0&&(i.complete=Rw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pte(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Rw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ute;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cte(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Ote(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ote(t){return t===os?void 0:t}function Cte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ite(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const Rte={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Nte=Ze.INFO,jte={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Mte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=jte[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YE{constructor(e){this.name=e,this._logLevel=Nte,this._logHandler=Mte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Dte=(t,e)=>e.some(r=>t instanceof r);let mN,gN;function Lte(){return mN||(mN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $te(){return gN||(gN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H$=new WeakMap,vx=new WeakMap,K$=new WeakMap,Nw=new WeakMap,QE=new WeakMap;function Vte(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(ua(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&H$.set(r,t)}).catch(()=>{}),QE.set(e,t),e}function Fte(t){if(vx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});vx.set(t,e)}let yx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return vx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ua(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Bte(t){yx=t(yx)}function Ute(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jw(this),e,...r);return K$.set(n,e.sort?e.sort():[e]),ua(n)}:$te().includes(t)?function(...e){return t.apply(jw(this),e),ua(H$.get(this))}:function(...e){return ua(t.apply(jw(this),e))}}function qte(t){return typeof t=="function"?Ute(t):(t instanceof IDBTransaction&&Fte(t),Dte(t,Lte())?new Proxy(t,yx):t)}function ua(t){if(t instanceof IDBRequest)return Vte(t);if(Nw.has(t))return Nw.get(t);const e=qte(t);return e!==t&&(Nw.set(t,e),QE.set(e,t)),e}const jw=t=>QE.get(t);function zte(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=ua(s);return n&&s.addEventListener("upgradeneeded",c=>{n(ua(s.result),c.oldVersion,c.newVersion,ua(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Wte=["get","getKey","getAll","getAllKeys","count"],Hte=["put","add","delete","clear"],Mw=new Map;function vN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mw.get(e))return Mw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Hte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Wte.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return Mw.set(e,o),o}Bte(t=>({...t,get:(e,r,n)=>vN(e,r)||t.get(e,r,n),has:(e,r)=>!!vN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Gte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Gte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _x="@firebase/app",yN="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new YE("@firebase/app"),Xte="@firebase/app-compat",Yte="@firebase/analytics-compat",Qte="@firebase/analytics",Jte="@firebase/app-check-compat",Zte="@firebase/app-check",ere="@firebase/auth",tre="@firebase/auth-compat",rre="@firebase/database",nre="@firebase/data-connect",ire="@firebase/database-compat",ore="@firebase/functions",are="@firebase/functions-compat",sre="@firebase/installations",ure="@firebase/installations-compat",lre="@firebase/messaging",cre="@firebase/messaging-compat",fre="@firebase/performance",dre="@firebase/performance-compat",hre="@firebase/remote-config",pre="@firebase/remote-config-compat",mre="@firebase/storage",gre="@firebase/storage-compat",vre="@firebase/firestore",yre="@firebase/ai",_re="@firebase/firestore-compat",bre="firebase",wre="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="[DEFAULT]",xre={[_x]:"fire-core",[Xte]:"fire-core-compat",[Qte]:"fire-analytics",[Yte]:"fire-analytics-compat",[Zte]:"fire-app-check",[Jte]:"fire-app-check-compat",[ere]:"fire-auth",[tre]:"fire-auth-compat",[rre]:"fire-rtdb",[nre]:"fire-data-connect",[ire]:"fire-rtdb-compat",[ore]:"fire-fn",[are]:"fire-fn-compat",[sre]:"fire-iid",[ure]:"fire-iid-compat",[lre]:"fire-fcm",[cre]:"fire-fcm-compat",[fre]:"fire-perf",[dre]:"fire-perf-compat",[hre]:"fire-rc",[pre]:"fire-rc-compat",[mre]:"fire-gcs",[gre]:"fire-gcs-compat",[vre]:"fire-fst",[_re]:"fire-fst-compat",[yre]:"fire-vertex","fire-js":"fire-js",[bre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new Map,Ere=new Map,wx=new Map;function _N(t,e){try{t.container.addComponent(e)}catch(r){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bl(t){const e=t.name;if(wx.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;wx.set(e,t);for(const r of Im.values())_N(r,t);for(const r of Ere.values())_N(r,t);return!0}function JE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new wd("app","Firebase",Sre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=wre;function G$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:bx,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(r||(r=U$()),!r)throw la.create("no-options");const o=Im.get(i);if(o){if(Ss(r,o.options)&&Ss(n,o.config))return o;throw la.create("duplicate-app",{appName:i})}const s=new kte(i);for(const c of wx.values())s.addComponent(c);const l=new Tre(r,n,s);return Im.set(i,l),l}function X$(t=bx){const e=Im.get(t);if(!e&&t===bx&&U$())return G$();if(!e)throw la.create("no-app",{appName:t});return e}function ca(t,e,r){var n;let i=(n=xre[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(l.join(" "));return}bl(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are="firebase-heartbeat-database",Pre=1,Zf="firebase-heartbeat-store";let Dw=null;function Y$(){return Dw||(Dw=zte(Are,Pre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(r){console.warn(r)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),Dw}async function Ire(t){try{const r=(await Y$()).transaction(Zf),n=await r.objectStore(Zf).get(Q$(t));return await r.done,n}catch(e){if(e instanceof So)mo.warn(e.message);else{const r=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(r.message)}}}async function bN(t,e){try{const n=(await Y$()).transaction(Zf,"readwrite");await n.objectStore(Zf).put(e,Q$(t)),await n.done}catch(r){if(r instanceof So)mo.warn(r.message);else{const n=la.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});mo.warn(n.message)}}}function Q$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=1024,Cre=30;class kre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Nre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Cre){const s=jre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){mo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=wN(),{heartbeatsToSend:n,unsentEntries:i}=Rre(this._heartbeatsCache.heartbeats),o=Pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return mo.warn(r),""}}}function wN(){return new Date().toISOString().substring(0,10)}function Rre(t,e=Ore){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xN(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),xN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Nre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _te()?bte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ire(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bN(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xN(t){return Pm(JSON.stringify({version:2,heartbeats:t})).length}function jre(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(t){bl(new Ts("platform-logger",e=>new Kte(e),"PRIVATE")),bl(new Ts("heartbeat",e=>new kre(e),"PRIVATE")),ca(_x,yN,t),ca(_x,yN,"esm2017"),ca("fire-js","")}Mre("");function ZE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function J$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dre=J$,Z$=new wd("auth","Firebase",J$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new YE("@firebase/auth");function Lre(t,...e){Om.logLevel<=Ze.WARN&&Om.warn(`Auth (${Vl}): ${t}`,...e)}function _p(t,...e){Om.logLevel<=Ze.ERROR&&Om.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw eS(t,...e)}function Ei(t,...e){return eS(t,...e)}function eV(t,e,r){const n=Object.assign(Object.assign({},Dre()),{[e]:r});return new wd("auth","Firebase",n).create(e,{appName:t.name})}function fa(t){return eV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eS(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Z$.create(t,...e)}function qe(t,e,...r){if(!t)throw eS(e,...r)}function no(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function go(t,e){t||no(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $re(){return EN()==="http:"||EN()==="https:"}function EN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($re()||mte()||"connection"in navigator)?navigator.onLine:!0}function Fre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,r){this.shortDelay=e,this.longDelay=r,go(r>e,"Short delay should be less than long delay!"),this.isMobile=dte()||gte()}get(){return Vre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){go(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qre=new Ed(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,r,n,i={}){return rV(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const l=xd(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return pte()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&bd(t.emulatorConfig.host)&&(f.credentials="include"),tV.fetch()(await nV(t,t.config.apiHost,r,l),f)})}async function rV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Bre),e);try{const i=new Wre(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw up(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw up(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw up(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eV(t,h,f);ii(t,h)}}catch(i){if(i instanceof So)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function Mg(t,e,r,n,i={}){const o=await Aa(t,e,r,n,i);return"mfaPendingCredential"in o&&ii(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function nV(t,e,r,n){const i=`${e}${r}?${n}`,o=t,s=o.config.emulator?tS(t.config,i):`${t.config.apiScheme}://${i}`;return Ure.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function zre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ei(this.auth,"network-request-failed")),qre.get())})}}function up(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ei(t,e,n);return i.customData._tokenResponse=r,i}function SN(t){return t!==void 0&&t.enterprise!==void 0}class Hre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return zre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kre(t,e){return Aa(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gre(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function Cm(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xre(t,e=!1){const r=mn(t),n=await r.getIdToken(e),i=rS(n);qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:df(Lw(i.auth_time)),issuedAtTime:df(Lw(i.iat)),expirationTime:df(Lw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lw(t){return Number(t)*1e3}function rS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=F$(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function TN(t){const e=rS(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof So&&Yre(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Yre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){var e;const r=t.auth,n=await t.getIdToken(),i=await ed(t,Cm(r,{idToken:n}));qe(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iV(o.providerUserInfo):[],l=Zre(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ex(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Jre(t){const e=mn(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zre(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function iV(t){return t.map(e=>{var{providerId:r}=e,n=ZE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ene(t,e){const r=await rV(t,{},async()=>{const n=xd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await nV(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",tV.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function tne(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=TN(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await ene(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new zu;return n&&(qe(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(qe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return no("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=ZE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ex(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await ed(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Xre(this,e)}reload(){return Jre(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await km(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await ed(this,Gre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,s,l,c,f,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,y=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=r.photoURL)!==null&&s!==void 0?s:void 0,x=(l=r.tenantId)!==null&&l!==void 0?l:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,A=(f=r.createdAt)!==null&&f!==void 0?f:void 0,T=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:j,isAnonymous:I,providerData:N,stsTokenManager:P}=r;qe(C&&P,e,"internal-error");const O=zu.fromJSON(this.name,P);qe(typeof C=="string",e,"internal-error"),Yo(p,e.name),Yo(v,e.name),qe(typeof j=="boolean",e,"internal-error"),qe(typeof I=="boolean",e,"internal-error"),Yo(y,e.name),Yo(w,e.name),Yo(x,e.name),Yo(b,e.name),Yo(A,e.name),Yo(T,e.name);const R=new ti({uid:C,auth:e,email:v,emailVerified:j,displayName:p,isAnonymous:I,photoURL:w,phoneNumber:y,tenantId:x,stsTokenManager:O,createdAt:A,lastLoginAt:T});return N&&Array.isArray(N)&&(R.providerData=N.map(V=>Object.assign({},V))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new zu;i.updateFromServerResponse(r);const o=new ti({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await km(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?iV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new zu;l.updateFromIdToken(n);const c=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ex(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;function io(t){go(t instanceof Function,"Expected a class definition");let e=AN.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}oV.type="NONE";const PN=oV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e,r){return`firebase:${t}:${e}:${r}`}class Wu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Cm(this.auth,{idToken:e}).catch(()=>{});return r?ti._fromGetAccountInfoResponse(this.auth,r,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wu(io(PN),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||io(PN);const s=bp(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const v=await Cm(e,{idToken:h}).catch(()=>{});if(!v)break;p=await ti._fromGetAccountInfoResponse(e,v,h)}else p=ti._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Wu(o,e,n):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Wu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fV(e))return"Blackberry";if(dV(e))return"Webos";if(sV(e))return"Safari";if((e.includes("chrome/")||uV(e))&&!e.includes("edge/"))return"Chrome";if(cV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aV(t=Rr()){return/firefox\//i.test(t)}function sV(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uV(t=Rr()){return/crios\//i.test(t)}function lV(t=Rr()){return/iemobile/i.test(t)}function cV(t=Rr()){return/android/i.test(t)}function fV(t=Rr()){return/blackberry/i.test(t)}function dV(t=Rr()){return/webos/i.test(t)}function nS(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rne(t=Rr()){var e;return nS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nne(){return vte()&&document.documentMode===10}function hV(t=Rr()){return nS(t)||cV(t)||dV(t)||fV(t)||/windows phone/i.test(t)||lV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e=[]){let r;switch(t){case"Browser":r=IN(Rr());break;case"Worker":r=`${IN(Rr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function one(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ane=6;class sne{constructor(e){var r,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:ane,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ON(this),this.idTokenSubscription=new ON(this),this.beforeStateQueue=new ine(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=io(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Cm(this,{idToken:e}),n=await ti._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ei(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(fa(this));const r=e?mn(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await one(this),r=new sne(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await tne(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&io(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[io(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Lre(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fl(t){return mn(t)}class ON{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tte(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lne(t){Dg=t}function mV(t){return Dg.loadJS(t)}function cne(){return Dg.recaptchaEnterpriseScript}function fne(){return Dg.gapiScript}function dne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hne{constructor(){this.enterprise=new pne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class pne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const mne="recaptcha-enterprise",gV="NO_RECAPTCHA";class gne{constructor(e){this.type=mne,this.auth=Fl(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{Kre(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Hre(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;SN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(gV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hne().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{n(this.auth).then(l=>{if(!r&&SN(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cne();c.length!==0&&(c+=l),mV(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function CN(t,e,r,n=!1,i=!1){const o=new gne(t);let s;if(i)s=gV;else try{s=await o.verify(r)}catch{s=await o.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function kN(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await CN(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await CN(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(t,e){const r=JE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Ss(o,e??{}))return i;ii(i,"already-initialized")}return r.initialize({options:e})}function yne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function _ne(t,e,r){const n=Fl(t);qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=vV(e),{host:s,port:l}=bne(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){qe(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),qe(Ss(f,n.config.emulator)&&Ss(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,bd(s)?(z$(`${o}//${s}${c}`),W$("Auth",!0)):wne()}function vV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bne(t){const e=vV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:RN(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:RN(s)}}}function RN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wne(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return no("not implemented")}_getIdTokenResponse(e){return no("not implemented")}_linkToIdToken(e,r){return no("not implemented")}_getReauthenticationResolver(e){return no("not implemented")}}async function xne(t,e){return Aa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ene(t,e){return Mg(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sne(t,e){return Mg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function Tne(t,e){return Mg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends iS{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new td(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new td(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kN(e,r,"signInWithPassword",Ene);case"emailLink":return Sne(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kN(e,n,"signUpPassword",xne);case"emailLink":return Tne(e,{idToken:r,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e){return Mg(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ane="http://localhost";class As extends iS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ii("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=ZE(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new As(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Hu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hu(e,r)}buildRequest(){const e={requestUri:Ane,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ine(t){const e=Zc(ef(t)).link,r=e?Zc(ef(e)).deep_link_id:null,n=Zc(ef(t)).deep_link_id;return(n?Zc(ef(n)).link:null)||n||r||e||t}class oS{constructor(e){var r,n,i,o,s,l;const c=Zc(ef(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=Pne((i=c.mode)!==null&&i!==void 0?i:null);qe(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=Ine(e);try{return new oS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,r){return td._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=oS.parseLink(r);return qe(n,"argument-error"),td._fromEmailAndCode(e,n.code,n.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends yV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Sd{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return As._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Sd{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sd{constructor(){super("twitter.com")}static credential(e,r){return As._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return na.credential(r,n)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ti._fromIdTokenResponse(e,n,i),s=NN(n);return new wl({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=NN(n);return new wl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function NN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends So{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Rm(e,r,n,i)}}function _V(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,o,e,n):o})}async function One(t,e,r=!1){const n=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cne(t,e,r=!1){const{auth:n}=t;if(ei(n.app))return Promise.reject(fa(n));const i="reauthenticate";try{const o=await ed(t,_V(n,i,e,t),r);qe(o.idToken,n,"internal-error");const s=rS(o.idToken);qe(s,n,"internal-error");const{sub:l}=s;return qe(t.uid===l,n,"user-mismatch"),wl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ii(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e,r=!1){if(ei(t.app))return Promise.reject(fa(t));const n="signIn",i=await _V(t,n,e),o=await wl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function kne(t,e){return bV(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rne(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Nne(t,e,r){return ei(t.app)?Promise.reject(fa(t)):kne(mn(t),Bl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Rne(t),n})}function jne(t,e,r,n){return mn(t).onIdTokenChanged(e,r,n)}function Mne(t,e,r){return mn(t).beforeAuthStateChanged(e,r)}function Dne(t,e,r,n){return mn(t).onAuthStateChanged(e,r,n)}function $w(t){return mn(t).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lne=1e3,$ne=10;class xV extends wV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);nne()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$ne):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Lne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}xV.type="LOCAL";const Vne=xV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV extends wV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}EV.type="SESSION";const SV=EV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Lg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,o)),c=await Fne(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=aS("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function Une(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function qne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wne(){return TV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="firebaseLocalStorageDb",Hne=1,jm="firebaseLocalStorage",PV="fbase_key";class Td{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $g(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function Kne(){const t=indexedDB.deleteDatabase(AV);return new Td(t).toPromise()}function Sx(){const t=indexedDB.open(AV,Hne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(jm,{keyPath:PV})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(jm)?e(n):(n.close(),await Kne(),e(await Sx()))})})}async function jN(t,e,r){const n=$g(t,!0).put({[PV]:e,value:r});return new Td(n).toPromise()}async function Gne(t,e){const r=$g(t,!1).get(e),n=await new Td(r).toPromise();return n===void 0?null:n.value}function MN(t,e){const r=$g(t,!0).delete(e);return new Td(r).toPromise()}const Xne=800,Yne=3;class IV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Yne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lg._getInstance(Wne()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await qne(),!this.activeServiceWorker)return;this.sender=new Bne(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sx();return await jN(e,Nm,"1"),await MN(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>jN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Gne(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>MN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$g(i,!1).getAll();return new Td(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IV.type="LOCAL";const Qne=IV;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(t,e){return e?io(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends iS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Zne(t){return bV(t.auth,new sS(t),t.bypassAuthState)}function eie(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),Cne(r,new sS(t),t.bypassAuthState)}async function tie(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),One(r,new sS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zne;case"linkViaPopup":case"linkViaRedirect":return tie;case"reauthViaPopup":case"reauthViaRedirect":return eie;default:ii(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie=new Ed(2e3,1e4);class Vu extends OV{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=aS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rie.get())};e()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie="pendingRedirect",wp=new Map;class iie extends OV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await oie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oie(t,e){const r=uie(e),n=sie(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function aie(t,e){wp.set(t._key(),e)}function sie(t){return io(t._redirectPersistence)}function uie(t){return bp(nie,t.config.apiKey,t.name)}async function lie(t,e,r=!1){if(ei(t.app))return Promise.reject(fa(t));const n=Fl(t),i=Jne(n,e),s=await new iie(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie=10*60*1e3;class fie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!die(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!CV(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ei(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cie&&this.cachedEventUids.clear(),this.cachedEventUids.has(DN(e))}saveEventToCache(e){this.cachedEventUids.add(DN(e)),this.lastProcessedEventTime=Date.now()}}function DN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function die(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hie(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mie=/^https?/;async function gie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hie(t);for(const r of e)try{if(vie(r))return}catch{}ii(t,"unauthorized-domain")}function vie(t){const e=xx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!mie.test(r))return!1;if(pie.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yie=new Ed(3e4,6e4);function LN(){const t=Si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function _ie(t){return new Promise((e,r)=>{var n,i,o;function s(){LN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LN(),r(Ei(t,"network-request-failed"))},timeout:yie.get()})}if(!((i=(n=Si().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Si().gapi)===null||o===void 0)&&o.load)s();else{const l=dne("iframefcb");return Si()[l]=()=>{gapi.load?s():r(Ei(t,"network-request-failed"))},mV(`${fne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw xp=null,e})}let xp=null;function bie(t){return xp=xp||_ie(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie=new Ed(5e3,15e3),xie="__/auth/iframe",Eie="emulator/auth/iframe",Sie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Aie(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?tS(e,Eie):`https://${t.config.authDomain}/${xie}`,n={apiKey:e.apiKey,appName:t.name,v:Vl},i=Tie.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${xd(n).slice(1)}`}async function Pie(t){const e=await bie(t),r=Si().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:Aie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sie,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=Ei(t,"network-request-failed"),l=Si().setTimeout(()=>{o(s)},wie.get());function c(){Si().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oie=500,Cie=600,kie="_blank",Rie="http://localhost";class $N{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nie(t,e,r,n=Oie,i=Cie){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Iie),{width:n.toString(),height:i.toString(),top:o,left:s}),f=Rr().toLowerCase();r&&(l=uV(f)?kie:r),aV(f)&&(e=e||Rie,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(rne(f)&&l!=="_self")return jie(e||"",l),new $N(null);const p=window.open(e||"",l,h);qe(p,t,"popup-blocked");try{p.focus()}catch{}return new $N(p)}function jie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie="__/auth/handler",Die="emulator/auth/handler",Lie=encodeURIComponent("fac");async function VN(t,e,r,n,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vl,eventId:i};if(e instanceof yV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ste(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof Sd){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${Lie}=${encodeURIComponent(c)}`:"";return`${$ie(t)}?${xd(l).slice(1)}${f}`}function $ie({config:t}){return t.emulator?tS(t,Die):`https://${t.authDomain}/${Mie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="webStorageSupport";class Vie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SV,this._completeRedirectFn=lie,this._overrideRedirectResult=aie}async _openPopup(e,r,n,i){var o;go((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await VN(e,r,n,xx(),i);return Nie(e,s,aS())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await VN(e,r,n,xx(),i);return Une(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(go(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Pie(e),n=new fie(e);return r.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Vw,{type:Vw},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Vw];s!==void 0&&r(!!s),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=gie(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hV()||sV()||nS()}}const Fie=Vie;var FN="@firebase/auth",BN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qie(t){bl(new Ts("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;qe(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pV(t)},f=new une(n,i,o,c);return yne(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bl(new Ts("auth-internal",e=>{const r=Fl(e.getProvider("auth").getImmediate());return(n=>new Bie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(FN,BN,Uie(t)),ca(FN,BN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=5*60,Wie=q$("authIdTokenMaxAge")||zie;let UN=null;const Hie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Wie)return;const i=r==null?void 0:r.token;UN!==i&&(UN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kie(t=X$()){const e=JE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vne(t,{popupRedirectResolver:Fie,persistence:[Qne,Vne,SV]}),n=q$("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=Hie(o.toString());Mne(r,s,()=>s(r.currentUser)),jne(r,l=>s(l))}}const i=B$("auth");return i&&_ne(r,`http://${i}`),r}function Gie(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Ei("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Gie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qie("Browser");var qN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,kV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function R(){}R.prototype=O.prototype,P.D=O.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(V,M,F){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return O.prototype[M].apply(V,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,R){R||(R=0);var V=Array(16);if(typeof O=="string")for(var M=0;16>M;++M)V[M]=O.charCodeAt(R++)|O.charCodeAt(R++)<<8|O.charCodeAt(R++)<<16|O.charCodeAt(R++)<<24;else for(M=0;16>M;++M)V[M]=O[R++]|O[R++]<<8|O[R++]<<16|O[R++]<<24;O=P.g[0],R=P.g[1],M=P.g[2];var F=P.g[3],D=O+(F^R&(M^F))+V[0]+3614090360&4294967295;O=R+(D<<7&4294967295|D>>>25),D=F+(M^O&(R^M))+V[1]+3905402710&4294967295,F=O+(D<<12&4294967295|D>>>20),D=M+(R^F&(O^R))+V[2]+606105819&4294967295,M=F+(D<<17&4294967295|D>>>15),D=R+(O^M&(F^O))+V[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=O+(F^R&(M^F))+V[4]+4118548399&4294967295,O=R+(D<<7&4294967295|D>>>25),D=F+(M^O&(R^M))+V[5]+1200080426&4294967295,F=O+(D<<12&4294967295|D>>>20),D=M+(R^F&(O^R))+V[6]+2821735955&4294967295,M=F+(D<<17&4294967295|D>>>15),D=R+(O^M&(F^O))+V[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=O+(F^R&(M^F))+V[8]+1770035416&4294967295,O=R+(D<<7&4294967295|D>>>25),D=F+(M^O&(R^M))+V[9]+2336552879&4294967295,F=O+(D<<12&4294967295|D>>>20),D=M+(R^F&(O^R))+V[10]+4294925233&4294967295,M=F+(D<<17&4294967295|D>>>15),D=R+(O^M&(F^O))+V[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=O+(F^R&(M^F))+V[12]+1804603682&4294967295,O=R+(D<<7&4294967295|D>>>25),D=F+(M^O&(R^M))+V[13]+4254626195&4294967295,F=O+(D<<12&4294967295|D>>>20),D=M+(R^F&(O^R))+V[14]+2792965006&4294967295,M=F+(D<<17&4294967295|D>>>15),D=R+(O^M&(F^O))+V[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=O+(M^F&(R^M))+V[1]+4129170786&4294967295,O=R+(D<<5&4294967295|D>>>27),D=F+(R^M&(O^R))+V[6]+3225465664&4294967295,F=O+(D<<9&4294967295|D>>>23),D=M+(O^R&(F^O))+V[11]+643717713&4294967295,M=F+(D<<14&4294967295|D>>>18),D=R+(F^O&(M^F))+V[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=O+(M^F&(R^M))+V[5]+3593408605&4294967295,O=R+(D<<5&4294967295|D>>>27),D=F+(R^M&(O^R))+V[10]+38016083&4294967295,F=O+(D<<9&4294967295|D>>>23),D=M+(O^R&(F^O))+V[15]+3634488961&4294967295,M=F+(D<<14&4294967295|D>>>18),D=R+(F^O&(M^F))+V[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=O+(M^F&(R^M))+V[9]+568446438&4294967295,O=R+(D<<5&4294967295|D>>>27),D=F+(R^M&(O^R))+V[14]+3275163606&4294967295,F=O+(D<<9&4294967295|D>>>23),D=M+(O^R&(F^O))+V[3]+4107603335&4294967295,M=F+(D<<14&4294967295|D>>>18),D=R+(F^O&(M^F))+V[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=O+(M^F&(R^M))+V[13]+2850285829&4294967295,O=R+(D<<5&4294967295|D>>>27),D=F+(R^M&(O^R))+V[2]+4243563512&4294967295,F=O+(D<<9&4294967295|D>>>23),D=M+(O^R&(F^O))+V[7]+1735328473&4294967295,M=F+(D<<14&4294967295|D>>>18),D=R+(F^O&(M^F))+V[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=O+(R^M^F)+V[5]+4294588738&4294967295,O=R+(D<<4&4294967295|D>>>28),D=F+(O^R^M)+V[8]+2272392833&4294967295,F=O+(D<<11&4294967295|D>>>21),D=M+(F^O^R)+V[11]+1839030562&4294967295,M=F+(D<<16&4294967295|D>>>16),D=R+(M^F^O)+V[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=O+(R^M^F)+V[1]+2763975236&4294967295,O=R+(D<<4&4294967295|D>>>28),D=F+(O^R^M)+V[4]+1272893353&4294967295,F=O+(D<<11&4294967295|D>>>21),D=M+(F^O^R)+V[7]+4139469664&4294967295,M=F+(D<<16&4294967295|D>>>16),D=R+(M^F^O)+V[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=O+(R^M^F)+V[13]+681279174&4294967295,O=R+(D<<4&4294967295|D>>>28),D=F+(O^R^M)+V[0]+3936430074&4294967295,F=O+(D<<11&4294967295|D>>>21),D=M+(F^O^R)+V[3]+3572445317&4294967295,M=F+(D<<16&4294967295|D>>>16),D=R+(M^F^O)+V[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=O+(R^M^F)+V[9]+3654602809&4294967295,O=R+(D<<4&4294967295|D>>>28),D=F+(O^R^M)+V[12]+3873151461&4294967295,F=O+(D<<11&4294967295|D>>>21),D=M+(F^O^R)+V[15]+530742520&4294967295,M=F+(D<<16&4294967295|D>>>16),D=R+(M^F^O)+V[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=O+(M^(R|~F))+V[0]+4096336452&4294967295,O=R+(D<<6&4294967295|D>>>26),D=F+(R^(O|~M))+V[7]+1126891415&4294967295,F=O+(D<<10&4294967295|D>>>22),D=M+(O^(F|~R))+V[14]+2878612391&4294967295,M=F+(D<<15&4294967295|D>>>17),D=R+(F^(M|~O))+V[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=O+(M^(R|~F))+V[12]+1700485571&4294967295,O=R+(D<<6&4294967295|D>>>26),D=F+(R^(O|~M))+V[3]+2399980690&4294967295,F=O+(D<<10&4294967295|D>>>22),D=M+(O^(F|~R))+V[10]+4293915773&4294967295,M=F+(D<<15&4294967295|D>>>17),D=R+(F^(M|~O))+V[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=O+(M^(R|~F))+V[8]+1873313359&4294967295,O=R+(D<<6&4294967295|D>>>26),D=F+(R^(O|~M))+V[15]+4264355552&4294967295,F=O+(D<<10&4294967295|D>>>22),D=M+(O^(F|~R))+V[6]+2734768916&4294967295,M=F+(D<<15&4294967295|D>>>17),D=R+(F^(M|~O))+V[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=O+(M^(R|~F))+V[4]+4149444226&4294967295,O=R+(D<<6&4294967295|D>>>26),D=F+(R^(O|~M))+V[11]+3174756917&4294967295,F=O+(D<<10&4294967295|D>>>22),D=M+(O^(F|~R))+V[2]+718787259&4294967295,M=F+(D<<15&4294967295|D>>>17),D=R+(F^(M|~O))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+F&4294967295}n.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var R=O-this.blockSize,V=this.B,M=this.h,F=0;F<O;){if(M==0)for(;F<=R;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<O;)if(V[M++]=P.charCodeAt(F++),M==this.blockSize){i(this,V),M=0;break}}else for(;F<O;)if(V[M++]=P[F++],M==this.blockSize){i(this,V),M=0;break}}this.h=M,this.o+=O},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var R=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=R&255,R/=256;for(this.u(P),P=Array(16),O=R=0;4>O;++O)for(var V=0;32>V;V+=8)P[R++]=this.g[O]>>>V&255;return P};function o(P,O){var R=l;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=O(P)}function s(P,O){this.h=O;for(var R=[],V=!0,M=P.length-1;0<=M;M--){var F=P[M]|0;V&&F==O||(R[M]=F,V=!1)}this.g=R}var l={};function c(P){return-128<=P&&128>P?o(P,function(O){return new s([O|0],0>O?-1:0)}):new s([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return b(f(-P));for(var O=[],R=1,V=0;P>=R;V++)O[V]=P/R|0,R*=4294967296;return new s(O,0)}function h(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return b(h(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(O,8)),V=p,M=0;M<P.length;M+=8){var F=Math.min(8,P.length-M),D=parseInt(P.substring(M,M+F),O);8>F?(F=f(Math.pow(O,F)),V=V.j(F).add(f(D))):(V=V.j(R),V=V.add(f(D)))}return V}var p=c(0),v=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-b(this).m();for(var P=0,O=1,R=0;R<this.g.length;R++){var V=this.i(R);P+=(0<=V?V:4294967296+V)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(x(this))return"-"+b(this).toString(P);for(var O=f(Math.pow(P,6)),R=this,V="";;){var M=j(R,O).g;R=A(R,M.j(O));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=M,w(R))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=A(this,P),x(P)?-1:w(P)?0:1};function b(P){for(var O=P.g.length,R=[],V=0;V<O;V++)R[V]=~P.g[V];return new s(R,~P.h).add(v)}t.abs=function(){return x(this)?b(this):this},t.add=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],V=0,M=0;M<=O;M++){var F=V+(this.i(M)&65535)+(P.i(M)&65535),D=(F>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);V=D>>>16,F&=65535,D&=65535,R[M]=D<<16|F}return new s(R,R[R.length-1]&-2147483648?-1:0)};function A(P,O){return P.add(b(O))}t.j=function(P){if(w(this)||w(P))return p;if(x(this))return x(P)?b(this).j(b(P)):b(b(this).j(P));if(x(P))return b(this.j(b(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var O=this.g.length+P.g.length,R=[],V=0;V<2*O;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<P.g.length;M++){var F=this.i(V)>>>16,D=this.i(V)&65535,Z=P.i(M)>>>16,K=P.i(M)&65535;R[2*V+2*M]+=D*K,T(R,2*V+2*M),R[2*V+2*M+1]+=F*K,T(R,2*V+2*M+1),R[2*V+2*M+1]+=D*Z,T(R,2*V+2*M+1),R[2*V+2*M+2]+=F*Z,T(R,2*V+2*M+2)}for(V=0;V<O;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=O;V<2*O;V++)R[V]=0;return new s(R,0)};function T(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function C(P,O){this.g=P,this.h=O}function j(P,O){if(w(O))throw Error("division by zero");if(w(P))return new C(p,p);if(x(P))return O=j(b(P),O),new C(b(O.g),b(O.h));if(x(O))return O=j(P,b(O)),new C(b(O.g),O.h);if(30<P.g.length){if(x(P)||x(O))throw Error("slowDivide_ only works with positive integers.");for(var R=v,V=O;0>=V.l(P);)R=I(R),V=I(V);var M=N(R,1),F=N(V,1);for(V=N(V,2),R=N(R,2);!w(V);){var D=F.add(V);0>=D.l(P)&&(M=M.add(R),F=D),V=N(V,1),R=N(R,1)}return O=A(P,M.j(O)),new C(M,O)}for(M=p;0<=P.l(O);){for(R=Math.max(1,Math.floor(P.m()/O.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=f(R),D=F.j(O);x(D)||0<D.l(P);)R-=V,F=f(R),D=F.j(O);w(F)&&(F=v),M=M.add(F),P=A(P,D)}return new C(M,P)}t.A=function(P){return j(this,P).h},t.and=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],V=0;V<O;V++)R[V]=this.i(V)&P.i(V);return new s(R,this.h&P.h)},t.or=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],V=0;V<O;V++)R[V]=this.i(V)|P.i(V);return new s(R,this.h|P.h)},t.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),R=[],V=0;V<O;V++)R[V]=this.i(V)^P.i(V);return new s(R,this.h^P.h)};function I(P){for(var O=P.g.length+1,R=[],V=0;V<O;V++)R[V]=P.i(V)<<1|P.i(V-1)>>>31;return new s(R,P.h)}function N(P,O){var R=O>>5;O%=32;for(var V=P.g.length-R,M=[],F=0;F<V;F++)M[F]=0<O?P.i(F+R)>>>O|P.i(F+R+1)<<32-O:P.i(F+R);return new s(M,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,da=s}).apply(typeof qN<"u"?qN:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RV,tf,NV,Ep,Tx,jV,MV,DV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,k){return m==Array.prototype||m==Object.prototype||(m[E]=k.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var E=0;E<m.length;++E){var k=m[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(m,E){if(E)e:{var k=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var ee=m[B];if(!(ee in k))break e;k=k[ee]}m=m[m.length-1],B=k[m],E=E(B),E!=B&&E!=null&&e(k,m,{configurable:!0,writable:!0,value:E})}}function o(m,E){m instanceof String&&(m+="");var k=0,B=!1,ee={next:function(){if(!B&&k<m.length){var le=k++;return{value:E(le,m[le]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(m){return m||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function h(m,E,k){return m.call.apply(m.bind,arguments)}function p(m,E,k){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,B),m.apply(E,ee)}}return function(){return m.apply(E,arguments)}}function v(m,E,k){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function y(m,E){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,E){function k(){}k.prototype=E.prototype,m.aa=E.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(B,ee,le){for(var Ee=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)Ee[mt-2]=arguments[mt];return E.prototype[ee].apply(B,Ee)}}function x(m){const E=m.length;if(0<E){const k=Array(E);for(let B=0;B<E;B++)k[B]=m[B];return k}return[]}function b(m,E){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(c(B)){const ee=m.length||0,le=B.length||0;m.length=ee+le;for(let Ee=0;Ee<le;Ee++)m[ee+Ee]=B[Ee]}else m.push(B)}}class A{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function T(m){return/^[\s\xa0]*$/.test(m)}function C(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function j(m){return j[" "](m),m}j[" "]=function(){};var I=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function N(m,E,k){for(const B in m)E.call(k,m[B],B,m)}function P(m,E){for(const k in m)E.call(void 0,m[k],k,m)}function O(m){const E={};for(const k in m)E[k]=m[k];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,E){let k,B;for(let ee=1;ee<arguments.length;ee++){B=arguments[ee];for(k in B)m[k]=B[k];for(let le=0;le<R.length;le++)k=R[le],Object.prototype.hasOwnProperty.call(B,k)&&(m[k]=B[k])}}function M(m){var E=1;m=m.split(":");const k=[];for(;0<E&&m.length;)k.push(m.shift()),E--;return m.length&&k.push(m.join(":")),k}function F(m){l.setTimeout(()=>{throw m},0)}function D(){var m=se;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Z{constructor(){this.h=this.g=null}add(E,k){const B=K.get();B.set(E,k),this.h?this.h.next=B:this.g=B,this.h=B}}var K=new A(()=>new J,m=>m.reset());class J{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Q=!1,se=new Z,H=()=>{const m=l.Promise.resolve(void 0);oe=()=>{m.then(U)}};var U=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(k){F(k)}var E=K;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,E),l.removeEventListener("test",k,E)}catch{}return m}();function ie(m,E){if(ue.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(I){e:{try{j(E.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(E=null)}}else k=="mouseover"?E=m.fromElement:k=="mouseout"&&(E=m.toElement);this.relatedTarget=E,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ce[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ie.aa.h.call(this)}}w(ie,ue);var ce={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function de(m,E,k,B,ee){this.listener=m,this.proxy=null,this.src=E,this.type=k,this.capture=!!B,this.ha=ee,this.key=++Se,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xe(m){this.src=m,this.g={},this.h=0}xe.prototype.add=function(m,E,k,B,ee){var le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);var Ee=Me(m,E,B,ee);return-1<Ee?(E=m[Ee],k||(E.fa=!1)):(E=new de(E,this.src,le,!!B,ee),E.fa=k,m.push(E)),E};function te(m,E){var k=E.type;if(k in m.g){var B=m.g[k],ee=Array.prototype.indexOf.call(B,E,void 0),le;(le=0<=ee)&&Array.prototype.splice.call(B,ee,1),le&&(Te(E),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Me(m,E,k,B){for(var ee=0;ee<m.length;++ee){var le=m[ee];if(!le.da&&le.listener==E&&le.capture==!!k&&le.ha==B)return ee}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ke={};function He(m,E,k,B,ee){if(Array.isArray(E)){for(var le=0;le<E.length;le++)He(m,E[le],k,B,ee);return null}return k=To(k),m&&m[pe]?m.K(E,k,f(B)?!!B.capture:!1,ee):at(m,E,k,!1,B,ee)}function at(m,E,k,B,ee,le){if(!E)throw Error("Invalid event type");var Ee=f(ee)?!!ee.capture:!!ee,mt=ai(m);if(mt||(m[Ae]=mt=new xe(m)),k=mt.add(E,k,B,Ee,le),k.proxy)return k;if(B=st(),k.proxy=B,B.src=m,B.listener=k,m.addEventListener)ve||(ee=Ee),ee===void 0&&(ee=!1),m.addEventListener(E.toString(),B,ee);else if(m.attachEvent)m.attachEvent(Ht(E.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function st(){function m(k){return E.call(m.src,m.listener,k)}const E=en;return m}function pt(m,E,k,B,ee){if(Array.isArray(E))for(var le=0;le<E.length;le++)pt(m,E[le],k,B,ee);else B=f(B)?!!B.capture:!!B,k=To(k),m&&m[pe]?(m=m.i,E=String(E).toString(),E in m.g&&(le=m.g[E],k=Me(le,k,B,ee),-1<k&&(Te(le[k]),Array.prototype.splice.call(le,k,1),le.length==0&&(delete m.g[E],m.h--)))):m&&(m=ai(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Me(E,k,B,ee)),(k=-1<m?E[m]:null)&&Ft(k))}function Ft(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[pe])te(E.i,m);else{var k=m.type,B=m.proxy;E.removeEventListener?E.removeEventListener(k,B,m.capture):E.detachEvent?E.detachEvent(Ht(k),B):E.addListener&&E.removeListener&&E.removeListener(B),(k=ai(E))?(te(k,m),k.h==0&&(k.src=null,E[Ae]=null)):Te(m)}}}function Ht(m){return m in ke?ke[m]:ke[m]="on"+m}function en(m,E){if(m.da)m=!0;else{E=new ie(E,this);var k=m.listener,B=m.ha||m.src;m.fa&&Ft(m),m=k.call(B,E)}return m}function ai(m){return m=m[Ae],m instanceof xe?m:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(m){return typeof m=="function"?m:(m[Mi]||(m[Mi]=function(E){return m.handleEvent(E)}),m[Mi])}function Kt(){G.call(this),this.i=new xe(this),this.M=this,this.F=null}w(Kt,G),Kt.prototype[pe]=!0,Kt.prototype.removeEventListener=function(m,E,k,B){pt(this,m,E,k,B)};function Gt(m,E){var k,B=m.F;if(B)for(k=[];B;B=B.F)k.push(B);if(m=m.M,B=E.type||E,typeof E=="string")E=new ue(E,m);else if(E instanceof ue)E.target=E.target||m;else{var ee=E;E=new ue(B,m),V(E,ee)}if(ee=!0,k)for(var le=k.length-1;0<=le;le--){var Ee=E.g=k[le];ee=Di(Ee,B,!0,E)&&ee}if(Ee=E.g=m,ee=Di(Ee,B,!0,E)&&ee,ee=Di(Ee,B,!1,E)&&ee,k)for(le=0;le<k.length;le++)Ee=E.g=k[le],ee=Di(Ee,B,!1,E)&&ee}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var k=m.g[E],B=0;B<k.length;B++)Te(k[B]);delete m.g[E],m.h--}}this.F=null},Kt.prototype.K=function(m,E,k,B){return this.i.add(String(m),E,!1,k,B)},Kt.prototype.L=function(m,E,k,B){return this.i.add(String(m),E,!0,k,B)};function Di(m,E,k,B){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var ee=!0,le=0;le<E.length;++le){var Ee=E[le];if(Ee&&!Ee.da&&Ee.capture==k){var mt=Ee.listener,Xt=Ee.ha||Ee.src;Ee.fa&&te(m.i,Ee),ee=mt.call(Xt,B)!==!1&&ee}}return ee&&!B.defaultPrevented}function Hl(m,E,k){if(typeof m=="function")k&&(m=v(m,k));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(m,E||0)}function Ao(m){m.g=Hl(()=>{m.g=null,m.i&&(m.i=!1,Ao(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Pa extends G{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(m){G.call(this),this.h=m,this.g={}}w(Ia,G);var Kl=[];function Gl(m){N(m.g,function(E,k){this.g.hasOwnProperty(k)&&Ft(E)},m),m.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Gl(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=l.JSON.stringify,Yl=l.JSON.parse,Ql=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Oa(){}Oa.prototype.h=null;function Fs(m){return m.h||(m.h=m.i())}function Bs(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){ue.call(this,"d")}w(si,ue);function Us(){ue.call(this,"c")}w(Us,ue);var ui={},Jl=null;function Ca(){return Jl=Jl||new Kt}ui.La="serverreachability";function Zl(m){ue.call(this,ui.La,m)}w(Zl,ue);function Li(m){const E=Ca();Gt(E,new Zl(E))}ui.STAT_EVENT="statevent";function ec(m,E){ue.call(this,ui.STAT_EVENT,m),this.stat=E}w(ec,ue);function Lt(m){const E=Ca();Gt(E,new ec(E,m))}ui.Ma="timingevent";function qs(m,E){ue.call(this,ui.Ma,m),this.size=E}w(qs,ue);function Mn(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},E)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function Ra(m,E,k,B,ee,le){m.info(function(){if(m.g)if(le)for(var Ee="",mt=le.split("&"),Xt=0;Xt<mt.length;Xt++){var rt=mt[Xt].split("=");if(1<rt.length){var ar=rt[0];rt=rt[1];var Bt=ar.split("_");Ee=2<=Bt.length&&Bt[1]=="type"?Ee+(ar+"="+rt+"&"):Ee+(ar+"=redacted&")}}else Ee=null;else Ee=le;return"XMLHTTP REQ ("+B+") [attempt "+ee+"]: "+E+`
`+k+`
`+Ee})}function zs(m,E,k,B,ee,le,Ee){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ee+"]: "+E+`
`+k+`
`+le+" "+Ee})}function Dn(m,E,k,B){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Qg(m,k)+(B?" "+B:"")})}function tc(m,E){m.info(function(){return"TIMEOUT: "+E})}ka.prototype.info=function(){};function Qg(m,E){if(!m.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var B=k[m];if(!(2>B.length)){var ee=B[1];if(Array.isArray(ee)&&!(1>ee.length)){var le=ee[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ee=1;Ee<ee.length;Ee++)ee[Ee]=""}}}}return Xl(k)}catch{return E}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function Na(){}w(Na,Oa),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Ln=new Na;function $n(m,E,k,B){this.j=m,this.i=E,this.l=k,this.R=B||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kd}function kd(){this.i=null,this.g="",this.h=!1}var rc={},Hs={};function Ks(m,E,k){m.L=1,m.v=ko(rn(E)),m.m=k,m.P=!0,nc(m,null)}function nc(m,E){m.F=Date.now(),bt(m),m.A=rn(m.v);var k=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),No(k.i,"t",B),m.C=0,k=m.j.J,m.h=new kd,m.g=Xd(m.j,k?E:null,!m.m),0<m.O&&(m.M=new Pa(v(m.Y,m,m.g),m.O)),E=m.U,k=m.g,B=m.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Kl[0]=ee.toString()),ee=Kl);for(var le=0;le<ee.length;le++){var Ee=He(k,ee[le],B||E.handleEvent,!1,E.h||E);if(!Ee)break;E.g[Ee.key]=Ee}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Li(),Ra(m.i,m.u,m.A,m.l,m.R,m.m)}$n.prototype.ca=function(m){m=m.target;const E=this.M;E&&Ur(m)==3?E.j():this.Y(m)},$n.prototype.Y=function(m){try{if(m==this.g)e:{const Bt=Ur(this.g);var E=this.g.Ba();const _n=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Bt!=4||E==7||(E==8||0>=_n?Li(3):Li(2)),ja(this);var k=this.g.Z();this.X=k;t:if(Rd(this)){var B=lc(this.g);m="";var ee=B.length,le=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Po(this);var Ee="";break t}this.h.i=new l.TextDecoder}for(E=0;E<ee;E++)this.h.h=!0,m+=this.h.i.decode(B[E],{stream:!(le&&E==ee-1)});B.length=0,this.h.g+=m,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=k==200,zs(this.i,this.u,this.A,this.l,this.R,Bt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Xt=this.g;if((mt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(mt)){var rt=mt;break t}}rt=null}if(k=rt)Dn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,k);else{this.o=!1,this.s=3,Lt(12),vn(this),Po(this);break e}}if(this.P){k=!0;let on;for(;!this.J&&this.C<Ee.length;)if(on=Jg(this,Ee),on==Hs){Bt==4&&(this.s=4,Lt(14),k=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(on==rc){this.s=4,Lt(15),Dn(this.i,this.l,Ee,"[Invalid Chunk]"),k=!1;break}else Dn(this.i,this.l,on,null),ic(this,on);if(Rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||Ee.length!=0||this.h.h||(this.s=1,Lt(16),k=!1),this.o=this.o&&k,!k)Dn(this.i,this.l,Ee,"[Invalid Chunked Response]"),vn(this),Po(this);else if(0<Ee.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),fc(ar),ar.M=!0,Lt(11))}}else Dn(this.i,this.l,Ee,null),ic(this,Ee);Bt==4&&vn(this),this.o&&!this.J&&(Bt==4?iu(this.j,this):(this.o=!1,bt(this)))}else Zs(this.g),k==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),vn(this),Po(this)}}}catch{}finally{}};function Rd(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Jg(m,E){var k=m.C,B=E.indexOf(`
`,k);return B==-1?Hs:(k=Number(E.substring(k,B)),isNaN(k)?rc:(B+=1,B+k>E.length?Hs:(E=E.slice(B,B+k),m.C=B+k,E)))}$n.prototype.cancel=function(){this.J=!0,vn(this)};function bt(m){m.S=Date.now()+m.I,Nd(m,m.I)}function Nd(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Mn(v(m.ba,m),E)}function ja(m){m.B&&(l.clearTimeout(m.B),m.B=null)}$n.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(tc(this.i,this.A),this.L!=2&&(Li(),Lt(17)),vn(this),this.s=2,Po(this)):Nd(this,this.S-m)};function Po(m){m.j.G==0||m.J||iu(m.j,m)}function vn(m){ja(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Gl(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function ic(m,E){try{var k=m.j;if(k.G!=0&&(k.g==m||Nr(k.h,m))){if(!m.K&&Nr(k.h,m)&&k.G==3){try{var B=k.Da.g.parse(E)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ee=B;if(ee[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)nu(k),qn(k);else break e;ru(k),Lt(18)}}else k.za=ee[1],0<k.za-k.T&&37500>ee[2]&&k.F&&k.v==0&&!k.C&&(k.C=Mn(v(k.Za,k),6e3));if(1>=Md(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Ui(k,11)}else if((m.K||k.g==m)&&nu(k),!T(E))for(ee=k.Da.g.parse(E),E=0;E<ee.length;E++){let rt=ee[E];if(k.T=rt[0],rt=rt[1],k.G==2)if(rt[0]=="c"){k.K=rt[1],k.ia=rt[2];const ar=rt[3];ar!=null&&(k.la=ar,k.j.info("VER="+k.la));const Bt=rt[4];Bt!=null&&(k.Aa=Bt,k.j.info("SVER="+k.Aa));const _n=rt[5];_n!=null&&typeof _n=="number"&&0<_n&&(B=1.5*_n,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const on=m.g;if(on){const Ba=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var le=B.h;le.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(oc(le,le.h),le.h=null))}if(B.D){const au=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(B.ya=au,yt(B.I,B.D,au))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var Ee=m;if(B.qa=Gd(B,B.J?B.ia:null,B.W),Ee.K){Dd(B.h,Ee);var mt=Ee,Xt=B.L;Xt&&(mt.I=Xt),mt.B&&(ja(mt),bt(mt)),B.g=Ee}else Fa(B);0<k.i.length&&di(k)}else rt[0]!="stop"&&rt[0]!="close"||Ui(k,7);else k.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ui(k,7):mr(k):rt[0]!="noop"&&k.l&&k.l.ta(rt),k.v=0)}}Li(4)}catch{}}var jd=class{constructor(m,E){this.g=m,this.map=E}};function Ma(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Md(m){return m.h?1:m.g?m.g.size:0}function Nr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function oc(m,E){m.g?m.g.add(E):m.h=E}function Dd(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ma.prototype.cancel=function(){if(this.i=Ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ld(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const k of m.g.values())E=E.concat(k.D);return E}return x(m.i)}function Gs(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var E=[],k=m.length,B=0;B<k;B++)E.push(m[B]);return E}E=[],k=0;for(B in m)E[k++]=m[B];return E}function Xs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var E=[];m=m.length;for(var k=0;k<m;k++)E.push(k);return E}E=[],k=0;for(const B in m)E[k++]=B;return E}}}function Io(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var k=Xs(m),B=Gs(m),ee=B.length,le=0;le<ee;le++)E.call(void 0,B[le],k&&k[le],m)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zg(m,E){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var B=m[k].indexOf("="),ee=null;if(0<=B){var le=m[k].substring(0,B);ee=m[k].substring(B+1)}else le=m[k];E(le,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function $i(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof $i){this.h=m.h,La(this,m.j),this.o=m.o,this.g=m.g,Oo(this,m.s),this.l=m.l;var E=m.i,k=new li;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),Co(this,k),this.m=m.m}else m&&(E=String(m).match(Da))?(this.h=!1,La(this,E[1]||"",!0),this.o=tt(E[2]||""),this.g=tt(E[3]||"",!0),Oo(this,E[4]),this.l=tt(E[5]||"",!0),Co(this,E[6]||"",!0),this.m=tt(E[7]||"")):(this.h=!1,this.i=new li(null,this.h))}$i.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Ro(E,Ys,!0),":");var k=this.g;return(k||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Ro(E,Ys,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Ro(k,k.charAt(0)=="/"?Fd:Vd,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Ro(k,ac)),m.join("")};function rn(m){return new $i(m)}function La(m,E,k){m.j=k?tt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Oo(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Co(m,E,k){E instanceof li?(m.i=E,ci(m.i,m.h)):(k||(E=Ro(E,Bd)),m.i=new li(E,m.h))}function yt(m,E,k){m.i.set(E,k)}function ko(m){return yt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function tt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ro(m,E,k){return typeof m=="string"?(m=encodeURI(m).replace(E,$d),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $d(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ys=/[#\/\?@]/g,Vd=/[#\?:]/g,Fd=/[#\?]/g,Bd=/[#\?@]/g,ac=/#/g;function li(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function pr(m){m.g||(m.g=new Map,m.h=0,m.i&&Zg(m.i,function(E,k){m.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=li.prototype,t.add=function(m,E){pr(this),this.i=null,m=yn(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(E),this.h+=1,this};function Vn(m,E){pr(m),E=yn(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Fn(m,E){return pr(m),E=yn(m,E),m.g.has(E)}t.forEach=function(m,E){pr(this),this.g.forEach(function(k,B){k.forEach(function(ee){m.call(E,ee,B,this)},this)},this)},t.na=function(){pr(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let B=0;B<E.length;B++){const ee=m[B];for(let le=0;le<ee.length;le++)k.push(E[B])}return k},t.V=function(m){pr(this);let E=[];if(typeof m=="string")Fn(this,m)&&(E=E.concat(this.g.get(yn(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)E=E.concat(m[k])}return E},t.set=function(m,E){return pr(this),this.i=null,m=yn(this,m),Fn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function No(m,E,k){Vn(m,E),0<k.length&&(m.i=null,m.g.set(yn(m,E),x(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var B=E[k];const le=encodeURIComponent(String(B)),Ee=this.V(B);for(B=0;B<Ee.length;B++){var ee=le;Ee[B]!==""&&(ee+="="+encodeURIComponent(String(Ee[B]))),m.push(ee)}}return this.i=m.join("&")};function yn(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function ci(m,E){E&&!m.j&&(pr(m),m.i=null,m.g.forEach(function(k,B){var ee=B.toLowerCase();B!=ee&&(Vn(this,B),No(this,ee,k))},m)),m.j=E}function ev(m,E){const k=new ka;if(l.Image){const B=new Image;B.onload=y(Br,k,"TestLoadImage: loaded",!0,E,B),B.onerror=y(Br,k,"TestLoadImage: error",!1,E,B),B.onabort=y(Br,k,"TestLoadImage: abort",!1,E,B),B.ontimeout=y(Br,k,"TestLoadImage: timeout",!1,E,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else E(!1)}function Ud(m,E){const k=new ka,B=new AbortController,ee=setTimeout(()=>{B.abort(),Br(k,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:B.signal}).then(le=>{clearTimeout(ee),le.ok?Br(k,"TestPingServer: ok",!0,E):Br(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ee),Br(k,"TestPingServer: error",!1,E)})}function Br(m,E,k,B,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),B(k)}catch{}}function tv(){this.g=new Ql}function qd(m,E,k){const B=k||"";try{Io(m,function(ee,le){let Ee=ee;f(ee)&&(Ee=Xl(ee)),E.push(B+le+"="+encodeURIComponent(Ee))})}catch(ee){throw E.push(B+"type="+encodeURIComponent("_badmap")),ee}}function Vi(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Vi,Oa),Vi.prototype.g=function(){return new $a(this.l,this.j)},Vi.prototype.i=function(m){return function(){return m}}({});function $a(m,E){Kt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w($a,Kt),t=$a.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,Un(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zd(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zd(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?Bn(this):Un(this),this.readyState==3&&zd(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Bn(this))},t.Qa=function(m){this.g&&(this.response=m,Bn(this))},t.ga=function(){this.g&&Bn(this)};function Bn(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Un(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=E.next();return m.join(`\r
`)};function Un(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fi(m){let E="";return N(m,function(k,B){E+=B,E+=":",E+=k,E+=`\r
`}),E}function jo(m,E,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=Fi(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):yt(m,E,k))}function It(m){Kt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(It,Kt);var rv=/^https?$/i,sc=["POST","PUT"];t=It.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Fs(this.o):Fs(Ln),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(le){Va(this,le);return}if(m=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ee in B)k.set(ee,B[ee]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const le of B.keys())k.set(le,B.get(le));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(le=>le.toLowerCase()=="content-type"),ee=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(sc,E,void 0))||B||ee||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ee]of k)this.g.setRequestHeader(le,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(m),this.u=!1}catch(le){Va(this,le)}};function Va(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,Qs(m),nn(m)}function Qs(m){m.A||(m.A=!0,Gt(m,"complete"),Gt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Gt(this,"complete"),Gt(this,"abort"),nn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},t.bb=function(){uc(this)};function uc(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ur(m)!=4||m.Z()!=2)){if(m.u&&Ur(m)==4)Hl(m.Ea,0,m);else if(Gt(m,"readystatechange"),Ur(m)==4){m.h=!1;try{const Ee=m.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var B;if(B=Ee===0){var ee=String(m.D).match(Da)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),B=!rv.test(ee?ee.toLowerCase():"")}k=B}if(k)Gt(m,"complete"),Gt(m,"success");else{m.m=6;try{var le=2<Ur(m)?m.g.statusText:""}catch{le=""}m.l=le+" ["+m.Z()+"]",Qs(m)}}finally{nn(m)}}}}function nn(m,E){if(m.g){Js(m);const k=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Gt(m,"ready");try{k.onreadystatechange=B}catch{}}}function Js(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ur(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Yl(E)}};function lc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(m){const E={};m=(m.g&&2<=Ur(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(T(m[B]))continue;var k=M(m[B]);const ee=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const le=E[ee]||[];E[ee]=le,le.push(k)}P(E,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(m,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||E}function cc(m){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fi("baseRetryDelayMs",5e3,m),this.cb=fi("retryDelaySeedMs",1e4,m),this.Wa=fi("forwardChannelMaxRetries",2,m),this.wa=fi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ma(m&&m.concurrentRequestLimit),this.Da=new tv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(m,E,k,B){Lt(0),this.W=m,this.H=E||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=Gd(this,null,this.W),di(this)};function mr(m){if(eu(m),m.G==3){var E=m.U++,k=rn(m.I);if(yt(k,"SID",m.K),yt(k,"RID",E),yt(k,"TYPE","terminate"),Bi(m,k),E=new $n(m,m.j,E),E.L=2,E.v=ko(rn(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=E.v,k=!0),k||(E.g=Xd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),bt(E)}Kd(m)}function qn(m){m.g&&(fc(m),m.g.cancel(),m.g=null)}function eu(m){qn(m),m.u&&(l.clearTimeout(m.u),m.u=null),nu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function di(m){if(!tn(m.h)&&!m.s){m.s=!0;var E=m.Ga;oe||H(),Q||(oe(),Q=!0),se.add(E,m),m.B=0}}function nv(m,E){return Md(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Mn(v(m.Ga,m,E),Hd(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ee=new $n(this,this.j,m);let le=this.o;if(this.S&&(le?(le=O(le),V(le,this.S)):le=this.S),this.m!==null||this.O||(ee.H=le,le=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(E+=B,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Mo(this,ee,E),k=rn(this.I),yt(k,"RID",m),yt(k,"CVER",22),this.D&&yt(k,"X-HTTP-Session-Id",this.D),Bi(this,k),le&&(this.O?E="headers="+encodeURIComponent(String(Fi(le)))+"&"+E:this.m&&jo(k,this.m,le)),oc(this.h,ee),this.Ua&&yt(k,"TYPE","init"),this.P?(yt(k,"$req",E),yt(k,"SID","null"),ee.T=!0,Ks(ee,k,null)):Ks(ee,k,E),this.G=2}}else this.G==3&&(m?tu(this,m):this.i.length==0||tn(this.h)||tu(this))};function tu(m,E){var k;E?k=E.l:k=m.U++;const B=rn(m.I);yt(B,"SID",m.K),yt(B,"RID",k),yt(B,"AID",m.T),Bi(m,B),m.m&&m.o&&jo(B,m.m,m.o),k=new $n(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Mo(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),oc(m.h,k),Ks(k,B,E)}function Bi(m,E){m.H&&N(m.H,function(k,B){yt(E,B,k)}),m.l&&Io({},function(k,B){yt(E,B,k)})}function Mo(m,E,k){k=Math.min(m.i.length,k);var B=m.l?v(m.l.Na,m.l,m):null;e:{var ee=m.i;let le=-1;for(;;){const Ee=["count="+k];le==-1?0<k?(le=ee[0].g,Ee.push("ofs="+le)):le=0:Ee.push("ofs="+le);let mt=!0;for(let Xt=0;Xt<k;Xt++){let rt=ee[Xt].g;const ar=ee[Xt].map;if(rt-=le,0>rt)le=Math.max(0,ee[Xt].g-100),mt=!1;else try{qd(ar,Ee,"req"+rt+"_")}catch{B&&B(ar)}}if(mt){B=Ee.join("&");break e}}}return m=m.i.splice(0,k),E.D=m,B}function Fa(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;oe||H(),Q||(oe(),Q=!0),se.add(E,m),m.v=0}}function ru(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Mn(v(m.Fa,m),Hd(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Wd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Mn(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),qn(this),Wd(this))};function fc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Wd(m){m.g=new $n(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=rn(m.qa);yt(E,"RID","rpc"),yt(E,"SID",m.K),yt(E,"AID",m.T),yt(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&yt(E,"TO",m.ja),yt(E,"TYPE","xmlhttp"),Bi(m,E),m.m&&m.o&&jo(E,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=ko(rn(E)),k.m=null,k.P=!0,nc(k,m)}t.Za=function(){this.C!=null&&(this.C=null,qn(this),ru(this),Lt(19))};function nu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function iu(m,E){var k=null;if(m.g==E){nu(m),fc(m),m.g=null;var B=2}else if(Nr(m.h,E))k=E.D,Dd(m.h,E),B=1;else return;if(m.G!=0){if(E.o)if(B==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var ee=m.B;B=Ca(),Gt(B,new qs(B,k)),di(m)}else Fa(m);else if(ee=E.s,ee==3||ee==0&&0<E.X||!(B==1&&nv(m,E)||B==2&&ru(m)))switch(k&&0<k.length&&(E=m.h,E.i=E.i.concat(k)),ee){case 1:Ui(m,5);break;case 4:Ui(m,10);break;case 3:Ui(m,6);break;default:Ui(m,2)}}}function Hd(m,E){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*E}function Ui(m,E){if(m.j.info("Error code "+E),E==2){var k=v(m.fb,m),B=m.Xa;const ee=!B;B=new $i(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||La(B,"https"),ko(B),ee?ev(B.toString(),k):Ud(B.toString(),k)}else Lt(2);m.G=0,m.l&&m.l.sa(E),Kd(m),eu(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Kd(m){if(m.G=0,m.ka=[],m.l){const E=Ld(m.h);(E.length!=0||m.i.length!=0)&&(b(m.ka,E),b(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function Gd(m,E,k){var B=k instanceof $i?rn(k):new $i(k);if(B.g!="")E&&(B.g=E+"."+B.g),Oo(B,B.s);else{var ee=l.location;B=ee.protocol,E=E?E+"."+ee.hostname:ee.hostname,ee=+ee.port;var le=new $i(null);B&&La(le,B),E&&(le.g=E),ee&&Oo(le,ee),k&&(le.l=k),B=le}return k=m.D,E=m.ya,k&&E&&yt(B,k,E),yt(B,"VER",m.la),Bi(m,B),B}function Xd(m,E,k){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new It(new Vi({eb:k})):new It(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}t=dc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(m,E){return new jr(m,E)};function jr(m,E){Kt.call(this),this.g=new cc(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!T(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!T(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new hi(this)}w(jr,Kt),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){mr(this.g)},jr.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Xl(m),m=k);E.i.push(new jd(E.Ya++,m)),E.G==3&&di(E)},jr.prototype.N=function(){this.g.l=null,delete this.j,mr(this.g),delete this.g,jr.aa.N.call(this)};function Yd(m){si.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const k in E){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(Yd,si);function Qd(){Us.call(this),this.status=1}w(Qd,Us);function hi(m){this.g=m}w(hi,dc),hi.prototype.ua=function(){Gt(this.g,"a")},hi.prototype.ta=function(m){Gt(this.g,new Yd(m))},hi.prototype.sa=function(m){Gt(this.g,new Qd)},hi.prototype.ra=function(){Gt(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,DV=function(){return new ou},MV=function(){return Ca()},jV=ui,Tx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Ep=Ws,Cd.COMPLETE="complete",NV=Cd,Bs.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,tf=Bs,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,RV=It}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const zN="@firebase/firestore",WN="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new YE("@firebase/firestore");function Cu(){return Ps.logLevel}function Ie(t,...e){if(Ps.logLevel<=Ze.DEBUG){const r=e.map(uS);Ps.debug(`Firestore (${Ul}): ${t}`,...r)}}function vo(t,...e){if(Ps.logLevel<=Ze.ERROR){const r=e.map(uS);Ps.error(`Firestore (${Ul}): ${t}`,...r)}}function xl(t,...e){if(Ps.logLevel<=Ze.WARN){const r=e.map(uS);Ps.warn(`Firestore (${Ul}): ${t}`,...r)}}function uS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,LV(t,n,r)}function LV(t,e,r){let n=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw vo(n),new Error(n)}function dt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||LV(e,i,n)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends So{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Or.UNAUTHENTICATED))}shutdown(){}}class Yie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Qie{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ha,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ha)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string",31837,{l:n}),new $V(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Or(e)}}class Jie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zie{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Jie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eoe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){dt(this.o===void 0,3512);const n=o=>{o.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new HN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=toe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ax(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Qe(n,i);{const o=VV(),s=roe(o.encode(KN(t,r)),o.encode(KN(e,r)));return s!==0?s:Qe(n,i)}}r+=n>65535?2:1}return Qe(t.length,e.length)}function KN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function roe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Qe(t[r],e[r]);return Qe(t.length,e.length)}function El(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=-62135596800,XN=1e6;class nr{static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*XN);return new nr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<GN)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XN}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-GN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new nr(0,0))}static max(){return new Ke(new nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__name__";class yi{constructor(e,r,n){r===void 0?r=0:r>e.length&&ze(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ze(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=yi.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Qe(e.length,r.length)}static compareSegments(e,r){const n=yi.isNumericId(e),i=yi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?yi.extractNumericId(e).compare(yi.extractNumericId(r)):Ax(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class Dt extends yi{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const noe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends yi{construct(e,r,n){return new wr(e,r,n)}static isValidIdentifier(e){return noe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YN}static keyField(){return new wr([YN])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Ve(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ve(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ve(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Ve(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(r)}static emptyPath(){return new wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Dt.fromString(e))}static fromName(e){return new Fe(Dt.fromString(e).popFirst(5))}static empty(){return new Fe(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function ioe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new nr(r+1,0):new nr(r,n));return new ma(i,Fe.empty(),e)}function ooe(t){return new ma(t.readTime,t.key,rd)}class ma{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ma(Ke.min(),Fe.empty(),rd)}static max(){return new ma(Ke.max(),Fe.empty(),rd)}}function aoe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const soe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uoe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==soe)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new he((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof he?r:he.resolve(r)}catch(r){return he.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):he.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):he.reject(r)}static resolve(e){return new he((r,n)=>{r(e)})}static reject(e){return new he((r,n)=>{n(e)})}static waitFor(e){return new he((r,n)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&r()},c=>n(c))}),s=!0,o===i&&r()})}static or(e){let r=he.resolve(!1);for(const n of e)r=r.next(i=>i?he.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new he((n,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++l,l===o&&n(s)},h=>i(h))}})}static doWhile(e,r){return new he((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function loe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=-1;function Fg(t){return t==null}function Mm(t){return t===0&&1/t==-1/0}function coe(t){return typeof t=="number"&&Number.isInteger(t)&&!Mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="";function foe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=QN(e)),e=doe(t.get(r),e);return QN(e)}function doe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case BV:r+="";break;default:r+=o}}return r}function QN(t){return t+BV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ds(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function UV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||br.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,br.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class br{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??br.RED,this.left=i??br.EMPTY,this.right=o??br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new br(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return br.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}br.EMPTY=null,br.RED=!0,br.BLACK=!1;br.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new ZN(this.data.getIterator())}getIteratorFrom(e){return new ZN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ir(this.comparator);return r.data=e,r}}class ZN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ri([])}unionWith(e){let r=new ir(wr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ri(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qV("Invalid base64 string: "+o):o}}(e);return new xr(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new xr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const hoe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const r=hoe.exec(t);if(dt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?xr.fromBase64String(t):xr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="server_timestamp",WV="__type__",HV="__previous_value__",KV="__local_write_time__";function cS(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WV])===null||r===void 0?void 0:r.stringValue)===zV}function Bg(t){const e=t.mapValue.fields[HV];return cS(e)?Bg(e):e}function nd(t){const e=ga(t.mapValue.fields[KV].timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e,r,n,i,o,s,l,c,f,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const Dm="(default)";class id{constructor(e,r){this.projectId=e,this.database=r||Dm}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="__type__",moe="__max__",fp={mapValue:{}},XV="__vector__",Lm="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cS(t)?4:voe(t)?9007199254740991:goe(t)?10:11:ze(28295,{value:t})}function Ci(t,e){if(t===e)return!0;const r=ya(t);if(r!==ya(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nd(t).isEqual(nd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ga(i.timestampValue),l=ga(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return va(i.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),l=Vt(o.doubleValue);return s===l?Mm(s)===Mm(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(JN(s)!==JN(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ci(s[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function od(t,e){return(t.values||[]).find(r=>Ci(r,e))!==void 0}function Sl(t,e){if(t===e)return 0;const r=ya(t),n=ya(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Vt(o.integerValue||o.doubleValue),c=Vt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ej(t.timestampValue,e.timestampValue);case 4:return ej(nd(t),nd(e));case 5:return Ax(t.stringValue,e.stringValue);case 6:return function(o,s){const l=va(o),c=va(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=Qe(l[f],c[f]);if(h!==0)return h}return Qe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Qe(Vt(o.latitude),Vt(s.latitude));return l!==0?l:Qe(Vt(o.longitude),Vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tj(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,f,h;const p=o.fields||{},v=s.fields||{},y=(l=p[Lm])===null||l===void 0?void 0:l.arrayValue,w=(c=v[Lm])===null||c===void 0?void 0:c.arrayValue,x=Qe(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:tj(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fp.mapValue&&s===fp.mapValue)return 0;if(o===fp.mapValue)return 1;if(s===fp.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=Ax(c[p],h[p]);if(v!==0)return v;const y=Sl(l[c[p]],f[h[p]]);if(y!==0)return y}return Qe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:r})}}function ej(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=ga(t),n=ga(e),i=Qe(r.seconds,n.seconds);return i!==0?i:Qe(r.nanos,n.nanos)}function tj(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Sl(r[i],n[i]);if(o)return o}return Qe(r.length,n.length)}function Tl(t){return Px(t)}function Px(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ga(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return va(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Px(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${Px(r.fields[s])}`;return i+"}"}(t.mapValue):ze(61005,{value:t})}function Sp(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bg(t);return e?16+Sp(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Sp(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Ds(n.fields,(o,s)=>{i+=o.length+Sp(s)}),i}(t.mapValue);default:throw ze(13486,{value:t})}}function Ix(t){return!!t&&"integerValue"in t}function fS(t){return!!t&&"arrayValue"in t}function rj(t){return!!t&&"nullValue"in t}function nj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function goe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GV])===null||r===void 0?void 0:r.stringValue)===XV}function hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=hf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=hf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function voe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===moe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(r)}setAll(e){let r=wr.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=hf(s):i.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ds(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new On(hf(this.value))}}function YV(t){const e=[];return Ds(t.fields,(r,n)=>{const i=new wr([r]);if(Tp(n)){const o=YV(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,r,n,i,o,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new kr(e,0,Ke.min(),Ke.min(),Ke.min(),On.empty(),0)}static newFoundDocument(e,r,n,i){return new kr(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new kr(e,2,r,Ke.min(),Ke.min(),On.empty(),0)}static newUnknownDocument(e,r){return new kr(e,3,r,Ke.min(),Ke.min(),On.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,r){this.position=e,this.inclusive=r}}function ij(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=Fe.comparator(Fe.fromName(s.referenceValue),r.key):n=Sl(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function oj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ci(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r="asc"){this.field=e,this.dir=r}}function yoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{}class er extends QV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new boe(e,r,n):r==="array-contains"?new Eoe(e,n):r==="in"?new Soe(e,n):r==="not-in"?new Toe(e,n):r==="array-contains-any"?new Aoe(e,n):new er(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new woe(e,n):new xoe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Sl(r,this.value)):r!==null&&ya(this.value)===ya(r)&&this.matchesComparison(Sl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends QV{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new ki(e,r)}matches(e){return JV(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JV(t){return t.op==="and"}function ZV(t){return _oe(t)&&JV(t)}function _oe(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function Ox(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(ZV(t))return t.filters.map(e=>Ox(e)).join(",");{const e=t.filters.map(r=>Ox(r)).join(",");return`${t.op}(${e})`}}function e4(t,e){return t instanceof er?function(n,i){return i instanceof er&&n.op===i.op&&n.field.isEqual(i.field)&&Ci(n.value,i.value)}(t,e):t instanceof ki?function(n,i){return i instanceof ki&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,l)=>o&&e4(s,i.filters[l]),!0):!1}(t,e):void ze(19439)}function t4(t){return t instanceof er?function(r){return`${r.field.canonicalString()} ${r.op} ${Tl(r.value)}`}(t):t instanceof ki?function(r){return r.op.toString()+" {"+r.getFilters().map(t4).join(" ,")+"}"}(t):"Filter"}class boe extends er{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class woe extends er{constructor(e,r){super(e,"in",r),this.keys=r4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class xoe extends er{constructor(e,r){super(e,"not-in",r),this.keys=r4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function r4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class Eoe extends er{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fS(r)&&od(r.arrayValue,this.value)}}class Soe extends er{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&od(this.value.arrayValue,r)}}class Toe extends er{constructor(e,r){super(e,"not-in",r)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!od(this.value.arrayValue,r)}}class Aoe extends er{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fS(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>od(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,r=null,n=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Ie=null}}function aj(t,e=null,r=[],n=[],i=null,o=null,s=null){return new Poe(t,e,r,n,i,o,s)}function dS(t){const e=Ge(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ox(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Fg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tl(n)).join(",")),e.Ie=r}return e.Ie}function hS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!yoe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!e4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oj(t.startAt,e.startAt)&&oj(t.endAt,e.endAt)}function Cx(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,r=null,n=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ioe(t,e,r,n,i,o,s,l){return new Ug(t,e,r,n,i,o,s,l)}function pS(t){return new Ug(t)}function sj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ooe(t){return t.collectionGroup!==null}function pf(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ir(wr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Vm(o,n))}),r.has(wr.keyField().canonicalString())||e.Ee.push(new Vm(wr.keyField(),n))}return e.Ee}function Ti(t){const e=Ge(t);return e.de||(e.de=Coe(e,pf(t))),e.de}function Coe(t,e){if(t.limitType==="F")return aj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vm(i.field,o)});const r=t.endAt?new $m(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new $m(t.startAt.position,t.startAt.inclusive):null;return aj(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function kx(t,e,r){return new Ug(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function qg(t,e){return hS(Ti(t),Ti(e))&&t.limitType===e.limitType}function n4(t){return`${dS(Ti(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>t4(i)).join(", ")}]`),Fg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Tl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Tl(i)).join(",")),`Target(${n})`}(Ti(t))}; limitType=${t.limitType})`}function zg(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Fe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of pf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,c){const f=ij(s,l,c);return s.inclusive?f<=0:f<0}(n.startAt,pf(n),i)||n.endAt&&!function(s,l,c){const f=ij(s,l,c);return s.inclusive?f>=0:f>0}(n.endAt,pf(n),i))}(t,e)}function koe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i4(t){return(e,r)=>{let n=!1;for(const i of pf(t)){const o=Roe(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Roe(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Sl(c,f):ze(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return UV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe=new Nt(Fe.comparator);function yo(){return Noe}const o4=new Nt(Fe.comparator);function rf(...t){let e=o4;for(const r of t)e=e.insert(r.key,r);return e}function a4(t){let e=o4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ds(){return mf()}function s4(){return mf()}function mf(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const joe=new Nt(Fe.comparator),Moe=new ir(Fe.comparator);function et(...t){let e=Moe;for(const r of t)e=e.add(r);return e}const Doe=new ir(Qe);function Loe(){return Doe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function u4(t){return{integerValue:""+t}}function $oe(t,e){return coe(e)?u4(e):mS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function Voe(t,e,r){return t instanceof Fm?function(i,o){const s={fields:{[WV]:{stringValue:zV},[KV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cS(o)&&(o=Bg(o)),o&&(s.fields[HV]=o),{mapValue:s}}(r,e):t instanceof ad?c4(t,e):t instanceof sd?f4(t,e):function(i,o){const s=l4(i,o),l=uj(s)+uj(i.Re);return Ix(s)&&Ix(i.Re)?u4(l):mS(i.serializer,l)}(t,e)}function Foe(t,e,r){return t instanceof ad?c4(t,e):t instanceof sd?f4(t,e):r}function l4(t,e){return t instanceof Bm?function(n){return Ix(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Fm extends Wg{}class ad extends Wg{constructor(e){super(),this.elements=e}}function c4(t,e){const r=d4(e);for(const n of t.elements)r.some(i=>Ci(i,n))||r.push(n);return{arrayValue:{values:r}}}class sd extends Wg{constructor(e){super(),this.elements=e}}function f4(t,e){let r=d4(e);for(const n of t.elements)r=r.filter(i=>!Ci(i,n));return{arrayValue:{values:r}}}class Bm extends Wg{constructor(e,r){super(),this.serializer=e,this.Re=r}}function uj(t){return Vt(t.integerValue||t.doubleValue)}function d4(t){return fS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Boe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ad&&i instanceof ad||n instanceof sd&&i instanceof sd?El(n.elements,i.elements,Ci):n instanceof Bm&&i instanceof Bm?Ci(n.Re,i.Re):n instanceof Fm&&i instanceof Fm}(t.transform,e.transform)}class Uoe{constructor(e,r){this.version=e,this.transformResults=r}}class lo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new lo}static exists(e){return new lo(void 0,e)}static updateTime(e){return new lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hg{}function h4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m4(t.key,lo.none()):new Ad(t.key,t.data,lo.none());{const r=t.data,n=On.empty();let i=new ir(wr.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new $s(t.key,n,new ri(i.toArray()),lo.none())}}function qoe(t,e,r){t instanceof Ad?function(i,o,s){const l=i.value.clone(),c=cj(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof $s?function(i,o,s){if(!Ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=cj(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(p4(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function gf(t,e,r,n){return t instanceof Ad?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=o.value.clone(),h=fj(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof $s?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=fj(o.fieldTransforms,c,s),h=s.data;return h.setAll(p4(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(o,s,l){return Ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function zoe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=l4(n.transform,i||null);o!=null&&(r===null&&(r=On.empty()),r.set(n.field,o))}return r||null}function lj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&El(n,i,(o,s)=>Boe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ad extends Hg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Hg{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function p4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function cj(t,e,r){const n=new Map;dt(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);n.set(o.field,Foe(s,l,r[i]))}return n}function fj(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,Voe(o,s,e))}return n}class m4 extends Hg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Woe extends Hg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qoe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=s4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(i.key)?null:l;const c=h4(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),et())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(r,n)=>lj(r,n))&&El(this.baseMutations,e.baseMutations,(r,n)=>lj(r,n))}}class gS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return joe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new gS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,nt;function Xoe(t){switch(t){case _e.OK:return ze(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function g4(t){if(t===void 0)return vo("GRPC error has no .code"),_e.UNKNOWN;switch(t){case qt.OK:return _e.OK;case qt.CANCELLED:return _e.CANCELLED;case qt.UNKNOWN:return _e.UNKNOWN;case qt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case qt.INTERNAL:return _e.INTERNAL;case qt.UNAVAILABLE:return _e.UNAVAILABLE;case qt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case qt.NOT_FOUND:return _e.NOT_FOUND;case qt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case qt.ABORTED:return _e.ABORTED;case qt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case qt.DATA_LOSS:return _e.DATA_LOSS;default:return ze(39323,{code:t})}}(nt=qt||(qt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe=new da([4294967295,4294967295],0);function dj(t){const e=VV().encode(t),r=new kV;return r.update(e),new Uint8Array(r.digest())}function hj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new da([r,n],0),new da([i,o],0)]}class vS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new nf(`Invalid padding: ${r}`);if(n<0)throw new nf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new nf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new nf(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=da.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(da.fromNumber(n)));return i.compare(Yoe)===1&&(i=new da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=dj(e),[n,i]=hj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);if(!this.Se(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new vS(o,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const r=dj(e),[n,i]=hj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Pd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Kg(Ke.min(),i,new Nt(Qe),yo(),et())}}class Pd{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Pd(n,r,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class v4{constructor(e,r){this.targetId=e,this.Ce=r}}class y4{constructor(e,r,n=xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class pj{constructor(){this.Fe=0,this.Me=mj(),this.xe=xr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),r=et(),n=et();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ze(38017,{changeType:o})}}),new Pd(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=mj()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Qoe{constructor(e){this.ze=e,this.je=new Map,this.He=yo(),this.Je=dp(),this.Ye=dp(),this.Ze=new Nt(Qe)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const o=i.target;if(Cx(o))if(n===0){const s=new Fe(o.path);this.tt(r,s,kr.newNoDocument(s,Ke.min()))}else dt(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,l;try{s=va(n).toUint8Array()}catch(c){if(c instanceof qV)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new vS(s,i,o)}catch(c){return xl(c instanceof nf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(r,o,null),i++)}),i}It(e){const r=new Map;this.je.forEach((o,s)=>{const l=this._t(s);if(l){if(o.current&&Cx(l.target)){const c=new Fe(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,kr.newNoDocument(c,e))}o.Le&&(r.set(s,o.qe()),o.Qe())}});let n=et();this.Ye.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new Kg(e,r,this.Ze,this.He,n);return this.He=yo(),this.Je=dp(),this.Ye=dp(),this.Ze=new Nt(Qe),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new pj,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new ir(Qe),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new ir(Qe),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pj),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function dp(){return new Nt(Fe.comparator)}function mj(){return new Nt(Fe.comparator)}const Joe={asc:"ASCENDING",desc:"DESCENDING"},Zoe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eae={and:"AND",or:"OR"};class tae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Rx(t,e){return t.useProto3Json||Fg(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rae(t,e){return Um(t,e.toTimestamp())}function Ai(t){return dt(!!t,49232),Ke.fromTimestamp(function(r){const n=ga(r);return new nr(n.seconds,n.nanos)}(t))}function yS(t,e){return Nx(t,e).canonicalString()}function Nx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function b4(t){const e=Dt.fromString(t);return dt(T4(e),10190,{key:e.toString()}),e}function jx(t,e){return yS(t.databaseId,e.path)}function Fw(t,e){const r=b4(e);if(r.get(1)!==t.databaseId.projectId)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ve(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(x4(r))}function w4(t,e){return yS(t.databaseId,e)}function nae(t){const e=b4(t);return e.length===4?Dt.emptyPath():x4(e)}function Mx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x4(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gj(t,e,r){return{name:jx(t,e),fields:r.value.mapValue.fields}}function iae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(dt(h===void 0||typeof h=="string",58123),xr.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),xr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const h=f.code===void 0?_e.UNKNOWN:g4(f.code);return new Ve(h,f.message||"")}(s);r=new y4(n,i,o,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Fw(t,n.document.name),o=Ai(n.document.updateTime),s=n.document.createTime?Ai(n.document.createTime):Ke.min(),l=new On({mapValue:{fields:n.document.fields}}),c=kr.newFoundDocument(i,o,s,l),f=n.targetIds||[],h=n.removedTargetIds||[];r=new Pp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Fw(t,n.document),o=n.readTime?Ai(n.readTime):Ke.min(),s=kr.newNoDocument(i,o),l=n.removedTargetIds||[];r=new Pp([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Fw(t,n.document),o=n.removedTargetIds||[];r=new Pp([],o,i,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new Goe(i,o),l=n.targetId;r=new v4(l,s)}}return r}function oae(t,e){let r;if(e instanceof Ad)r={update:gj(t,e.key,e.value)};else if(e instanceof m4)r={delete:jx(t,e.key)};else if(e instanceof $s)r={update:gj(t,e.key,e.data),updateMask:pae(e.fieldMask)};else{if(!(e instanceof Woe))return ze(16599,{ft:e.type});r={verify:jx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const l=s.transform;if(l instanceof Fm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ad)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bm)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw ze(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rae(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(t,e.precondition)),r}function aae(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(r=>function(i,o){let s=i.updateTime?Ai(i.updateTime):Ai(o);return s.isEqual(Ke.min())&&(s=Ai(o)),new Uoe(s,i.transformResults||[])}(r,e))):[]}function sae(t,e){return{documents:[w4(t,e.path)]}}function uae(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=w4(t,i);const o=function(f){if(f.length!==0)return S4(ki.create(f,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(h=>function(v){return{field:Ru(v.field),direction:fae(v.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=Rx(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:r,parent:i}}function lae(t){let e=nae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dt(n===1,65062);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];r.where&&(o=function(p){const v=E4(p);return v instanceof ki&&ZV(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(v=>function(w){return new Vm(Nu(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(r.orderBy));let l=null;r.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Fg(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(p){const v=!!p.before,y=p.values||[];return new $m(y,v)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const v=!p.before,y=p.values||[];return new $m(y,v)}(r.endAt)),Ioe(e,i,s,o,l,"F",c,f)}function cae(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function E4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nu(r.unaryFilter.field);return er.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(r.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(r.unaryFilter.field);return er.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nu(r.unaryFilter.field);return er.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(r){return er.create(Nu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ki.create(r.compositeFilter.filters.map(n=>E4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(r.compositeFilter.op))}(t):ze(30097,{filter:t})}function fae(t){return Joe[t]}function dae(t){return Zoe[t]}function hae(t){return eae[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Nu(t){return wr.fromServerFormat(t.fieldPath)}function S4(t){return t instanceof er?function(r){if(r.op==="=="){if(nj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NAN"}};if(rj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(nj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NAN"}};if(rj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(r.field),op:dae(r.op),value:r.value}}}(t):t instanceof ki?function(r){const n=r.getFilters().map(i=>S4(i));return n.length===1?n[0]:{compositeFilter:{op:hae(r.op),filters:n}}}(t):ze(54877,{filter:t})}function pae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function T4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r,n,i,o=Ke.min(),s=Ke.min(),l=xr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(e){this.wt=e}}function gae(t){const e=lae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(){this.Cn=new yae}addToCollectionParentIndex(e,r){return this.Cn.add(r),he.resolve()}getCollectionParents(e,r){return he.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return he.resolve()}deleteFieldIndex(e,r){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,r){return he.resolve()}getDocumentsMatchingTarget(e,r){return he.resolve(null)}getIndexType(e,r){return he.resolve(0)}getFieldIndexes(e,r){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,r){return he.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,r){return he.resolve(ma.min())}updateCollectionGroup(e,r,n){return he.resolve()}updateIndexEntries(e,r){return he.resolve()}}class yae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ir(Dt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ir(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A4=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(A4,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Al(0)}static lr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="LruGarbageCollector",_ae=1048576;function _j([t,e],[r,n]){const i=Qe(t,r);return i===0?Qe(e,n):i}class bae{constructor(e){this.Er=e,this.buffer=new ir(_j),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();_j(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class wae{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ie(yj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zl(r)?Ie(yj,"Ignoring IndexedDB error during garbage collection: ",r):await ql(r)}await this.mr(3e5)})}}class xae{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return he.resolve(Vg.le);const n=new bae(r);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(vj)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vj):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,i,o,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,r))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(f=Date.now(),Cu()<=Ze.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Eae(t,e){return new xae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sae{constructor(){this.changes=new Ls(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?he.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&gf(n.mutation,i,ri.empty(),nr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,et()).next(()=>n))}getLocalViewOfDocuments(e,r,n=et()){const i=ds();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=rf();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=ds();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,et()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let o=yo();const s=mf(),l=function(){return mf()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof $s)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),gf(h.mutation,f,h.mutation.getFieldMask(),nr.now())):s.set(f.key,ri.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var p;return l.set(f,new Tae(h,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=mf();let i=new Nt((s,l)=>s-l),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||ri.empty();h=l.applyToLocalView(f,h),n.set(c,h);const p=(i.get(l.batchId)||et()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=s4();h.forEach(v=>{if(!o.has(v)){const y=h4(r.get(v),n.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return he.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Ooe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):he.resolve(ds());let l=rd,c=o;return s.next(f=>he.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,et())).next(h=>({batchId:l,changes:a4(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=rf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=rf();return this.indexManager.getCollectionParents(e,o).next(l=>he.forEach(l,c=>{const f=function(p,v){return new Ug(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,kr.newInvalidDocument(h)))});let l=rf();return s.forEach((c,f)=>{const h=o.get(c);h!==void 0&&gf(h.mutation,f,ri.empty(),nr.now()),zg(r,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return he.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}}(r)),he.resolve()}getNamedQuery(e,r){return he.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(i){return{name:i.name,query:gae(i.bundledQuery),readTime:Ai(i.readTime)}}(r)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(){this.overlays=new Nt(Fe.comparator),this.Qr=new Map}getOverlay(e,r){return he.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ds();return he.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.bt(e,r,o)}),he.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),he.resolve()}getOverlaysForCollection(e,r,n){const i=ds(),o=r.length+1,s=new Fe(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return he.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Nt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=o.get(f.largestBatchId);h===null&&(h=ds(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=ds(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return he.resolve(l)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Koe(r,n));let o=this.Qr.get(r);o===void 0&&(o=et(),this.Qr.set(r,o)),this.Qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(){this.sessionToken=xr.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.$r=new ir(fr.Ur),this.Kr=new ir(fr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new fr(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new fr(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Fe(new Dt([])),n=new fr(r,e),i=new fr(r,e+1),o=[];return this.Kr.forEachInRange([n,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Fe(new Dt([])),n=new fr(r,e),i=new fr(r,e+1);let o=et();return this.Kr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new fr(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class fr{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Fe.comparator(e.key,r.key)||Qe(e.Zr,r.Zr)}static Wr(e,r){return Qe(e.Zr,r.Zr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new ir(fr.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Hoe(o,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new fr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(s)}lookupMutationBatch(e,r){return he.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ti(n),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?lS:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new fr(r,0),i=new fr(r,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],s=>{const l=this.ei(s.Zr);o.push(l)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ir(Qe);return r.forEach(i=>{const o=new fr(i,0),s=new fr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],l=>{n=n.add(l.Zr)})}),he.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;Fe.isDocumentKey(o)||(o=o.child(""));const s=new fr(new Fe(o),0);let l=new ir(Qe);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Zr)),!0)},s),he.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){dt(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return he.forEach(r.mutations,i=>{const o=new fr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new fr(r,0),i=this.Xr.firstAfterOrEqual(n);return he.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e){this.ii=e,this.docs=function(){return new Nt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return he.resolve(n?n.document.mutableCopy():kr.newInvalidDocument(r))}getEntries(e,r){let n=yo();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),he.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=yo();const s=r.path,l=new Fe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||aoe(ooe(h),n)<=0||(i.has(h.key)||zg(r,h))&&(o=o.insert(h.key,h.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,r,n,i){ze(9500)}si(e,r){return he.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Rae(this)}getSize(e){return he.resolve(this.size)}}class Rae extends Sae{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),he.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{constructor(e){this.persistence=e,this.oi=new Ls(r=>dS(r),hS),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this._i=0,this.ai=new _S,this.targetCount=0,this.ui=Al.cr()}forEachTarget(e,r){return this.oi.forEach((n,i)=>r(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),he.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Al(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,he.resolve()}updateTargetData(e,r){return this.Tr(r),he.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return he.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),he.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),he.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return he.resolve(n)}containsKey(e,r){return he.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,r){this.ci={},this.overlays={},this.li=new Vg(0),this.hi=!1,this.hi=!0,this.Pi=new Oae,this.referenceDelegate=e(this),this.Ti=new Nae(this),this.indexManager=new vae,this.remoteDocumentCache=function(i){return new kae(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new mae(r),this.Ei=new Pae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Iae,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Cae(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ie("MemoryPersistence","Starting transaction:",e);const i=new jae(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,r){return he.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class jae extends uoe{constructor(e){super(),this.currentSequenceNumber=e}}class bS{constructor(e){this.persistence=e,this.Vi=new _S,this.mi=null}static fi(e){return new bS(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),he.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),he.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),he.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,n=>{const i=Fe.fromPath(n);return this.pi(e,i).next(o=>{o||r.removeEntry(i,Ke.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return he.or([()=>he.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class qm{constructor(e,r){this.persistence=e,this.yi=new Ls(n=>foe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Eae(this,r)}static fi(e,r){return new qm(e,r)}di(){}Ai(e){return he.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return he.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?he.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,r).next(l=>{l||(n++,o.removeEntry(s,Ke.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),he.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Sp(e.data.value)),r}Dr(e,r,n){return he.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.yi.get(r);return he.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ds=n,this.As=i}static Rs(e,r){let n=et(),i=et();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new wS(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return yte()?8:loe(Rr())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ws(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Mae;return this.bs(e,r,s).next(l=>{if(o.result=l,this.fs)return this.Ds(e,r,s,l.size)})}).next(()=>o.result)}Ds(e,r,n,i){return n.documentReadCount<this.gs?(Cu()<=Ze.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",ku(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(Cu()<=Ze.DEBUG&&Ie("QueryEngine","Query:",ku(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Cu()<=Ze.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",ku(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(r))):he.resolve())}ws(e,r){if(sj(r))return he.resolve(null);let n=Ti(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=kx(r,null,"F"),n=Ti(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=et(...o);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.vs(r,l);return this.Cs(r,f,s,c.readTime)?this.ws(e,kx(r,null,"F")):this.Fs(e,f,r,c)}))})))}Ss(e,r,n,i){return sj(r)||i.isEqual(Ke.min())?he.resolve(null):this.ys.getDocuments(e,n).next(o=>{const s=this.vs(r,o);return this.Cs(r,s,n,i)?he.resolve(null):(Cu()<=Ze.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(r)),this.Fs(e,s,r,ioe(i,rd)).next(l=>l))})}vs(e,r){let n=new ir(i4(e));return r.forEach((i,o)=>{zg(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,r,n){return Cu()<=Ze.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ku(r)),this.ys.getDocumentsMatchingQuery(e,r,ma.min(),n)}Fs(e,r,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="LocalStore",Lae=3e8;class $ae{constructor(e,r,n,i){this.persistence=e,this.Ms=r,this.serializer=i,this.xs=new Nt(Qe),this.Os=new Ls(o=>dS(o),hS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aae(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function Vae(t,e,r,n){return new $ae(t,e,r,n)}async function I4(t,e){const r=Ge(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let c=et();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({ks:f,removedBatchIds:s,addedBatchIds:l}))})})}function Fae(t,e){const r=Ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,h){const p=f.batch,v=p.keys();let y=he.resolve();return v.forEach(w=>{y=y.next(()=>h.getEntry(c,w)).next(x=>{const b=f.docVersions.get(w);dt(b!==null,48541),x.version.compareTo(b)<0&&(p.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),h.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=et();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function O4(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Bae(t,e){const r=Ge(t),n=e.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const l=[];e.targetChanges.forEach((h,p)=>{const v=i.get(p);if(!v)return;l.push(r.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>r.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),i=i.insert(p,y),function(x,b,A){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Lae?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(v,y,h)&&l.push(r.Ti.updateTargetData(o,y))});let c=yo(),f=et();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,h))}),l.push(Uae(o,s,e.documentUpdates).next(h=>{c=h.qs,f=h.Qs})),!n.isEqual(Ke.min())){const h=r.Ti.getLastRemoteSnapshotVersion(o).next(p=>r.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(h)}return he.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(r.xs=i,o))}function Uae(t,e,r){let n=et(),i=et();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=yo();return r.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Ie(xS,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function qae(t,e){const r=Ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=lS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function zae(t,e){const r=Ge(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ti.getTargetData(n,e).next(o=>o?(i=o,he.resolve(i)):r.Ti.allocateTargetId(n).next(s=>(i=new aa(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function Dx(t,e,r){const n=Ge(t),i=n.xs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zl(s))throw s;Ie(xS,`Failed to update sequence numbers for target ${e}: ${s}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function bj(t,e,r){const n=Ge(t);let i=Ke.min(),o=et();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const p=Ge(c),v=p.Os.get(h);return v!==void 0?he.resolve(p.xs.get(v)):p.Ti.getTargetData(f,h)}(n,s,Ti(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>n.Ms.getDocumentsMatchingQuery(s,e,r?i:Ke.min(),r?o:et())).next(l=>(Wae(n,koe(e),l),{documents:l,$s:o})))}function Wae(t,e,r){let n=t.Ns.get(e)||Ke.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ns.set(e,n)}class wj{constructor(){this.activeTargetIds=Loe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hae{constructor(){this.xo=new wj,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new wj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kae{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="ConnectivityMonitor";class Ej{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ie(xj,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ie(xj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp=null;function Lx(){return hp===null?hp=function(){return 268435456+Math.round(2147483648*Math.random())}():hp++,"0x"+hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="RestConnection",Gae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xae{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===Dm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,r,n,i,o){const s=Lx(),l=this.jo(e,r.toUriEncodedString());Ie(Bw,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);const{host:f}=new URL(l),h=bd(f);return this.Jo(e,l,c,n,h).then(p=>(Ie(Bw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw xl(Bw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",n),p})}Yo(e,r,n,i,o,s){return this.zo(e,r,n,i,o)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,r){const n=Gae[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yae{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class Qae extends Xae{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const s=Lx();return new Promise((l,c)=>{const f=new RV;f.setWithCredentials(!0),f.listenOnce(NV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ep.NO_ERROR:const p=f.getResponseJson();Ie(Pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Ep.TIMEOUT:Ie(Pr,`RPC '${e}' ${s} timed out`),c(new Ve(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const v=f.getStatus();if(Ie(Pr,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(A){const T=A.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(T)>=0?T:_e.UNKNOWN}(w.status);c(new Ve(x,w.message))}else c(new Ve(_e.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ve(_e.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ie(Pr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Ie(Pr,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",h,n,15)})}T_(e,r,n){const i=Lx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=DV(),l=MV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=o.join("");Ie(Pr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);let v=!1,y=!1;const w=new Yae({Zo:b=>{y?Ie(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(Ie(Pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ie(Pr,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Xo:()=>p.close()}),x=(b,A,T)=>{b.listen(A,C=>{try{T(C)}catch(j){setTimeout(()=>{throw j},0)}})};return x(p,tf.EventType.OPEN,()=>{y||(Ie(Pr,`RPC '${e}' stream ${i} transport opened.`),w.__())}),x(p,tf.EventType.CLOSE,()=>{y||(y=!0,Ie(Pr,`RPC '${e}' stream ${i} transport closed`),w.u_())}),x(p,tf.EventType.ERROR,b=>{y||(y=!0,xl(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.u_(new Ve(_e.UNAVAILABLE,"The operation could not be completed")))}),x(p,tf.EventType.MESSAGE,b=>{var A;if(!y){const T=b.data[0];dt(!!T,16349);const C=T,j=(C==null?void 0:C.error)||((A=C[0])===null||A===void 0?void 0:A.error);if(j){Ie(Pr,`RPC '${e}' stream ${i} received error:`,j);const I=j.status;let N=function(R){const V=qt[R];if(V!==void 0)return g4(V)}(I),P=j.message;N===void 0&&(N=_e.INTERNAL,P="Unknown error status: "+I+" with message "+j.message),y=!0,w.u_(new Ve(N,P)),p.close()}else Ie(Pr,`RPC '${e}' stream ${i} received:`,T),w.c_(T)}}),x(l,jV.STAT_EVENT,b=>{b.stat===Tx.PROXY?Ie(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Tx.NOPROXY&&Ie(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Uw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){return new tae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,r,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),i=Math.max(0,r-n);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="PersistentStream";class k4{constructor(e,r,n,i,o,s,l,c){this.xi=e,this.y_=n,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new C4(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===_e.RESOURCE_EXHAUSTED?(vo(r.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.S_===r&&this.K_(n,i)},n=>{e(()=>{const i=new Ve(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(i)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.W_(i))}),this.stream.onMessage(i=>{n(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ie(Sj,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Ie(Sj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jae extends k4{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}G_(e,r){return this.connection.T_("Listen",e,r)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const r=iae(this.serializer,e),n=function(o){if(!("targetChange"in o))return Ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ai(s.readTime):Ke.min()}(e);return this.listener.j_(r,n)}H_(e){const r={};r.database=Mx(this.serializer),r.addTarget=function(o,s){let l;const c=s.target;if(l=Cx(c)?{documents:sae(o,c)}:{query:uae(o,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=_4(o,s.resumeToken);const f=Rx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Ke.min())>0){l.readTime=Um(o,s.snapshotVersion.toTimestamp());const f=Rx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=cae(this.serializer,e);n&&(r.labels=n),this.L_(r)}J_(e){const r={};r.database=Mx(this.serializer),r.removeTarget=e,this.L_(r)}}class Zae extends k4{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=aae(e.writeResults,e.commitTime),n=Ai(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=Mx(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>oae(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{}class tse extends ese{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Nx(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(_e.UNKNOWN,o.toString())})}Yo(e,r,n,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,Nx(r,n),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(_e.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class rse{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(vo(r),this.oa=!1):Ie("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class nse{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{n.enqueueAndForget(async()=>{Vs(this)&&(Ie(Is,"Restarting streams for network reachability change."),await async function(c){const f=Ge(c);f.Ta.add(4),await Id(f),f.da.set("Unknown"),f.Ta.delete(4),await Xg(f)}(this))})}),this.da=new rse(n,i)}}async function Xg(t){if(Vs(t))for(const e of t.Ia)await e(!0)}async function Id(t){for(const e of t.Ia)await e(!1)}function R4(t,e){const r=Ge(t);r.Pa.has(e.targetId)||(r.Pa.set(e.targetId,e),AS(r)?TS(r):Wl(r).M_()&&SS(r,e))}function ES(t,e){const r=Ge(t),n=Wl(r);r.Pa.delete(e),n.M_()&&N4(r,e),r.Pa.size===0&&(n.M_()?n.N_():Vs(r)&&r.da.set("Unknown"))}function SS(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wl(t).H_(e)}function N4(t,e){t.Aa.Ke(e),Wl(t).J_(e)}function TS(t){t.Aa=new Qoe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.da._a()}function AS(t){return Vs(t)&&!Wl(t).F_()&&t.Pa.size>0}function Vs(t){return Ge(t).Ta.size===0}function j4(t){t.Aa=void 0}async function ise(t){t.da.set("Online")}async function ose(t){t.Pa.forEach((e,r)=>{SS(t,e)})}async function ase(t,e){j4(t),AS(t)?(t.da.ca(e),TS(t)):t.da.set("Unknown")}async function sse(t,e,r){if(t.da.set("Online"),e instanceof y4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Pa.delete(l),i.Aa.removeTarget(l))}(t,e)}catch(n){Ie(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await zm(t,n)}else if(e instanceof Pp?t.Aa.Xe(e):e instanceof v4?t.Aa.ot(e):t.Aa.nt(e),!r.isEqual(Ke.min()))try{const n=await O4(t.localStore);r.compareTo(n)>=0&&await function(o,s){const l=o.Aa.It(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Pa.get(f);h&&o.Pa.set(f,h.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const h=o.Pa.get(c);if(!h)return;o.Pa.set(c,h.withResumeToken(xr.EMPTY_BYTE_STRING,h.snapshotVersion)),N4(o,c);const p=new aa(h.target,c,f,h.sequenceNumber);SS(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Ie(Is,"Failed to raise snapshot:",n),await zm(t,n)}}async function zm(t,e,r){if(!zl(e))throw e;t.Ta.add(1),await Id(t),t.da.set("Offline"),r||(r=()=>O4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(Is,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await Xg(t)})}function M4(t,e){return e().catch(r=>zm(t,r,e))}async function Yg(t){const e=Ge(t),r=_a(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:lS;for(;use(e);)try{const i=await qae(e.localStore,n);if(i===null){e.ha.length===0&&r.N_();break}n=i.batchId,lse(e,i)}catch(i){await zm(e,i)}D4(e)&&L4(e)}function use(t){return Vs(t)&&t.ha.length<10}function lse(t,e){t.ha.push(e);const r=_a(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function D4(t){return Vs(t)&&!_a(t).F_()&&t.ha.length>0}function L4(t){_a(t).start()}async function cse(t){_a(t).ta()}async function fse(t){const e=_a(t);for(const r of t.ha)e.Z_(r.mutations)}async function dse(t,e,r){const n=t.ha.shift(),i=gS.from(n,e,r);await M4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yg(t)}async function hse(t,e){e&&_a(t).Y_&&await async function(n,i){if(function(s){return Xoe(s)&&s!==_e.ABORTED}(i.code)){const o=n.ha.shift();_a(n).O_(),await M4(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Yg(n)}}(t,e),D4(t)&&L4(t)}async function Tj(t,e){const r=Ge(t);r.asyncQueue.verifyOperationInProgress(),Ie(Is,"RemoteStore received new credentials");const n=Vs(r);r.Ta.add(3),await Id(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Xg(r)}async function pse(t,e){const r=Ge(t);e?(r.Ta.delete(2),await Xg(r)):e||(r.Ta.add(2),await Id(r),r.da.set("Unknown"))}function Wl(t){return t.Ra||(t.Ra=function(r,n,i){const o=Ge(r);return o.ra(),new Jae(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:ise.bind(null,t),n_:ose.bind(null,t),i_:ase.bind(null,t),j_:sse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),AS(t)?TS(t):t.da.set("Unknown")):(await t.Ra.stop(),j4(t))})),t.Ra}function _a(t){return t.Va||(t.Va=function(r,n,i){const o=Ge(r);return o.ra(),new Zae(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:cse.bind(null,t),i_:hse.bind(null,t),X_:fse.bind(null,t),ea:dse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Yg(t)):(await t.Va.stop(),t.ha.length>0&&(Ie(Is,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,l=new PS(e,r,s,i,o);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IS(t,e){if(vo("AsyncQueue",`${e}: ${t}`),zl(t))return new Ve(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=rf(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ku;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.ma=new Nt(Fe.comparator)}track(e){const r=e.doc.key,n=this.ma.get(r);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(r,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(r):e.type===1&&n.type===2?this.ma=this.ma.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):ze(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(r,e)}ga(){const e=[];return this.ma.inorderTraversal((r,n)=>{e.push(n)}),e}}class Pl{constructor(e,r,n,i,o,s,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Pl(e,r,Ku.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class gse{constructor(){this.queries=Pj(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const i=Ge(r),o=i.queries;i.queries=Pj(),o.forEach((s,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Ve(_e.ABORTED,"Firestore shutting down"))}}function Pj(){return new Ls(t=>n4(t),qg)}async function vse(t,e){const r=Ge(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.wa()&&e.Sa()&&(n=2):(o=new mse,n=e.Sa()?0:1);try{switch(n){case 0:o.pa=await r.onListen(i,!0);break;case 1:o.pa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=IS(s,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,o),o.ya.push(e),e.Da(r.onlineState),o.pa&&e.va(o.pa)&&OS(r)}async function yse(t,e){const r=Ge(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function _se(t,e){const r=Ge(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const l of s.ya)l.va(i)&&(n=!0);s.pa=i}}n&&OS(r)}function bse(t,e,r){const n=Ge(t),i=n.queries.get(e);if(i)for(const o of i.ya)o.onError(r);n.queries.delete(e)}function OS(t){t.ba.forEach(e=>{e.next()})}var $x,Ij;(Ij=$x||($x={})).Ca="default",Ij.Cache="cache";class wse{constructor(e,r,n){this.query=e,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Pl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),r=!0):this.Na(e,this.onlineState)&&(this.Ba(e),r=!0),this.xa=e,r}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),r=!0),r}Na(e,r){if(!e.fromCache||!this.Sa())return!0;const n=r!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==$x.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.key=e}}class V4{constructor(e){this.key=e}}class xse{constructor(e,r){this.query=e,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=et(),this.mutatedKeys=et(),this.Ha=i4(e),this.Ja=new Ku(this.Ha)}get Ya(){return this.Ga}Za(e,r){const n=r?r.Xa:new Aj,i=r?r.Ja:this.Ja;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const v=i.get(h),y=zg(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;v&&y?v.data.isEqual(y.data)?w!==x&&(n.track({type:3,doc:y}),b=!0):this.eu(v,y)||(n.track({type:2,doc:y}),b=!0,(c&&this.Ha(y,c)>0||f&&this.Ha(y,f)<0)&&(l=!0)):!v&&y?(n.track({type:0,doc:y}),b=!0):v&&!y&&(n.track({type:1,doc:v}),b=!0,(c||f)&&(l=!0)),b&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),n.track({type:1,doc:h})}return{Ja:s,Xa:n,Cs:l,mutatedKeys:o}}eu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((h,p)=>function(y,w){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:b})}};return x(y)-x(w)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(n),i=i!=null&&i;const l=r&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,f=c!==this.za;return this.za=c,s.length!==0||f?{snapshot:new Pl(this.query,e.Ja,o,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Aj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=et(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const r=[];return e.forEach(n=>{this.ja.has(n)||r.push(new V4(n))}),this.ja.forEach(n=>{e.has(n)||r.push(new $4(n))}),r}su(e){this.Ga=e.$s,this.ja=et();const r=this.Za(e.documents);return this.applyChanges(r,!0)}ou(){return Pl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const CS="SyncEngine";class Ese{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Sse{constructor(e){this.key=e,this._u=!1}}class Tse{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ls(l=>n4(l),qg),this.cu=new Map,this.lu=new Set,this.hu=new Nt(Fe.comparator),this.Pu=new Map,this.Tu=new _S,this.Iu={},this.Eu=new Map,this.du=Al.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Ase(t,e,r=!0){const n=W4(t);let i;const o=n.uu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await F4(n,e,r,!0),i}async function Pse(t,e){const r=W4(t);await F4(r,e,!0,!1)}async function F4(t,e,r,n){const i=await zae(t.localStore,Ti(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let l;return n&&(l=await Ise(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&R4(t.remoteStore,i),l}async function Ise(t,e,r,n,i){t.Ru=(p,v,y)=>async function(x,b,A,T){let C=b.view.Za(A);C.Cs&&(C=await bj(x.localStore,b.query,!1).then(({documents:P})=>b.view.Za(P,C)));const j=T&&T.targetChanges.get(b.targetId),I=T&&T.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(C,x.isPrimaryClient,j,I);return Cj(x,b.targetId,N.ru),N.snapshot}(t,p,v,y);const o=await bj(t.localStore,e,!0),s=new xse(e,o.$s),l=s.Za(o.documents),c=Pd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);Cj(t,r,f.ru);const h=new Ese(e,r,s);return t.uu.set(e,h),t.cu.has(r)?t.cu.get(r).push(e):t.cu.set(r,[e]),f.snapshot}async function Ose(t,e,r){const n=Ge(t),i=n.uu.get(e),o=n.cu.get(i.targetId);if(o.length>1)return n.cu.set(i.targetId,o.filter(s=>!qg(s,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Dx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ES(n.remoteStore,i.targetId),Vx(n,i.targetId)}).catch(ql)):(Vx(n,i.targetId),await Dx(n.localStore,i.targetId,!0))}async function Cse(t,e){const r=Ge(t),n=r.uu.get(e),i=r.cu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ES(r.remoteStore,n.targetId))}async function kse(t,e,r){const n=$se(t);try{const i=await function(s,l){const c=Ge(s),f=nr.now(),h=l.reduce((y,w)=>y.add(w.key),et());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=yo(),x=et();return c.Bs.getEntries(y,h).next(b=>{w=b,w.forEach((A,T)=>{T.isValidDocument()||(x=x.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(b=>{p=b;const A=[];for(const T of l){const C=zoe(T,p.get(T.key).overlayedDocument);C!=null&&A.push(new $s(T.key,C,YV(C.value.mapValue),lo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,A,l)}).next(b=>{v=b;const A=b.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,b.batchId,A)})}).then(()=>({batchId:v.batchId,changes:a4(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let f=s.Iu[s.currentUser.toKey()];f||(f=new Nt(Qe)),f=f.insert(l,c),s.Iu[s.currentUser.toKey()]=f}(n,i.batchId,r),await Od(n,i.changes),await Yg(n.remoteStore)}catch(i){const o=IS(i,"Failed to persist write");r.reject(o)}}async function B4(t,e){const r=Ge(t);try{const n=await Bae(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Pu.get(o);s&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?dt(s._u,14607):i.removedDocuments.size>0&&(dt(s._u,42227),s._u=!1))}),await Od(r,n,e)}catch(n){await ql(n)}}function Oj(t,e,r){const n=Ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.uu.forEach((o,s)=>{const l=s.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Ge(s);c.onlineState=l;let f=!1;c.queries.forEach((h,p)=>{for(const v of p.ya)v.Da(l)&&(f=!0)}),f&&OS(c)}(n.eventManager,e),i.length&&n.au.j_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Rse(t,e,r){const n=Ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Pu.get(e),o=i&&i.key;if(o){let s=new Nt(Fe.comparator);s=s.insert(o,kr.newNoDocument(o,Ke.min()));const l=et().add(o),c=new Kg(Ke.min(),new Map,new Nt(Qe),s,l);await B4(n,c),n.hu=n.hu.remove(o),n.Pu.delete(e),kS(n)}else await Dx(n.localStore,e,!1).then(()=>Vx(n,e,r)).catch(ql)}async function Nse(t,e){const r=Ge(t),n=e.batch.batchId;try{const i=await Fae(r.localStore,e);q4(r,n,null),U4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Od(r,i)}catch(i){await ql(i)}}async function jse(t,e,r){const n=Ge(t);try{const i=await function(s,l){const c=Ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(dt(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);q4(n,e,r),U4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Od(n,i)}catch(i){await ql(i)}}function U4(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function q4(t,e,r){const n=Ge(t);let i=n.Iu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Iu[n.currentUser.toKey()]=i}}function Vx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.cu.get(e))t.uu.delete(n),r&&t.au.Vu(n,r);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(n=>{t.Tu.containsKey(n)||z4(t,n)})}function z4(t,e){t.lu.delete(e.path.canonicalString());const r=t.hu.get(e);r!==null&&(ES(t.remoteStore,r),t.hu=t.hu.remove(e),t.Pu.delete(r),kS(t))}function Cj(t,e,r){for(const n of r)n instanceof $4?(t.Tu.addReference(n.key,e),Mse(t,n)):n instanceof V4?(Ie(CS,"Document no longer in limbo: "+n.key),t.Tu.removeReference(n.key,e),t.Tu.containsKey(n.key)||z4(t,n.key)):ze(19791,{mu:n})}function Mse(t,e){const r=e.key,n=r.path.canonicalString();t.hu.get(r)||t.lu.has(n)||(Ie(CS,"New document in limbo: "+r),t.lu.add(n),kS(t))}function kS(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const r=new Fe(Dt.fromString(e)),n=t.du.next();t.Pu.set(n,new Sse(r)),t.hu=t.hu.insert(r,n),R4(t.remoteStore,new aa(Ti(pS(r.path)),n,"TargetPurposeLimboResolution",Vg.le))}}async function Od(t,e,r){const n=Ge(t),i=[],o=[],s=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{s.push(n.Ru(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=wS.Rs(c.targetId,f);o.push(p)}}))}),await Promise.all(s),n.au.j_(i),await async function(c,f){const h=Ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>he.forEach(f,v=>he.forEach(v.ds,y=>h.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>he.forEach(v.As,y=>h.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!zl(p))throw p;Ie(xS,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const y=h.xs.get(v),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(v,x)}}}(n.localStore,o))}async function Dse(t,e){const r=Ge(t);if(!r.currentUser.isEqual(e)){Ie(CS,"User change. New user:",e.toKey());const n=await I4(r.localStore,e);r.currentUser=e,function(o,s){o.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Ve(_e.CANCELLED,s))})}),o.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Od(r,n.ks)}}function Lse(t,e){const r=Ge(t),n=r.Pu.get(e);if(n&&n._u)return et().add(n.key);{let i=et();const o=r.cu.get(e);if(!o)return i;for(const s of o){const l=r.uu.get(s);i=i.unionWith(l.view.Ya)}return i}}function W4(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rse.bind(null,e),e.au.j_=_se.bind(null,e.eventManager),e.au.Vu=bse.bind(null,e.eventManager),e}function $se(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jse.bind(null,e),e}class Wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return Vae(this.persistence,new Dae,e.initialUser,this.serializer)}yu(e){return new P4(bS.fi,this.serializer)}pu(e){return new Hae}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wm.provider={build:()=>new Wm};class Vse extends Wm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){dt(this.persistence.referenceDelegate instanceof qm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new wae(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new P4(n=>qm.fi(n,r),this.serializer)}}class Fx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Oj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dse.bind(null,this.syncEngine),await pse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gse}()}createDatastore(e){const r=Gg(e.databaseInfo.databaseId),n=function(o){return new Qae(o)}(e.databaseInfo);return function(o,s,l,c){return new tse(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,l){return new nse(n,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>Oj(this.syncEngine,r,0),function(){return Ej.C()?new Ej:new Kae}())}createSyncEngine(e,r){return function(i,o,s,l,c,f,h){const p=new Tse(i,o,s,l,c,f);return h&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=Ge(i);Ie(Is,"RemoteStore shutting down."),o.Ta.add(5),await Id(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Fx.provider={build:()=>new Fx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class Bse{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=FV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{Ie(ba,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ie(ba,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=IS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qw(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(ba,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await I4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Use(t);Ie(ba,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Tj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Tj(e.remoteStore,i)),t._onlineComponents=e}async function Use(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(ba,"Using user provided OfflineComponentProvider");try{await qw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;xl("Error using user provided cache. Falling back to memory cache: "+r),await qw(t,new Wm)}}else Ie(ba,"Using default OfflineComponentProvider"),await qw(t,new Vse(void 0));return t._offlineComponents}async function H4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(ba,"Using user provided OnlineComponentProvider"),await kj(t,t._uninitializedComponentsProvider._online)):(Ie(ba,"Using default OnlineComponentProvider"),await kj(t,new Fx))),t._onlineComponents}function qse(t){return H4(t).then(e=>e.syncEngine)}async function zse(t){const e=await H4(t),r=e.eventManager;return r.onListen=Ase.bind(null,e.syncEngine),r.onUnlisten=Ose.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Pse.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Cse.bind(null,e.syncEngine),r}function Wse(t,e,r={}){const n=new ha;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const h=new Fse({next:v=>{h.Cu(),s.enqueueAndForget(()=>yse(o,p));const y=v.docs.has(l);!y&&v.fromCache?f.reject(new Ve(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new Ve(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new wse(pS(l.path),h,{includeMetadataChanges:!0,La:!0});return vse(o,p)}(await zse(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hse(t,e,r){if(!r)throw new Ve(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kse(t,e,r,n){if(e===!0&&n===!0)throw new Ve(_e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Nj(t){if(!Fe.isDocumentKey(t))throw new Ve(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function ud(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=RS(t);throw new Ve(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="firestore.googleapis.com",jj=!0;class Mj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G4,this.ssl=jj}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:jj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_ae)throw new Ve(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class NS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Xie;switch(n.type){case"firstParty":return new Zie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Rj.get(r);n&&(Ie("ComponentProvider","Removing Datastore"),Rj.delete(r),n.terminate())}(this),Promise.resolve()}}function Gse(t,e,r,n={}){var i;t=ud(t,NS);const o=bd(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;o&&(z$(`https://${c}`),W$("Firestore",!0)),s.host!==G4&&s.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!Ss(f,l)&&(t._setSettings(f),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Or.MOCK_USER;else{h=lte(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Ve(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Or(v)}t._authCredentials=new Yie(new $V(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jS(this.firestore,e,this._query)}}class Rn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ld(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ld extends jS{constructor(e,r,n){super(e,r,pS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Fe(e))}withConverter(e){return new ld(this.firestore,e,this._path)}}function zw(t,e,...r){if(t=mn(t),arguments.length===1&&(e=FV.newId()),Hse("doc","path",e),t instanceof NS){const n=Dt.fromString(e,...r);return Nj(n),new Rn(t,null,new Fe(n))}{if(!(t instanceof Rn||t instanceof ld))throw new Ve(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return Nj(n),new Rn(t.firestore,t instanceof ld?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="AsyncQueue";class Lj{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new C4(this,"async_queue_retry"),this.ec=()=>{const n=Uw();n&&Ie(Dj,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=Uw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=Uw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new ha;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!zl(e))throw e;Ie(Dj,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,vo("INTERNAL UNHANDLED ERROR: ",$j(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const i=PS.createAndSchedule(this,e,r,n,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&ze(47125,{_c:$j(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function $j(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class MS extends NS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Lj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lj(e),this._firestoreClient=void 0,await e}}}function Xse(t,e){const r=typeof t=="object"?t:X$(),n=typeof t=="string"?t:Dm,i=JE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=ste("firestore");o&&Gse(i,...o)}return i}function X4(t){if(t._terminated)throw new Ve(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yse(t),t._firestoreClient}function Yse(t){var e,r,n;const i=t._freezeSettings(),o=function(l,c,f,h){return new poe(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,K4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Bse(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(xr.fromBase64String(e))}catch(r){throw new Ve(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Il(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ve(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ve(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ve(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse=/^__.*__$/;class Jse{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ad(e,this.data,r,this.fieldTransforms)}}function Q4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{hc:t})}}class VS{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new VS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.dc(e),i}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Hm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Q4(this.hc)&&Qse.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Zse{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Gg(e)}gc(e,r,n,i=!1){return new VS({hc:e,methodName:r,fc:n,path:wr.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eue(t){const e=t._freezeSettings(),r=Gg(t._databaseId);return new Zse(t._databaseId,!!e.ignoreUndefinedProperties,r)}function tue(t,e,r,n,i,o={}){const s=t.gc(o.merge||o.mergeFields?2:0,e,r,i);tF("Data must be an object, but it was:",s,n);const l=Z4(n,s);let c,f;if(o.merge)c=new ri(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const v=rue(e,p,r);if(!s.contains(v))throw new Ve(_e.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);iue(h,v)||h.push(v)}c=new ri(h),f=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=s.fieldTransforms;return new Jse(new On(l),c,f)}function J4(t,e){if(eF(t=mn(t)))return tF("Unsupported field value:",e,t),Z4(t,e);if(t instanceof Y4)return function(n,i){if(!Q4(i.hc))throw i.Vc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const l of n){let c=J4(l,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $oe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=nr.fromDate(n);return{timestampValue:Um(i.serializer,o)}}if(n instanceof nr){const o=new nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Um(i.serializer,o)}}if(n instanceof LS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:_4(i.serializer,n._byteString)};if(n instanceof Rn){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yS(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof $S)return function(s,l){return{mapValue:{fields:{[GV]:{stringValue:XV},[Lm]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Vc("VectorValues must only contain numeric values.");return mS(l.serializer,f)})}}}}}}(n,i);throw i.Vc(`Unsupported field value: ${RS(n)}`)}(t,e)}function Z4(t,e){const r={};return UV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(n,i)=>{const o=J4(i,e.Ic(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function eF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nr||t instanceof LS||t instanceof Il||t instanceof Rn||t instanceof Y4||t instanceof $S)}function tF(t,e,r){if(!eF(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=RS(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function rue(t,e,r){if((e=mn(e))instanceof DS)return e._internalPath;if(typeof e=="string")return rF(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,r)}const nue=new RegExp("[~\\*/\\[\\]]");function rF(t,e,r){if(e.search(nue)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new DS(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Hm(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ve(_e.INVALID_ARGUMENT,l+t+c)}function iue(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(iF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oue extends nF{data(){return super.data()}}function iF(t,e){return typeof e=="string"?rF(t,e):e instanceof DS?e._internalPath:e._delegate._internalPath}class aue{convertValue(e,r="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ds(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Lm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Vt(s.doubleValue));return new $S(o)}convertGeoPoint(e){return new LS(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Bg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(nd(e));default:return null}}convertTimestamp(e){const r=ga(e);return new nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);dt(T4(n),9688,{name:e});const i=new id(n.get(1),n.get(3)),o=new Fe(n.popFirst(5));return i.isEqual(r)||vo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sue(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oF extends nF{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new lue(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(iF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class lue extends oF{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cue(t){t=ud(t,Rn);const e=ud(t.firestore,MS);return Wse(X4(e),t._key).then(r=>hue(e,t,r))}class fue extends aue{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}function Vj(t,e,r){t=ud(t,Rn);const n=ud(t.firestore,MS),i=sue(t.converter,e,r);return due(n,[tue(eue(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,lo.none())])}function due(t,e){return function(n,i){const o=new ha;return n.asyncQueue.enqueueAndForget(async()=>kse(await qse(n),i,o)),o.promise}(X4(t),e)}function hue(t,e,r){const n=r.docs.get(e._key),i=new fue(t);return new oF(t,i,e._key,n,new uue(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Ul=i})(Vl),bl(new Ts("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),l=new MS(new Qie(n.getProvider("auth-internal")),new eoe(s,n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(f.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),ca(zN,WN,e),ca(zN,WN,"esm2017")})();var pue="firebase",mue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(pue,mue,"app");const gue={apiKey:"AIzaSyAsJodYue9gdmCJsjgWXkn3p4EQuRGYMoY",authDomain:"kiosko-app-1ec1a.firebaseapp.com",projectId:"kiosko-app-1ec1a",storageBucket:"kiosko-app-1ec1a.firebasestorage.app",messagingSenderId:"76541564793",appId:"1:76541564793:web:b826d42d0bd4237d3841a8",measurementId:"G-9MWJ2E95DW"},aF=G$(gue),Xc=Kie(aF),Ww=Xse(aF),yr=[];for(let t=0;t<256;++t)yr.push((t+256).toString(16).slice(1));function vue(t,e=0){return(yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]).toLowerCase()}let Hw;const yue=new Uint8Array(16);function _ue(){if(!Hw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hw=crypto.getRandomValues.bind(crypto)}return Hw(yue)}const bue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fj={randomUUID:bue};function wue(t,e,r){var i;if(Fj.randomUUID&&!t)return Fj.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??_ue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,vue(n)}const sF=q.createContext(void 0),uF=()=>{const t=q.useContext(sF);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},xue=()=>{let t=localStorage.getItem("deviceId");return t||(t=wue(),localStorage.setItem("deviceId",t)),t},Eue=({children:t})=>{const[e,r]=q.useState(null),[n,i]=q.useState(!0),[o,s]=q.useState(!1),l=xue();q.useEffect(()=>Dne(Xc,async v=>{v?await c(v.uid)?(r(v),s(!0)):(await $w(Xc),r(null),s(!1)):(r(null),s(!1)),i(!1)}),[]);const c=async p=>{try{const v=await cue(zw(Ww,"usuarios_dispositivo",p));if(!v.exists())return await Vj(zw(Ww,"usuarios_dispositivo",p),{uid:p,deviceId:l,createdAt:new Date,lastAccess:new Date}),!0;const y=v.data();return y.deviceId===l?(await Vj(zw(Ww,"usuarios_dispositivo",p),{...y,lastAccess:new Date},{merge:!0}),!0):!1}catch(v){return console.error("Error checking device authorization:",v),!1}},f=async(p,v)=>{try{i(!0);const w=(await Nne(Xc,p,v)).user;return await c(w.uid)?{success:!0}:(await $w(Xc),{success:!1,error:"Esta cuenta ya está siendo usada en otro dispositivo. Solo se permite un dispositivo por cuenta."})}catch(y){let w="Error al iniciar sesión";switch(y.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":w="Email o contraseña incorrectos";break;case"auth/too-many-requests":w="Demasiados intentos fallidos. Intenta más tarde";break;case"auth/network-request-failed":w="Error de conexión. Verifica tu internet";break;case"auth/invalid-email":w="El formato del email no es válido";break}return{success:!1,error:w}}finally{i(!1)}},h=async()=>{try{await $w(Xc)}catch(p){console.error("Error during logout:",p)}};return L.jsx(sF.Provider,{value:{isAuthenticated:o,currentUser:e,deviceId:l,login:f,logout:h,loading:n},children:t})},Sue=()=>{const[t,e]=q.useState(""),[r,n]=q.useState(""),[i,o]=q.useState(!1),[s,l]=q.useState(""),[c,f]=q.useState(!1),{login:h,deviceId:p}=uF(),v=async y=>{if(y.preventDefault(),f(!0),l(""),!t||!r){l("Por favor completa todos los campos"),f(!1);return}try{const w=await h(t,r);w.success||l(w.error||"Error al iniciar sesión")}catch{l("Error inesperado al iniciar sesión")}finally{f(!1)}};return L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:L.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full space-y-6",children:[L.jsxs("div",{className:"text-center space-y-2",children:[L.jsx("div",{className:"flex justify-center",children:L.jsx(dP,{className:"text-blue-600 h-8 w-8"})}),L.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Acceso al Kiosko"}),L.jsx("p",{className:"text-gray-500",children:"Ingrese sus credenciales"}),L.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[L.jsx(aM,{size:12}),L.jsxs("span",{children:["ID: ",p.slice(-8)]})]})]}),L.jsxs("form",{onSubmit:v,className:"space-y-4",children:[L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),L.jsxs("div",{className:"relative",children:[L.jsx(n5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),L.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",disabled:c,autoComplete:"email"})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contraseña"}),L.jsxs("div",{className:"relative",children:[L.jsx(dP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),L.jsx("input",{type:i?"text":"password",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contraseña",disabled:c,autoComplete:"current-password"}),L.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:c,children:i?L.jsx(Z6,{size:20}):L.jsx(e5,{size:20})})]})]}),s&&L.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[L.jsx(iM,{className:"text-red-600 h-5 w-5 mt-0.5 flex-shrink-0"}),L.jsxs("div",{className:"text-sm text-red-800",children:[L.jsx("p",{className:"font-medium",children:"Error de autenticación"}),L.jsx("p",{children:s})]})]}),L.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?L.jsxs("div",{className:"flex items-center justify-center gap-2",children:[L.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"Iniciar Sesión"})]}),L.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[L.jsx("p",{children:"⚠️ Solo se permite un dispositivo por cuenta"}),L.jsx("p",{children:"Contacto: 3834997640"})]})]})})},Tue=()=>{const[t,e]=q.useState(0),{isAuthenticated:r,currentUser:n,deviceId:i,logout:o}=uF();if(!r)return L.jsx(Sue,{});const s=[{title:"📊 Dashboard",content:L.jsx(Uee,{})},{title:"Gestión de Productos",content:L.jsx(Wee,{})},{title:"Registro de Ventas",content:L.jsx(Qee,{})},{title:"Reportes",content:L.jsx(Jee,{})}];return L.jsxs("div",{className:"min-h-screen bg-gray-50",children:[L.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-md",children:L.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(Op,{size:24}),L.jsx("h1",{className:"text-xl font-bold",children:"Sistema de Gestión de Stock para Kiosko"})]}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[L.jsx(aM,{size:16}),L.jsxs("span",{children:["Usuario: ",(n==null?void 0:n.email)||"Usuario"]}),L.jsx("span",{className:"text-blue-200",children:"|"}),L.jsxs("span",{children:["ID: ",i.slice(-8)]})]}),L.jsx(d5,{}),L.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-800 px-3 py-2 rounded-lg transition-colors",children:[L.jsx(r5,{size:16}),"Salir"]})]})]})}),L.jsxs("main",{className:"container mx-auto p-4 mt-4",children:[L.jsx(H6,{tabs:s.map(l=>l.title),activeTab:t,onTabChange:e}),L.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-md p-6",children:s[t].content})]}),L.jsx("footer",{className:"bg-gray-100 p-4 border-t mt-auto",children:L.jsxs("div",{className:"container mx-auto text-center text-gray-600 text-sm",children:["© ",new Date().getFullYear()," Sistema de Gestión de Stock para Kiosko"]})})]})};function Aue(){return L.jsx(Eue,{children:L.jsx(Y6,{children:L.jsx(zee,{children:L.jsx(Yee,{children:L.jsx(Tue,{})})})})})}w3.createRoot(document.getElementById("root")).render(L.jsx(W.StrictMode,{children:L.jsx(D6,{children:L.jsx(Aue,{})})}));
