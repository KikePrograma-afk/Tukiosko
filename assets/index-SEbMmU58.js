(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ey={exports:{}},Dc={},Sy={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function fF(){if(zA)return Je;zA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function b(U,X,se){this.props=U,this.context=X,this.refs=x,this.updater=se||y}b.prototype.isReactComponent={},b.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=b.prototype;function A(U,X,se){this.props=U,this.context=X,this.refs=x,this.updater=se||y}var O=A.prototype=new E;O.constructor=A,w(O,b.prototype),O.isPureReactComponent=!0;var M=Array.isArray,C=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,se){var ye,we={},Se=null,Ne=null;if(X!=null)for(ye in X.ref!==void 0&&(Ne=X.ref),X.key!==void 0&&(Se=""+X.key),X)C.call(X,ye)&&!P.hasOwnProperty(ye)&&(we[ye]=X[ye]);var ke=arguments.length-2;if(ke===1)we.children=se;else if(1<ke){for(var fe=Array(ke),Ae=0;Ae<ke;Ae++)fe[Ae]=arguments[Ae+2];we.children=fe}if(U&&U.defaultProps)for(ye in ke=U.defaultProps,ke)we[ye]===void 0&&(we[ye]=ke[ye]);return{$$typeof:t,type:U,key:Se,ref:Ne,props:we,_owner:N.current}}function R(U,X){return{$$typeof:t,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(se){return X[se]})}var L=/\/+/g;function j(U,X){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):X.toString(36)}function J(U,X,se,ye,we){var Se=typeof U;(Se==="undefined"||Se==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(Se){case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=U,we=we(Ne),U=ye===""?"."+j(Ne,0):ye,M(we)?(se="",U!=null&&(se=U.replace(L,"$&/")+"/"),J(we,X,se,"",function(Ae){return Ae})):we!=null&&(F(we)&&(we=R(we,se+(!we.key||Ne&&Ne.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+U)),X.push(we)),1;if(Ne=0,ye=ye===""?".":ye+":",M(U))for(var ke=0;ke<U.length;ke++){Se=U[ke];var fe=ye+j(Se,ke);Ne+=J(Se,X,se,fe,we)}else if(fe=v(U),typeof fe=="function")for(U=fe.call(U),ke=0;!(Se=U.next()).done;)Se=Se.value,fe=ye+j(Se,ke++),Ne+=J(Se,X,se,fe,we);else if(Se==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ne}function Z(U,X,se){if(U==null)return U;var ye=[],we=0;return J(U,ye,"","",function(Se){return X.call(se,Se,we++)}),ye}function ne(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(se){(U._status===0||U._status===-1)&&(U._status=1,U._result=se)},function(se){(U._status===0||U._status===-1)&&(U._status=2,U._result=se)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var G={current:null},H={transition:null},Q={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:H,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Z,forEach:function(U,X,se){Z(U,function(){X.apply(this,arguments)},se)},count:function(U){var X=0;return Z(U,function(){X++}),X},toArray:function(U){return Z(U,function(X){return X})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Je.Component=b,Je.Fragment=r,Je.Profiler=i,Je.PureComponent=A,Je.StrictMode=n,Je.Suspense=c,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Je.act=ae,Je.cloneElement=function(U,X,se){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ye=w({},U.props),we=U.key,Se=U.ref,Ne=U._owner;if(X!=null){if(X.ref!==void 0&&(Se=X.ref,Ne=N.current),X.key!==void 0&&(we=""+X.key),U.type&&U.type.defaultProps)var ke=U.type.defaultProps;for(fe in X)C.call(X,fe)&&!P.hasOwnProperty(fe)&&(ye[fe]=X[fe]===void 0&&ke!==void 0?ke[fe]:X[fe])}var fe=arguments.length-2;if(fe===1)ye.children=se;else if(1<fe){ke=Array(fe);for(var Ae=0;Ae<fe;Ae++)ke[Ae]=arguments[Ae+2];ye.children=ke}return{$$typeof:t,type:U.type,key:we,ref:Se,props:ye,_owner:Ne}},Je.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Je.createElement=I,Je.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},Je.createRef=function(){return{current:null}},Je.forwardRef=function(U){return{$$typeof:l,render:U}},Je.isValidElement=F,Je.lazy=function(U){return{$$typeof:d,_payload:{_status:-1,_result:U},_init:ne}},Je.memo=function(U,X){return{$$typeof:f,type:U,compare:X===void 0?null:X}},Je.startTransition=function(U){var X=H.transition;H.transition={};try{U()}finally{H.transition=X}},Je.unstable_act=ae,Je.useCallback=function(U,X){return G.current.useCallback(U,X)},Je.useContext=function(U){return G.current.useContext(U)},Je.useDebugValue=function(){},Je.useDeferredValue=function(U){return G.current.useDeferredValue(U)},Je.useEffect=function(U,X){return G.current.useEffect(U,X)},Je.useId=function(){return G.current.useId()},Je.useImperativeHandle=function(U,X,se){return G.current.useImperativeHandle(U,X,se)},Je.useInsertionEffect=function(U,X){return G.current.useInsertionEffect(U,X)},Je.useLayoutEffect=function(U,X){return G.current.useLayoutEffect(U,X)},Je.useMemo=function(U,X){return G.current.useMemo(U,X)},Je.useReducer=function(U,X,se){return G.current.useReducer(U,X,se)},Je.useRef=function(U){return G.current.useRef(U)},Je.useState=function(U){return G.current.useState(U)},Je.useSyncExternalStore=function(U,X,se){return G.current.useSyncExternalStore(U,X,se)},Je.useTransition=function(){return G.current.useTransition()},Je.version="18.3.1",Je}var WA;function Km(){return WA||(WA=1,Sy.exports=fF()),Sy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function hF(){if(HA)return Dc;HA=1;var t=Km(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var d,p={},v=null,y=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(y=c.ref);for(d in c)n.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:l,key:v,ref:y,props:p,_owner:i.current}}return Dc.Fragment=r,Dc.jsx=s,Dc.jsxs=s,Dc}var KA;function dF(){return KA||(KA=1,Ey.exports=hF()),Ey.exports}var $=dF(),z=Km();const W=ft(z);var Wd={},Ty={exports:{}},Gr={},Ay={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function pF(){return GA||(GA=1,function(t){function e(H,Q){var ae=H.length;H.push(Q);e:for(;0<ae;){var U=ae-1>>>1,X=H[U];if(0<i(X,Q))H[U]=Q,H[ae]=X,ae=U;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Q=H[0],ae=H.pop();if(ae!==Q){H[0]=ae;e:for(var U=0,X=H.length,se=X>>>1;U<se;){var ye=2*(U+1)-1,we=H[ye],Se=ye+1,Ne=H[Se];if(0>i(we,ae))Se<X&&0>i(Ne,we)?(H[U]=Ne,H[Se]=ae,U=Se):(H[U]=we,H[ye]=ae,U=ye);else if(Se<X&&0>i(Ne,ae))H[U]=Ne,H[Se]=ae,U=Se;else break e}}return Q}function i(H,Q){var ae=H.sortIndex-Q.sortIndex;return ae!==0?ae:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],d=1,p=null,v=3,y=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(H){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=H)n(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(f)}}function M(H){if(x=!1,O(H),!w)if(r(c)!==null)w=!0,ne(C);else{var Q=r(f);Q!==null&&G(M,Q.startTime-H)}}function C(H,Q){w=!1,x&&(x=!1,E(I),I=-1),y=!0;var ae=v;try{for(O(Q),p=r(c);p!==null&&(!(p.expirationTime>Q)||H&&!D());){var U=p.callback;if(typeof U=="function"){p.callback=null,v=p.priorityLevel;var X=U(p.expirationTime<=Q);Q=t.unstable_now(),typeof X=="function"?p.callback=X:p===r(c)&&n(c),O(Q)}else n(c);p=r(c)}if(p!==null)var se=!0;else{var ye=r(f);ye!==null&&G(M,ye.startTime-Q),se=!1}return se}finally{p=null,v=ae,y=!1}}var N=!1,P=null,I=-1,R=5,F=-1;function D(){return!(t.unstable_now()-F<R)}function L(){if(P!==null){var H=t.unstable_now();F=H;var Q=!0;try{Q=P(!0,H)}finally{Q?j():(N=!1,P=null)}}else N=!1}var j;if(typeof A=="function")j=function(){A(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Z=J.port2;J.port1.onmessage=L,j=function(){Z.postMessage(null)}}else j=function(){b(L,0)};function ne(H){P=H,N||(N=!0,j())}function G(H,Q){I=b(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,ne(C))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ae=v;v=Q;try{return H()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ae=v;v=H;try{return Q()}finally{v=ae}},t.unstable_scheduleCallback=function(H,Q,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,H){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,H={id:d++,callback:Q,priorityLevel:H,startTime:ae,expirationTime:X,sortIndex:-1},ae>U?(H.sortIndex=ae,e(f,H),r(c)===null&&H===r(f)&&(x?(E(I),I=-1):x=!0,G(M,ae-U))):(H.sortIndex=X,e(c,H),w||y||(w=!0,ne(C))),H},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(H){var Q=v;return function(){var ae=v;v=Q;try{return H.apply(this,arguments)}finally{v=ae}}}}(Py)),Py}var XA;function mF(){return XA||(XA=1,Ay.exports=pF()),Ay.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function gF(){if(YA)return Gr;YA=1;var t=Km(),e=mF();function r(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,u){s(a,u),s(a+"Capture",u)}function s(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(a){return c.call(p,a)?!0:c.call(d,a)?!1:f.test(a)?p[a]=!0:(d[a]=!0,!1)}function y(a,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,u,h,g){if(u===null||typeof u>"u"||y(a,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(a,u,h,g,_,T,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=T,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];b[u]=new x(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(E,A);b[u]=new x(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(E,A);b[u]=new x(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(E,A);b[u]=new x(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,u,h,g){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,h,_,g)&&(h=null),g||_===null?v(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):_.mustUseProperty?a[_.propertyName]=h===null?_.type===3?!1:"":h:(u=_.attributeName,g=_.attributeNamespace,h===null?a.removeAttribute(u):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,g?a.setAttributeNS(g,u,h):a.setAttribute(u,h))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),H=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Object.assign,U;function X(a){if(U===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+a}var se=!1;function ye(a,u){if(!a||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ie){var g=ie}Reflect.construct(a,[],u)}else{try{u.call()}catch(ie){g=ie}a.call(u.prototype)}else{try{throw Error()}catch(ie){g=ie}a()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),T=g.stack.split(`
`),V=_.length-1,q=T.length-1;1<=V&&0<=q&&_[V]!==T[q];)q--;for(;1<=V&&0<=q;V--,q--)if(_[V]!==T[q]){if(V!==1||q!==1)do if(V--,q--,0>q||_[V]!==T[q]){var K=`
`+_[V].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=V&&0<=q);break}}}finally{se=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?X(a):""}function we(a){switch(a.tag){case 5:return X(a.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case N:return"Portal";case R:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case J:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case D:return(a.displayName||"Context")+".Consumer";case F:return(a._context.displayName||"Context")+".Provider";case L:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Z:return u=a.displayName||null,u!==null?u:Se(a.type)||"Memo";case ne:u=a._payload,a=a._init;try{return Se(a(u))}catch{}}return null}function Ne(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fe(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ae(a){var u=fe(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,T=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return _.call(this)},set:function(V){g=""+V,T.call(this,V)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function be(a){a._valueTracker||(a._valueTracker=Ae(a))}function oe(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=fe(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function Fe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function xe(a,u){var h=u.checked;return ae({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function We(a,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=ke(u.value!=null?u.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Qe(a,u){u=u.checked,u!=null&&O(a,"checked",u,!1)}function dt(a,u){Qe(a,u);var h=ke(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Ct(a,u.type,h):u.hasOwnProperty("defaultValue")&&Ct(a,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function yt(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Ct(a,u,h){(u!=="number"||Fe(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var xr=Array.isArray;function hr(a,u,h,g){if(a=a.options,u){u={};for(var _=0;_<h.length;_++)u["$"+h[_]]=!0;for(h=0;h<a.length;h++)_=u.hasOwnProperty("$"+a[h].value),a[h].selected!==_&&(a[h].selected=_),_&&g&&(a[h].defaultSelected=!0)}else{for(h=""+ke(h),u=null,_=0;_<a.length;_++){if(a[_].value===h){a[_].selected=!0,g&&(a[_].defaultSelected=!0);return}u!==null||a[_].disabled||(u=a[_])}u!==null&&(u.selected=!0)}}function Zr(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ai(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(r(92));if(xr(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:ke(h)}}function Mi(a,u){var h=ke(u.value),g=ke(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function To(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Wt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Wt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Di,Hl=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,_){MSApp.execUnsafeLocalFunction(function(){return a(u,h,g,_)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Di=Di||document.createElement("div"),Di.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Di.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Ao(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ia=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(a){Ia.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Pa[u]=Pa[a]})});function Kl(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||Pa.hasOwnProperty(a)&&Pa[a]?(""+u).trim():u+"px"}function Gl(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,_=Kl(h,u[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,_):a[h]=_}}var Xl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(a,u){if(u){if(Xl[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ql(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function Fs(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Bs=null,pn=null,si=null;function Us(a){if(a=wc(a)){if(typeof Bs!="function")throw Error(r(280));var u=a.stateNode;u&&(u=od(u),Bs(a.stateNode,a.type,u))}}function ui(a){pn?si?si.push(a):si=[a]:pn=a}function Jl(){if(pn){var a=pn,u=si;if(si=pn=null,Us(a),u)for(a=0;a<u.length;a++)Us(u[a])}}function Ca(a,u){return a(u)}function Zl(){}var Li=!1;function ec(a,u,h){if(Li)return a(u,h);Li=!0;try{return Ca(a,u,h)}finally{Li=!1,(pn!==null||si!==null)&&(Zl(),Jl())}}function Lt(a,u){var h=a.stateNode;if(h===null)return null;var g=od(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var qs=!1;if(l)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){qs=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{qs=!1}function ka(a,u,h,g,_,T,V,q,K){var ie=Array.prototype.slice.call(arguments,3);try{u.apply(h,ie)}catch(de){this.onError(de)}}var Ra=!1,zs=null,Mn=!1,tc=null,Qg={onError:function(a){Ra=!0,zs=a}};function Ws(a,u,h,g,_,T,V,q,K){Ra=!1,zs=null,ka.apply(Qg,arguments)}function Ch(a,u,h,g,_,T,V,q,K){if(Ws.apply(this,arguments),Ra){if(Ra){var ie=zs;Ra=!1,zs=null}else throw Error(r(198));Mn||(Mn=!0,tc=ie)}}function Dn(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function Na(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Ln(a){if(Dn(a)!==a)throw Error(r(188))}function kh(a){var u=a.alternate;if(!u){if(u=Dn(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,g=u;;){var _=h.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){h=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===h)return Ln(_),a;if(T===g)return Ln(_),u;T=T.sibling}throw Error(r(188))}if(h.return!==g.return)h=_,g=T;else{for(var V=!1,q=_.child;q;){if(q===h){V=!0,h=_,g=T;break}if(q===g){V=!0,g=_,h=T;break}q=q.sibling}if(!V){for(q=T.child;q;){if(q===h){V=!0,h=T,g=_;break}if(q===g){V=!0,g=T,h=_;break}q=q.sibling}if(!V)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function rc(a){return a=kh(a),a!==null?Hs(a):null}function Hs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Hs(a);if(u!==null)return u;a=a.sibling}return null}var Ks=e.unstable_scheduleCallback,nc=e.unstable_cancelCallback,Rh=e.unstable_shouldYield,Jg=e.unstable_requestPaint,_t=e.unstable_now,Nh=e.unstable_getCurrentPriorityLevel,ja=e.unstable_ImmediatePriority,Po=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,ic=e.unstable_LowPriority,jh=e.unstable_IdlePriority,Ma=null,en=null;function Mh(a){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ma,a,void 0,(a.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Lh,oc=Math.log,Dh=Math.LN2;function Lh(a){return a>>>=0,a===0?32:31-(oc(a)/Dh|0)|0}var Gs=64,Xs=4194304;function Io(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Da(a,u){var h=a.pendingLanes;if(h===0)return 0;var g=0,_=a.suspendedLanes,T=a.pingedLanes,V=h&268435455;if(V!==0){var q=V&~_;q!==0?g=Io(q):(T&=V,T!==0&&(g=Io(T)))}else V=h&~_,V!==0?g=Io(V):T!==0&&(g=Io(T));if(g===0)return 0;if(u!==0&&u!==g&&(u&_)===0&&(_=g&-g,T=u&-u,_>=T||_===16&&(T&4194240)!==0))return u;if((g&4)!==0&&(g|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)h=31-Nr(u),_=1<<h,g|=a[h],u&=~_;return g}function Zg(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,_=a.expirationTimes,T=a.pendingLanes;0<T;){var V=31-Nr(T),q=1<<V,K=_[V];K===-1?((q&h)===0||(q&g)!==0)&&(_[V]=Zg(q,u)):K<=u&&(a.expiredLanes|=q),T&=~q}}function tn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function La(){var a=Gs;return Gs<<=1,(Gs&4194240)===0&&(Gs=64),a}function Oo(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Co(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Nr(u),a[u]=h}function gt(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var _=31-Nr(h),T=1<<_;u[_]=0,g[_]=-1,a[_]=-1,h&=~T}}function ko(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-Nr(h),_=1<<g;_&u|a[g]&u&&(a[g]|=u),h&=~_}}var tt=0;function Ro(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var $h,Ys,Vh,Fh,Bh,ac=!1,li=[],dr=null,$n=null,Vn=null,No=new Map,gn=new Map,ci=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uh(a,u){switch(a){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":No.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(u.pointerId)}}function Br(a,u,h,g,_,T){return a===null||a.nativeEvent!==T?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},u!==null&&(u=wc(u),u!==null&&Ys(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),a)}function tv(a,u,h,g,_){switch(u){case"focusin":return dr=Br(dr,a,u,h,g,_),!0;case"dragenter":return $n=Br($n,a,u,h,g,_),!0;case"mouseover":return Vn=Br(Vn,a,u,h,g,_),!0;case"pointerover":var T=_.pointerId;return No.set(T,Br(No.get(T)||null,a,u,h,g,_)),!0;case"gotpointercapture":return T=_.pointerId,gn.set(T,Br(gn.get(T)||null,a,u,h,g,_)),!0}return!1}function qh(a){var u=Ua(a.target);if(u!==null){var h=Dn(u);if(h!==null){if(u=h.tag,u===13){if(u=Na(h),u!==null){a.blockedOn=u,Bh(a.priority,function(){Vh(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vi(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=Qs(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Oa=g,h.target.dispatchEvent(g),Oa=null}else return u=wc(h),u!==null&&Ys(u),a.blockedOn=h,!1;u.shift()}return!0}function $a(a,u,h){Vi(a)&&h.delete(u)}function zh(){ac=!1,dr!==null&&Vi(dr)&&(dr=null),$n!==null&&Vi($n)&&($n=null),Vn!==null&&Vi(Vn)&&(Vn=null),No.forEach($a),gn.forEach($a)}function Fn(a,u){a.blockedOn===u&&(a.blockedOn=null,ac||(ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zh)))}function Bn(a){function u(_){return Fn(_,a)}if(0<li.length){Fn(li[0],a);for(var h=1;h<li.length;h++){var g=li[h];g.blockedOn===a&&(g.blockedOn=null)}}for(dr!==null&&Fn(dr,a),$n!==null&&Fn($n,a),Vn!==null&&Fn(Vn,a),No.forEach(u),gn.forEach(u),h=0;h<ci.length;h++)g=ci[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<ci.length&&(h=ci[0],h.blockedOn===null);)qh(h),h.blockedOn===null&&ci.shift()}var Fi=M.ReactCurrentBatchConfig,jo=!0;function Pt(a,u,h,g){var _=tt,T=Fi.transition;Fi.transition=null;try{tt=1,sc(a,u,h,g)}finally{tt=_,Fi.transition=T}}function rv(a,u,h,g){var _=tt,T=Fi.transition;Fi.transition=null;try{tt=4,sc(a,u,h,g)}finally{tt=_,Fi.transition=T}}function sc(a,u,h,g){if(jo){var _=Qs(a,u,h,g);if(_===null)dv(a,u,g,Va,h),Uh(a,g);else if(tv(_,a,u,h,g))g.stopPropagation();else if(Uh(a,g),u&4&&-1<ev.indexOf(a)){for(;_!==null;){var T=wc(_);if(T!==null&&$h(T),T=Qs(a,u,h,g),T===null&&dv(a,u,g,Va,h),T===_)break;_=T}_!==null&&g.stopPropagation()}else dv(a,u,g,null,h)}}var Va=null;function Qs(a,u,h,g){if(Va=null,a=Fs(g),a=Ua(a),a!==null)if(u=Dn(a),u===null)a=null;else if(h=u.tag,h===13){if(a=Na(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Va=a,null}function uc(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nh()){case ja:return 1;case Po:return 4;case mn:case ic:return 16;case jh:return 536870912;default:return 16}default:return 16}}var rn=null,Js=null,Ur=null;function lc(){if(Ur)return Ur;var a,u=Js,h=u.length,g,_="value"in rn?rn.value:rn.textContent,T=_.length;for(a=0;a<h&&u[a]===_[a];a++);var V=h-a;for(g=1;g<=V&&u[h-g]===_[T-g];g++);return Ur=_.slice(a,1<g?1-g:void 0)}function Zs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function fi(){return!0}function cc(){return!1}function pr(a){function u(h,g,_,T,V){this._reactName=h,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(h=a[q],this[q]=h?h(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?fi:cc,this.isPropagationStopped=cc,this}return ae(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),u}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=pr(Un),hi=ae({},Un,{view:0,detail:0}),nv=pr(hi),tu,Bi,Mo,Fa=ae({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Mo&&(Mo&&a.type==="mousemove"?(tu=a.screenX-Mo.screenX,Bi=a.screenY-Mo.screenY):Bi=tu=0,Mo=a),tu)},movementY:function(a){return"movementY"in a?a.movementY:Bi}}),ru=pr(Fa),fc=ae({},Fa,{dataTransfer:0}),Wh=pr(fc),nu=ae({},hi,{relatedTarget:0}),iu=pr(nu),Hh=ae({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Ui=pr(Hh),Kh=ae({},Un,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Gh=pr(Kh),Xh=ae({},Un,{data:0}),hc=pr(Xh),ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Yh[a])?!!u[a]:!1}function di(){return Qh}var m=ae({},hi,{key:function(a){if(a.key){var u=ou[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jr[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(a){return a.type==="keypress"?Zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),S=pr(m),k=ae({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=pr(k),ee=ae({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),ue=pr(ee),_e=ae({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=pr(_e),Kt=ae({},Fa,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=pr(Kt),ir=[9,13,27,32],Ft=l&&"CompositionEvent"in window,vn=null;l&&"documentMode"in document&&(vn=document.documentMode);var nn=l&&"TextEvent"in window&&!vn,Ba=l&&(!Ft||vn&&8<vn&&11>=vn),au=" ",$S=!1;function VS(a,u){switch(a){case"keyup":return ir.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var su=!1;function u3(a,u){switch(a){case"compositionend":return FS(u);case"keypress":return u.which!==32?null:($S=!0,au);case"textInput":return a=u.data,a===au&&$S?null:a;default:return null}}function l3(a,u){if(su)return a==="compositionend"||!Ft&&VS(a,u)?(a=lc(),Ur=Js=rn=null,su=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ba&&u.locale!=="ko"?null:u.data;default:return null}}var c3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!c3[a.type]:u==="textarea"}function US(a,u,h,g){ui(g),u=rd(u,"onChange"),0<u.length&&(h=new eu("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var dc=null,pc=null;function f3(a){aT(a,0)}function Jh(a){var u=hu(a);if(oe(u))return a}function h3(a,u){if(a==="change")return u}var qS=!1;if(l){var iv;if(l){var ov="oninput"in document;if(!ov){var zS=document.createElement("div");zS.setAttribute("oninput","return;"),ov=typeof zS.oninput=="function"}iv=ov}else iv=!1;qS=iv&&(!document.documentMode||9<document.documentMode)}function WS(){dc&&(dc.detachEvent("onpropertychange",HS),pc=dc=null)}function HS(a){if(a.propertyName==="value"&&Jh(pc)){var u=[];US(u,pc,a,Fs(a)),ec(f3,u)}}function d3(a,u,h){a==="focusin"?(WS(),dc=u,pc=h,dc.attachEvent("onpropertychange",HS)):a==="focusout"&&WS()}function p3(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jh(pc)}function m3(a,u){if(a==="click")return Jh(u)}function g3(a,u){if(a==="input"||a==="change")return Jh(u)}function v3(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var qn=typeof Object.is=="function"?Object.is:v3;function mc(a,u){if(qn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var _=h[g];if(!c.call(u,_)||!qn(a[_],u[_]))return!1}return!0}function KS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function GS(a,u){var h=KS(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=KS(h)}}function XS(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?XS(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function YS(){for(var a=window,u=Fe();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=Fe(a.document)}return u}function av(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function y3(a){var u=YS(),h=a.focusedElem,g=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&XS(h.ownerDocument.documentElement,h)){if(g!==null&&av(h)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var _=h.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!a.extend&&T>g&&(_=g,g=T,T=_),_=GS(h,T);var V=GS(h,g);_&&V&&(a.rangeCount!==1||a.anchorNode!==_.node||a.anchorOffset!==_.offset||a.focusNode!==V.node||a.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),a.removeAllRanges(),T>g?(a.addRange(u),a.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _3=l&&"documentMode"in document&&11>=document.documentMode,uu=null,sv=null,gc=null,uv=!1;function QS(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;uv||uu==null||uu!==Fe(g)||(g=uu,"selectionStart"in g&&av(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),gc&&mc(gc,g)||(gc=g,g=rd(sv,"onSelect"),0<g.length&&(u=new eu("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=uu)))}function Zh(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var lu={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},lv={},JS={};l&&(JS=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function ed(a){if(lv[a])return lv[a];if(!lu[a])return a;var u=lu[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in JS)return lv[a]=u[h];return a}var ZS=ed("animationend"),eT=ed("animationiteration"),tT=ed("animationstart"),rT=ed("transitionend"),nT=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(a,u){nT.set(a,u),o(u,[a])}for(var cv=0;cv<iT.length;cv++){var fv=iT[cv],b3=fv.toLowerCase(),w3=fv[0].toUpperCase()+fv.slice(1);Do(b3,"on"+w3)}Do(ZS,"onAnimationEnd"),Do(eT,"onAnimationIteration"),Do(tT,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(rT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function oT(a,u,h){var g=a.type||"unknown-event";a.currentTarget=h,Ch(g,u,void 0,a),a.currentTarget=null}function aT(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],_=g.event;g=g.listeners;e:{var T=void 0;if(u)for(var V=g.length-1;0<=V;V--){var q=g[V],K=q.instance,ie=q.currentTarget;if(q=q.listener,K!==T&&_.isPropagationStopped())break e;oT(_,q,ie),T=K}else for(V=0;V<g.length;V++){if(q=g[V],K=q.instance,ie=q.currentTarget,q=q.listener,K!==T&&_.isPropagationStopped())break e;oT(_,q,ie),T=K}}}if(Mn)throw a=tc,Mn=!1,tc=null,a}function St(a,u){var h=u[_v];h===void 0&&(h=u[_v]=new Set);var g=a+"__bubble";h.has(g)||(sT(u,a,2,!1),h.add(g))}function hv(a,u,h){var g=0;u&&(g|=4),sT(h,a,g,u)}var td="_reactListening"+Math.random().toString(36).slice(2);function yc(a){if(!a[td]){a[td]=!0,n.forEach(function(h){h!=="selectionchange"&&(x3.has(h)||hv(h,!1,a),hv(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[td]||(u[td]=!0,hv("selectionchange",!1,u))}}function sT(a,u,h,g){switch(uc(u)){case 1:var _=Pt;break;case 4:_=rv;break;default:_=sc}h=_.bind(null,u,h,a),_=void 0,!qs||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),g?_!==void 0?a.addEventListener(u,h,{capture:!0,passive:_}):a.addEventListener(u,h,!0):_!==void 0?a.addEventListener(u,h,{passive:_}):a.addEventListener(u,h,!1)}function dv(a,u,h,g,_){var T=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var q=g.stateNode.containerInfo;if(q===_||q.nodeType===8&&q.parentNode===_)break;if(V===4)for(V=g.return;V!==null;){var K=V.tag;if((K===3||K===4)&&(K=V.stateNode.containerInfo,K===_||K.nodeType===8&&K.parentNode===_))return;V=V.return}for(;q!==null;){if(V=Ua(q),V===null)return;if(K=V.tag,K===5||K===6){g=T=V;continue e}q=q.parentNode}}g=g.return}ec(function(){var ie=T,de=Fs(h),pe=[];e:{var he=nT.get(a);if(he!==void 0){var Ee=eu,Oe=a;switch(a){case"keypress":if(Zs(h)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":Oe="focus",Ee=iu;break;case"focusout":Oe="blur",Ee=iu;break;case"beforeblur":case"afterblur":Ee=iu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ue;break;case ZS:case eT:case tT:Ee=Ui;break;case rT:Ee=pt;break;case"scroll":Ee=nv;break;case"wheel":Ee=rt;break;case"copy":case"cut":case"paste":Ee=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Ce=(u&4)!==0,$t=!Ce&&a==="scroll",te=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var Y=ie,re;Y!==null;){re=Y;var ve=re.stateNode;if(re.tag===5&&ve!==null&&(re=ve,te!==null&&(ve=Lt(Y,te),ve!=null&&Ce.push(_c(Y,ve,re)))),$t)break;Y=Y.return}0<Ce.length&&(he=new Ee(he,Oe,null,h,de),pe.push({event:he,listeners:Ce}))}}if((u&7)===0){e:{if(he=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",he&&h!==Oa&&(Oe=h.relatedTarget||h.fromElement)&&(Ua(Oe)||Oe[qi]))break e;if((Ee||he)&&(he=de.window===de?de:(he=de.ownerDocument)?he.defaultView||he.parentWindow:window,Ee?(Oe=h.relatedTarget||h.toElement,Ee=ie,Oe=Oe?Ua(Oe):null,Oe!==null&&($t=Dn(Oe),Oe!==$t||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ee=null,Oe=ie),Ee!==Oe)){if(Ce=ru,ve="onMouseLeave",te="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ce=B,ve="onPointerLeave",te="onPointerEnter",Y="pointer"),$t=Ee==null?he:hu(Ee),re=Oe==null?he:hu(Oe),he=new Ce(ve,Y+"leave",Ee,h,de),he.target=$t,he.relatedTarget=re,ve=null,Ua(de)===ie&&(Ce=new Ce(te,Y+"enter",Oe,h,de),Ce.target=re,Ce.relatedTarget=$t,ve=Ce),$t=ve,Ee&&Oe)t:{for(Ce=Ee,te=Oe,Y=0,re=Ce;re;re=cu(re))Y++;for(re=0,ve=te;ve;ve=cu(ve))re++;for(;0<Y-re;)Ce=cu(Ce),Y--;for(;0<re-Y;)te=cu(te),re--;for(;Y--;){if(Ce===te||te!==null&&Ce===te.alternate)break t;Ce=cu(Ce),te=cu(te)}Ce=null}else Ce=null;Ee!==null&&uT(pe,he,Ee,Ce,!1),Oe!==null&&$t!==null&&uT(pe,$t,Oe,Ce,!0)}}e:{if(he=ie?hu(ie):window,Ee=he.nodeName&&he.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&he.type==="file")var Re=h3;else if(BS(he))if(qS)Re=g3;else{Re=p3;var Me=d3}else(Ee=he.nodeName)&&Ee.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Re=m3);if(Re&&(Re=Re(a,ie))){US(pe,Re,h,de);break e}Me&&Me(a,he,ie),a==="focusout"&&(Me=he._wrapperState)&&Me.controlled&&he.type==="number"&&Ct(he,"number",he.value)}switch(Me=ie?hu(ie):window,a){case"focusin":(BS(Me)||Me.contentEditable==="true")&&(uu=Me,sv=ie,gc=null);break;case"focusout":gc=sv=uu=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,QS(pe,h,de);break;case"selectionchange":if(_3)break;case"keydown":case"keyup":QS(pe,h,de)}var De;if(Ft)e:{switch(a){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else su?VS(a,h)&&(ze="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ze="onCompositionStart");ze&&(Ba&&h.locale!=="ko"&&(su||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&su&&(De=lc()):(rn=de,Js="value"in rn?rn.value:rn.textContent,su=!0)),Me=rd(ie,ze),0<Me.length&&(ze=new hc(ze,a,null,h,de),pe.push({event:ze,listeners:Me}),De?ze.data=De:(De=FS(h),De!==null&&(ze.data=De)))),(De=nn?u3(a,h):l3(a,h))&&(ie=rd(ie,"onBeforeInput"),0<ie.length&&(de=new hc("onBeforeInput","beforeinput",null,h,de),pe.push({event:de,listeners:ie}),de.data=De))}aT(pe,u)})}function _c(a,u,h){return{instance:a,listener:u,currentTarget:h}}function rd(a,u){for(var h=u+"Capture",g=[];a!==null;){var _=a,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Lt(a,h),T!=null&&g.unshift(_c(a,T,_)),T=Lt(a,u),T!=null&&g.push(_c(a,T,_))),a=a.return}return g}function cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function uT(a,u,h,g,_){for(var T=u._reactName,V=[];h!==null&&h!==g;){var q=h,K=q.alternate,ie=q.stateNode;if(K!==null&&K===g)break;q.tag===5&&ie!==null&&(q=ie,_?(K=Lt(h,T),K!=null&&V.unshift(_c(h,K,q))):_||(K=Lt(h,T),K!=null&&V.push(_c(h,K,q)))),h=h.return}V.length!==0&&a.push({event:u,listeners:V})}var E3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function lT(a){return(typeof a=="string"?a:""+a).replace(E3,`
`).replace(S3,"")}function nd(a,u,h){if(u=lT(u),lT(a)!==u&&h)throw Error(r(425))}function id(){}var pv=null,mv=null;function gv(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var vv=typeof setTimeout=="function"?setTimeout:void 0,T3=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,A3=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(a){return cT.resolve(null).then(a).catch(P3)}:vv;function P3(a){setTimeout(function(){throw a})}function yv(a,u){var h=u,g=0;do{var _=h.nextSibling;if(a.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(g===0){a.removeChild(_),Bn(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=_}while(h);Bn(u)}function Lo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function fT(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var fu=Math.random().toString(36).slice(2),pi="__reactFiber$"+fu,bc="__reactProps$"+fu,qi="__reactContainer$"+fu,_v="__reactEvents$"+fu,I3="__reactListeners$"+fu,O3="__reactHandles$"+fu;function Ua(a){var u=a[pi];if(u)return u;for(var h=a.parentNode;h;){if(u=h[qi]||h[pi]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=fT(a);a!==null;){if(h=a[pi])return h;a=fT(a)}return u}a=h,h=a.parentNode}return null}function wc(a){return a=a[pi]||a[qi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function hu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function od(a){return a[bc]||null}var bv=[],du=-1;function $o(a){return{current:a}}function Tt(a){0>du||(a.current=bv[du],bv[du]=null,du--)}function bt(a,u){du++,bv[du]=a.current,a.current=u}var Vo={},Er=$o(Vo),qr=$o(!1),qa=Vo;function pu(a,u){var h=a.type.contextTypes;if(!h)return Vo;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in h)_[T]=u[T];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function zr(a){return a=a.childContextTypes,a!=null}function ad(){Tt(qr),Tt(Er)}function hT(a,u,h){if(Er.current!==Vo)throw Error(r(168));bt(Er,u),bt(qr,h)}function dT(a,u,h){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var _ in g)if(!(_ in u))throw Error(r(108,Ne(a)||"Unknown",_));return ae({},h,g)}function sd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vo,qa=Er.current,bt(Er,a),bt(qr,qr.current),!0}function pT(a,u,h){var g=a.stateNode;if(!g)throw Error(r(169));h?(a=dT(a,u,qa),g.__reactInternalMemoizedMergedChildContext=a,Tt(qr),Tt(Er),bt(Er,a)):Tt(qr),bt(qr,h)}var zi=null,ud=!1,wv=!1;function mT(a){zi===null?zi=[a]:zi.push(a)}function C3(a){ud=!0,mT(a)}function Fo(){if(!wv&&zi!==null){wv=!0;var a=0,u=tt;try{var h=zi;for(tt=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}zi=null,ud=!1}catch(_){throw zi!==null&&(zi=zi.slice(a+1)),Ks(ja,Fo),_}finally{tt=u,wv=!1}}return null}var mu=[],gu=0,ld=null,cd=0,yn=[],_n=0,za=null,Wi=1,Hi="";function Wa(a,u){mu[gu++]=cd,mu[gu++]=ld,ld=a,cd=u}function gT(a,u,h){yn[_n++]=Wi,yn[_n++]=Hi,yn[_n++]=za,za=a;var g=Wi;a=Hi;var _=32-Nr(g)-1;g&=~(1<<_),h+=1;var T=32-Nr(u)+_;if(30<T){var V=_-_%5;T=(g&(1<<V)-1).toString(32),g>>=V,_-=V,Wi=1<<32-Nr(u)+_|h<<_|g,Hi=T+a}else Wi=1<<T|h<<_|g,Hi=a}function xv(a){a.return!==null&&(Wa(a,1),gT(a,1,0))}function Ev(a){for(;a===ld;)ld=mu[--gu],mu[gu]=null,cd=mu[--gu],mu[gu]=null;for(;a===za;)za=yn[--_n],yn[_n]=null,Hi=yn[--_n],yn[_n]=null,Wi=yn[--_n],yn[_n]=null}var on=null,an=null,It=!1,zn=null;function vT(a,u){var h=En(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function yT(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,on=a,an=Lo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,on=a,an=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=za!==null?{id:Wi,overflow:Hi}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=En(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,on=a,an=null,!0):!1;default:return!1}}function Sv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Tv(a){if(It){var u=an;if(u){var h=u;if(!yT(a,u)){if(Sv(a))throw Error(r(418));u=Lo(h.nextSibling);var g=on;u&&yT(a,u)?vT(g,h):(a.flags=a.flags&-4097|2,It=!1,on=a)}}else{if(Sv(a))throw Error(r(418));a.flags=a.flags&-4097|2,It=!1,on=a}}}function _T(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;on=a}function fd(a){if(a!==on)return!1;if(!It)return _T(a),It=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!gv(a.type,a.memoizedProps)),u&&(u=an)){if(Sv(a))throw bT(),Error(r(418));for(;u;)vT(a,u),u=Lo(u.nextSibling)}if(_T(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){an=Lo(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}an=null}}else an=on?Lo(a.stateNode.nextSibling):null;return!0}function bT(){for(var a=an;a;)a=Lo(a.nextSibling)}function vu(){an=on=null,It=!1}function Av(a){zn===null?zn=[a]:zn.push(a)}var k3=M.ReactCurrentBatchConfig;function xc(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var g=h.stateNode}if(!g)throw Error(r(147,a));var _=g,T=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(V){var q=_.refs;V===null?delete q[T]:q[T]=V},u._stringRef=T,u)}if(typeof a!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,a))}return a}function hd(a,u){throw a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function wT(a){var u=a._init;return u(a._payload)}function xT(a){function u(te,Y){if(a){var re=te.deletions;re===null?(te.deletions=[Y],te.flags|=16):re.push(Y)}}function h(te,Y){if(!a)return null;for(;Y!==null;)u(te,Y),Y=Y.sibling;return null}function g(te,Y){for(te=new Map;Y!==null;)Y.key!==null?te.set(Y.key,Y):te.set(Y.index,Y),Y=Y.sibling;return te}function _(te,Y){return te=Go(te,Y),te.index=0,te.sibling=null,te}function T(te,Y,re){return te.index=re,a?(re=te.alternate,re!==null?(re=re.index,re<Y?(te.flags|=2,Y):re):(te.flags|=2,Y)):(te.flags|=1048576,Y)}function V(te){return a&&te.alternate===null&&(te.flags|=2),te}function q(te,Y,re,ve){return Y===null||Y.tag!==6?(Y=vy(re,te.mode,ve),Y.return=te,Y):(Y=_(Y,re),Y.return=te,Y)}function K(te,Y,re,ve){var Re=re.type;return Re===P?de(te,Y,re.props.children,ve,re.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ne&&wT(Re)===Y.type)?(ve=_(Y,re.props),ve.ref=xc(te,Y,re),ve.return=te,ve):(ve=Dd(re.type,re.key,re.props,null,te.mode,ve),ve.ref=xc(te,Y,re),ve.return=te,ve)}function ie(te,Y,re,ve){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=yy(re,te.mode,ve),Y.return=te,Y):(Y=_(Y,re.children||[]),Y.return=te,Y)}function de(te,Y,re,ve,Re){return Y===null||Y.tag!==7?(Y=Za(re,te.mode,ve,Re),Y.return=te,Y):(Y=_(Y,re),Y.return=te,Y)}function pe(te,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=vy(""+Y,te.mode,re),Y.return=te,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return re=Dd(Y.type,Y.key,Y.props,null,te.mode,re),re.ref=xc(te,null,Y),re.return=te,re;case N:return Y=yy(Y,te.mode,re),Y.return=te,Y;case ne:var ve=Y._init;return pe(te,ve(Y._payload),re)}if(xr(Y)||Q(Y))return Y=Za(Y,te.mode,re,null),Y.return=te,Y;hd(te,Y)}return null}function he(te,Y,re,ve){var Re=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Re!==null?null:q(te,Y,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return re.key===Re?K(te,Y,re,ve):null;case N:return re.key===Re?ie(te,Y,re,ve):null;case ne:return Re=re._init,he(te,Y,Re(re._payload),ve)}if(xr(re)||Q(re))return Re!==null?null:de(te,Y,re,ve,null);hd(te,re)}return null}function Ee(te,Y,re,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return te=te.get(re)||null,q(Y,te,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case C:return te=te.get(ve.key===null?re:ve.key)||null,K(Y,te,ve,Re);case N:return te=te.get(ve.key===null?re:ve.key)||null,ie(Y,te,ve,Re);case ne:var Me=ve._init;return Ee(te,Y,re,Me(ve._payload),Re)}if(xr(ve)||Q(ve))return te=te.get(re)||null,de(Y,te,ve,Re,null);hd(Y,ve)}return null}function Oe(te,Y,re,ve){for(var Re=null,Me=null,De=Y,ze=Y=0,sr=null;De!==null&&ze<re.length;ze++){De.index>ze?(sr=De,De=null):sr=De.sibling;var at=he(te,De,re[ze],ve);if(at===null){De===null&&(De=sr);break}a&&De&&at.alternate===null&&u(te,De),Y=T(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at,De=sr}if(ze===re.length)return h(te,De),It&&Wa(te,ze),Re;if(De===null){for(;ze<re.length;ze++)De=pe(te,re[ze],ve),De!==null&&(Y=T(De,Y,ze),Me===null?Re=De:Me.sibling=De,Me=De);return It&&Wa(te,ze),Re}for(De=g(te,De);ze<re.length;ze++)sr=Ee(De,te,ze,re[ze],ve),sr!==null&&(a&&sr.alternate!==null&&De.delete(sr.key===null?ze:sr.key),Y=T(sr,Y,ze),Me===null?Re=sr:Me.sibling=sr,Me=sr);return a&&De.forEach(function(Xo){return u(te,Xo)}),It&&Wa(te,ze),Re}function Ce(te,Y,re,ve){var Re=Q(re);if(typeof Re!="function")throw Error(r(150));if(re=Re.call(re),re==null)throw Error(r(151));for(var Me=Re=null,De=Y,ze=Y=0,sr=null,at=re.next();De!==null&&!at.done;ze++,at=re.next()){De.index>ze?(sr=De,De=null):sr=De.sibling;var Xo=he(te,De,at.value,ve);if(Xo===null){De===null&&(De=sr);break}a&&De&&Xo.alternate===null&&u(te,De),Y=T(Xo,Y,ze),Me===null?Re=Xo:Me.sibling=Xo,Me=Xo,De=sr}if(at.done)return h(te,De),It&&Wa(te,ze),Re;if(De===null){for(;!at.done;ze++,at=re.next())at=pe(te,at.value,ve),at!==null&&(Y=T(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at);return It&&Wa(te,ze),Re}for(De=g(te,De);!at.done;ze++,at=re.next())at=Ee(De,te,ze,at.value,ve),at!==null&&(a&&at.alternate!==null&&De.delete(at.key===null?ze:at.key),Y=T(at,Y,ze),Me===null?Re=at:Me.sibling=at,Me=at);return a&&De.forEach(function(cF){return u(te,cF)}),It&&Wa(te,ze),Re}function $t(te,Y,re,ve){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case C:e:{for(var Re=re.key,Me=Y;Me!==null;){if(Me.key===Re){if(Re=re.type,Re===P){if(Me.tag===7){h(te,Me.sibling),Y=_(Me,re.props.children),Y.return=te,te=Y;break e}}else if(Me.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ne&&wT(Re)===Me.type){h(te,Me.sibling),Y=_(Me,re.props),Y.ref=xc(te,Me,re),Y.return=te,te=Y;break e}h(te,Me);break}else u(te,Me);Me=Me.sibling}re.type===P?(Y=Za(re.props.children,te.mode,ve,re.key),Y.return=te,te=Y):(ve=Dd(re.type,re.key,re.props,null,te.mode,ve),ve.ref=xc(te,Y,re),ve.return=te,te=ve)}return V(te);case N:e:{for(Me=re.key;Y!==null;){if(Y.key===Me)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){h(te,Y.sibling),Y=_(Y,re.children||[]),Y.return=te,te=Y;break e}else{h(te,Y);break}else u(te,Y);Y=Y.sibling}Y=yy(re,te.mode,ve),Y.return=te,te=Y}return V(te);case ne:return Me=re._init,$t(te,Y,Me(re._payload),ve)}if(xr(re))return Oe(te,Y,re,ve);if(Q(re))return Ce(te,Y,re,ve);hd(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(h(te,Y.sibling),Y=_(Y,re),Y.return=te,te=Y):(h(te,Y),Y=vy(re,te.mode,ve),Y.return=te,te=Y),V(te)):h(te,Y)}return $t}var yu=xT(!0),ET=xT(!1),dd=$o(null),pd=null,_u=null,Pv=null;function Iv(){Pv=_u=pd=null}function Ov(a){var u=dd.current;Tt(dd),a._currentValue=u}function Cv(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function bu(a,u){pd=a,Pv=_u=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(Wr=!0),a.firstContext=null)}function bn(a){var u=a._currentValue;if(Pv!==a)if(a={context:a,memoizedValue:u,next:null},_u===null){if(pd===null)throw Error(r(308));_u=a,pd.dependencies={lanes:0,firstContext:a}}else _u=_u.next=a;return u}var Ha=null;function kv(a){Ha===null?Ha=[a]:Ha.push(a)}function ST(a,u,h,g){var _=u.interleaved;return _===null?(h.next=h,kv(u)):(h.next=_.next,_.next=h),u.interleaved=h,Ki(a,g)}function Ki(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Bo=!1;function Rv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Gi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Uo(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var _=g.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),g.pending=u,Ki(a,h)}return _=g.interleaved,_===null?(u.next=u,kv(g)):(u.next=_.next,_.next=u),g.interleaved=u,Ki(a,h)}function md(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,ko(a,h)}}function AT(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var _=null,T=null;if(h=h.firstBaseUpdate,h!==null){do{var V={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};T===null?_=T=V:T=T.next=V,h=h.next}while(h!==null);T===null?_=T=u:T=T.next=u}else _=T=u;h={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function gd(a,u,h,g){var _=a.updateQueue;Bo=!1;var T=_.firstBaseUpdate,V=_.lastBaseUpdate,q=_.shared.pending;if(q!==null){_.shared.pending=null;var K=q,ie=K.next;K.next=null,V===null?T=ie:V.next=ie,V=K;var de=a.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==V&&(q===null?de.firstBaseUpdate=ie:q.next=ie,de.lastBaseUpdate=K))}if(T!==null){var pe=_.baseState;V=0,de=ie=K=null,q=T;do{var he=q.lane,Ee=q.eventTime;if((g&he)===he){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=a,Ce=q;switch(he=u,Ee=h,Ce.tag){case 1:if(Oe=Ce.payload,typeof Oe=="function"){pe=Oe.call(Ee,pe,he);break e}pe=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ce.payload,he=typeof Oe=="function"?Oe.call(Ee,pe,he):Oe,he==null)break e;pe=ae({},pe,he);break e;case 2:Bo=!0}}q.callback!==null&&q.lane!==0&&(a.flags|=64,he=_.effects,he===null?_.effects=[q]:he.push(q))}else Ee={eventTime:Ee,lane:he,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(ie=de=Ee,K=pe):de=de.next=Ee,V|=he;if(q=q.next,q===null){if(q=_.shared.pending,q===null)break;he=q,q=he.next,he.next=null,_.lastBaseUpdate=he,_.shared.pending=null}}while(!0);if(de===null&&(K=pe),_.baseState=K,_.firstBaseUpdate=ie,_.lastBaseUpdate=de,u=_.shared.interleaved,u!==null){_=u;do V|=_.lane,_=_.next;while(_!==u)}else T===null&&(_.shared.lanes=0);Xa|=V,a.lanes=V,a.memoizedState=pe}}function PT(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],_=g.callback;if(_!==null){if(g.callback=null,g=h,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Ec={},mi=$o(Ec),Sc=$o(Ec),Tc=$o(Ec);function Ka(a){if(a===Ec)throw Error(r(174));return a}function Nv(a,u){switch(bt(Tc,u),bt(Sc,a),bt(mi,Ec),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ht(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ht(u,a)}Tt(mi),bt(mi,u)}function wu(){Tt(mi),Tt(Sc),Tt(Tc)}function IT(a){Ka(Tc.current);var u=Ka(mi.current),h=Ht(u,a.type);u!==h&&(bt(Sc,a),bt(mi,h))}function jv(a){Sc.current===a&&(Tt(mi),Tt(Sc))}var kt=$o(0);function vd(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mv=[];function Dv(){for(var a=0;a<Mv.length;a++)Mv[a]._workInProgressVersionPrimary=null;Mv.length=0}var yd=M.ReactCurrentDispatcher,Lv=M.ReactCurrentBatchConfig,Ga=0,Rt=null,Gt=null,or=null,_d=!1,Ac=!1,Pc=0,R3=0;function Sr(){throw Error(r(321))}function $v(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!qn(a[h],u[h]))return!1;return!0}function Vv(a,u,h,g,_,T){if(Ga=T,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,yd.current=a===null||a.memoizedState===null?D3:L3,a=h(g,_),Ac){T=0;do{if(Ac=!1,Pc=0,25<=T)throw Error(r(301));T+=1,or=Gt=null,u.updateQueue=null,yd.current=$3,a=h(g,_)}while(Ac)}if(yd.current=xd,u=Gt!==null&&Gt.next!==null,Ga=0,or=Gt=Rt=null,_d=!1,u)throw Error(r(300));return a}function Fv(){var a=Pc!==0;return Pc=0,a}function gi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Rt.memoizedState=or=a:or=or.next=a,or}function wn(){if(Gt===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var u=or===null?Rt.memoizedState:or.next;if(u!==null)or=u,Gt=a;else{if(a===null)throw Error(r(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},or===null?Rt.memoizedState=or=a:or=or.next=a}return or}function Ic(a,u){return typeof u=="function"?u(a):u}function Bv(a){var u=wn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=Gt,_=g.baseQueue,T=h.pending;if(T!==null){if(_!==null){var V=_.next;_.next=T.next,T.next=V}g.baseQueue=_=T,h.pending=null}if(_!==null){T=_.next,g=g.baseState;var q=V=null,K=null,ie=T;do{var de=ie.lane;if((Ga&de)===de)K!==null&&(K=K.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:a(g,ie.action);else{var pe={lane:de,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};K===null?(q=K=pe,V=g):K=K.next=pe,Rt.lanes|=de,Xa|=de}ie=ie.next}while(ie!==null&&ie!==T);K===null?V=g:K.next=q,qn(g,u.memoizedState)||(Wr=!0),u.memoizedState=g,u.baseState=V,u.baseQueue=K,h.lastRenderedState=g}if(a=h.interleaved,a!==null){_=a;do T=_.lane,Rt.lanes|=T,Xa|=T,_=_.next;while(_!==a)}else _===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Uv(a){var u=wn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=h.dispatch,_=h.pending,T=u.memoizedState;if(_!==null){h.pending=null;var V=_=_.next;do T=a(T,V.action),V=V.next;while(V!==_);qn(T,u.memoizedState)||(Wr=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),h.lastRenderedState=T}return[T,g]}function OT(){}function CT(a,u){var h=Rt,g=wn(),_=u(),T=!qn(g.memoizedState,_);if(T&&(g.memoizedState=_,Wr=!0),g=g.queue,qv(NT.bind(null,h,g,a),[a]),g.getSnapshot!==u||T||or!==null&&or.memoizedState.tag&1){if(h.flags|=2048,Oc(9,RT.bind(null,h,g,_,u),void 0,null),ar===null)throw Error(r(349));(Ga&30)!==0||kT(h,u,_)}return _}function kT(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function RT(a,u,h,g){u.value=h,u.getSnapshot=g,jT(u)&&MT(a)}function NT(a,u,h){return h(function(){jT(u)&&MT(a)})}function jT(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!qn(a,h)}catch{return!0}}function MT(a){var u=Ki(a,1);u!==null&&Gn(u,a,1,-1)}function DT(a){var u=gi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:a},u.queue=a,a=a.dispatch=M3.bind(null,Rt,a),[u.memoizedState,a]}function Oc(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},u=Rt.updateQueue,u===null?(u={lastEffect:null,stores:null},Rt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a)),a}function LT(){return wn().memoizedState}function bd(a,u,h,g){var _=gi();Rt.flags|=a,_.memoizedState=Oc(1|u,h,void 0,g===void 0?null:g)}function wd(a,u,h,g){var _=wn();g=g===void 0?null:g;var T=void 0;if(Gt!==null){var V=Gt.memoizedState;if(T=V.destroy,g!==null&&$v(g,V.deps)){_.memoizedState=Oc(u,h,T,g);return}}Rt.flags|=a,_.memoizedState=Oc(1|u,h,T,g)}function $T(a,u){return bd(8390656,8,a,u)}function qv(a,u){return wd(2048,8,a,u)}function VT(a,u){return wd(4,2,a,u)}function FT(a,u){return wd(4,4,a,u)}function BT(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function UT(a,u,h){return h=h!=null?h.concat([a]):null,wd(4,4,BT.bind(null,u,a),h)}function zv(){}function qT(a,u){var h=wn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&$v(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function zT(a,u){var h=wn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&$v(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function WT(a,u,h){return(Ga&21)===0?(a.baseState&&(a.baseState=!1,Wr=!0),a.memoizedState=h):(qn(h,u)||(h=La(),Rt.lanes|=h,Xa|=h,a.baseState=!0),u)}function N3(a,u){var h=tt;tt=h!==0&&4>h?h:4,a(!0);var g=Lv.transition;Lv.transition={};try{a(!1),u()}finally{tt=h,Lv.transition=g}}function HT(){return wn().memoizedState}function j3(a,u,h){var g=Ho(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},KT(a))GT(u,h);else if(h=ST(a,u,h,g),h!==null){var _=Dr();Gn(h,a,g,_),XT(h,u,g)}}function M3(a,u,h){var g=Ho(a),_={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(KT(a))GT(u,_);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var V=u.lastRenderedState,q=T(V,h);if(_.hasEagerState=!0,_.eagerState=q,qn(q,V)){var K=u.interleaved;K===null?(_.next=_,kv(u)):(_.next=K.next,K.next=_),u.interleaved=_;return}}catch{}finally{}h=ST(a,u,_,g),h!==null&&(_=Dr(),Gn(h,a,g,_),XT(h,u,g))}}function KT(a){var u=a.alternate;return a===Rt||u!==null&&u===Rt}function GT(a,u){Ac=_d=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function XT(a,u,h){if((h&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,ko(a,h)}}var xd={readContext:bn,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useInsertionEffect:Sr,useLayoutEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useMutableSource:Sr,useSyncExternalStore:Sr,useId:Sr,unstable_isNewReconciler:!1},D3={readContext:bn,useCallback:function(a,u){return gi().memoizedState=[a,u===void 0?null:u],a},useContext:bn,useEffect:$T,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,bd(4194308,4,BT.bind(null,u,a),h)},useLayoutEffect:function(a,u){return bd(4194308,4,a,u)},useInsertionEffect:function(a,u){return bd(4,2,a,u)},useMemo:function(a,u){var h=gi();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=gi();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=j3.bind(null,Rt,a),[g.memoizedState,a]},useRef:function(a){var u=gi();return a={current:a},u.memoizedState=a},useState:DT,useDebugValue:zv,useDeferredValue:function(a){return gi().memoizedState=a},useTransition:function(){var a=DT(!1),u=a[0];return a=N3.bind(null,a[1]),gi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var g=Rt,_=gi();if(It){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),ar===null)throw Error(r(349));(Ga&30)!==0||kT(g,u,h)}_.memoizedState=h;var T={value:h,getSnapshot:u};return _.queue=T,$T(NT.bind(null,g,T,a),[a]),g.flags|=2048,Oc(9,RT.bind(null,g,T,h,u),void 0,null),h},useId:function(){var a=gi(),u=ar.identifierPrefix;if(It){var h=Hi,g=Wi;h=(g&~(1<<32-Nr(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=Pc++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=R3++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},L3={readContext:bn,useCallback:qT,useContext:bn,useEffect:qv,useImperativeHandle:UT,useInsertionEffect:VT,useLayoutEffect:FT,useMemo:zT,useReducer:Bv,useRef:LT,useState:function(){return Bv(Ic)},useDebugValue:zv,useDeferredValue:function(a){var u=wn();return WT(u,Gt.memoizedState,a)},useTransition:function(){var a=Bv(Ic)[0],u=wn().memoizedState;return[a,u]},useMutableSource:OT,useSyncExternalStore:CT,useId:HT,unstable_isNewReconciler:!1},$3={readContext:bn,useCallback:qT,useContext:bn,useEffect:qv,useImperativeHandle:UT,useInsertionEffect:VT,useLayoutEffect:FT,useMemo:zT,useReducer:Uv,useRef:LT,useState:function(){return Uv(Ic)},useDebugValue:zv,useDeferredValue:function(a){var u=wn();return Gt===null?u.memoizedState=a:WT(u,Gt.memoizedState,a)},useTransition:function(){var a=Uv(Ic)[0],u=wn().memoizedState;return[a,u]},useMutableSource:OT,useSyncExternalStore:CT,useId:HT,unstable_isNewReconciler:!1};function Wn(a,u){if(a&&a.defaultProps){u=ae({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function Wv(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:ae({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ed={isMounted:function(a){return(a=a._reactInternals)?Dn(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Dr(),_=Ho(a),T=Gi(g,_);T.payload=u,h!=null&&(T.callback=h),u=Uo(a,T,_),u!==null&&(Gn(u,a,_,g),md(u,a,_))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Dr(),_=Ho(a),T=Gi(g,_);T.tag=1,T.payload=u,h!=null&&(T.callback=h),u=Uo(a,T,_),u!==null&&(Gn(u,a,_,g),md(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Dr(),g=Ho(a),_=Gi(h,g);_.tag=2,u!=null&&(_.callback=u),u=Uo(a,_,g),u!==null&&(Gn(u,a,g,h),md(u,a,g))}};function YT(a,u,h,g,_,T,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,T,V):u.prototype&&u.prototype.isPureReactComponent?!mc(h,g)||!mc(_,T):!0}function QT(a,u,h){var g=!1,_=Vo,T=u.contextType;return typeof T=="object"&&T!==null?T=bn(T):(_=zr(u)?qa:Er.current,g=u.contextTypes,T=(g=g!=null)?pu(a,_):Vo),u=new u(h,T),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ed,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=T),u}function JT(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Ed.enqueueReplaceState(u,u.state,null)}function Hv(a,u,h,g){var _=a.stateNode;_.props=h,_.state=a.memoizedState,_.refs={},Rv(a);var T=u.contextType;typeof T=="object"&&T!==null?_.context=bn(T):(T=zr(u)?qa:Er.current,_.context=pu(a,T)),_.state=a.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(Wv(a,u,T,h),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Ed.enqueueReplaceState(_,_.state,null),gd(a,h,_,g),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function xu(a,u){try{var h="",g=u;do h+=we(g),g=g.return;while(g);var _=h}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:u,stack:_,digest:null}}function Kv(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function Gv(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var V3=typeof WeakMap=="function"?WeakMap:Map;function ZT(a,u,h){h=Gi(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){Cd||(Cd=!0,ly=g),Gv(a,u)},h}function eA(a,u,h){h=Gi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;h.payload=function(){return g(_)},h.callback=function(){Gv(a,u)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(h.callback=function(){Gv(a,u),typeof g!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),h}function tA(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new V3;var _=new Set;g.set(u,_)}else _=g.get(u),_===void 0&&(_=new Set,g.set(u,_));_.has(h)||(_.add(h),a=Z3.bind(null,a,u,h),u.then(a,a))}function rA(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function nA(a,u,h,g,_){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=Gi(-1,1),u.tag=2,Uo(h,u,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=_,a)}var F3=M.ReactCurrentOwner,Wr=!1;function Mr(a,u,h,g){u.child=a===null?ET(u,null,h,g):yu(u,a.child,h,g)}function iA(a,u,h,g,_){h=h.render;var T=u.ref;return bu(u,_),g=Vv(a,u,h,g,T,_),h=Fv(),a!==null&&!Wr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Xi(a,u,_)):(It&&h&&xv(u),u.flags|=1,Mr(a,u,g,_),u.child)}function oA(a,u,h,g,_){if(a===null){var T=h.type;return typeof T=="function"&&!gy(T)&&T.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=T,aA(a,u,T,g,_)):(a=Dd(h.type,null,g,u,u.mode,_),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,(a.lanes&_)===0){var V=T.memoizedProps;if(h=h.compare,h=h!==null?h:mc,h(V,g)&&a.ref===u.ref)return Xi(a,u,_)}return u.flags|=1,a=Go(T,g),a.ref=u.ref,a.return=u,u.child=a}function aA(a,u,h,g,_){if(a!==null){var T=a.memoizedProps;if(mc(T,g)&&a.ref===u.ref)if(Wr=!1,u.pendingProps=g=T,(a.lanes&_)!==0)(a.flags&131072)!==0&&(Wr=!0);else return u.lanes=a.lanes,Xi(a,u,_)}return Xv(a,u,h,g,_)}function sA(a,u,h){var g=u.pendingProps,_=g.children,T=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Su,sn),sn|=h;else{if((h&1073741824)===0)return a=T!==null?T.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,bt(Su,sn),sn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:h,bt(Su,sn),sn|=g}else T!==null?(g=T.baseLanes|h,u.memoizedState=null):g=h,bt(Su,sn),sn|=g;return Mr(a,u,_,h),u.child}function uA(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function Xv(a,u,h,g,_){var T=zr(h)?qa:Er.current;return T=pu(u,T),bu(u,_),h=Vv(a,u,h,g,T,_),g=Fv(),a!==null&&!Wr?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,Xi(a,u,_)):(It&&g&&xv(u),u.flags|=1,Mr(a,u,h,_),u.child)}function lA(a,u,h,g,_){if(zr(h)){var T=!0;sd(u)}else T=!1;if(bu(u,_),u.stateNode===null)Td(a,u),QT(u,h,g),Hv(u,h,g,_),g=!0;else if(a===null){var V=u.stateNode,q=u.memoizedProps;V.props=q;var K=V.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=bn(ie):(ie=zr(h)?qa:Er.current,ie=pu(u,ie));var de=h.getDerivedStateFromProps,pe=typeof de=="function"||typeof V.getSnapshotBeforeUpdate=="function";pe||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==g||K!==ie)&&JT(u,V,g,ie),Bo=!1;var he=u.memoizedState;V.state=he,gd(u,g,V,_),K=u.memoizedState,q!==g||he!==K||qr.current||Bo?(typeof de=="function"&&(Wv(u,h,de,g),K=u.memoizedState),(q=Bo||YT(u,h,q,g,he,K,ie))?(pe||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=K),V.props=g,V.state=K,V.context=ie,g=q):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{V=u.stateNode,TT(a,u),q=u.memoizedProps,ie=u.type===u.elementType?q:Wn(u.type,q),V.props=ie,pe=u.pendingProps,he=V.context,K=h.contextType,typeof K=="object"&&K!==null?K=bn(K):(K=zr(h)?qa:Er.current,K=pu(u,K));var Ee=h.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==pe||he!==K)&&JT(u,V,g,K),Bo=!1,he=u.memoizedState,V.state=he,gd(u,g,V,_);var Oe=u.memoizedState;q!==pe||he!==Oe||qr.current||Bo?(typeof Ee=="function"&&(Wv(u,h,Ee,g),Oe=u.memoizedState),(ie=Bo||YT(u,h,ie,g,he,Oe,K)||!1)?(de||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(g,Oe,K),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(g,Oe,K)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Oe),V.props=g,V.state=Oe,V.context=K,g=ie):(typeof V.componentDidUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===a.memoizedProps&&he===a.memoizedState||(u.flags|=1024),g=!1)}return Yv(a,u,h,g,T,_)}function Yv(a,u,h,g,_,T){uA(a,u);var V=(u.flags&128)!==0;if(!g&&!V)return _&&pT(u,h,!1),Xi(a,u,T);g=u.stateNode,F3.current=u;var q=V&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&V?(u.child=yu(u,a.child,null,T),u.child=yu(u,null,q,T)):Mr(a,u,q,T),u.memoizedState=g.state,_&&pT(u,h,!0),u.child}function cA(a){var u=a.stateNode;u.pendingContext?hT(a,u.pendingContext,u.pendingContext!==u.context):u.context&&hT(a,u.context,!1),Nv(a,u.containerInfo)}function fA(a,u,h,g,_){return vu(),Av(_),u.flags|=256,Mr(a,u,h,g),u.child}var Qv={dehydrated:null,treeContext:null,retryLane:0};function Jv(a){return{baseLanes:a,cachePool:null,transitions:null}}function hA(a,u,h){var g=u.pendingProps,_=kt.current,T=!1,V=(u.flags&128)!==0,q;if((q=V)||(q=a!==null&&a.memoizedState===null?!1:(_&2)!==0),q?(T=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(_|=1),bt(kt,_&1),a===null)return Tv(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=g.children,a=g.fallback,T?(g=u.mode,T=u.child,V={mode:"hidden",children:V},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=V):T=Ld(V,g,0,null),a=Za(a,g,h,null),T.return=u,a.return=u,T.sibling=a,u.child=T,u.child.memoizedState=Jv(h),u.memoizedState=Qv,a):Zv(u,V));if(_=a.memoizedState,_!==null&&(q=_.dehydrated,q!==null))return B3(a,u,V,g,q,_,h);if(T){T=g.fallback,V=u.mode,_=a.child,q=_.sibling;var K={mode:"hidden",children:g.children};return(V&1)===0&&u.child!==_?(g=u.child,g.childLanes=0,g.pendingProps=K,u.deletions=null):(g=Go(_,K),g.subtreeFlags=_.subtreeFlags&14680064),q!==null?T=Go(q,T):(T=Za(T,V,h,null),T.flags|=2),T.return=u,g.return=u,g.sibling=T,u.child=g,g=T,T=u.child,V=a.child.memoizedState,V=V===null?Jv(h):{baseLanes:V.baseLanes|h,cachePool:null,transitions:V.transitions},T.memoizedState=V,T.childLanes=a.childLanes&~h,u.memoizedState=Qv,g}return T=a.child,a=T.sibling,g=Go(T,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=h),g.return=u,g.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=g,u.memoizedState=null,g}function Zv(a,u){return u=Ld({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Sd(a,u,h,g){return g!==null&&Av(g),yu(u,a.child,null,h),a=Zv(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function B3(a,u,h,g,_,T,V){if(h)return u.flags&256?(u.flags&=-257,g=Kv(Error(r(422))),Sd(a,u,V,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(T=g.fallback,_=u.mode,g=Ld({mode:"visible",children:g.children},_,0,null),T=Za(T,_,V,null),T.flags|=2,g.return=u,T.return=u,g.sibling=T,u.child=g,(u.mode&1)!==0&&yu(u,a.child,null,V),u.child.memoizedState=Jv(V),u.memoizedState=Qv,T);if((u.mode&1)===0)return Sd(a,u,V,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var q=g.dgst;return g=q,T=Error(r(419)),g=Kv(T,g,void 0),Sd(a,u,V,g)}if(q=(V&a.childLanes)!==0,Wr||q){if(g=ar,g!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|V))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Ki(a,_),Gn(g,a,_,-1))}return my(),g=Kv(Error(r(421))),Sd(a,u,V,g)}return _.data==="$?"?(u.flags|=128,u.child=a.child,u=eF.bind(null,a),_._reactRetry=u,null):(a=T.treeContext,an=Lo(_.nextSibling),on=u,It=!0,zn=null,a!==null&&(yn[_n++]=Wi,yn[_n++]=Hi,yn[_n++]=za,Wi=a.id,Hi=a.overflow,za=u),u=Zv(u,g.children),u.flags|=4096,u)}function dA(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Cv(a.return,u,h)}function ey(a,u,h,g,_){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:_}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=h,T.tailMode=_)}function pA(a,u,h){var g=u.pendingProps,_=g.revealOrder,T=g.tail;if(Mr(a,u,g.children,h),g=kt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dA(a,h,u);else if(a.tag===19)dA(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(bt(kt,g),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(h=u.child,_=null;h!==null;)a=h.alternate,a!==null&&vd(a)===null&&(_=h),h=h.sibling;h=_,h===null?(_=u.child,u.child=null):(_=h.sibling,h.sibling=null),ey(u,!1,_,h,T);break;case"backwards":for(h=null,_=u.child,u.child=null;_!==null;){if(a=_.alternate,a!==null&&vd(a)===null){u.child=_;break}a=_.sibling,_.sibling=h,h=_,_=a}ey(u,!0,h,null,T);break;case"together":ey(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Td(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Xi(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Xa|=u.lanes,(h&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Go(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Go(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function U3(a,u,h){switch(u.tag){case 3:cA(u),vu();break;case 5:IT(u);break;case 1:zr(u.type)&&sd(u);break;case 4:Nv(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,_=u.memoizedProps.value;bt(dd,g._currentValue),g._currentValue=_;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(bt(kt,kt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?hA(a,u,h):(bt(kt,kt.current&1),a=Xi(a,u,h),a!==null?a.sibling:null);bt(kt,kt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,(a.flags&128)!==0){if(g)return pA(a,u,h);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),bt(kt,kt.current),g)break;return null;case 22:case 23:return u.lanes=0,sA(a,u,h)}return Xi(a,u,h)}var mA,ty,gA,vA;mA=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},ty=function(){},gA=function(a,u,h,g){var _=a.memoizedProps;if(_!==g){a=u.stateNode,Ka(mi.current);var T=null;switch(h){case"input":_=xe(a,_),g=xe(a,g),T=[];break;case"select":_=ae({},_,{value:void 0}),g=ae({},g,{value:void 0}),T=[];break;case"textarea":_=Zr(a,_),g=Zr(a,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=id)}Yl(h,g);var V;h=null;for(ie in _)if(!g.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var q=_[ie];for(V in q)q.hasOwnProperty(V)&&(h||(h={}),h[V]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?T||(T=[]):(T=T||[]).push(ie,null));for(ie in g){var K=g[ie];if(q=_!=null?_[ie]:void 0,g.hasOwnProperty(ie)&&K!==q&&(K!=null||q!=null))if(ie==="style")if(q){for(V in q)!q.hasOwnProperty(V)||K&&K.hasOwnProperty(V)||(h||(h={}),h[V]="");for(V in K)K.hasOwnProperty(V)&&q[V]!==K[V]&&(h||(h={}),h[V]=K[V])}else h||(T||(T=[]),T.push(ie,h)),h=K;else ie==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,q=q?q.__html:void 0,K!=null&&q!==K&&(T=T||[]).push(ie,K)):ie==="children"?typeof K!="string"&&typeof K!="number"||(T=T||[]).push(ie,""+K):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(K!=null&&ie==="onScroll"&&St("scroll",a),T||q===K||(T=[])):(T=T||[]).push(ie,K))}h&&(T=T||[]).push("style",h);var ie=T;(u.updateQueue=ie)&&(u.flags|=4)}},vA=function(a,u,h,g){h!==g&&(u.flags|=4)};function Cc(a,u){if(!It)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Tr(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var _=a.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)h|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function q3(a,u,h){var g=u.pendingProps;switch(Ev(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(u),null;case 1:return zr(u.type)&&ad(),Tr(u),null;case 3:return g=u.stateNode,wu(),Tt(qr),Tt(Er),Dv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(fd(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,zn!==null&&(hy(zn),zn=null))),ty(a,u),Tr(u),null;case 5:jv(u);var _=Ka(Tc.current);if(h=u.type,a!==null&&u.stateNode!=null)gA(a,u,h,g,_),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(r(166));return Tr(u),null}if(a=Ka(mi.current),fd(u)){g=u.stateNode,h=u.type;var T=u.memoizedProps;switch(g[pi]=u,g[bc]=T,a=(u.mode&1)!==0,h){case"dialog":St("cancel",g),St("close",g);break;case"iframe":case"object":case"embed":St("load",g);break;case"video":case"audio":for(_=0;_<vc.length;_++)St(vc[_],g);break;case"source":St("error",g);break;case"img":case"image":case"link":St("error",g),St("load",g);break;case"details":St("toggle",g);break;case"input":We(g,T),St("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},St("invalid",g);break;case"textarea":ai(g,T),St("invalid",g)}Yl(h,T),_=null;for(var V in T)if(T.hasOwnProperty(V)){var q=T[V];V==="children"?typeof q=="string"?g.textContent!==q&&(T.suppressHydrationWarning!==!0&&nd(g.textContent,q,a),_=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&nd(g.textContent,q,a),_=["children",""+q]):i.hasOwnProperty(V)&&q!=null&&V==="onScroll"&&St("scroll",g)}switch(h){case"input":be(g),yt(g,T,!0);break;case"textarea":be(g),To(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=id)}g=_,u.updateQueue=g,g!==null&&(u.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Wt(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=V.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=V.createElement(h,{is:g.is}):(a=V.createElement(h),h==="select"&&(V=a,g.multiple?V.multiple=!0:g.size&&(V.size=g.size))):a=V.createElementNS(a,h),a[pi]=u,a[bc]=g,mA(a,u,!1,!1),u.stateNode=a;e:{switch(V=Ql(h,g),h){case"dialog":St("cancel",a),St("close",a),_=g;break;case"iframe":case"object":case"embed":St("load",a),_=g;break;case"video":case"audio":for(_=0;_<vc.length;_++)St(vc[_],a);_=g;break;case"source":St("error",a),_=g;break;case"img":case"image":case"link":St("error",a),St("load",a),_=g;break;case"details":St("toggle",a),_=g;break;case"input":We(a,g),_=xe(a,g),St("invalid",a);break;case"option":_=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},_=ae({},g,{value:void 0}),St("invalid",a);break;case"textarea":ai(a,g),_=Zr(a,g),St("invalid",a);break;default:_=g}Yl(h,_),q=_;for(T in q)if(q.hasOwnProperty(T)){var K=q[T];T==="style"?Gl(a,K):T==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Hl(a,K)):T==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&Ao(a,K):typeof K=="number"&&Ao(a,""+K):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?K!=null&&T==="onScroll"&&St("scroll",a):K!=null&&O(a,T,K,V))}switch(h){case"input":be(a),yt(a,g,!1);break;case"textarea":be(a),To(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ke(g.value));break;case"select":a.multiple=!!g.multiple,T=g.value,T!=null?hr(a,!!g.multiple,T,!1):g.defaultValue!=null&&hr(a,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(a.onclick=id)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Tr(u),null;case 6:if(a&&u.stateNode!=null)vA(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(h=Ka(Tc.current),Ka(mi.current),fd(u)){if(g=u.stateNode,h=u.memoizedProps,g[pi]=u,(T=g.nodeValue!==h)&&(a=on,a!==null))switch(a.tag){case 3:nd(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&nd(g.nodeValue,h,(a.mode&1)!==0)}T&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[pi]=u,u.stateNode=g}return Tr(u),null;case 13:if(Tt(kt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(It&&an!==null&&(u.mode&1)!==0&&(u.flags&128)===0)bT(),vu(),u.flags|=98560,T=!1;else if(T=fd(u),g!==null&&g.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[pi]=u}else vu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Tr(u),T=!1}else zn!==null&&(hy(zn),zn=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(kt.current&1)!==0?Xt===0&&(Xt=3):my())),u.updateQueue!==null&&(u.flags|=4),Tr(u),null);case 4:return wu(),ty(a,u),a===null&&yc(u.stateNode.containerInfo),Tr(u),null;case 10:return Ov(u.type._context),Tr(u),null;case 17:return zr(u.type)&&ad(),Tr(u),null;case 19:if(Tt(kt),T=u.memoizedState,T===null)return Tr(u),null;if(g=(u.flags&128)!==0,V=T.rendering,V===null)if(g)Cc(T,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(V=vd(a),V!==null){for(u.flags|=128,Cc(T,!1),g=V.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)T=h,a=g,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=a,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,a=V.dependencies,T.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return bt(kt,kt.current&1|2),u.child}a=a.sibling}T.tail!==null&&_t()>Tu&&(u.flags|=128,g=!0,Cc(T,!1),u.lanes=4194304)}else{if(!g)if(a=vd(V),a!==null){if(u.flags|=128,g=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),Cc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!V.alternate&&!It)return Tr(u),null}else 2*_t()-T.renderingStartTime>Tu&&h!==1073741824&&(u.flags|=128,g=!0,Cc(T,!1),u.lanes=4194304);T.isBackwards?(V.sibling=u.child,u.child=V):(h=T.last,h!==null?h.sibling=V:u.child=V,T.last=V)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=_t(),u.sibling=null,h=kt.current,bt(kt,g?h&1|2:h&1),u):(Tr(u),null);case 22:case 23:return py(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(sn&1073741824)!==0&&(Tr(u),u.subtreeFlags&6&&(u.flags|=8192)):Tr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function z3(a,u){switch(Ev(u),u.tag){case 1:return zr(u.type)&&ad(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return wu(),Tt(qr),Tt(Er),Dv(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return jv(u),null;case 13:if(Tt(kt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));vu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Tt(kt),null;case 4:return wu(),null;case 10:return Ov(u.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var Ad=!1,Ar=!1,W3=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Eu(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){jt(a,u,g)}else h.current=null}function ry(a,u,h){try{h()}catch(g){jt(a,u,g)}}var yA=!1;function H3(a,u){if(pv=jo,a=YS(),av(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{h.nodeType,T.nodeType}catch{h=null;break e}var V=0,q=-1,K=-1,ie=0,de=0,pe=a,he=null;t:for(;;){for(var Ee;pe!==h||_!==0&&pe.nodeType!==3||(q=V+_),pe!==T||g!==0&&pe.nodeType!==3||(K=V+g),pe.nodeType===3&&(V+=pe.nodeValue.length),(Ee=pe.firstChild)!==null;)he=pe,pe=Ee;for(;;){if(pe===a)break t;if(he===h&&++ie===_&&(q=V),he===T&&++de===g&&(K=V),(Ee=pe.nextSibling)!==null)break;pe=he,he=pe.parentNode}pe=Ee}h=q===-1||K===-1?null:{start:q,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(mv={focusedElem:a,selectionRange:h},jo=!1,Pe=u;Pe!==null;)if(u=Pe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Pe=a;else for(;Pe!==null;){u=Pe;try{var Oe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ce=Oe.memoizedProps,$t=Oe.memoizedState,te=u.stateNode,Y=te.getSnapshotBeforeUpdate(u.elementType===u.type?Ce:Wn(u.type,Ce),$t);te.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=u.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ve){jt(u,u.return,ve)}if(a=u.sibling,a!==null){a.return=u.return,Pe=a;break}Pe=u.return}return Oe=yA,yA=!1,Oe}function kc(a,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&a)===a){var T=_.destroy;_.destroy=void 0,T!==void 0&&ry(u,h,T)}_=_.next}while(_!==g)}}function Pd(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function ny(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function _A(a){var u=a.alternate;u!==null&&(a.alternate=null,_A(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[pi],delete u[bc],delete u[_v],delete u[I3],delete u[O3])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function bA(a){return a.tag===5||a.tag===3||a.tag===4}function wA(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||bA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function iy(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=id));else if(g!==4&&(a=a.child,a!==null))for(iy(a,u,h),a=a.sibling;a!==null;)iy(a,u,h),a=a.sibling}function oy(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(oy(a,u,h),a=a.sibling;a!==null;)oy(a,u,h),a=a.sibling}var mr=null,Hn=!1;function qo(a,u,h){for(h=h.child;h!==null;)xA(a,u,h),h=h.sibling}function xA(a,u,h){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ma,h)}catch{}switch(h.tag){case 5:Ar||Eu(h,u);case 6:var g=mr,_=Hn;mr=null,qo(a,u,h),mr=g,Hn=_,mr!==null&&(Hn?(a=mr,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):mr.removeChild(h.stateNode));break;case 18:mr!==null&&(Hn?(a=mr,h=h.stateNode,a.nodeType===8?yv(a.parentNode,h):a.nodeType===1&&yv(a,h),Bn(a)):yv(mr,h.stateNode));break;case 4:g=mr,_=Hn,mr=h.stateNode.containerInfo,Hn=!0,qo(a,u,h),mr=g,Hn=_;break;case 0:case 11:case 14:case 15:if(!Ar&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,V=T.destroy;T=T.tag,V!==void 0&&((T&2)!==0||(T&4)!==0)&&ry(h,u,V),_=_.next}while(_!==g)}qo(a,u,h);break;case 1:if(!Ar&&(Eu(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(q){jt(h,u,q)}qo(a,u,h);break;case 21:qo(a,u,h);break;case 22:h.mode&1?(Ar=(g=Ar)||h.memoizedState!==null,qo(a,u,h),Ar=g):qo(a,u,h);break;default:qo(a,u,h)}}function EA(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new W3),u.forEach(function(g){var _=tF.bind(null,a,g);h.has(g)||(h.add(g),g.then(_,_))})}}function Kn(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var _=h[g];try{var T=a,V=u,q=V;e:for(;q!==null;){switch(q.tag){case 5:mr=q.stateNode,Hn=!1;break e;case 3:mr=q.stateNode.containerInfo,Hn=!0;break e;case 4:mr=q.stateNode.containerInfo,Hn=!0;break e}q=q.return}if(mr===null)throw Error(r(160));xA(T,V,_),mr=null,Hn=!1;var K=_.alternate;K!==null&&(K.return=null),_.return=null}catch(ie){jt(_,u,ie)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)SA(u,a),u=u.sibling}function SA(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Kn(u,a),vi(a),g&4){try{kc(3,a,a.return),Pd(3,a)}catch(Ce){jt(a,a.return,Ce)}try{kc(5,a,a.return)}catch(Ce){jt(a,a.return,Ce)}}break;case 1:Kn(u,a),vi(a),g&512&&h!==null&&Eu(h,h.return);break;case 5:if(Kn(u,a),vi(a),g&512&&h!==null&&Eu(h,h.return),a.flags&32){var _=a.stateNode;try{Ao(_,"")}catch(Ce){jt(a,a.return,Ce)}}if(g&4&&(_=a.stateNode,_!=null)){var T=a.memoizedProps,V=h!==null?h.memoizedProps:T,q=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&Qe(_,T),Ql(q,V);var ie=Ql(q,T);for(V=0;V<K.length;V+=2){var de=K[V],pe=K[V+1];de==="style"?Gl(_,pe):de==="dangerouslySetInnerHTML"?Hl(_,pe):de==="children"?Ao(_,pe):O(_,de,pe,ie)}switch(q){case"input":dt(_,T);break;case"textarea":Mi(_,T);break;case"select":var he=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?hr(_,!!T.multiple,Ee,!1):he!==!!T.multiple&&(T.defaultValue!=null?hr(_,!!T.multiple,T.defaultValue,!0):hr(_,!!T.multiple,T.multiple?[]:"",!1))}_[bc]=T}catch(Ce){jt(a,a.return,Ce)}}break;case 6:if(Kn(u,a),vi(a),g&4){if(a.stateNode===null)throw Error(r(162));_=a.stateNode,T=a.memoizedProps;try{_.nodeValue=T}catch(Ce){jt(a,a.return,Ce)}}break;case 3:if(Kn(u,a),vi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Bn(u.containerInfo)}catch(Ce){jt(a,a.return,Ce)}break;case 4:Kn(u,a),vi(a);break;case 13:Kn(u,a),vi(a),_=a.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(uy=_t())),g&4&&EA(a);break;case 22:if(de=h!==null&&h.memoizedState!==null,a.mode&1?(Ar=(ie=Ar)||de,Kn(u,a),Ar=ie):Kn(u,a),vi(a),g&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!de&&(a.mode&1)!==0)for(Pe=a,de=a.child;de!==null;){for(pe=Pe=de;Pe!==null;){switch(he=Pe,Ee=he.child,he.tag){case 0:case 11:case 14:case 15:kc(4,he,he.return);break;case 1:Eu(he,he.return);var Oe=he.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=he,h=he.return;try{u=g,Oe.props=u.memoizedProps,Oe.state=u.memoizedState,Oe.componentWillUnmount()}catch(Ce){jt(g,h,Ce)}}break;case 5:Eu(he,he.return);break;case 22:if(he.memoizedState!==null){PA(pe);continue}}Ee!==null?(Ee.return=he,Pe=Ee):PA(pe)}de=de.sibling}e:for(de=null,pe=a;;){if(pe.tag===5){if(de===null){de=pe;try{_=pe.stateNode,ie?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=pe.stateNode,K=pe.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null,q.style.display=Kl("display",V))}catch(Ce){jt(a,a.return,Ce)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=ie?"":pe.memoizedProps}catch(Ce){jt(a,a.return,Ce)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===a)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===a)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===a)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:Kn(u,a),vi(a),g&4&&EA(a);break;case 21:break;default:Kn(u,a),vi(a)}}function vi(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(bA(h)){var g=h;break e}h=h.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Ao(_,""),g.flags&=-33);var T=wA(a);oy(a,T,_);break;case 3:case 4:var V=g.stateNode.containerInfo,q=wA(a);iy(a,q,V);break;default:throw Error(r(161))}}catch(K){jt(a,a.return,K)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function K3(a,u,h){Pe=a,TA(a)}function TA(a,u,h){for(var g=(a.mode&1)!==0;Pe!==null;){var _=Pe,T=_.child;if(_.tag===22&&g){var V=_.memoizedState!==null||Ad;if(!V){var q=_.alternate,K=q!==null&&q.memoizedState!==null||Ar;q=Ad;var ie=Ar;if(Ad=V,(Ar=K)&&!ie)for(Pe=_;Pe!==null;)V=Pe,K=V.child,V.tag===22&&V.memoizedState!==null?IA(_):K!==null?(K.return=V,Pe=K):IA(_);for(;T!==null;)Pe=T,TA(T),T=T.sibling;Pe=_,Ad=q,Ar=ie}AA(a)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Pe=T):AA(a)}}function AA(a){for(;Pe!==null;){var u=Pe;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Ar||Pd(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!Ar)if(h===null)g.componentDidMount();else{var _=u.elementType===u.type?h.memoizedProps:Wn(u.type,h.memoizedProps);g.componentDidUpdate(_,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&PT(u,T,g);break;case 3:var V=u.updateQueue;if(V!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}PT(u,V,h)}break;case 5:var q=u.stateNode;if(h===null&&u.flags&4){h=q;var K=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ie=u.alternate;if(ie!==null){var de=ie.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&Bn(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ar||u.flags&512&&ny(u)}catch(he){jt(u,u.return,he)}}if(u===a){Pe=null;break}if(h=u.sibling,h!==null){h.return=u.return,Pe=h;break}Pe=u.return}}function PA(a){for(;Pe!==null;){var u=Pe;if(u===a){Pe=null;break}var h=u.sibling;if(h!==null){h.return=u.return,Pe=h;break}Pe=u.return}}function IA(a){for(;Pe!==null;){var u=Pe;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Pd(4,u)}catch(K){jt(u,h,K)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var _=u.return;try{g.componentDidMount()}catch(K){jt(u,_,K)}}var T=u.return;try{ny(u)}catch(K){jt(u,T,K)}break;case 5:var V=u.return;try{ny(u)}catch(K){jt(u,V,K)}}}catch(K){jt(u,u.return,K)}if(u===a){Pe=null;break}var q=u.sibling;if(q!==null){q.return=u.return,Pe=q;break}Pe=u.return}}var G3=Math.ceil,Id=M.ReactCurrentDispatcher,ay=M.ReactCurrentOwner,xn=M.ReactCurrentBatchConfig,ot=0,ar=null,Bt=null,gr=0,sn=0,Su=$o(0),Xt=0,Rc=null,Xa=0,Od=0,sy=0,Nc=null,Hr=null,uy=0,Tu=1/0,Yi=null,Cd=!1,ly=null,zo=null,kd=!1,Wo=null,Rd=0,jc=0,cy=null,Nd=-1,jd=0;function Dr(){return(ot&6)!==0?_t():Nd!==-1?Nd:Nd=_t()}function Ho(a){return(a.mode&1)===0?1:(ot&2)!==0&&gr!==0?gr&-gr:k3.transition!==null?(jd===0&&(jd=La()),jd):(a=tt,a!==0||(a=window.event,a=a===void 0?16:uc(a.type)),a)}function Gn(a,u,h,g){if(50<jc)throw jc=0,cy=null,Error(r(185));Co(a,h,g),((ot&2)===0||a!==ar)&&(a===ar&&((ot&2)===0&&(Od|=h),Xt===4&&Ko(a,gr)),Kr(a,g),h===1&&ot===0&&(u.mode&1)===0&&(Tu=_t()+500,ud&&Fo()))}function Kr(a,u){var h=a.callbackNode;$i(a,u);var g=Da(a,a===ar?gr:0);if(g===0)h!==null&&nc(h),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(h!=null&&nc(h),u===1)a.tag===0?C3(CA.bind(null,a)):mT(CA.bind(null,a)),A3(function(){(ot&6)===0&&Fo()}),h=null;else{switch(Ro(g)){case 1:h=ja;break;case 4:h=Po;break;case 16:h=mn;break;case 536870912:h=jh;break;default:h=mn}h=$A(h,OA.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function OA(a,u){if(Nd=-1,jd=0,(ot&6)!==0)throw Error(r(327));var h=a.callbackNode;if(Au()&&a.callbackNode!==h)return null;var g=Da(a,a===ar?gr:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=Md(a,g);else{u=g;var _=ot;ot|=2;var T=RA();(ar!==a||gr!==u)&&(Yi=null,Tu=_t()+500,Qa(a,u));do try{Q3();break}catch(q){kA(a,q)}while(!0);Iv(),Id.current=T,ot=_,Bt!==null?u=0:(ar=null,gr=0,u=Xt)}if(u!==0){if(u===2&&(_=tn(a),_!==0&&(g=_,u=fy(a,_))),u===1)throw h=Rc,Qa(a,0),Ko(a,g),Kr(a,_t()),h;if(u===6)Ko(a,g);else{if(_=a.current.alternate,(g&30)===0&&!X3(_)&&(u=Md(a,g),u===2&&(T=tn(a),T!==0&&(g=T,u=fy(a,T))),u===1))throw h=Rc,Qa(a,0),Ko(a,g),Kr(a,_t()),h;switch(a.finishedWork=_,a.finishedLanes=g,u){case 0:case 1:throw Error(r(345));case 2:Ja(a,Hr,Yi);break;case 3:if(Ko(a,g),(g&130023424)===g&&(u=uy+500-_t(),10<u)){if(Da(a,0)!==0)break;if(_=a.suspendedLanes,(_&g)!==g){Dr(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=vv(Ja.bind(null,a,Hr,Yi),u);break}Ja(a,Hr,Yi);break;case 4:if(Ko(a,g),(g&4194240)===g)break;for(u=a.eventTimes,_=-1;0<g;){var V=31-Nr(g);T=1<<V,V=u[V],V>_&&(_=V),g&=~T}if(g=_,g=_t()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*G3(g/1960))-g,10<g){a.timeoutHandle=vv(Ja.bind(null,a,Hr,Yi),g);break}Ja(a,Hr,Yi);break;case 5:Ja(a,Hr,Yi);break;default:throw Error(r(329))}}}return Kr(a,_t()),a.callbackNode===h?OA.bind(null,a):null}function fy(a,u){var h=Nc;return a.current.memoizedState.isDehydrated&&(Qa(a,u).flags|=256),a=Md(a,u),a!==2&&(u=Hr,Hr=h,u!==null&&hy(u)),a}function hy(a){Hr===null?Hr=a:Hr.push.apply(Hr,a)}function X3(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var _=h[g],T=_.getSnapshot;_=_.value;try{if(!qn(T(),_))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ko(a,u){for(u&=~sy,u&=~Od,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-Nr(u),g=1<<h;a[h]=-1,u&=~g}}function CA(a){if((ot&6)!==0)throw Error(r(327));Au();var u=Da(a,0);if((u&1)===0)return Kr(a,_t()),null;var h=Md(a,u);if(a.tag!==0&&h===2){var g=tn(a);g!==0&&(u=g,h=fy(a,g))}if(h===1)throw h=Rc,Qa(a,0),Ko(a,u),Kr(a,_t()),h;if(h===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ja(a,Hr,Yi),Kr(a,_t()),null}function dy(a,u){var h=ot;ot|=1;try{return a(u)}finally{ot=h,ot===0&&(Tu=_t()+500,ud&&Fo())}}function Ya(a){Wo!==null&&Wo.tag===0&&(ot&6)===0&&Au();var u=ot;ot|=1;var h=xn.transition,g=tt;try{if(xn.transition=null,tt=1,a)return a()}finally{tt=g,xn.transition=h,ot=u,(ot&6)===0&&Fo()}}function py(){sn=Su.current,Tt(Su)}function Qa(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,T3(h)),Bt!==null)for(h=Bt.return;h!==null;){var g=h;switch(Ev(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ad();break;case 3:wu(),Tt(qr),Tt(Er),Dv();break;case 5:jv(g);break;case 4:wu();break;case 13:Tt(kt);break;case 19:Tt(kt);break;case 10:Ov(g.type._context);break;case 22:case 23:py()}h=h.return}if(ar=a,Bt=a=Go(a.current,null),gr=sn=u,Xt=0,Rc=null,sy=Od=Xa=0,Hr=Nc=null,Ha!==null){for(u=0;u<Ha.length;u++)if(h=Ha[u],g=h.interleaved,g!==null){h.interleaved=null;var _=g.next,T=h.pending;if(T!==null){var V=T.next;T.next=_,g.next=V}h.pending=g}Ha=null}return a}function kA(a,u){do{var h=Bt;try{if(Iv(),yd.current=xd,_d){for(var g=Rt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}_d=!1}if(Ga=0,or=Gt=Rt=null,Ac=!1,Pc=0,ay.current=null,h===null||h.return===null){Xt=1,Rc=u,Bt=null;break}e:{var T=a,V=h.return,q=h,K=u;if(u=gr,q.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=K,de=q,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var he=de.alternate;he?(de.updateQueue=he.updateQueue,de.memoizedState=he.memoizedState,de.lanes=he.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=rA(V);if(Ee!==null){Ee.flags&=-257,nA(Ee,V,q,T,u),Ee.mode&1&&tA(T,ie,u),u=Ee,K=ie;var Oe=u.updateQueue;if(Oe===null){var Ce=new Set;Ce.add(K),u.updateQueue=Ce}else Oe.add(K);break e}else{if((u&1)===0){tA(T,ie,u),my();break e}K=Error(r(426))}}else if(It&&q.mode&1){var $t=rA(V);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),nA($t,V,q,T,u),Av(xu(K,q));break e}}T=K=xu(K,q),Xt!==4&&(Xt=2),Nc===null?Nc=[T]:Nc.push(T),T=V;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var te=ZT(T,K,u);AT(T,te);break e;case 1:q=K;var Y=T.type,re=T.stateNode;if((T.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(zo===null||!zo.has(re)))){T.flags|=65536,u&=-u,T.lanes|=u;var ve=eA(T,q,u);AT(T,ve);break e}}T=T.return}while(T!==null)}jA(h)}catch(Re){u=Re,Bt===h&&h!==null&&(Bt=h=h.return);continue}break}while(!0)}function RA(){var a=Id.current;return Id.current=xd,a===null?xd:a}function my(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ar===null||(Xa&268435455)===0&&(Od&268435455)===0||Ko(ar,gr)}function Md(a,u){var h=ot;ot|=2;var g=RA();(ar!==a||gr!==u)&&(Yi=null,Qa(a,u));do try{Y3();break}catch(_){kA(a,_)}while(!0);if(Iv(),ot=h,Id.current=g,Bt!==null)throw Error(r(261));return ar=null,gr=0,Xt}function Y3(){for(;Bt!==null;)NA(Bt)}function Q3(){for(;Bt!==null&&!Rh();)NA(Bt)}function NA(a){var u=LA(a.alternate,a,sn);a.memoizedProps=a.pendingProps,u===null?jA(a):Bt=u,ay.current=null}function jA(a){var u=a;do{var h=u.alternate;if(a=u.return,(u.flags&32768)===0){if(h=q3(h,u,sn),h!==null){Bt=h;return}}else{if(h=z3(h,u),h!==null){h.flags&=32767,Bt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Xt=6,Bt=null;return}}if(u=u.sibling,u!==null){Bt=u;return}Bt=u=a}while(u!==null);Xt===0&&(Xt=5)}function Ja(a,u,h){var g=tt,_=xn.transition;try{xn.transition=null,tt=1,J3(a,u,h,g)}finally{xn.transition=_,tt=g}return null}function J3(a,u,h,g){do Au();while(Wo!==null);if((ot&6)!==0)throw Error(r(327));h=a.finishedWork;var _=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var T=h.lanes|h.childLanes;if(gt(a,T),a===ar&&(Bt=ar=null,gr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||kd||(kd=!0,$A(mn,function(){return Au(),null})),T=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||T){T=xn.transition,xn.transition=null;var V=tt;tt=1;var q=ot;ot|=4,ay.current=null,H3(a,h),SA(h,a),y3(mv),jo=!!pv,mv=pv=null,a.current=h,K3(h),Jg(),ot=q,tt=V,xn.transition=T}else a.current=h;if(kd&&(kd=!1,Wo=a,Rd=_),T=a.pendingLanes,T===0&&(zo=null),Mh(h.stateNode),Kr(a,_t()),u!==null)for(g=a.onRecoverableError,h=0;h<u.length;h++)_=u[h],g(_.value,{componentStack:_.stack,digest:_.digest});if(Cd)throw Cd=!1,a=ly,ly=null,a;return(Rd&1)!==0&&a.tag!==0&&Au(),T=a.pendingLanes,(T&1)!==0?a===cy?jc++:(jc=0,cy=a):jc=0,Fo(),null}function Au(){if(Wo!==null){var a=Ro(Rd),u=xn.transition,h=tt;try{if(xn.transition=null,tt=16>a?16:a,Wo===null)var g=!1;else{if(a=Wo,Wo=null,Rd=0,(ot&6)!==0)throw Error(r(331));var _=ot;for(ot|=4,Pe=a.current;Pe!==null;){var T=Pe,V=T.child;if((Pe.flags&16)!==0){var q=T.deletions;if(q!==null){for(var K=0;K<q.length;K++){var ie=q[K];for(Pe=ie;Pe!==null;){var de=Pe;switch(de.tag){case 0:case 11:case 15:kc(8,de,T)}var pe=de.child;if(pe!==null)pe.return=de,Pe=pe;else for(;Pe!==null;){de=Pe;var he=de.sibling,Ee=de.return;if(_A(de),de===ie){Pe=null;break}if(he!==null){he.return=Ee,Pe=he;break}Pe=Ee}}}var Oe=T.alternate;if(Oe!==null){var Ce=Oe.child;if(Ce!==null){Oe.child=null;do{var $t=Ce.sibling;Ce.sibling=null,Ce=$t}while(Ce!==null)}}Pe=T}}if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,Pe=V;else e:for(;Pe!==null;){if(T=Pe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:kc(9,T,T.return)}var te=T.sibling;if(te!==null){te.return=T.return,Pe=te;break e}Pe=T.return}}var Y=a.current;for(Pe=Y;Pe!==null;){V=Pe;var re=V.child;if((V.subtreeFlags&2064)!==0&&re!==null)re.return=V,Pe=re;else e:for(V=Y;Pe!==null;){if(q=Pe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Pd(9,q)}}catch(Re){jt(q,q.return,Re)}if(q===V){Pe=null;break e}var ve=q.sibling;if(ve!==null){ve.return=q.return,Pe=ve;break e}Pe=q.return}}if(ot=_,Fo(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ma,a)}catch{}g=!0}return g}finally{tt=h,xn.transition=u}}return!1}function MA(a,u,h){u=xu(h,u),u=ZT(a,u,1),a=Uo(a,u,1),u=Dr(),a!==null&&(Co(a,1,u),Kr(a,u))}function jt(a,u,h){if(a.tag===3)MA(a,a,h);else for(;u!==null;){if(u.tag===3){MA(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(zo===null||!zo.has(g))){a=xu(h,a),a=eA(u,a,1),u=Uo(u,a,1),a=Dr(),u!==null&&(Co(u,1,a),Kr(u,a));break}}u=u.return}}function Z3(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=Dr(),a.pingedLanes|=a.suspendedLanes&h,ar===a&&(gr&h)===h&&(Xt===4||Xt===3&&(gr&130023424)===gr&&500>_t()-uy?Qa(a,0):sy|=h),Kr(a,u)}function DA(a,u){u===0&&((a.mode&1)===0?u=1:(u=Xs,Xs<<=1,(Xs&130023424)===0&&(Xs=4194304)));var h=Dr();a=Ki(a,u),a!==null&&(Co(a,u,h),Kr(a,h))}function eF(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),DA(a,h)}function tF(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,_=a.memoizedState;_!==null&&(h=_.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(u),DA(a,h)}var LA;LA=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||qr.current)Wr=!0;else{if((a.lanes&h)===0&&(u.flags&128)===0)return Wr=!1,U3(a,u,h);Wr=(a.flags&131072)!==0}else Wr=!1,It&&(u.flags&1048576)!==0&&gT(u,cd,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Td(a,u),a=u.pendingProps;var _=pu(u,Er.current);bu(u,h),_=Vv(null,u,g,a,_,h);var T=Fv();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,zr(g)?(T=!0,sd(u)):T=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Rv(u),_.updater=Ed,u.stateNode=_,_._reactInternals=u,Hv(u,g,a,h),u=Yv(null,u,g,!0,T,h)):(u.tag=0,It&&T&&xv(u),Mr(null,u,_,h),u=u.child),u;case 16:g=u.elementType;e:{switch(Td(a,u),a=u.pendingProps,_=g._init,g=_(g._payload),u.type=g,_=u.tag=nF(g),a=Wn(g,a),_){case 0:u=Xv(null,u,g,a,h);break e;case 1:u=lA(null,u,g,a,h);break e;case 11:u=iA(null,u,g,a,h);break e;case 14:u=oA(null,u,g,Wn(g.type,a),h);break e}throw Error(r(306,g,""))}return u;case 0:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Wn(g,_),Xv(a,u,g,_,h);case 1:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Wn(g,_),lA(a,u,g,_,h);case 3:e:{if(cA(u),a===null)throw Error(r(387));g=u.pendingProps,T=u.memoizedState,_=T.element,TT(a,u),gd(u,g,null,h);var V=u.memoizedState;if(g=V.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){_=xu(Error(r(423)),u),u=fA(a,u,g,h,_);break e}else if(g!==_){_=xu(Error(r(424)),u),u=fA(a,u,g,h,_);break e}else for(an=Lo(u.stateNode.containerInfo.firstChild),on=u,It=!0,zn=null,h=ET(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(vu(),g===_){u=Xi(a,u,h);break e}Mr(a,u,g,h)}u=u.child}return u;case 5:return IT(u),a===null&&Tv(u),g=u.type,_=u.pendingProps,T=a!==null?a.memoizedProps:null,V=_.children,gv(g,_)?V=null:T!==null&&gv(g,T)&&(u.flags|=32),uA(a,u),Mr(a,u,V,h),u.child;case 6:return a===null&&Tv(u),null;case 13:return hA(a,u,h);case 4:return Nv(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=yu(u,null,g,h):Mr(a,u,g,h),u.child;case 11:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Wn(g,_),iA(a,u,g,_,h);case 7:return Mr(a,u,u.pendingProps,h),u.child;case 8:return Mr(a,u,u.pendingProps.children,h),u.child;case 12:return Mr(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,_=u.pendingProps,T=u.memoizedProps,V=_.value,bt(dd,g._currentValue),g._currentValue=V,T!==null)if(qn(T.value,V)){if(T.children===_.children&&!qr.current){u=Xi(a,u,h);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var q=T.dependencies;if(q!==null){V=T.child;for(var K=q.firstContext;K!==null;){if(K.context===g){if(T.tag===1){K=Gi(-1,h&-h),K.tag=2;var ie=T.updateQueue;if(ie!==null){ie=ie.shared;var de=ie.pending;de===null?K.next=K:(K.next=de.next,de.next=K),ie.pending=K}}T.lanes|=h,K=T.alternate,K!==null&&(K.lanes|=h),Cv(T.return,h,u),q.lanes|=h;break}K=K.next}}else if(T.tag===10)V=T.type===u.type?null:T.child;else if(T.tag===18){if(V=T.return,V===null)throw Error(r(341));V.lanes|=h,q=V.alternate,q!==null&&(q.lanes|=h),Cv(V,h,u),V=T.sibling}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===u){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}Mr(a,u,_.children,h),u=u.child}return u;case 9:return _=u.type,g=u.pendingProps.children,bu(u,h),_=bn(_),g=g(_),u.flags|=1,Mr(a,u,g,h),u.child;case 14:return g=u.type,_=Wn(g,u.pendingProps),_=Wn(g.type,_),oA(a,u,g,_,h);case 15:return aA(a,u,u.type,u.pendingProps,h);case 17:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:Wn(g,_),Td(a,u),u.tag=1,zr(g)?(a=!0,sd(u)):a=!1,bu(u,h),QT(u,g,_),Hv(u,g,_,h),Yv(null,u,g,!0,a,h);case 19:return pA(a,u,h);case 22:return sA(a,u,h)}throw Error(r(156,u.tag))};function $A(a,u){return Ks(a,u)}function rF(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(a,u,h,g){return new rF(a,u,h,g)}function gy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function nF(a){if(typeof a=="function")return gy(a)?1:0;if(a!=null){if(a=a.$$typeof,a===L)return 11;if(a===Z)return 14}return 2}function Go(a,u){var h=a.alternate;return h===null?(h=En(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Dd(a,u,h,g,_,T){var V=2;if(g=a,typeof a=="function")gy(a)&&(V=1);else if(typeof a=="string")V=5;else e:switch(a){case P:return Za(h.children,_,T,u);case I:V=8,_|=8;break;case R:return a=En(12,h,u,_|2),a.elementType=R,a.lanes=T,a;case j:return a=En(13,h,u,_),a.elementType=j,a.lanes=T,a;case J:return a=En(19,h,u,_),a.elementType=J,a.lanes=T,a;case G:return Ld(h,_,T,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:V=10;break e;case D:V=9;break e;case L:V=11;break e;case Z:V=14;break e;case ne:V=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return u=En(V,h,u,_),u.elementType=a,u.type=g,u.lanes=T,u}function Za(a,u,h,g){return a=En(7,a,g,u),a.lanes=h,a}function Ld(a,u,h,g){return a=En(22,a,g,u),a.elementType=G,a.lanes=h,a.stateNode={isHidden:!1},a}function vy(a,u,h){return a=En(6,a,null,u),a.lanes=h,a}function yy(a,u,h){return u=En(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function iF(a,u,h,g,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function _y(a,u,h,g,_,T,V,q,K){return a=new iF(a,u,h,q,K),u===1?(u=1,T===!0&&(u|=8)):u=0,T=En(3,null,null,u),a.current=T,T.stateNode=a,T.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(T),a}function oF(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}}function VA(a){if(!a)return Vo;a=a._reactInternals;e:{if(Dn(a)!==a||a.tag!==1)throw Error(r(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(zr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(a.tag===1){var h=a.type;if(zr(h))return dT(a,h,u)}return u}function FA(a,u,h,g,_,T,V,q,K){return a=_y(h,g,!0,a,_,T,V,q,K),a.context=VA(null),h=a.current,g=Dr(),_=Ho(h),T=Gi(g,_),T.callback=u??null,Uo(h,T,_),a.current.lanes=_,Co(a,_,g),Kr(a,g),a}function $d(a,u,h,g){var _=u.current,T=Dr(),V=Ho(_);return h=VA(h),u.context===null?u.context=h:u.pendingContext=h,u=Gi(T,V),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Uo(_,u,V),a!==null&&(Gn(a,_,V,T),md(a,_,V)),V}function Vd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function BA(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function by(a,u){BA(a,u),(a=a.alternate)&&BA(a,u)}function aF(){return null}var UA=typeof reportError=="function"?reportError:function(a){console.error(a)};function wy(a){this._internalRoot=a}Fd.prototype.render=wy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));$d(a,u,null,null)},Fd.prototype.unmount=wy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ya(function(){$d(null,a,null,null)}),u[qi]=null}};function Fd(a){this._internalRoot=a}Fd.prototype.unstable_scheduleHydration=function(a){if(a){var u=Fh();a={blockedOn:null,target:a,priority:u};for(var h=0;h<ci.length&&u!==0&&u<ci[h].priority;h++);ci.splice(h,0,a),h===0&&qh(a)}};function xy(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function qA(){}function sF(a,u,h,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var ie=Vd(V);T.call(ie)}}var V=FA(u,g,a,0,null,!1,!1,"",qA);return a._reactRootContainer=V,a[qi]=V.current,yc(a.nodeType===8?a.parentNode:a),Ya(),V}for(;_=a.lastChild;)a.removeChild(_);if(typeof g=="function"){var q=g;g=function(){var ie=Vd(K);q.call(ie)}}var K=_y(a,0,!1,null,null,!1,!1,"",qA);return a._reactRootContainer=K,a[qi]=K.current,yc(a.nodeType===8?a.parentNode:a),Ya(function(){$d(u,K,h,g)}),K}function Ud(a,u,h,g,_){var T=h._reactRootContainer;if(T){var V=T;if(typeof _=="function"){var q=_;_=function(){var K=Vd(V);q.call(K)}}$d(u,V,a,_)}else V=sF(h,u,a,_,g);return Vd(V)}$h=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=Io(u.pendingLanes);h!==0&&(ko(u,h|1),Kr(u,_t()),(ot&6)===0&&(Tu=_t()+500,Fo()))}break;case 13:Ya(function(){var g=Ki(a,1);if(g!==null){var _=Dr();Gn(g,a,1,_)}}),by(a,1)}},Ys=function(a){if(a.tag===13){var u=Ki(a,134217728);if(u!==null){var h=Dr();Gn(u,a,134217728,h)}by(a,134217728)}},Vh=function(a){if(a.tag===13){var u=Ho(a),h=Ki(a,u);if(h!==null){var g=Dr();Gn(h,a,u,g)}by(a,u)}},Fh=function(){return tt},Bh=function(a,u){var h=tt;try{return tt=a,u()}finally{tt=h}},Bs=function(a,u,h){switch(u){case"input":if(dt(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var _=od(g);if(!_)throw Error(r(90));oe(g),dt(g,_)}}}break;case"textarea":Mi(a,h);break;case"select":u=h.value,u!=null&&hr(a,!!h.multiple,u,!1)}},Ca=dy,Zl=Ya;var uF={usingClientEntryPoint:!1,Events:[wc,hu,od,ui,Jl,dy]},Mc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lF={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=rc(a),a===null?null:a.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||aF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Ma=qd.inject(lF),en=qd}catch{}}return Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uF,Gr.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(u))throw Error(r(200));return oF(a,u,null,h)},Gr.createRoot=function(a,u){if(!xy(a))throw Error(r(299));var h=!1,g="",_=UA;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=_y(a,1,!1,null,null,h,!1,g,_),a[qi]=u.current,yc(a.nodeType===8?a.parentNode:a),new wy(u)},Gr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=rc(u),a=a===null?null:a.stateNode,a},Gr.flushSync=function(a){return Ya(a)},Gr.hydrate=function(a,u,h){if(!Bd(u))throw Error(r(200));return Ud(null,a,u,!0,h)},Gr.hydrateRoot=function(a,u,h){if(!xy(a))throw Error(r(405));var g=h!=null&&h.hydratedSources||null,_=!1,T="",V=UA;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),u=FA(u,null,a,1,h??null,_,!1,T,V),a[qi]=u.current,yc(a),g)for(a=0;a<g.length;a++)h=g[a],_=h._getVersion,_=_(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,_]:u.mutableSourceEagerHydrationData.push(h,_);return new Fd(u)},Gr.render=function(a,u,h){if(!Bd(u))throw Error(r(200));return Ud(null,a,u,!1,h)},Gr.unmountComponentAtNode=function(a){if(!Bd(a))throw Error(r(40));return a._reactRootContainer?(Ya(function(){Ud(null,null,a,!1,function(){a._reactRootContainer=null,a[qi]=null})}),!0):!1},Gr.unstable_batchedUpdates=dy,Gr.unstable_renderSubtreeIntoContainer=function(a,u,h,g){if(!Bd(h))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return Ud(a,u,h,!1,g)},Gr.version="18.3.1-next-f1338f8080-20240426",Gr}var QA;function vF(){if(QA)return Ty.exports;QA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ty.exports=gF(),Ty.exports}var JA;function yF(){if(JA)return Wd;JA=1;var t=vF();return Wd.createRoot=t.createRoot,Wd.hydrateRoot=t.hydrateRoot,Wd}var _F=yF();const bF=ft(_F);var Lc={},ZA;function wF(){if(ZA)return Lc;ZA=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.parse=s,Lc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function s(v,y){const w=new o,x=v.length;if(x<2)return w;const b=(y==null?void 0:y.decode)||d;let E=0;do{const A=v.indexOf("=",E);if(A===-1)break;const O=v.indexOf(";",E),M=O===-1?x:O;if(A>M){E=v.lastIndexOf(";",A-1)+1;continue}const C=l(v,E,A),N=c(v,A,C),P=v.slice(C,N);if(w[P]===void 0){let I=l(v,A+1,M),R=c(v,M,I);const F=b(v.slice(I,R));w[P]=F}E=M+1}while(E<x);return w}function l(v,y,w){do{const x=v.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<w);return w}function c(v,y,w){for(;y>w;){const x=v.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return w}function f(v,y,w){const x=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=x(y);if(!e.test(b))throw new TypeError(`argument val is invalid: ${y}`);let E=v+"="+b;if(!w)return E;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);E+="; Max-Age="+w.maxAge}if(w.domain){if(!r.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);E+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);E+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);E+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(E+="; HttpOnly"),w.secure&&(E+="; Secure"),w.partitioned&&(E+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return E}function d(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return i.call(v)==="[object Date]"}return Lc}wF();var eP="popstate";function xF(t={}){function e(n,i){let{pathname:o,search:s,hash:l}=n.location;return Hw("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:vf(i)}return SF(e,r,null,t)}function er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EF(){return Math.random().toString(36).substring(2,10)}function tP(t,e){return{usr:t.state,key:t.key,idx:e}}function Hw(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ch(e):e,state:r,key:e&&e.key||n||EF()}}function vf({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ch(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function SF(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l="POP",c=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function p(){l="POP";let b=d(),E=b==null?null:b-f;f=b,c&&c({action:l,location:x.location,delta:E})}function v(b,E){l="PUSH";let A=Hw(x.location,b,E);f=d()+1;let O=tP(A,f),M=x.createHref(A);try{s.pushState(O,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}o&&c&&c({action:l,location:x.location,delta:1})}function y(b,E){l="REPLACE";let A=Hw(x.location,b,E);f=d();let O=tP(A,f),M=x.createHref(A);s.replaceState(O,"",M),o&&c&&c({action:l,location:x.location,delta:0})}function w(b){return TF(b)}let x={get action(){return l},get location(){return t(i,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(eP,p),c=b,()=>{i.removeEventListener(eP,p),c=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let E=w(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(b){return s.go(b)}};return x}function TF(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),er(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:vf(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Fj(t,e,r="/"){return AF(t,e,r,!1)}function AF(t,e,r,n){let i=typeof e=="string"?ch(e):e,o=co(i.pathname||"/",r);if(o==null)return null;let s=Bj(t);PF(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=$F(o);l=DF(s[c],f,n)}return l}function Bj(t,e=[],r=[],n=""){let i=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(er(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let f=oo([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(er(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Bj(o.children,e,d,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:jF(f,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let c of Uj(o.path))i(o,s,c)}),e}function Uj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Uj(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function PF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:MF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var IF=/^:[\w-]+$/,OF=3,CF=2,kF=1,RF=10,NF=-2,rP=t=>t==="*";function jF(t,e){let r=t.split("/"),n=r.length;return r.some(rP)&&(n+=NF),e&&(n+=CF),r.filter(i=>!rP(i)).reduce((i,o)=>i+(IF.test(o)?OF:o===""?kF:RF),n)}function MF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function DF(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],f=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},d),v=c.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Ip({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:oo([o,p.pathname]),pathnameBase:UF(oo([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=oo([o,p.pathnameBase]))}return s}function Ip(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=LF(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((f,{paramName:d,isOptional:p},v)=>{if(d==="*"){let w=l[v]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[v];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function LF(t,e=!1,r=!0){Pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $F(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function VF(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ch(t):t;return{pathname:r?r.startsWith("/")?r:FF(r,e):e,search:qF(n),hash:zF(i)}}function FF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Iy(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qj(t){let e=BF(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function zj(t,e,r,n=!1){let i;typeof t=="string"?i=ch(t):(i={...t},er(!i.pathname||!i.pathname.includes("?"),Iy("?","pathname","search",i)),er(!i.pathname||!i.pathname.includes("#"),Iy("#","pathname","hash",i)),er(!i.search||!i.search.includes("#"),Iy("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=VF(i,l),f=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}var oo=t=>t.join("/").replace(/\/\/+/g,"/"),UF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Wj=["POST","PUT","PATCH","DELETE"];new Set(Wj);var HF=["GET",...Wj];new Set(HF);var Ol=z.createContext(null);Ol.displayName="DataRouter";var Gm=z.createContext(null);Gm.displayName="DataRouterState";var Hj=z.createContext({isTransitioning:!1});Hj.displayName="ViewTransition";var KF=z.createContext(new Map);KF.displayName="Fetchers";var GF=z.createContext(null);GF.displayName="Await";var Ri=z.createContext(null);Ri.displayName="Navigation";var Xm=z.createContext(null);Xm.displayName="Location";var _o=z.createContext({outlet:null,matches:[],isDataRoute:!1});_o.displayName="Route";var Vx=z.createContext(null);Vx.displayName="RouteError";function XF(t,{relative:e}={}){er(fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=z.useContext(Ri),{hash:i,pathname:o,search:s}=hh(t,{relative:e}),l=o;return r!=="/"&&(l=o==="/"?r:oo([r,o])),n.createHref({pathname:l,search:s,hash:i})}function fh(){return z.useContext(Xm)!=null}function Os(){return er(fh(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Xm).location}var Kj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gj(t){z.useContext(Ri).static||z.useLayoutEffect(t)}function YF(){let{isDataRoute:t}=z.useContext(_o);return t?l6():QF()}function QF(){er(fh(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(Ol),{basename:e,navigator:r}=z.useContext(Ri),{matches:n}=z.useContext(_o),{pathname:i}=Os(),o=JSON.stringify(qj(n)),s=z.useRef(!1);return Gj(()=>{s.current=!0}),z.useCallback((c,f={})=>{if(Pi(s.current,Kj),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=zj(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oo([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,o,i,t])}z.createContext(null);function hh(t,{relative:e}={}){let{matches:r}=z.useContext(_o),{pathname:n}=Os(),i=JSON.stringify(qj(r));return z.useMemo(()=>zj(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function JF(t,e,r,n){er(fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=z.useContext(Ri),{matches:o}=z.useContext(_o),s=o[o.length-1],l=s?s.params:{},c=s?s.pathname:"/",f=s?s.pathnameBase:"/",d=s&&s.route;{let E=d&&d.path||"";Xj(c,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=Os(),v;v=p;let y=v.pathname||"/",w=y;if(f!=="/"){let E=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=Fj(t,{pathname:w});return Pi(d||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),n6(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:oo([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:oo([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,r,n)}function ZF(){let t=u6(),e=WF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),r?z.createElement("pre",{style:i},r):null,s)}var e6=z.createElement(ZF,null),t6=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(_o.Provider,{value:this.props.routeContext},z.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r6({routeContext:t,match:e,children:r}){let n=z.useContext(Ol);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(_o.Provider,{value:t},r)}function n6(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);er(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=r,v=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,f,d)=>{let p,v=!1,y=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||e6,s&&(l<0&&d===0?(Xj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===d&&(v=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,d+1)),b=()=>{let E;return p?E=y:v?E=w:f.route.Component?E=z.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=c,z.createElement(r6,{match:f,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?z.createElement(t6,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function Fx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i6(t){let e=z.useContext(Ol);return er(e,Fx(t)),e}function o6(t){let e=z.useContext(Gm);return er(e,Fx(t)),e}function a6(t){let e=z.useContext(_o);return er(e,Fx(t)),e}function Bx(t){let e=a6(t),r=e.matches[e.matches.length-1];return er(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function s6(){return Bx("useRouteId")}function u6(){var n;let t=z.useContext(Vx),e=o6("useRouteError"),r=Bx("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function l6(){let{router:t}=i6("useNavigate"),e=Bx("useNavigate"),r=z.useRef(!1);return Gj(()=>{r.current=!0}),z.useCallback(async(i,o={})=>{Pi(r.current,Kj),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var nP={};function Xj(t,e,r){!e&&!nP[t]&&(nP[t]=!0,Pi(!1,r))}z.memo(c6);function c6({routes:t,future:e,state:r}){return JF(t,void 0,r,e)}function f6({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){er(!fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=z.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=ch(r));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:v="default"}=r,y=z.useMemo(()=>{let w=co(c,s);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:v},navigationType:n}},[s,c,f,d,p,v,n]);return Pi(y!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:z.createElement(Ri.Provider,{value:l},z.createElement(Xm.Provider,{children:e,value:y}))}var pp="get",mp="application/x-www-form-urlencoded";function Ym(t){return t!=null&&typeof t.tagName=="string"}function h6(t){return Ym(t)&&t.tagName.toLowerCase()==="button"}function d6(t){return Ym(t)&&t.tagName.toLowerCase()==="form"}function p6(t){return Ym(t)&&t.tagName.toLowerCase()==="input"}function m6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g6(t,e){return t.button===0&&(!e||e==="_self")&&!m6(t)}var Hd=null;function v6(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oy(t){return t!=null&&!y6.has(t)?(Pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mp}"`),null):t}function _6(t,e){let r,n,i,o,s;if(d6(t)){let l=t.getAttribute("action");n=l?co(l,e):null,r=t.getAttribute("method")||pp,i=Oy(t.getAttribute("enctype"))||mp,o=new FormData(t)}else if(h6(t)||p6(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?co(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||pp,i=Oy(t.getAttribute("formenctype"))||Oy(l.getAttribute("enctype"))||mp,o=new FormData(l,t),!v6()){let{name:f,type:d,value:p}=t;if(d==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,p)}}else{if(Ym(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=pp,n=null,i=mp,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function Ux(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function b6(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function x6(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await b6(o,r);return s.links?s.links():[]}return[]}));return A6(n.flat(1).filter(w6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iP(t,e,r,n,i,o){let s=(c,f)=>r[f]?c.route.id!==r[f].route.id:!0,l=(c,f)=>{var d;return r[f].pathname!==c.pathname||((d=r[f].route.path)==null?void 0:d.endsWith("*"))&&r[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||l(c,f)):o==="data"?e.filter((c,f)=>{var p;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,f)||l(c,f))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function E6(t,e,{includeHydrateFallback:r}={}){return S6(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function S6(t){return[...new Set(t)]}function T6(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function A6(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify(T6(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var P6=new Set([100,101,204,205]);function I6(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&co(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Yj(){let t=z.useContext(Ol);return Ux(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O6(){let t=z.useContext(Gm);return Ux(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qx=z.createContext(void 0);qx.displayName="FrameworkContext";function Qj(){let t=z.useContext(qx);return Ux(t,"You must render this element inside a <HydratedRouter> element"),t}function C6(t,e){let r=z.useContext(qx),[n,i]=z.useState(!1),[o,s]=z.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=e,v=z.useRef(null);z.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=E=>{E.forEach(A=>{s(A.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[t]),z.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,v,{}]:[o,v,{onFocus:$c(l,y),onBlur:$c(c,w),onMouseEnter:$c(f,y),onMouseLeave:$c(d,w),onTouchStart:$c(p,y)}]:[!1,v,{}]}function $c(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function k6({page:t,...e}){let{router:r}=Yj(),n=z.useMemo(()=>Fj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?z.createElement(N6,{page:t,matches:n,...e}):null}function R6(t){let{manifest:e,routeModules:r}=Qj(),[n,i]=z.useState([]);return z.useEffect(()=>{let o=!1;return x6(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function N6({page:t,matches:e,...r}){let n=Os(),{manifest:i,routeModules:o}=Qj(),{basename:s}=Yj(),{loaderData:l,matches:c}=O6(),f=z.useMemo(()=>iP(t,e,c,i,n,"data"),[t,e,c,i,n]),d=z.useMemo(()=>iP(t,e,c,i,n,"assets"),[t,e,c,i,n]),p=z.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,x=!1;if(e.forEach(E=>{var O;let A=i.routes[E.route.id];!A||!A.hasLoader||(!f.some(M=>M.route.id===E.route.id)&&E.route.id in l&&((O=o[E.route.id])!=null&&O.shouldRevalidate)||A.hasClientLoader?x=!0:w.add(E.route.id))}),w.size===0)return[];let b=I6(t,s);return x&&w.size>0&&b.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[s,l,n,i,f,e,t,o]),v=z.useMemo(()=>E6(d,i),[d,i]),y=R6(d);return z.createElement(z.Fragment,null,p.map(w=>z.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>z.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:x})=>z.createElement("link",{key:w,...x})))}function j6(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Jj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jj&&(window.__reactRouterVersion="7.6.1")}catch{}function M6({basename:t,children:e,window:r}){let n=z.useRef();n.current==null&&(n.current=xF({window:r,v5Compat:!0}));let i=n.current,[o,s]=z.useState({action:i.action,location:i.location}),l=z.useCallback(c=>{z.startTransition(()=>s(c))},[s]);return z.useLayoutEffect(()=>i.listen(l),[i,l]),z.createElement(f6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Zj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eM=z.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:l,target:c,to:f,preventScrollReset:d,viewTransition:p,...v},y){let{basename:w}=z.useContext(Ri),x=typeof f=="string"&&Zj.test(f),b,E=!1;if(typeof f=="string"&&x&&(b=f,Jj))try{let R=new URL(window.location.href),F=f.startsWith("//")?new URL(R.protocol+f):new URL(f),D=co(F.pathname,w);F.origin===R.origin&&D!=null?f=D+F.search+F.hash:E=!0}catch{Pi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=XF(f,{relative:i}),[O,M,C]=C6(n,v),N=V6(f,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p});function P(R){e&&e(R),R.defaultPrevented||N(R)}let I=z.createElement("a",{...v,...C,href:b||A,onClick:E||o?e:P,ref:j6(y,M),target:c,"data-discover":!x&&r==="render"?"true":void 0});return O&&!x?z.createElement(z.Fragment,null,I,z.createElement(k6,{page:A})):I});eM.displayName="Link";var D6=z.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:l,children:c,...f},d){let p=hh(s,{relative:f.relative}),v=Os(),y=z.useContext(Gm),{navigator:w,basename:x}=z.useContext(Ri),b=y!=null&&z6(p)&&l===!0,E=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=v.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(A=A.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&x&&(O=co(O,x)||O);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let C=A===E||!i&&A.startsWith(E)&&A.charAt(M)==="/",N=O!=null&&(O===E||!i&&O.startsWith(E)&&O.charAt(E.length)==="/"),P={isActive:C,isPending:N,isTransitioning:b},I=C?e:void 0,R;typeof n=="function"?R=n(P):R=[n,C?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(P):o;return z.createElement(eM,{...f,"aria-current":I,className:R,ref:d,style:F,to:s,viewTransition:l},typeof c=="function"?c(P):c)});D6.displayName="NavLink";var L6=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=pp,action:l,onSubmit:c,relative:f,preventScrollReset:d,viewTransition:p,...v},y)=>{let w=U6(),x=q6(l,{relative:f}),b=s.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&Zj.test(l),A=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,C=(M==null?void 0:M.getAttribute("formmethod"))||s;w(M||O.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:o,relative:f,preventScrollReset:d,viewTransition:p})};return z.createElement("form",{ref:y,method:b,action:x,onSubmit:n?c:A,...v,"data-discover":!E&&t==="render"?"true":void 0})});L6.displayName="Form";function $6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tM(t){let e=z.useContext(Ol);return er(e,$6(t)),e}function V6(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=YF(),c=Os(),f=hh(t,{relative:o});return z.useCallback(d=>{if(g6(d,e)){d.preventDefault();let p=r!==void 0?r:vf(c)===vf(f);l(t,{replace:p,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[c,l,f,r,n,e,t,i,o,s])}var F6=0,B6=()=>`__${String(++F6)}__`;function U6(){let{router:t}=tM("useSubmit"),{basename:e}=z.useContext(Ri),r=s6();return z.useCallback(async(n,i={})=>{let{action:o,method:s,encType:l,formData:c,body:f}=_6(n,e);if(i.navigate===!1){let d=i.fetcherKey||B6();await t.fetch(d,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function q6(t,{relative:e}={}){let{basename:r}=z.useContext(Ri),n=z.useContext(_o);er(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...hh(t||".",{relative:e})},s=Os();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:oo([r,o.pathname])),vf(o)}function z6(t,e={}){let r=z.useContext(Hj);er(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tM("useViewTransitionState"),i=hh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=co(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=co(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ip(i.pathname,s)!=null||Ip(i.pathname,o)!=null}[...P6];const W6=({tabs:t,activeTab:e,onTabChange:r})=>$.jsx("div",{className:"border-b border-gray-200",children:$.jsx("nav",{className:"flex -mb-px",children:t.map((n,i)=>$.jsx("button",{className:`py-3 px-6 text-sm font-medium transition-colors duration-200 ${e===i?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-b-2 hover:border-gray-300"}`,onClick:()=>r(i),children:n},i))})}),rM=z.createContext(void 0),dh=()=>{const t=z.useContext(rM);if(!t)throw new Error("useData must be used within a DataProvider");return t},H6=t=>{const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e},oP=(t,e,r)=>{try{const n=[e.join(","),...t.map(o=>e.map(s=>H6(o[s])).join(","))].join(`
`);localStorage.setItem(r,n);const i=new Date().toISOString().replace(/[:.]/g,"-");return localStorage.setItem(`${r}.${i}.backup`,n),!0}catch(n){return console.error(`Error saving CSV at ${r}:`,n),!1}},aP=t=>{try{const e=localStorage.getItem(t);return e||(t.includes("products")?`codigo,nombre,stock,precio_costo,precio_venta,categoria,imagen,stockMinimo
`:t.includes("sales")?`fecha_hora,codigo_barra,nombre_producto,cantidad_vendida,precio_unitario,total_linea,cajero
`:"")}catch(e){return console.error(`Error loading CSV from ${t}:`,e),""}},K6=t=>{try{const e=t.split(`
`);if(e.length<=1)return{};const r=e[0].split(","),n={},i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={codigo:i(s[0]||""),nombre:i(s[1]||""),stock:parseInt(i(s[2]||"0"))||0,precio_costo:parseFloat(i(s[3]||"0"))||0,precio_venta:parseFloat(i(s[4]||"0"))||0,categoria:i(s[5]||"Sin Categora"),imagen:i(s[6]||""),stockMinimo:parseInt(i(s[7]||"5"))||5,precio:0};l.codigo&&(n[l.codigo]=l)}}}),n}catch(e){return console.error("Error parsing products CSV:",e),{}}},G6=t=>{try{const e=t.split(`
`);if(e.length<=1)return[];const r=e[0].split(","),n=[],i=o=>o.startsWith('"')&&o.endsWith('"')?o.slice(1,-1).replace(/""/g,'"'):o;return e.slice(1).forEach(o=>{if(o.trim()){const s=o.split(",");if(s.length>=r.length){const l={fecha_hora:i(s[0]||""),codigo_barra:i(s[1]||""),nombre_producto:i(s[2]||""),cantidad_vendida:parseInt(i(s[3]||"0"))||0,precio_unitario:parseFloat(i(s[4]||"0"))||0,total_linea:parseFloat(i(s[5]||"0"))||0,cajero:i(s[6]||"")};l.codigo_barra&&l.fecha_hora&&n.push(l)}}}),n}catch(e){return console.error("Error parsing sales CSV:",e),[]}},X6=({children:t})=>{const[e,r]=z.useState({}),[n,i]=z.useState([]),[o,s]=z.useState(!0),[l,c]=z.useState(null),f=z.useRef(null);z.useEffect(()=>{(async()=>{try{s(!0);const E=aP("products.csv"),A=aP("sales.csv"),O=K6(E),M=G6(A);r(O),i(M),console.log("Data loaded successfully")}catch(E){console.error("Error loading data:",E)}finally{s(!1)}})()},[]);const d=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{const b=["codigo","nombre","stock","precio_costo","precio_venta","categoria","imagen","stockMinimo"],E=["fecha_hora","codigo_barra","nombre_producto","cantidad_vendida","precio_unitario","total_linea","cajero"],A=Object.values(e),O=oP(A,b,"products.csv"),M=oP(n,E,"sales.csv");O&&M&&(c(new Date),console.log("Data saved successfully"))}catch(b){console.error("Error saving data:",b)}},1e3)};z.useEffect(()=>{o||d()},[e,n,o]);const p=b=>{r(E=>({...E,[b.codigo]:{...b,categoria:b.categoria||"Sin Categora",imagen:b.imagen||"",stockMinimo:b.stockMinimo||5}}))},v=b=>{r(E=>{const A=E[b.codigo];return A?{...E,[b.codigo]:{...A,...b,stock:A.stock+b.stock}}:E})},y=b=>{i(E=>[...E,b])},w=(b,E)=>{const A=e[b];return!A||A.stock<E?!1:(r(O=>({...O,[b]:{...A,stock:A.stock-E}})),!0)},x=b=>e[b]||null;return $.jsx(rM.Provider,{value:{products:e,sales:n,addProduct:p,updateProduct:v,addSale:y,decreaseStock:w,getProduct:x,isLoading:o,lastSaved:l},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ht=(t,e)=>{const r=z.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},d)=>z.createElement("svg",{ref:d,...Y6,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Q6(t)}`,l].join(" "),...f},[...e.map(([p,v])=>z.createElement(p,v)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ht("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ht("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=ht("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ht("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ht("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ht("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ht("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=ht("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ht("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ht("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ht("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ht("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=ht("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ht("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ht("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ht("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ht("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ht("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),d5=()=>{const{isLoading:t,lastSaved:e}=dh();return t?$.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[$.jsx(r5,{className:"animate-spin",size:16}),$.jsx("span",{className:"text-sm",children:"Cargando datos..."})]}):$.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[$.jsx(sM,{size:16}),$.jsx("span",{className:"text-sm",children:e?`Guardado: ${e.toLocaleTimeString()}`:"Datos sincronizados"})]})};function cM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=cM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=cM(t))&&(n&&(n+=" "),n+=e);return n}var Cy,dP;function Jr(){if(dP)return Cy;dP=1;var t=Array.isArray;return Cy=t,Cy}var ky,pP;function fM(){if(pP)return ky;pP=1;var t=typeof zd=="object"&&zd&&zd.Object===Object&&zd;return ky=t,ky}var Ry,mP;function Ni(){if(mP)return Ry;mP=1;var t=fM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Ry=r,Ry}var Ny,gP;function ph(){if(gP)return Ny;gP=1;var t=Ni(),e=t.Symbol;return Ny=e,Ny}var jy,vP;function p5(){if(vP)return jy;vP=1;var t=ph(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var d=n.call(s);return f&&(l?s[i]=c:delete s[i]),d}return jy=o,jy}var My,yP;function m5(){if(yP)return My;yP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return My=r,My}var Dy,_P;function bo(){if(_P)return Dy;_P=1;var t=ph(),e=p5(),r=m5(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:o&&o in Object(l)?e(l):r(l)}return Dy=s,Dy}var Ly,bP;function wo(){if(bP)return Ly;bP=1;function t(e){return e!=null&&typeof e=="object"}return Ly=t,Ly}var $y,wP;function Cl(){if(wP)return $y;wP=1;var t=bo(),e=wo(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return $y=n,$y}var Vy,xP;function zx(){if(xP)return Vy;xP=1;var t=Jr(),e=Cl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Vy=i,Vy}var Fy,EP;function wa(){if(EP)return Fy;EP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Fy=t,Fy}var By,SP;function Wx(){if(SP)return By;SP=1;var t=bo(),e=wa(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==o}return By=s,By}var Uy,TP;function g5(){if(TP)return Uy;TP=1;var t=Ni(),e=t["__core-js_shared__"];return Uy=e,Uy}var qy,AP;function v5(){if(AP)return qy;AP=1;var t=g5(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return qy=r,qy}var zy,PP;function hM(){if(PP)return zy;PP=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return zy=r,zy}var Wy,IP;function y5(){if(IP)return Wy;IP=1;var t=Wx(),e=v5(),r=wa(),n=hM(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var y=t(v)?d:o;return y.test(n(v))}return Wy=p,Wy}var Hy,OP;function _5(){if(OP)return Hy;OP=1;function t(e,r){return e==null?void 0:e[r]}return Hy=t,Hy}var Ky,CP;function Cs(){if(CP)return Ky;CP=1;var t=y5(),e=_5();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Ky=r,Ky}var Gy,kP;function Qm(){if(kP)return Gy;kP=1;var t=Cs(),e=t(Object,"create");return Gy=e,Gy}var Xy,RP;function b5(){if(RP)return Xy;RP=1;var t=Qm();function e(){this.__data__=t?t(null):{},this.size=0}return Xy=e,Xy}var Yy,NP;function w5(){if(NP)return Yy;NP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Yy=t,Yy}var Qy,jP;function x5(){if(jP)return Qy;jP=1;var t=Qm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return n.call(s,o)?s[o]:void 0}return Qy=i,Qy}var Jy,MP;function E5(){if(MP)return Jy;MP=1;var t=Qm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Jy=n,Jy}var Zy,DP;function S5(){if(DP)return Zy;DP=1;var t=Qm(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return Zy=r,Zy}var e0,LP;function T5(){if(LP)return e0;LP=1;var t=b5(),e=w5(),r=x5(),n=E5(),i=S5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,e0=o,e0}var t0,$P;function A5(){if($P)return t0;$P=1;function t(){this.__data__=[],this.size=0}return t0=t,t0}var r0,VP;function Hx(){if(VP)return r0;VP=1;function t(e,r){return e===r||e!==e&&r!==r}return r0=t,r0}var n0,FP;function Jm(){if(FP)return n0;FP=1;var t=Hx();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return n0=e,n0}var i0,BP;function P5(){if(BP)return i0;BP=1;var t=Jm(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():r.call(o,s,1),--this.size,!0}return i0=n,i0}var o0,UP;function I5(){if(UP)return o0;UP=1;var t=Jm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return o0=e,o0}var a0,qP;function O5(){if(qP)return a0;qP=1;var t=Jm();function e(r){return t(this.__data__,r)>-1}return a0=e,a0}var s0,zP;function C5(){if(zP)return s0;zP=1;var t=Jm();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return s0=e,s0}var u0,WP;function Zm(){if(WP)return u0;WP=1;var t=A5(),e=P5(),r=I5(),n=O5(),i=C5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,u0=o,u0}var l0,HP;function Kx(){if(HP)return l0;HP=1;var t=Cs(),e=Ni(),r=t(e,"Map");return l0=r,l0}var c0,KP;function k5(){if(KP)return c0;KP=1;var t=T5(),e=Zm(),r=Kx();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return c0=n,c0}var f0,GP;function R5(){if(GP)return f0;GP=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return f0=t,f0}var h0,XP;function eg(){if(XP)return h0;XP=1;var t=R5();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return h0=e,h0}var d0,YP;function N5(){if(YP)return d0;YP=1;var t=eg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return d0=e,d0}var p0,QP;function j5(){if(QP)return p0;QP=1;var t=eg();function e(r){return t(this,r).get(r)}return p0=e,p0}var m0,JP;function M5(){if(JP)return m0;JP=1;var t=eg();function e(r){return t(this,r).has(r)}return m0=e,m0}var g0,ZP;function D5(){if(ZP)return g0;ZP=1;var t=eg();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return g0=e,g0}var v0,eI;function Gx(){if(eI)return v0;eI=1;var t=k5(),e=N5(),r=j5(),n=M5(),i=D5();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,v0=o,v0}var y0,tI;function dM(){if(tI)return y0;tI=1;var t=Gx(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=n.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(r.Cache||t),o}return r.Cache=t,y0=r,y0}var _0,rI;function L5(){if(rI)return _0;rI=1;var t=dM(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return _0=r,_0}var b0,nI;function $5(){if(nI)return b0;nI=1;var t=L5(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(r,"$1"):l||s)}),o});return b0=n,b0}var w0,iI;function Xx(){if(iI)return w0;iI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return w0=t,w0}var x0,oI;function V5(){if(oI)return x0;oI=1;var t=ph(),e=Xx(),r=Jr(),n=Cl(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return x0=s,x0}var E0,aI;function pM(){if(aI)return E0;aI=1;var t=V5();function e(r){return r==null?"":t(r)}return E0=e,E0}var S0,sI;function mM(){if(sI)return S0;sI=1;var t=Jr(),e=zx(),r=$5(),n=pM();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return S0=i,S0}var T0,uI;function tg(){if(uI)return T0;uI=1;var t=Cl();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return T0=e,T0}var A0,lI;function Yx(){if(lI)return A0;lI=1;var t=mM(),e=tg();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return A0=r,A0}var P0,cI;function gM(){if(cI)return P0;cI=1;var t=Yx();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return P0=e,P0}var F5=gM();const hn=ft(F5);var I0,fI;function B5(){if(fI)return I0;fI=1;function t(e){return e==null}return I0=t,I0}var U5=B5();const Ge=ft(U5);var O0,hI;function q5(){if(hI)return O0;hI=1;var t=bo(),e=Jr(),r=wo(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return O0=i,O0}var z5=q5();const ys=ft(z5);var W5=Wx();const Be=ft(W5);var H5=wa();const kl=ft(H5);var C0={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI;function K5(){if(dI)return ut;dI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case f:case d:return b;default:switch(b=b&&b.$$typeof,b){case l:case s:case c:case v:case p:case o:return b;default:return E}}case e:return E}}}return ut.ContextConsumer=s,ut.ContextProvider=o,ut.Element=t,ut.ForwardRef=c,ut.Fragment=r,ut.Lazy=v,ut.Memo=p,ut.Portal=e,ut.Profiler=i,ut.StrictMode=n,ut.Suspense=f,ut.SuspenseList=d,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(b){return x(b)===s},ut.isContextProvider=function(b){return x(b)===o},ut.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ut.isForwardRef=function(b){return x(b)===c},ut.isFragment=function(b){return x(b)===r},ut.isLazy=function(b){return x(b)===v},ut.isMemo=function(b){return x(b)===p},ut.isPortal=function(b){return x(b)===e},ut.isProfiler=function(b){return x(b)===i},ut.isStrictMode=function(b){return x(b)===n},ut.isSuspense=function(b){return x(b)===f},ut.isSuspenseList=function(b){return x(b)===d},ut.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===d||b===y||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===p||b.$$typeof===o||b.$$typeof===s||b.$$typeof===c||b.$$typeof===w||b.getModuleId!==void 0)},ut.typeOf=x,ut}var pI;function G5(){return pI||(pI=1,C0.exports=K5()),C0.exports}var X5=G5(),k0,mI;function vM(){if(mI)return k0;mI=1;var t=bo(),e=wo(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return k0=n,k0}var R0,gI;function Y5(){if(gI)return R0;gI=1;var t=vM();function e(r){return t(r)&&r!=+r}return R0=e,R0}var Q5=Y5();const Rl=ft(Q5);var J5=vM();const Z5=ft(J5);var $r=function(e){return e===0?0:e>0?1:-1},ss=function(e){return ys(e)&&e.indexOf("%")===e.length-1},ge=function(e){return Z5(e)&&!Rl(e)},Zt=function(e){return ge(e)||ys(e)},eB=0,Nl=function(e){var r=++eB;return"".concat(e||"").concat(r)},Vr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!ys(e))return n;var o;if(ss(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return Rl(o)&&(o=n),i&&o>r&&(o=r),o},Zo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},tB=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Yr=function(e,r){return ge(e)&&ge(r)?function(n){return e+n*(r-e)}:function(){return r}};function Cp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):hn(n,e))===r})}var rB=function(e,r){return ge(e)&&ge(r)?e-r:ys(e)&&ys(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Fu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Gw(t){"@babel/helpers - typeof";return Gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gw(t)}var nB=["viewBox","children"],iB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vI=["points","pathLength"],N0={svg:nB,polygon:vI,polyline:vI},Qx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],kp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!kl(n))return null;var i={};return Object.keys(n).forEach(function(o){Qx.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},oB=function(e,r,n){return function(i){return e(r,n,i),null}},_s=function(e,r,n){if(!kl(e)||Gw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Qx.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=oB(s,r,n))}),i},aB=["children"],sB=["children"];function yI(t,e){if(t==null)return{};var r=uB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xw(t){"@babel/helpers - typeof";return Xw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(t)}var _I={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ao=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},bI=null,j0=null,Jx=function t(e){if(e===bI&&Array.isArray(j0))return j0;var r=[];return z.Children.forEach(e,function(n){Ge(n)||(X5.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),j0=r,bI=e,r};function Cn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ao(i)}):n=[ao(e)],Jx(t).forEach(function(i){var o=hn(i,"type.displayName")||hn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function ln(t,e){var r=Cn(t,e);return r&&r[0]}var wI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},lB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cB=function(e){return e&&e.type&&ys(e.type)&&lB.indexOf(e.type)>=0},fB=function(e){return e&&Xw(e)==="object"&&"clipDot"in e},hB=function(e,r,n,i){var o,s=(o=N0==null?void 0:N0[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Be(e)&&(i&&s.includes(r)||iB.includes(r))||n&&Qx.includes(r)},je=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!kl(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;hB((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(o[s]=i[s])}),o},Yw=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!xI(o,s))return!1}return!0},xI=function(e,r){if(Ge(e)&&Ge(r))return!0;if(!Ge(e)&&!Ge(r)){var n=e.props||{},i=n.children,o=yI(n,aB),s=r.props||{},l=s.children,c=yI(s,sB);return i&&l?Fu(o,c)&&Yw(i,l):!i&&!l?Fu(o,c):!1}return!1},EI=function(e,r){var n=[],i={};return Jx(e).forEach(function(o,s){if(cB(o))n.push(o);else if(o){var l=ao(o.type),c=r[l]||{},f=c.handler,d=c.once;if(f&&(!d||!i[l])){var p=f(o,l,s);n.push(p),i[l]=!0}}}),n},dB=function(e){var r=e&&e.type;return r&&_I[r]?_I[r]:null},pB=function(e,r){return Jx(r).indexOf(e)},mB=["children","width","height","viewBox","className","style","title","desc"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}function gB(t,e){if(t==null)return{};var r=vB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=gB(t,mB),d=i||{width:r,height:n,x:0,y:0},p=Xe("recharts-surface",o);return W.createElement("svg",Qw({},je(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var yB=["children","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}function _B(t,e){if(t==null)return{};var r=bB(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var it=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=_B(t,yB),o=Xe("recharts-layer",n);return W.createElement("g",Zw({className:o},je(i,!0),{ref:e}),r)}),ni=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},M0,SI;function wB(){if(SI)return M0;SI=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return M0=t,M0}var D0,TI;function xB(){if(TI)return D0;TI=1;var t=wB();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return D0=e,D0}var L0,AI;function yM(){if(AI)return L0;AI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return L0=c,L0}var $0,PI;function EB(){if(PI)return $0;PI=1;function t(e){return e.split("")}return $0=t,$0}var V0,II;function SB(){if(II)return V0;II=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=f+"?",x="["+o+"]?",b="(?:"+y+"(?:"+[d,p,v].join("|")+")"+x+w+")*",E=x+w+b,A="(?:"+[d+l+"?",l,p,v,s].join("|")+")",O=RegExp(c+"(?="+c+")|"+A+E,"g");function M(C){return C.match(O)||[]}return V0=M,V0}var F0,OI;function TB(){if(OI)return F0;OI=1;var t=EB(),e=yM(),r=SB();function n(i){return e(i)?r(i):t(i)}return F0=n,F0}var B0,CI;function AB(){if(CI)return B0;CI=1;var t=xB(),e=yM(),r=TB(),n=pM();function i(o){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return B0=i,B0}var U0,kI;function PB(){if(kI)return U0;kI=1;var t=AB(),e=t("toUpperCase");return U0=e,U0}var IB=PB();const rg=ft(IB);function xt(t){return function(){return t}}const _M=Math.cos,Rp=Math.sin,oi=Math.sqrt,Np=Math.PI,ng=2*Np,e1=Math.PI,t1=2*e1,ns=1e-6,OB=t1-ns;function bM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function CB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bM;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class kB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bM:CB(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=n-e,f=i-r,d=s-e,p=l-r,v=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ns)if(!(Math.abs(p*c-f*d)>ns)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-s,w=i-l,x=c*c+f*f,b=y*y+w*w,E=Math.sqrt(x),A=Math.sqrt(v),O=o*Math.tan((e1-Math.acos((x+v-b)/(2*E*A)))/2),M=O/A,C=O/E;Math.abs(M-1)>ns&&this._append`L${e+M*d},${r+M*p}`,this._append`A${o},${o},0,0,${+(p*y>d*w)},${this._x1=e+C*c},${this._y1=r+C*f}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),f=e+l,d=r+c,p=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ns||Math.abs(this._y1-d)>ns)&&this._append`L${f},${d}`,n&&(v<0&&(v=v%t1+t1),v>OB?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:v>ns&&this._append`A${n},${n},0,${+(v>=e1)},${p},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Zx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new kB(e)}function eE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wM(t){this._context=t}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ig(t){return new wM(t)}function xM(t){return t[0]}function EM(t){return t[1]}function SM(t,e){var r=xt(!0),n=null,i=ig,o=null,s=Zx(l);t=typeof t=="function"?t:t===void 0?xM:xt(t),e=typeof e=="function"?e:e===void 0?EM:xt(e);function l(c){var f,d=(c=eE(c)).length,p,v=!1,y;for(n==null&&(o=i(y=s())),f=0;f<=d;++f)!(f<d&&r(p=c[f],f,c))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(p,f,c),+e(p,f,c));if(y)return o=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:xt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:xt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(o=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=o=null:o=i(n=c),l):n},l}function Kd(t,e,r){var n=null,i=xt(!0),o=null,s=ig,l=null,c=Zx(f);t=typeof t=="function"?t:t===void 0?xM:xt(+t),e=typeof e=="function"?e:xt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EM:xt(+r);function f(p){var v,y,w,x=(p=eE(p)).length,b,E=!1,A,O=new Array(x),M=new Array(x);for(o==null&&(l=s(A=c())),v=0;v<=x;++v){if(!(v<x&&i(b=p[v],v,p))===E)if(E=!E)y=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=y;--w)l.point(O[w],M[w]);l.lineEnd(),l.areaEnd()}E&&(O[v]=+t(b,v,p),M[v]=+e(b,v,p),l.point(n?+n(b,v,p):O[v],r?+r(b,v,p):M[v]))}if(A)return l=null,A+""||null}function d(){return SM().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:xt(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:xt(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:xt(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:xt(+p),f):r},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(r)},f.lineX1=function(){return d().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:xt(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class TM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function RB(t){return new TM(t,!0)}function NB(t){return new TM(t,!1)}const tE={draw(t,e){const r=oi(e/Np);t.moveTo(r,0),t.arc(0,0,r,0,ng)}},jB={draw(t,e){const r=oi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},AM=oi(1/3),MB=AM*2,DB={draw(t,e){const r=oi(e/MB),n=r*AM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},LB={draw(t,e){const r=oi(e),n=-r/2;t.rect(n,n,r,r)}},$B=.8908130915292852,PM=Rp(Np/10)/Rp(7*Np/10),VB=Rp(ng/10)*PM,FB=-_M(ng/10)*PM,BB={draw(t,e){const r=oi(e*$B),n=VB*r,i=FB*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=ng*o/5,l=_M(s),c=Rp(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},q0=oi(3),UB={draw(t,e){const r=-oi(e/(q0*3));t.moveTo(0,r*2),t.lineTo(-q0*r,-r),t.lineTo(q0*r,-r),t.closePath()}},Sn=-.5,Tn=oi(3)/2,r1=1/oi(12),qB=(r1/2+1)*3,zB={draw(t,e){const r=oi(e/qB),n=r/2,i=r*r1,o=n,s=r*r1+r,l=-o,c=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(Sn*n-Tn*i,Tn*n+Sn*i),t.lineTo(Sn*o-Tn*s,Tn*o+Sn*s),t.lineTo(Sn*l-Tn*c,Tn*l+Sn*c),t.lineTo(Sn*n+Tn*i,Sn*i-Tn*n),t.lineTo(Sn*o+Tn*s,Sn*s-Tn*o),t.lineTo(Sn*l+Tn*c,Sn*c-Tn*l),t.closePath()}};function WB(t,e){let r=null,n=Zx(i);t=typeof t=="function"?t:xt(t||tE),e=typeof e=="function"?e:xt(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:xt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:xt(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function jp(){}function Mp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function IM(t){this._context=t}IM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HB(t){return new IM(t)}function OM(t){this._context=t}OM.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KB(t){return new OM(t)}function CM(t){this._context=t}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GB(t){return new CM(t)}function kM(t){this._context=t}kM.prototype={areaStart:jp,areaEnd:jp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function XB(t){return new kM(t)}function RI(t){return t<0?-1:1}function NI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),l=(o*i+s*n)/(n+i);return(RI(o)+RI(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function jI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function z0(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-n)/3;t._context.bezierCurveTo(n+l,i+l*e,o-l,s-l*r,o,s)}function Dp(t){this._context=t}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z0(this,this._t0,jI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,z0(this,jI(this,r=NI(this,t,e)),r);break;default:z0(this,this._t0,r=NI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function RM(t){this._context=new NM(t)}(RM.prototype=Object.create(Dp.prototype)).point=function(t,e){Dp.prototype.point.call(this,e,t)};function NM(t){this._context=t}NM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function YB(t){return new Dp(t)}function QB(t){return new RM(t)}function jM(t){this._context=t}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MI(t),i=MI(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MI(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function JB(t){return new jM(t)}function og(t,e){this._context=t,this._t=e}og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ZB(t){return new og(t,.5)}function eU(t){return new og(t,0)}function tU(t){return new og(t,1)}function Gu(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,l=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function n1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function rU(t,e){return t[e]}function nU(t){const e=[];return e.key=t,e}function iU(){var t=xt([]),e=n1,r=Gu,n=rU;function i(o){var s=Array.from(t.apply(this,arguments),nU),l,c=s.length,f=-1,d;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+n(p,s[l].key,f,o)]).data=p;for(l=0,d=eE(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:xt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:xt(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?n1:typeof o=="function"?o:xt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??Gu,i):r},i}function oU(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Gu(t,e)}}function aU(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,l=0;s<i;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Gu(t,e)}}function sU(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var l=0,c=0,f=0;l<s;++l){for(var d=t[e[l]],p=d[n][1]||0,v=d[n-1][1]||0,y=(p-v)/2,w=0;w<l;++w){var x=t[e[w]],b=x[n][1]||0,E=x[n-1][1]||0;y+=b-E}c+=p,f+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Gu(t,e)}}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var uU=["type","size","sizeType"];function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i1.apply(this,arguments)}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){lU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lU(t,e,r){return e=cU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cU(t){var e=fU(t,"string");return yf(e)=="symbol"?e:e+""}function fU(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hU(t,e){if(t==null)return{};var r=dU(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MM={symbolCircle:tE,symbolCross:jB,symbolDiamond:DB,symbolSquare:LB,symbolStar:BB,symbolTriangle:UB,symbolWye:zB},pU=Math.PI/180,mU=function(e){var r="symbol".concat(rg(e));return MM[r]||tE},gU=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*pU;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vU=function(e,r){MM["symbol".concat(rg(e))]=r},rE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=hU(e,uU),f=LI(LI({},c),{},{type:n,size:o,sizeType:l}),d=function(){var b=mU(n),E=WB().type(b).size(gU(o,l,n));return E()},p=f.className,v=f.cx,y=f.cy,w=je(f,!0);return v===+v&&y===+y&&o===+o?W.createElement("path",i1({},w,{className:Xe("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(y,")"),d:d()})):null};rE.registerSymbol=vU;function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function $I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(r),!0).forEach(function(n){_f(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LM(n.key),n)}}function wU(t,e,r){return e&&bU(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xU(t,e,r){return e=Lp(e),EU(t,DM()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function EU(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SU(t)}function SU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function TU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function _f(t,e,r){return e=LM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LM(t){var e=AU(t,"string");return Xu(e)=="symbol"?e:e+""}function AU(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xn=32,nE=function(t){function e(){return _U(this,e),xU(this,e,arguments)}return TU(e,t),wU(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Xn/2,s=Xn/6,l=Xn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Xn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Xn,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xn/8,"h").concat(Xn,"v").concat(Xn*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var f=yU({},n);return delete f.legendIcon,W.cloneElement(n.legendIcon,f)}return W.createElement(rE,{fill:c,cx:o,cy:o,size:Xn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:Xn,height:Xn},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,w){var x=y.formatter||c,b=Xe(_f(_f({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var E=Be(y.value)?null:y.value;ni(!Be(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=y.inactive?f:y.color;return W.createElement("li",o1({className:b,style:p,key:"legend-item-".concat(w)},_s(n.props,y,w)),W.createElement(Jw,{width:s,height:s,viewBox:d,style:v},n.renderIcon(y)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},x?x(E,y,w):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(z.PureComponent);_f(nE,"displayName","Legend");_f(nE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var W0,VI;function PU(){if(VI)return W0;VI=1;var t=Zm();function e(){this.__data__=new t,this.size=0}return W0=e,W0}var H0,FI;function IU(){if(FI)return H0;FI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return H0=t,H0}var K0,BI;function OU(){if(BI)return K0;BI=1;function t(e){return this.__data__.get(e)}return K0=t,K0}var G0,UI;function CU(){if(UI)return G0;UI=1;function t(e){return this.__data__.has(e)}return G0=t,G0}var X0,qI;function kU(){if(qI)return X0;qI=1;var t=Zm(),e=Kx(),r=Gx(),n=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(o,s),this.size=l.size,this}return X0=i,X0}var Y0,zI;function $M(){if(zI)return Y0;zI=1;var t=Zm(),e=PU(),r=IU(),n=OU(),i=CU(),o=kU();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,Y0=s,Y0}var Q0,WI;function RU(){if(WI)return Q0;WI=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Q0=e,Q0}var J0,HI;function NU(){if(HI)return J0;HI=1;function t(e){return this.__data__.has(e)}return J0=t,J0}var Z0,KI;function VM(){if(KI)return Z0;KI=1;var t=Gx(),e=RU(),r=NU();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Z0=n,Z0}var e_,GI;function FM(){if(GI)return e_;GI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return e_=t,e_}var t_,XI;function BM(){if(XI)return t_;XI=1;function t(e,r){return e.has(r)}return t_=t,t_}var r_,YI;function UM(){if(YI)return r_;YI=1;var t=VM(),e=FM(),r=BM(),n=1,i=2;function o(s,l,c,f,d,p){var v=c&n,y=s.length,w=l.length;if(y!=w&&!(v&&w>y))return!1;var x=p.get(s),b=p.get(l);if(x&&b)return x==l&&b==s;var E=-1,A=!0,O=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++E<y;){var M=s[E],C=l[E];if(f)var N=v?f(C,M,E,l,s,p):f(M,C,E,s,l,p);if(N!==void 0){if(N)continue;A=!1;break}if(O){if(!e(l,function(P,I){if(!r(O,I)&&(M===P||d(M,P,c,f,p)))return O.push(I)})){A=!1;break}}else if(!(M===C||d(M,C,c,f,p))){A=!1;break}}return p.delete(s),p.delete(l),A}return r_=o,r_}var n_,QI;function jU(){if(QI)return n_;QI=1;var t=Ni(),e=t.Uint8Array;return n_=e,n_}var i_,JI;function MU(){if(JI)return i_;JI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return i_=t,i_}var o_,ZI;function iE(){if(ZI)return o_;ZI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return o_=t,o_}var a_,eO;function DU(){if(eO)return a_;eO=1;var t=ph(),e=jU(),r=Hx(),n=UM(),i=MU(),o=iE(),s=1,l=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",x="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",O=t?t.prototype:void 0,M=O?O.valueOf:void 0;function C(N,P,I,R,F,D,L){switch(I){case A:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case E:return!(N.byteLength!=P.byteLength||!D(new e(N),new e(P)));case c:case f:case v:return r(+N,+P);case d:return N.name==P.name&&N.message==P.message;case y:case x:return N==P+"";case p:var j=i;case w:var J=R&s;if(j||(j=o),N.size!=P.size&&!J)return!1;var Z=L.get(N);if(Z)return Z==P;R|=l,L.set(N,P);var ne=n(j(N),j(P),R,F,D,L);return L.delete(N),ne;case b:if(M)return M.call(N)==M.call(P)}return!1}return a_=C,a_}var s_,tO;function qM(){if(tO)return s_;tO=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return s_=t,s_}var u_,rO;function LU(){if(rO)return u_;rO=1;var t=qM(),e=Jr();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return u_=r,u_}var l_,nO;function $U(){if(nO)return l_;nO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var l=e[n];r(l,n,e)&&(s[o++]=l)}return s}return l_=t,l_}var c_,iO;function VU(){if(iO)return c_;iO=1;function t(){return[]}return c_=t,c_}var f_,oO;function FU(){if(oO)return f_;oO=1;var t=$U(),e=VU(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return n.call(s,l)}))}:e;return f_=o,f_}var h_,aO;function BU(){if(aO)return h_;aO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return h_=t,h_}var d_,sO;function UU(){if(sO)return d_;sO=1;var t=bo(),e=wo(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return d_=n,d_}var p_,uO;function oE(){if(uO)return p_;uO=1;var t=UU(),e=wo(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return p_=o,p_}var Yc={exports:{}},m_,lO;function qU(){if(lO)return m_;lO=1;function t(){return!1}return m_=t,m_}Yc.exports;var cO;function zM(){return cO||(cO=1,function(t,e){var r=Ni(),n=qU(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||n;t.exports=f}(Yc,Yc.exports)),Yc.exports}var g_,fO;function aE(){if(fO)return g_;fO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return g_=r,g_}var v_,hO;function sE(){if(hO)return v_;hO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return v_=e,v_}var y_,dO;function zU(){if(dO)return y_;dO=1;var t=bo(),e=sE(),r=wo(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",C="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",D={};D[A]=D[O]=D[M]=D[C]=D[N]=D[P]=D[I]=D[R]=D[F]=!0,D[n]=D[i]=D[b]=D[o]=D[E]=D[s]=D[l]=D[c]=D[f]=D[d]=D[p]=D[v]=D[y]=D[w]=D[x]=!1;function L(j){return r(j)&&e(j.length)&&!!D[t(j)]}return y_=L,y_}var __,pO;function WM(){if(pO)return __;pO=1;function t(e){return function(r){return e(r)}}return __=t,__}var Qc={exports:{}};Qc.exports;var mO;function WU(){return mO||(mO=1,function(t,e){var r=fM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(Qc,Qc.exports)),Qc.exports}var b_,gO;function HM(){if(gO)return b_;gO=1;var t=zU(),e=WM(),r=WU(),n=r&&r.isTypedArray,i=n?e(n):t;return b_=i,b_}var w_,vO;function HU(){if(vO)return w_;vO=1;var t=BU(),e=oE(),r=Jr(),n=zM(),i=aE(),o=HM(),s=Object.prototype,l=s.hasOwnProperty;function c(f,d){var p=r(f),v=!p&&e(f),y=!p&&!v&&n(f),w=!p&&!v&&!y&&o(f),x=p||v||y||w,b=x?t(f.length,String):[],E=b.length;for(var A in f)(d||l.call(f,A))&&!(x&&(A=="length"||y&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,E)))&&b.push(A);return b}return w_=c,w_}var x_,yO;function KU(){if(yO)return x_;yO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return x_=e,x_}var E_,_O;function KM(){if(_O)return E_;_O=1;function t(e,r){return function(n){return e(r(n))}}return E_=t,E_}var S_,bO;function GU(){if(bO)return S_;bO=1;var t=KM(),e=t(Object.keys,Object);return S_=e,S_}var T_,wO;function XU(){if(wO)return T_;wO=1;var t=KU(),e=GU(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))n.call(o,l)&&l!="constructor"&&s.push(l);return s}return T_=i,T_}var A_,xO;function mh(){if(xO)return A_;xO=1;var t=Wx(),e=sE();function r(n){return n!=null&&e(n.length)&&!t(n)}return A_=r,A_}var P_,EO;function ag(){if(EO)return P_;EO=1;var t=HU(),e=XU(),r=mh();function n(i){return r(i)?t(i):e(i)}return P_=n,P_}var I_,SO;function YU(){if(SO)return I_;SO=1;var t=LU(),e=FU(),r=ag();function n(i){return t(i,r,e)}return I_=n,I_}var O_,TO;function QU(){if(TO)return O_;TO=1;var t=YU(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,l,c,f,d){var p=l&e,v=t(o),y=v.length,w=t(s),x=w.length;if(y!=x&&!p)return!1;for(var b=y;b--;){var E=v[b];if(!(p?E in s:n.call(s,E)))return!1}var A=d.get(o),O=d.get(s);if(A&&O)return A==s&&O==o;var M=!0;d.set(o,s),d.set(s,o);for(var C=p;++b<y;){E=v[b];var N=o[E],P=s[E];if(c)var I=p?c(P,N,E,s,o,d):c(N,P,E,o,s,d);if(!(I===void 0?N===P||f(N,P,l,c,d):I)){M=!1;break}C||(C=E=="constructor")}if(M&&!C){var R=o.constructor,F=s.constructor;R!=F&&"constructor"in o&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(M=!1)}return d.delete(o),d.delete(s),M}return O_=i,O_}var C_,AO;function JU(){if(AO)return C_;AO=1;var t=Cs(),e=Ni(),r=t(e,"DataView");return C_=r,C_}var k_,PO;function ZU(){if(PO)return k_;PO=1;var t=Cs(),e=Ni(),r=t(e,"Promise");return k_=r,k_}var R_,IO;function GM(){if(IO)return R_;IO=1;var t=Cs(),e=Ni(),r=t(e,"Set");return R_=r,R_}var N_,OO;function eq(){if(OO)return N_;OO=1;var t=Cs(),e=Ni(),r=t(e,"WeakMap");return N_=r,N_}var j_,CO;function tq(){if(CO)return j_;CO=1;var t=JU(),e=Kx(),r=ZU(),n=GM(),i=eq(),o=bo(),s=hM(),l="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",v="[object DataView]",y=s(t),w=s(e),x=s(r),b=s(n),E=s(i),A=o;return(t&&A(new t(new ArrayBuffer(1)))!=v||e&&A(new e)!=l||r&&A(r.resolve())!=f||n&&A(new n)!=d||i&&A(new i)!=p)&&(A=function(O){var M=o(O),C=M==c?O.constructor:void 0,N=C?s(C):"";if(N)switch(N){case y:return v;case w:return l;case x:return f;case b:return d;case E:return p}return M}),j_=A,j_}var M_,kO;function rq(){if(kO)return M_;kO=1;var t=$M(),e=UM(),r=DU(),n=QU(),i=tq(),o=Jr(),s=zM(),l=HM(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(x,b,E,A,O,M){var C=o(x),N=o(b),P=C?d:i(x),I=N?d:i(b);P=P==f?p:P,I=I==f?p:I;var R=P==p,F=I==p,D=P==I;if(D&&s(x)){if(!s(b))return!1;C=!0,R=!1}if(D&&!R)return M||(M=new t),C||l(x)?e(x,b,E,A,O,M):r(x,b,P,E,A,O,M);if(!(E&c)){var L=R&&y.call(x,"__wrapped__"),j=F&&y.call(b,"__wrapped__");if(L||j){var J=L?x.value():x,Z=j?b.value():b;return M||(M=new t),O(J,Z,E,A,M)}}return D?(M||(M=new t),n(x,b,E,A,O,M)):!1}return M_=w,M_}var D_,RO;function uE(){if(RO)return D_;RO=1;var t=rq(),e=wo();function r(n,i,o,s,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,l)}return D_=r,D_}var L_,NO;function nq(){if(NO)return L_;NO=1;var t=$M(),e=uE(),r=1,n=2;function i(o,s,l,c){var f=l.length,d=f,p=!c;if(o==null)return!d;for(o=Object(o);f--;){var v=l[f];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<d;){v=l[f];var y=v[0],w=o[y],x=v[1];if(p&&v[2]){if(w===void 0&&!(y in o))return!1}else{var b=new t;if(c)var E=c(w,x,y,o,s,b);if(!(E===void 0?e(x,w,r|n,c,b):E))return!1}}return!0}return L_=i,L_}var $_,jO;function XM(){if(jO)return $_;jO=1;var t=wa();function e(r){return r===r&&!t(r)}return $_=e,$_}var V_,MO;function iq(){if(MO)return V_;MO=1;var t=XM(),e=ag();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],l=n[s];i[o]=[s,l,t(l)]}return i}return V_=r,V_}var F_,DO;function YM(){if(DO)return F_;DO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return F_=t,F_}var B_,LO;function oq(){if(LO)return B_;LO=1;var t=nq(),e=iq(),r=YM();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return B_=n,B_}var U_,$O;function aq(){if($O)return U_;$O=1;function t(e,r){return e!=null&&r in Object(e)}return U_=t,U_}var q_,VO;function sq(){if(VO)return q_;VO=1;var t=mM(),e=oE(),r=Jr(),n=aE(),i=sE(),o=tg();function s(l,c,f){c=t(c,l);for(var d=-1,p=c.length,v=!1;++d<p;){var y=o(c[d]);if(!(v=l!=null&&f(l,y)))break;l=l[y]}return v||++d!=p?v:(p=l==null?0:l.length,!!p&&i(p)&&n(y,p)&&(r(l)||e(l)))}return q_=s,q_}var z_,FO;function uq(){if(FO)return z_;FO=1;var t=aq(),e=sq();function r(n,i){return n!=null&&e(n,i,t)}return z_=r,z_}var W_,BO;function lq(){if(BO)return W_;BO=1;var t=uE(),e=gM(),r=uq(),n=zx(),i=XM(),o=YM(),s=tg(),l=1,c=2;function f(d,p){return n(d)&&i(p)?o(s(d),p):function(v){var y=e(v,d);return y===void 0&&y===p?r(v,d):t(p,y,l|c)}}return W_=f,W_}var H_,UO;function jl(){if(UO)return H_;UO=1;function t(e){return e}return H_=t,H_}var K_,qO;function cq(){if(qO)return K_;qO=1;function t(e){return function(r){return r==null?void 0:r[e]}}return K_=t,K_}var G_,zO;function fq(){if(zO)return G_;zO=1;var t=Yx();function e(r){return function(n){return t(n,r)}}return G_=e,G_}var X_,WO;function hq(){if(WO)return X_;WO=1;var t=cq(),e=fq(),r=zx(),n=tg();function i(o){return r(o)?t(n(o)):e(o)}return X_=i,X_}var Y_,HO;function ji(){if(HO)return Y_;HO=1;var t=oq(),e=lq(),r=jl(),n=Jr(),i=hq();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Y_=o,Y_}var Q_,KO;function QM(){if(KO)return Q_;KO=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return Q_=t,Q_}var J_,GO;function dq(){if(GO)return J_;GO=1;function t(e){return e!==e}return J_=t,J_}var Z_,XO;function pq(){if(XO)return Z_;XO=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return Z_=t,Z_}var eb,YO;function mq(){if(YO)return eb;YO=1;var t=QM(),e=dq(),r=pq();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return eb=n,eb}var tb,QO;function gq(){if(QO)return tb;QO=1;var t=mq();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return tb=e,tb}var rb,JO;function vq(){if(JO)return rb;JO=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return rb=t,rb}var nb,ZO;function yq(){if(ZO)return nb;ZO=1;function t(){}return nb=t,nb}var ib,eC;function _q(){if(eC)return ib;eC=1;var t=GM(),e=yq(),r=iE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return ib=i,ib}var ob,tC;function bq(){if(tC)return ob;tC=1;var t=VM(),e=gq(),r=vq(),n=BM(),i=_q(),o=iE(),s=200;function l(c,f,d){var p=-1,v=e,y=c.length,w=!0,x=[],b=x;if(d)w=!1,v=r;else if(y>=s){var E=f?null:i(c);if(E)return o(E);w=!1,v=n,b=new t}else b=f?[]:x;e:for(;++p<y;){var A=c[p],O=f?f(A):A;if(A=d||A!==0?A:0,w&&O===O){for(var M=b.length;M--;)if(b[M]===O)continue e;f&&b.push(O),x.push(A)}else v(b,O,d)||(b!==x&&b.push(O),x.push(A))}return x}return ob=l,ob}var ab,rC;function wq(){if(rC)return ab;rC=1;var t=ji(),e=bq();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return ab=r,ab}var xq=wq();const nC=ft(xq);function JM(t,e,r){return e===!0?nC(t,r):Be(e)?nC(t,e):t}function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}var Eq=["ref"];function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eD(n.key),n)}}function Tq(t,e,r){return e&&oC(t.prototype,e),r&&oC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aq(t,e,r){return e=$p(e),Pq(t,ZM()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function Pq(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iq(t)}function Iq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function Oq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s1(t,e)}function sg(t,e,r){return e=eD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eD(t){var e=Cq(t,"string");return Yu(e)=="symbol"?e:e+""}function Cq(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kq(t,e){if(t==null)return{};var r=Rq(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nq(t){return t.value}function jq(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=kq(e,Eq);return W.createElement(nE,r)}var aC=1,ds=function(t){function e(){var r;Sq(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Aq(this,e,[].concat(i)),sg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Oq(e,t),Tq(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>aC||Math.abs(i.height-this.lastBoundingBox.height)>aC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();p={left:((f||0)-y.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();v={top:((d||0)-w.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qi(Qi({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=Qi(Qi({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){n.wrapperNode=y}},jq(o,Qi(Qi({},this.props),{},{payload:JM(d,f,Nq)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Qi(Qi({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);sg(ds,"displayName","Legend");sg(ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sb,sC;function Mq(){if(sC)return sb;sC=1;var t=ph(),e=oE(),r=Jr(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return sb=i,sb}var ub,uC;function tD(){if(uC)return ub;uC=1;var t=qM(),e=Mq();function r(n,i,o,s,l){var c=-1,f=n.length;for(o||(o=e),l||(l=[]);++c<f;){var d=n[c];i>0&&o(d)?i>1?r(d,i-1,o,s,l):t(l,d):s||(l[l.length]=d)}return l}return ub=r,ub}var lb,lC;function Dq(){if(lC)return lb;lC=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),l=i(r),c=l.length;c--;){var f=l[e?c:++o];if(n(s[f],f,s)===!1)break}return r}}return lb=t,lb}var cb,cC;function Lq(){if(cC)return cb;cC=1;var t=Dq(),e=t();return cb=e,cb}var fb,fC;function rD(){if(fC)return fb;fC=1;var t=Lq(),e=ag();function r(n,i){return n&&t(n,i,e)}return fb=r,fb}var hb,hC;function $q(){if(hC)return hb;hC=1;var t=mh();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return hb=e,hb}var db,dC;function lE(){if(dC)return db;dC=1;var t=rD(),e=$q(),r=e(t);return db=r,db}var pb,pC;function nD(){if(pC)return pb;pC=1;var t=lE(),e=mh();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,f){s[++o]=i(l,c,f)}),s}return pb=r,pb}var mb,mC;function Vq(){if(mC)return mb;mC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return mb=t,mb}var gb,gC;function Fq(){if(gC)return gb;gC=1;var t=Cl();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,l=t(r),c=n!==void 0,f=n===null,d=n===n,p=t(n);if(!f&&!p&&!l&&r>n||l&&c&&d&&!f&&!p||o&&c&&d||!i&&d||!s)return 1;if(!o&&!l&&!p&&r<n||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!d)return-1}return 0}return gb=e,gb}var vb,vC;function Bq(){if(vC)return vb;vC=1;var t=Fq();function e(r,n,i){for(var o=-1,s=r.criteria,l=n.criteria,c=s.length,f=i.length;++o<c;){var d=t(s[o],l[o]);if(d){if(o>=f)return d;var p=i[o];return d*(p=="desc"?-1:1)}}return r.index-n.index}return vb=e,vb}var yb,yC;function Uq(){if(yC)return yb;yC=1;var t=Xx(),e=Yx(),r=ji(),n=nD(),i=Vq(),o=WM(),s=Bq(),l=jl(),c=Jr();function f(d,p,v){p.length?p=t(p,function(x){return c(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):p=[l];var y=-1;p=t(p,o(r));var w=n(d,function(x,b,E){var A=t(p,function(O){return O(x)});return{criteria:A,index:++y,value:x}});return i(w,function(x,b){return s(x,b,v)})}return yb=f,yb}var _b,_C;function qq(){if(_C)return _b;_C=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return _b=t,_b}var bb,bC;function zq(){if(bC)return bb;bC=1;var t=qq(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=s[l];return d[i]=o(f),t(n,this,d)}}return bb=r,bb}var wb,wC;function Wq(){if(wC)return wb;wC=1;function t(e){return function(){return e}}return wb=t,wb}var xb,xC;function iD(){if(xC)return xb;xC=1;var t=Cs(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return xb=e,xb}var Eb,EC;function Hq(){if(EC)return Eb;EC=1;var t=Wq(),e=iD(),r=jl(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Eb=n,Eb}var Sb,SC;function Kq(){if(SC)return Sb;SC=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Sb=n,Sb}var Tb,TC;function Gq(){if(TC)return Tb;TC=1;var t=Hq(),e=Kq(),r=e(t);return Tb=r,Tb}var Ab,AC;function Xq(){if(AC)return Ab;AC=1;var t=jl(),e=zq(),r=Gq();function n(i,o){return r(e(i,o,t),i+"")}return Ab=n,Ab}var Pb,PC;function ug(){if(PC)return Pb;PC=1;var t=Hx(),e=mh(),r=aE(),n=wa();function i(o,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return Pb=i,Pb}var Ib,IC;function Yq(){if(IC)return Ib;IC=1;var t=tD(),e=Uq(),r=Xq(),n=ug(),i=r(function(o,s){if(o==null)return[];var l=s.length;return l>1&&n(o,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return Ib=i,Ib}var Qq=Yq();const cE=ft(Qq);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}function Jq(t,e){return r9(t)||t9(t,e)||e9(t,e)||Zq()}function Zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return OC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(t,e)}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function r9(t){if(Array.isArray(t))return t}function CC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ob(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(r),!0).forEach(function(n){n9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n9(t,e,r){return e=i9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i9(t){var e=o9(t,"string");return bf(e)=="symbol"?e:e+""}function o9(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a9(t){return Array.isArray(t)&&Zt(t[0])&&Zt(t[1])?t.join(" ~ "):t}var s9=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,v=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,x=e.label,b=e.labelFormatter,E=e.accessibilityLayer,A=E===void 0?!1:E,O=function(){if(d&&d.length){var L={padding:0,margin:0},j=(v?cE(d,v):d).map(function(J,Z){if(J.type==="none")return null;var ne=Ob({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},l),G=J.formatter||p||a9,H=J.value,Q=J.name,ae=H,U=Q;if(G&&ae!=null&&U!=null){var X=G(H,Q,J,Z,d);if(Array.isArray(X)){var se=Jq(X,2);ae=se[0],U=se[1]}else ae=X}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:ne},Zt(U)?W.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Zt(U)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ae),W.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:L},j)}return null},M=Ob({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=Ob({margin:0},f),N=!Ge(x),P=N?x:"",I=Xe("recharts-default-tooltip",y),R=Xe("recharts-tooltip-label",w);N&&b&&d!==void 0&&d!==null&&(P=b(x,d));var F=A?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",u1({className:I,style:M},F),W.createElement("p",{className:R,style:C},W.isValidElement(P)?P:"".concat(P)),O())};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Gd(t,e,r){return e=u9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9(t){var e=l9(t,"string");return wf(e)=="symbol"?e:e+""}function l9(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc="recharts-tooltip-wrapper",c9={visibility:"hidden"};function f9(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Xe(Vc,Gd(Gd(Gd(Gd({},"".concat(Vc,"-right"),ge(r)&&e&&ge(e.x)&&r>=e.x),"".concat(Vc,"-left"),ge(r)&&e&&ge(e.x)&&r<e.x),"".concat(Vc,"-bottom"),ge(n)&&e&&ge(e.y)&&n>=e.y),"".concat(Vc,"-top"),ge(n)&&e&&ge(e.y)&&n<e.y))}function kC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&ge(o[n]))return o[n];var d=r[n]-l-i,p=r[n]+i;if(e[n])return s[n]?d:p;if(s[n]){var v=d,y=c[n];return v<y?Math.max(p,c[n]):Math.max(d,c[n])}var w=p+l,x=c[n]+f;return w>x?Math.max(d,c[n]):Math.max(p,c[n])}function h9(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function d9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,d,p;return s.height>0&&s.width>0&&r?(d=kC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=kC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=h9({translateX:d,translateY:p,useTranslate3d:l})):f=c9,{cssProperties:f,cssClasses:f9({translateX:d,translateY:p,coordinate:r})}}function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function RC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(r),!0).forEach(function(n){c1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aD(n.key),n)}}function g9(t,e,r){return e&&m9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v9(t,e,r){return e=Vp(e),y9(t,oD()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function y9(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _9(t)}function _9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function b9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l1(t,e)}function c1(t,e,r){return e=aD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aD(t){var e=w9(t,"string");return Qu(e)=="symbol"?e:e+""}function w9(t,e){if(Qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jC=1,x9=function(t){function e(){var r;p9(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=v9(this,e,[].concat(i)),c1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),c1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),r}return b9(e,t),g9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jC||Math.abs(n.height-this.state.lastBoundingBox.height)>jC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,y=i.offset,w=i.position,x=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,A=i.wrapperStyle,O=d9({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:y,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),M=O.cssClasses,C=O.cssProperties,N=NC(NC({transition:v&&o?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return W.createElement("div",{tabIndex:-1,className:M,style:N,ref:function(I){n.wrapperNode=I}},f)}}])}(z.PureComponent),E9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ks={isSsr:E9()};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function MC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(r),!0).forEach(function(n){fE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uD(n.key),n)}}function A9(t,e,r){return e&&T9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P9(t,e,r){return e=Fp(e),I9(t,sD()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function I9(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O9(t)}function O9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function C9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function fE(t,e,r){return e=uD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uD(t){var e=k9(t,"string");return Ju(e)=="symbol"?e:e+""}function k9(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R9(t){return t.dataKey}function N9(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(s9,e)}var cn=function(t){function e(){return S9(this,e),P9(this,e,arguments)}return C9(e,t),A9(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,v=i.isAnimationActive,y=i.offset,w=i.payload,x=i.payloadUniqBy,b=i.position,E=i.reverseDirection,A=i.useTranslate3d,O=i.viewBox,M=i.wrapperStyle,C=w??[];p&&C.length&&(C=JM(w.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),x,R9));var N=C.length>0;return W.createElement(x9,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:o,coordinate:d,hasPayload:N,offset:y,position:b,reverseDirection:E,useTranslate3d:A,viewBox:O,wrapperStyle:M},N9(f,DC(DC({},this.props),{},{payload:C})))}}])}(z.PureComponent);fE(cn,"displayName","Tooltip");fE(cn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ks.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cb,LC;function j9(){if(LC)return Cb;LC=1;var t=Ni(),e=function(){return t.Date.now()};return Cb=e,Cb}var kb,$C;function M9(){if($C)return kb;$C=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return kb=e,kb}var Rb,VC;function D9(){if(VC)return Rb;VC=1;var t=M9(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Rb=r,Rb}var Nb,FC;function lD(){if(FC)return Nb;FC=1;var t=D9(),e=wa(),r=Cl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?n:+f}return Nb=c,Nb}var jb,BC;function L9(){if(BC)return jb;BC=1;var t=wa(),e=j9(),r=lD(),n="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var d,p,v,y,w,x,b=0,E=!1,A=!1,O=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(E=!!f.leading,A="maxWait"in f,v=A?i(r(f.maxWait)||0,c):v,O="trailing"in f?!!f.trailing:O);function M(j){var J=d,Z=p;return d=p=void 0,b=j,y=l.apply(Z,J),y}function C(j){return b=j,w=setTimeout(I,c),E?M(j):y}function N(j){var J=j-x,Z=j-b,ne=c-J;return A?o(ne,v-Z):ne}function P(j){var J=j-x,Z=j-b;return x===void 0||J>=c||J<0||A&&Z>=v}function I(){var j=e();if(P(j))return R(j);w=setTimeout(I,N(j))}function R(j){return w=void 0,O&&d?M(j):(d=p=void 0,y)}function F(){w!==void 0&&clearTimeout(w),b=0,d=x=p=w=void 0}function D(){return w===void 0?y:R(e())}function L(){var j=e(),J=P(j);if(d=arguments,p=this,x=j,J){if(w===void 0)return C(x);if(A)return clearTimeout(w),w=setTimeout(I,c),M(x)}return w===void 0&&(w=setTimeout(I,c)),y}return L.cancel=F,L.flush=D,L}return jb=s,jb}var Mb,UC;function $9(){if(UC)return Mb;UC=1;var t=L9(),e=wa(),r="Expected a function";function n(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return Mb=n,Mb}var V9=$9();const cD=ft(V9);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){F9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F9(t,e,r){return e=B9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B9(t){var e=U9(t,"string");return xf(e)=="symbol"?e:e+""}function U9(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q9(t,e){return K9(t)||H9(t,e)||W9(t,e)||z9()}function z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(t,e){if(t){if(typeof t=="string")return zC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(t,e)}}function zC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function K9(t){if(Array.isArray(t))return t}var Yd=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,y=t.children,w=t.debounce,x=w===void 0?0:w,b=t.id,E=t.className,A=t.onResize,O=t.style,M=O===void 0?{}:O,C=z.useRef(null),N=z.useRef();N.current=A,z.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=z.useState({containerWidth:i.width,containerHeight:i.height}),I=q9(P,2),R=I[0],F=I[1],D=z.useCallback(function(j,J){F(function(Z){var ne=Math.round(j),G=Math.round(J);return Z.containerWidth===ne&&Z.containerHeight===G?Z:{containerWidth:ne,containerHeight:G}})},[]);z.useEffect(function(){var j=function(Q){var ae,U=Q[0].contentRect,X=U.width,se=U.height;D(X,se),(ae=N.current)===null||ae===void 0||ae.call(N,X,se)};x>0&&(j=cD(j,x,{trailing:!0,leading:!1}));var J=new ResizeObserver(j),Z=C.current.getBoundingClientRect(),ne=Z.width,G=Z.height;return D(ne,G),J.observe(C.current),function(){J.disconnect()}},[D,x]);var L=z.useMemo(function(){var j=R.containerWidth,J=R.containerHeight;if(j<0||J<0)return null;ni(ss(s)||ss(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Z=ss(s)?j:s,ne=ss(c)?J:c;r&&r>0&&(Z?ne=Z/r:ne&&(Z=ne*r),v&&ne>v&&(ne=v)),ni(Z>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,ne,s,c,d,p,r);var G=!Array.isArray(y)&&ao(y.type).endsWith("Chart");return W.Children.map(y,function(H){return W.isValidElement(H)?z.cloneElement(H,Xd({width:Z,height:ne},G?{style:Xd({height:"100%",width:"100%",maxHeight:ne,maxWidth:Z},H.props.style)}:{})):H})},[r,y,c,v,p,d,R,s]);return W.createElement("div",{id:b?"".concat(b):void 0,className:Xe("recharts-responsive-container",E),style:Xd(Xd({},M),{},{width:s,height:c,minWidth:d,minHeight:p,maxHeight:v}),ref:C},L)}),lg=function(e){return null};lg.displayName="Cell";function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){G9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G9(t,e,r){return e=X9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X9(t){var e=Y9(t,"string");return Ef(e)=="symbol"?e:e+""}function Y9(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu={widthCache:{},cacheCount:0},Q9=2e3,J9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HC="recharts_measurement_span";function Z9(t){var e=h1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ks.isSsr)return{width:0,height:0};var n=Z9(r),i=JSON.stringify({text:e,copyStyle:n});if(Pu.widthCache[i])return Pu.widthCache[i];try{var o=document.getElementById(HC);o||(o=document.createElement("span"),o.setAttribute("id",HC),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=h1(h1({},J9),n);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Pu.widthCache[i]=c,++Pu.cacheCount>Q9&&(Pu.cacheCount=0,Pu.widthCache={}),c}catch{return{width:0,height:0}}},ez=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Bp(t,e){return iz(t)||nz(t,e)||rz(t,e)||tz()}function tz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rz(t,e){if(t){if(typeof t=="string")return KC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(t,e)}}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function iz(t){if(Array.isArray(t))return t}function oz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sz(n.key),n)}}function az(t,e,r){return e&&GC(t.prototype,e),r&&GC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sz(t){var e=uz(t,"string");return Sf(e)=="symbol"?e:e+""}function uz(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fz=Object.keys(fD),ju="NaN";function hz(t,e){return t*fD[e]}var Qd=function(){function t(e,r){oz(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!lz.test(r)&&(this.num=NaN,this.unit=""),fz.includes(r)&&(this.num=hz(e,r),this.unit="px")}return az(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=cz.exec(r))!==null&&n!==void 0?n:[],o=Bp(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}])}();function hD(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=XC.exec(e))!==null&&r!==void 0?r:[],i=Bp(n,4),o=i[1],s=i[2],l=i[3],c=Qd.parse(o??""),f=Qd.parse(l??""),d=s==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return ju;e=e.replace(XC,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=YC.exec(e))!==null&&p!==void 0?p:[],y=Bp(v,4),w=y[1],x=y[2],b=y[3],E=Qd.parse(w??""),A=Qd.parse(b??""),O=x==="+"?E.add(A):E.subtract(A);if(O.isNaN())return ju;e=e.replace(YC,O.toString())}return e}var QC=/\(([^()]*)\)/;function dz(t){for(var e=t;e.includes("(");){var r=QC.exec(e),n=Bp(r,2),i=n[1];e=e.replace(QC,hD(i))}return e}function pz(t){var e=t.replace(/\s+/g,"");return e=dz(e),e=hD(e),e}function mz(t){try{return pz(t)}catch{return ju}}function Db(t){var e=mz(t.slice(5,-1));return e===ju?"":e}var gz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vz=["dx","dy","angle","className","breakAll"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}function JC(t,e){if(t==null)return{};var r=yz(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZC(t,e){return xz(t)||wz(t,e)||bz(t,e)||_z()}function _z(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bz(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function xz(t){if(Array.isArray(t))return t}var dD=/[ \f\n\r\t\v\u2028\u2029]+/,pD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];Ge(r)||(n?o=r.toString().split(""):o=r.toString().split(dD));var s=o.map(function(c){return{word:c,width:of(c,i).width}}),l=n?0:of("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Ez=function(e,r,n,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,d=ge(s),p=l,v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(ne,G){var H=G.word,Q=G.width,ae=ne[ne.length-1];if(ae&&(i==null||o||ae.width+Q+n<Number(i)))ae.words.push(H),ae.width+=Q+n;else{var U={words:[H],width:Q};ne.push(U)}return ne},[])},y=v(r),w=function(Z){return Z.reduce(function(ne,G){return ne.width>G.width?ne:G})};if(!d)return y;for(var x="",b=function(Z){var ne=p.slice(0,Z),G=pD({breakAll:f,style:c,children:ne+x}).wordsWithComputedWidth,H=v(G),Q=H.length>s||w(H).width>Number(i);return[Q,H]},E=0,A=p.length-1,O=0,M;E<=A&&O<=p.length-1;){var C=Math.floor((E+A)/2),N=C-1,P=b(N),I=ZC(P,2),R=I[0],F=I[1],D=b(C),L=ZC(D,1),j=L[0];if(!R&&!j&&(E=C+1),R&&j&&(A=C-1),!R&&j){M=F;break}O++}return M||y},tk=function(e){var r=Ge(e)?[]:e.toString().split(dD);return[{words:r}]},Sz=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!ks.isSsr){var c,f,d=pD({breakAll:s,children:i,style:o});if(d){var p=d.wordsWithComputedWidth,v=d.spaceWidth;c=p,f=v}else return tk(i);return Ez({breakAll:s,children:i,maxLines:l,style:o},c,f,r,n)}return tk(i)},rk="#808080",bs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,v=e.textAnchor,y=v===void 0?"start":v,w=e.verticalAnchor,x=w===void 0?"end":w,b=e.fill,E=b===void 0?rk:b,A=JC(e,gz),O=z.useMemo(function(){return Sz({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),M=A.dx,C=A.dy,N=A.angle,P=A.className,I=A.breakAll,R=JC(A,vz);if(!Zt(n)||!Zt(o))return null;var F=n+(ge(M)?M:0),D=o+(ge(C)?C:0),L;switch(x){case"start":L=Db("calc(".concat(f,")"));break;case"middle":L=Db("calc(".concat((O.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:L=Db("calc(".concat(O.length-1," * -").concat(l,")"));break}var j=[];if(p){var J=O[0].width,Z=A.width;j.push("scale(".concat((ge(Z)?Z/J:1)/J,")"))}return N&&j.push("rotate(".concat(N,", ").concat(F,", ").concat(D,")")),j.length&&(R.transform=j.join(" ")),W.createElement("text",d1({},je(R,!0),{x:F,y:D,className:Xe("recharts-text",P),textAnchor:y,fill:E.includes("url")?rk:E}),O.map(function(ne,G){var H=ne.words.join(I?"":" ");return W.createElement("tspan",{x:F,dy:G===0?L:l,key:"".concat(H,"-").concat(G)},H)}))};function sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tz(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hE(t){let e,r,n;t.length!==2?(e=sa,r=(l,c)=>sa(t(l),c),n=(l,c)=>t(l)-c):(e=t===sa||t===Tz?t:Az,r=t,n=t);function i(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<0?f=p+1:d=p}while(f<d)}return f}function o(l,c,f=0,d=l.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;r(l[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function s(l,c,f=0,d=l.length){const p=i(l,c,f,d-1);return p>f&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function Az(){return 0}function mD(t){return t===null?NaN:+t}function*Pz(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Iz=hE(sa),gh=Iz.right;hE(mD).center;class nk extends Map{constructor(e,r=kz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(ik(this,e))}has(e){return super.has(ik(this,e))}set(e,r){return super.set(Oz(this,e),r)}delete(e){return super.delete(Cz(this,e))}}function ik({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Oz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Cz({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function kz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rz(t=sa){if(t===sa)return gD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function gD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nz=Math.sqrt(50),jz=Math.sqrt(10),Mz=Math.sqrt(2);function Up(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Nz?10:o>=jz?5:o>=Mz?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=r&&r<2?Up(t,e,r*2):[l,c,f]}function p1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Up(e,t,r):Up(t,e,r);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(n)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function m1(t,e,r){return e=+e,t=+t,r=+r,Up(t,e,r)[2]}function g1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?m1(e,t,r):m1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ok(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ak(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?gD:Rz(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),v=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),y=Math.max(r,Math.floor(e-f*p/c+v)),w=Math.min(n,Math.floor(e+(c-f)*p/c+v));vD(t,e,y,w,i)}const o=t[e];let s=r,l=n;for(Fc(t,r,e),i(t[n],o)>0&&Fc(t,r,n);s<l;){for(Fc(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[r],o)===0?Fc(t,r,l):(++l,Fc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Fc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Dz(t,e,r){if(t=Float64Array.from(Pz(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return ak(t);if(e>=1)return ok(t);var n,i=(n-1)*e,o=Math.floor(i),s=ok(vD(t,o).subarray(0,o+1)),l=ak(t.subarray(o+1));return s+(l-s)*(i-o)}}function Lz(t,e,r=mD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),l=+r(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function $z(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Nn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const v1=Symbol("implicit");function dE(){var t=new nk,e=[],r=[],n=v1;function i(o){let s=t.get(o);if(s===void 0){if(n!==v1)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new nk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return dE(e,r).unknown(n)},Nn.apply(i,arguments),i}function Tf(){var t=dE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,l=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var v=e().length,y=i<n,w=y?i:n,x=y?n:i;o=(x-w)/Math.max(1,v-c+f*2),l&&(o=Math.floor(o)),w+=(x-w-o*(v-c))*d,s=o*(1-c),l&&(w=Math.round(w),s=Math.round(s));var b=$z(v).map(function(E){return w+o*E});return r(y?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(l=!!v,p()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(d=Math.max(0,Math.min(1,v)),p()):d},t.copy=function(){return Tf(e(),[n,i]).round(l).paddingInner(c).paddingOuter(f).align(d)},Nn.apply(p(),arguments)}function yD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yD(e())},t}function af(){return yD(Tf.apply(null,arguments).paddingInner(1))}function pE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _D(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function vh(){}var Af=.7,qp=1/Af,Bu="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vz=/^#([0-9a-f]{3,8})$/,Fz=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),Bz=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),Uz=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${Pf}\\)$`),qz=new RegExp(`^rgba\\(${wi},${wi},${wi},${Pf}\\)$`),zz=new RegExp(`^hsl\\(${Pf},${wi},${wi}\\)$`),Wz=new RegExp(`^hsla\\(${Pf},${wi},${wi},${Pf}\\)$`),sk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pE(vh,If,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uk,formatHex:uk,formatHex8:Hz,formatHsl:Kz,formatRgb:lk,toString:lk});function uk(){return this.rgb().formatHex()}function Hz(){return this.rgb().formatHex8()}function Kz(){return bD(this).formatHsl()}function lk(){return this.rgb().formatRgb()}function If(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vz.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ck(e):r===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fz.exec(t))?new Qr(e[1],e[2],e[3],1):(e=Bz.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Uz.exec(t))?Jd(e[1],e[2],e[3],e[4]):(e=qz.exec(t))?Jd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zz.exec(t))?dk(e[1],e[2]/100,e[3]/100,1):(e=Wz.exec(t))?dk(e[1],e[2]/100,e[3]/100,e[4]):sk.hasOwnProperty(t)?ck(sk[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function ck(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function Jd(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qr(t,e,r,n)}function Gz(t){return t instanceof vh||(t=If(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function y1(t,e,r,n){return arguments.length===1?Gz(t):new Qr(t,e,r,n??1)}function Qr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}pE(Qr,y1,_D(vh,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(ps(this.r),ps(this.g),ps(this.b),zp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fk,formatHex:fk,formatHex8:Xz,formatRgb:hk,toString:hk}));function fk(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Xz(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function hk(){const t=zp(this.opacity);return`${t===1?"rgb(":"rgba("}${ps(this.r)}, ${ps(this.g)}, ${ps(this.b)}${t===1?")":`, ${t})`}`}function zp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function us(t){return t=ps(t),(t<16?"0":"")+t.toString(16)}function dk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,r,n)}function bD(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof vh||(t=If(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(r-n)/l+(r<n)*6:r===o?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new Zn(s,l,c,t.opacity)}function Yz(t,e,r,n){return arguments.length===1?bD(t):new Zn(t,e,r,n??1)}function Zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}pE(Zn,Yz,_D(vh,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qr(Lb(t>=240?t-240:t+120,i,n),Lb(t,i,n),Lb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zn(pk(this.h),Zd(this.s),Zd(this.l),zp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zp(this.opacity);return`${t===1?"hsl(":"hsla("}${pk(this.h)}, ${Zd(this.s)*100}%, ${Zd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pk(t){return t=(t||0)%360,t<0?t+360:t}function Zd(t){return Math.max(0,Math.min(1,t||0))}function Lb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const mE=t=>()=>t;function Qz(t,e){return function(r){return t+r*e}}function Jz(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zz(t){return(t=+t)==1?wD:function(e,r){return r-e?Jz(e,r,t):mE(isNaN(e)?r:e)}}function wD(t,e){var r=e-t;return r?Qz(t,r):mE(isNaN(t)?e:t)}const mk=function t(e){var r=Zz(e);function n(i,o){var s=r((i=y1(i)).r,(o=y1(o)).r),l=r(i.g,o.g),c=r(i.b,o.b),f=wD(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=f(d),i+""}}return n.gamma=t,n}(1);function e8(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function t8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function r8(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Ml(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(l){for(s=0;s<n;++s)o[s]=i[s](l);return o}}function n8(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function i8(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Ml(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var _1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$b=new RegExp(_1.source,"g");function o8(t){return function(){return t}}function a8(t){return function(e){return t(e)+""}}function s8(t,e){var r=_1.lastIndex=$b.lastIndex=0,n,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=_1.exec(t))&&(i=$b.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),l[s]?l[s]+=o:l[++s]=o),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Wp(n,i)})),r=$b.lastIndex;return r<e.length&&(o=e.slice(r),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?a8(c[0].x):o8(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)l[(p=c[d]).i]=p.x(f);return l.join("")})}function Ml(t,e){var r=typeof e,n;return e==null||r==="boolean"?mE(e):(r==="number"?Wp:r==="string"?(n=If(e))?(e=n,mk):s8:e instanceof If?mk:e instanceof Date?n8:t8(e)?e8:Array.isArray(e)?r8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?i8:Wp)(t,e)}function gE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function u8(t,e){e===void 0&&(e=t,t=Ml);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[l](s-l)}}function l8(t){return function(){return t}}function Hp(t){return+t}var gk=[0,1];function Fr(t){return t}function b1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:l8(isNaN(e)?NaN:.5)}function c8(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function f8(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=b1(i,n),o=r(s,o)):(n=b1(n,i),o=r(o,s)),function(l){return o(n(l))}}function h8(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=b1(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(l){var c=gh(t,l,1,n)-1;return o[c](i[c](l))}}function yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function cg(){var t=gk,e=gk,r=Ml,n,i,o,s=Fr,l,c,f;function d(){var v=Math.min(t.length,e.length);return s!==Fr&&(s=c8(t[0],t[v-1])),l=v>2?h8:f8,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?o:(c||(c=l(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=l(e,t.map(n),Wp)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,Hp),d()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),d()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=gE,d()},p.clamp=function(v){return arguments.length?(s=v?!0:Fr,d()):s!==Fr},p.interpolate=function(v){return arguments.length?(r=v,d()):r},p.unknown=function(v){return arguments.length?(o=v,p):o},function(v,y){return n=v,i=y,d()}}function vE(){return cg()(Fr,Fr)}function d8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zu(t){return t=Kp(Math.abs(t)),t?t[1]:NaN}function p8(t,e){return function(r,n){for(var i=r.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function m8(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var g8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Of(t){if(!(e=g8.exec(t)))throw new Error("invalid format: "+t);var e;return new yE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Of.prototype=yE.prototype;function yE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v8(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var xD;function y8(t,e){var r=Kp(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(xD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Kp(t,Math.max(0,e+o-1))[0]}function vk(t,e){var r=Kp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vk(t*100,e),r:vk,s:y8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _k(t){return t}var bk=Array.prototype.map,wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _8(t){var e=t.grouping===void 0||t.thousands===void 0?_k:p8(bk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?_k:m8(bk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Of(p);var v=p.fill,y=p.align,w=p.sign,x=p.symbol,b=p.zero,E=p.width,A=p.comma,O=p.precision,M=p.trim,C=p.type;C==="n"?(A=!0,C="g"):yk[C]||(O===void 0&&(O=12),M=!0,C="g"),(b||v==="0"&&y==="=")&&(b=!0,v="0",y="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=x==="$"?n:/[%p]/.test(C)?s:"",I=yk[C],R=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function F(D){var L=N,j=P,J,Z,ne;if(C==="c")j=I(D)+j,D="";else{D=+D;var G=D<0||1/D<0;if(D=isNaN(D)?c:I(Math.abs(D),O),M&&(D=v8(D)),G&&+D==0&&w!=="+"&&(G=!1),L=(G?w==="("?w:l:w==="-"||w==="("?"":w)+L,j=(C==="s"?wk[8+xD/3]:"")+j+(G&&w==="("?")":""),R){for(J=-1,Z=D.length;++J<Z;)if(ne=D.charCodeAt(J),48>ne||ne>57){j=(ne===46?i+D.slice(J+1):D.slice(J))+j,D=D.slice(0,J);break}}}A&&!b&&(D=e(D,1/0));var H=L.length+D.length+j.length,Q=H<E?new Array(E-H+1).join(v):"";switch(A&&b&&(D=e(Q+D,Q.length?E-j.length:1/0),Q=""),y){case"<":D=L+D+j+Q;break;case"=":D=L+Q+D+j;break;case"^":D=Q.slice(0,H=Q.length>>1)+L+D+j+Q.slice(H);break;default:D=Q+L+D+j;break}return o(D)}return F.toString=function(){return p+""},F}function d(p,v){var y=f((p=Of(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Zu(v)/3)))*3,x=Math.pow(10,-w),b=wk[8+w/3];return function(E){return y(x*E)+b}}return{format:f,formatPrefix:d}}var ep,_E,ED;b8({thousands:",",grouping:[3],currency:["$",""]});function b8(t){return ep=_8(t),_E=ep.format,ED=ep.formatPrefix,ep}function w8(t){return Math.max(0,-Zu(Math.abs(t)))}function x8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(e)/3)))*3-Zu(Math.abs(t)))}function E8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zu(e)-Zu(t))+1}function SD(t,e,r,n){var i=g1(t,e,r),o;switch(n=Of(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=x8(i,s))&&(n.precision=o),ED(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=E8(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=w8(i))&&(n.precision=o-(n.type==="%")*2);break}}return _E(n)}function xa(t){var e=t.domain;return t.ticks=function(r){var n=e();return p1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return SD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],l=n[o],c,f,d=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);d-- >0;){if(f=m1(s,l,r),f===c)return n[i]=s,n[o]=l,e(n);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Gp(){var t=vE();return t.copy=function(){return yh(t,Gp())},Nn.apply(t,arguments),xa(t)}function TD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Hp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return TD(t).unknown(e)},t=arguments.length?Array.from(t,Hp):[0,1],xa(r)}function AD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function xk(t){return Math.log(t)}function Ek(t){return Math.exp(t)}function S8(t){return-Math.log(-t)}function T8(t){return-Math.exp(-t)}function A8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function P8(t){return t===10?A8:t===Math.E?Math.exp:e=>Math.pow(t,e)}function I8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Sk(t){return(e,r)=>-t(-e,r)}function bE(t){const e=t(xk,Ek),r=e.domain;let n=10,i,o;function s(){return i=I8(n),o=P8(n),r()[0]<0?(i=Sk(i),o=Sk(o),t(S8,T8)):t(xk,Ek),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let v=i(f),y=i(d),w,x;const b=l==null?10:+l;let E=[];if(!(n%1)&&y-v<b){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<n;++w)if(x=v<0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;E.push(x)}}else for(;v<=y;++v)for(w=n-1;w>=1;--w)if(x=v>0?w/o(-v):w*o(v),!(x<f)){if(x>d)break;E.push(x)}E.length*2<b&&(E=p1(f,d,b))}else E=p1(v,y,Math.min(y-v,b)).map(o);return p?E.reverse():E},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Of(c)).precision==null&&(c.trim=!0),c=_E(c)),l===1/0)return c;const f=Math.max(1,n*l/e.ticks().length);return d=>{let p=d/o(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=f?c(d):""}},e.nice=()=>r(AD(r(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function PD(){const t=bE(cg()).domain([1,10]);return t.copy=()=>yh(t,PD()).base(t.base()),Nn.apply(t,arguments),t}function Tk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ak(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wE(t){var e=1,r=t(Tk(e),Ak(e));return r.constant=function(n){return arguments.length?t(Tk(e=+n),Ak(e)):e},xa(r)}function ID(){var t=wE(cg());return t.copy=function(){return yh(t,ID()).constant(t.constant())},Nn.apply(t,arguments)}function Pk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function O8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C8(t){return t<0?-t*t:t*t}function xE(t){var e=t(Fr,Fr),r=1;function n(){return r===1?t(Fr,Fr):r===.5?t(O8,C8):t(Pk(r),Pk(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},xa(e)}function EE(){var t=xE(cg());return t.copy=function(){return yh(t,EE()).exponent(t.exponent())},Nn.apply(t,arguments),t}function k8(){return EE.apply(null,arguments).exponent(.5)}function Ik(t){return Math.sign(t)*t*t}function R8(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OD(){var t=vE(),e=[0,1],r=!1,n;function i(o){var s=R8(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(Ik(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Hp)).map(Ik)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return OD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Nn.apply(i,arguments),xa(i)}function CD(){var t=[],e=[],r=[],n;function i(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Lz(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?n:e[gh(r,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(sa),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return CD().domain(t).range(e).unknown(n)},Nn.apply(o,arguments)}function kD(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[gh(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return kD().domain([t,e]).range(i).unknown(o)},Nn.apply(xa(s),arguments)}function RD(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[gh(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return RD().domain(t).range(e).unknown(r)},Nn.apply(i,arguments)}const Vb=new Date,Fb=new Date;function nr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>nr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Vb.setTime(+o),Fb.setTime(+s),t(Vb),t(Fb),Math.floor(r(Vb,Fb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Xp=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Xp);Xp.range;const eo=1e3,On=eo*60,to=On*60,fo=to*24,SE=fo*7,Ok=fo*30,Bb=fo*365,ls=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*eo)},(t,e)=>(e-t)/eo,t=>t.getUTCSeconds());ls.range;const TE=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getMinutes());TE.range;const AE=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCMinutes());AE.range;const PE=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*eo-t.getMinutes()*On)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getHours());PE.range;const IE=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCHours());IE.range;const _h=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*On)/fo,t=>t.getDate()-1);_h.range;const fg=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>t.getUTCDate()-1);fg.range;const ND=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fo,t=>Math.floor(t/fo));ND.range;function Rs(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*On)/SE)}const hg=Rs(0),Yp=Rs(1),N8=Rs(2),j8=Rs(3),el=Rs(4),M8=Rs(5),D8=Rs(6);hg.range;Yp.range;N8.range;j8.range;el.range;M8.range;D8.range;function Ns(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/SE)}const dg=Ns(0),Qp=Ns(1),L8=Ns(2),$8=Ns(3),tl=Ns(4),V8=Ns(5),F8=Ns(6);dg.range;Qp.range;L8.range;$8.range;tl.range;V8.range;F8.range;const OE=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OE.range;const CE=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CE.range;const ho=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ho.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ho.range;const po=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());po.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});po.range;function jD(t,e,r,n,i,o){const s=[[ls,1,eo],[ls,5,5*eo],[ls,15,15*eo],[ls,30,30*eo],[o,1,On],[o,5,5*On],[o,15,15*On],[o,30,30*On],[i,1,to],[i,3,3*to],[i,6,6*to],[i,12,12*to],[n,1,fo],[n,2,2*fo],[r,1,SE],[e,1,Ok],[e,3,3*Ok],[t,1,Bb]];function l(f,d,p){const v=d<f;v&&([f,d]=[d,f]);const y=p&&typeof p.range=="function"?p:c(f,d,p),w=y?y.range(f,+d+1):[];return v?w.reverse():w}function c(f,d,p){const v=Math.abs(d-f)/p,y=hE(([,,b])=>b).right(s,v);if(y===s.length)return t.every(g1(f/Bb,d/Bb,p));if(y===0)return Xp.every(Math.max(g1(f,d,p),1));const[w,x]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(x)}return[l,c]}const[B8,U8]=jD(po,CE,dg,ND,IE,AE),[q8,z8]=jD(ho,OE,hg,_h,PE,TE);function Ub(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function W8(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=Uc(i),d=qc(i),p=Uc(o),v=qc(o),y=Uc(s),w=qc(s),x=Uc(l),b=qc(l),E=Uc(c),A=qc(c),O={a:G,A:H,b:Q,B:ae,c:null,d:Mk,e:Mk,f:p7,g:S7,G:A7,H:f7,I:h7,j:d7,L:MD,m:m7,M:g7,p:U,q:X,Q:$k,s:Vk,S:v7,u:y7,U:_7,V:b7,w:w7,W:x7,x:null,X:null,y:E7,Y:T7,Z:P7,"%":Lk},M={a:se,A:ye,b:we,B:Se,c:null,d:Dk,e:Dk,f:k7,g:B7,G:q7,H:I7,I:O7,j:C7,L:LD,m:R7,M:N7,p:Ne,q:ke,Q:$k,s:Vk,S:j7,u:M7,U:D7,V:L7,w:$7,W:V7,x:null,X:null,y:F7,Y:U7,Z:z7,"%":Lk},C={a:F,A:D,b:L,B:j,c:J,d:Nk,e:Nk,f:s7,g:Rk,G:kk,H:jk,I:jk,j:n7,L:a7,m:r7,M:i7,p:R,q:t7,Q:l7,s:c7,S:o7,u:Y8,U:Q8,V:J8,w:X8,W:Z8,x:Z,X:ne,y:Rk,Y:kk,Z:e7,"%":u7};O.x=N(r,O),O.X=N(n,O),O.c=N(e,O),M.x=N(r,M),M.X=N(n,M),M.c=N(e,M);function N(fe,Ae){return function(be){var oe=[],Fe=-1,xe=0,We=fe.length,Qe,dt,yt;for(be instanceof Date||(be=new Date(+be));++Fe<We;)fe.charCodeAt(Fe)===37&&(oe.push(fe.slice(xe,Fe)),(dt=Ck[Qe=fe.charAt(++Fe)])!=null?Qe=fe.charAt(++Fe):dt=Qe==="e"?" ":"0",(yt=Ae[Qe])&&(Qe=yt(be,dt)),oe.push(Qe),xe=Fe+1);return oe.push(fe.slice(xe,Fe)),oe.join("")}}function P(fe,Ae){return function(be){var oe=Bc(1900,void 0,1),Fe=I(oe,fe,be+="",0),xe,We;if(Fe!=be.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(Ae&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(xe=qb(Bc(oe.y,0,1)),We=xe.getUTCDay(),xe=We>4||We===0?Qp.ceil(xe):Qp(xe),xe=fg.offset(xe,(oe.V-1)*7),oe.y=xe.getUTCFullYear(),oe.m=xe.getUTCMonth(),oe.d=xe.getUTCDate()+(oe.w+6)%7):(xe=Ub(Bc(oe.y,0,1)),We=xe.getDay(),xe=We>4||We===0?Yp.ceil(xe):Yp(xe),xe=_h.offset(xe,(oe.V-1)*7),oe.y=xe.getFullYear(),oe.m=xe.getMonth(),oe.d=xe.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),We="Z"in oe?qb(Bc(oe.y,0,1)).getUTCDay():Ub(Bc(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(We+5)%7:oe.w+oe.U*7-(We+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,qb(oe)):Ub(oe)}}function I(fe,Ae,be,oe){for(var Fe=0,xe=Ae.length,We=be.length,Qe,dt;Fe<xe;){if(oe>=We)return-1;if(Qe=Ae.charCodeAt(Fe++),Qe===37){if(Qe=Ae.charAt(Fe++),dt=C[Qe in Ck?Ae.charAt(Fe++):Qe],!dt||(oe=dt(fe,be,oe))<0)return-1}else if(Qe!=be.charCodeAt(oe++))return-1}return oe}function R(fe,Ae,be){var oe=f.exec(Ae.slice(be));return oe?(fe.p=d.get(oe[0].toLowerCase()),be+oe[0].length):-1}function F(fe,Ae,be){var oe=y.exec(Ae.slice(be));return oe?(fe.w=w.get(oe[0].toLowerCase()),be+oe[0].length):-1}function D(fe,Ae,be){var oe=p.exec(Ae.slice(be));return oe?(fe.w=v.get(oe[0].toLowerCase()),be+oe[0].length):-1}function L(fe,Ae,be){var oe=E.exec(Ae.slice(be));return oe?(fe.m=A.get(oe[0].toLowerCase()),be+oe[0].length):-1}function j(fe,Ae,be){var oe=x.exec(Ae.slice(be));return oe?(fe.m=b.get(oe[0].toLowerCase()),be+oe[0].length):-1}function J(fe,Ae,be){return I(fe,e,Ae,be)}function Z(fe,Ae,be){return I(fe,r,Ae,be)}function ne(fe,Ae,be){return I(fe,n,Ae,be)}function G(fe){return s[fe.getDay()]}function H(fe){return o[fe.getDay()]}function Q(fe){return c[fe.getMonth()]}function ae(fe){return l[fe.getMonth()]}function U(fe){return i[+(fe.getHours()>=12)]}function X(fe){return 1+~~(fe.getMonth()/3)}function se(fe){return s[fe.getUTCDay()]}function ye(fe){return o[fe.getUTCDay()]}function we(fe){return c[fe.getUTCMonth()]}function Se(fe){return l[fe.getUTCMonth()]}function Ne(fe){return i[+(fe.getUTCHours()>=12)]}function ke(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ae=N(fe+="",O);return Ae.toString=function(){return fe},Ae},parse:function(fe){var Ae=P(fe+="",!1);return Ae.toString=function(){return fe},Ae},utcFormat:function(fe){var Ae=N(fe+="",M);return Ae.toString=function(){return fe},Ae},utcParse:function(fe){var Ae=P(fe+="",!0);return Ae.toString=function(){return fe},Ae}}}var Ck={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,H8=/^%/,K8=/[\\^$*+?|[\]().{}]/g;function st(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function G8(t){return t.replace(K8,"\\$&")}function Uc(t){return new RegExp("^(?:"+t.map(G8).join("|")+")","i")}function qc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function X8(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Y8(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Q8(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function J8(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Z8(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function kk(t,e,r){var n=fr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Rk(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function e7(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function t7(t,e,r){var n=fr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function r7(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Nk(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function n7(t,e,r){var n=fr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function jk(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function i7(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function o7(t,e,r){var n=fr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function a7(t,e,r){var n=fr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function s7(t,e,r){var n=fr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u7(t,e,r){var n=H8.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function l7(t,e,r){var n=fr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function c7(t,e,r){var n=fr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Mk(t,e){return st(t.getDate(),e,2)}function f7(t,e){return st(t.getHours(),e,2)}function h7(t,e){return st(t.getHours()%12||12,e,2)}function d7(t,e){return st(1+_h.count(ho(t),t),e,3)}function MD(t,e){return st(t.getMilliseconds(),e,3)}function p7(t,e){return MD(t,e)+"000"}function m7(t,e){return st(t.getMonth()+1,e,2)}function g7(t,e){return st(t.getMinutes(),e,2)}function v7(t,e){return st(t.getSeconds(),e,2)}function y7(t){var e=t.getDay();return e===0?7:e}function _7(t,e){return st(hg.count(ho(t)-1,t),e,2)}function DD(t){var e=t.getDay();return e>=4||e===0?el(t):el.ceil(t)}function b7(t,e){return t=DD(t),st(el.count(ho(t),t)+(ho(t).getDay()===4),e,2)}function w7(t){return t.getDay()}function x7(t,e){return st(Yp.count(ho(t)-1,t),e,2)}function E7(t,e){return st(t.getFullYear()%100,e,2)}function S7(t,e){return t=DD(t),st(t.getFullYear()%100,e,2)}function T7(t,e){return st(t.getFullYear()%1e4,e,4)}function A7(t,e){var r=t.getDay();return t=r>=4||r===0?el(t):el.ceil(t),st(t.getFullYear()%1e4,e,4)}function P7(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function Dk(t,e){return st(t.getUTCDate(),e,2)}function I7(t,e){return st(t.getUTCHours(),e,2)}function O7(t,e){return st(t.getUTCHours()%12||12,e,2)}function C7(t,e){return st(1+fg.count(po(t),t),e,3)}function LD(t,e){return st(t.getUTCMilliseconds(),e,3)}function k7(t,e){return LD(t,e)+"000"}function R7(t,e){return st(t.getUTCMonth()+1,e,2)}function N7(t,e){return st(t.getUTCMinutes(),e,2)}function j7(t,e){return st(t.getUTCSeconds(),e,2)}function M7(t){var e=t.getUTCDay();return e===0?7:e}function D7(t,e){return st(dg.count(po(t)-1,t),e,2)}function $D(t){var e=t.getUTCDay();return e>=4||e===0?tl(t):tl.ceil(t)}function L7(t,e){return t=$D(t),st(tl.count(po(t),t)+(po(t).getUTCDay()===4),e,2)}function $7(t){return t.getUTCDay()}function V7(t,e){return st(Qp.count(po(t)-1,t),e,2)}function F7(t,e){return st(t.getUTCFullYear()%100,e,2)}function B7(t,e){return t=$D(t),st(t.getUTCFullYear()%100,e,2)}function U7(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function q7(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tl(t):tl.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function z7(){return"+0000"}function Lk(){return"%"}function $k(t){return+t}function Vk(t){return Math.floor(+t/1e3)}var Iu,VD,FD;W7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W7(t){return Iu=W8(t),VD=Iu.format,Iu.parse,FD=Iu.utcFormat,Iu.utcParse,Iu}function H7(t){return new Date(t)}function K7(t){return t instanceof Date?+t:+new Date(+t)}function kE(t,e,r,n,i,o,s,l,c,f){var d=vE(),p=d.invert,v=d.domain,y=f(".%L"),w=f(":%S"),x=f("%I:%M"),b=f("%I %p"),E=f("%a %d"),A=f("%b %d"),O=f("%B"),M=f("%Y");function C(N){return(c(N)<N?y:l(N)<N?w:s(N)<N?x:o(N)<N?b:n(N)<N?i(N)<N?E:A:r(N)<N?O:M)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?v(Array.from(N,K7)):v().map(H7)},d.ticks=function(N){var P=v();return t(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?C:f(P)},d.nice=function(N){var P=v();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?v(AD(P,N)):d},d.copy=function(){return yh(d,kE(t,e,r,n,i,o,s,l,c,f))},d}function G7(){return Nn.apply(kE(q8,z8,ho,OE,hg,_h,PE,TE,ls,VD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X7(){return Nn.apply(kE(B8,U8,po,CE,dg,fg,IE,AE,ls,FD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pg(){var t=0,e=1,r,n,i,o,s=Fr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function d(p){return function(v){var y,w;return arguments.length?([y,w]=v,s=p(y,w),f):[s(0),s(1)]}}return f.range=d(Ml),f.rangeRound=d(gE),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function Ea(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BD(){var t=xa(pg()(Fr));return t.copy=function(){return Ea(t,BD())},xo.apply(t,arguments)}function UD(){var t=bE(pg()).domain([1,10]);return t.copy=function(){return Ea(t,UD()).base(t.base())},xo.apply(t,arguments)}function qD(){var t=wE(pg());return t.copy=function(){return Ea(t,qD()).constant(t.constant())},xo.apply(t,arguments)}function RE(){var t=xE(pg());return t.copy=function(){return Ea(t,RE()).exponent(t.exponent())},xo.apply(t,arguments)}function Y7(){return RE.apply(null,arguments).exponent(.5)}function zD(){var t=[],e=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return e((gh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>Dz(t,o/n))},r.copy=function(){return zD(e).domain(t)},xo.apply(r,arguments)}function mg(){var t=0,e=.5,r=1,n=1,i,o,s,l,c,f=Fr,d,p=!1,v;function y(x){return isNaN(x=+x)?v:(x=.5+((x=+d(x))-o)*(n*x<n*o?l:c),f(p?Math.max(0,Math.min(1,x)):x))}y.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),o=d(e=+e),s=d(r=+r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y):[t,e,r]},y.clamp=function(x){return arguments.length?(p=!!x,y):p},y.interpolator=function(x){return arguments.length?(f=x,y):f};function w(x){return function(b){var E,A,O;return arguments.length?([E,A,O]=b,f=u8(x,[E,A,O]),y):[f(0),f(.5),f(1)]}}return y.range=w(Ml),y.rangeRound=w(gE),y.unknown=function(x){return arguments.length?(v=x,y):v},function(x){return d=x,i=x(t),o=x(e),s=x(r),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),n=o<i?-1:1,y}}function WD(){var t=xa(mg()(Fr));return t.copy=function(){return Ea(t,WD())},xo.apply(t,arguments)}function HD(){var t=bE(mg()).domain([.1,1,10]);return t.copy=function(){return Ea(t,HD()).base(t.base())},xo.apply(t,arguments)}function KD(){var t=wE(mg());return t.copy=function(){return Ea(t,KD()).constant(t.constant())},xo.apply(t,arguments)}function NE(){var t=xE(mg());return t.copy=function(){return Ea(t,NE()).exponent(t.exponent())},xo.apply(t,arguments)}function Q7(){return NE.apply(null,arguments).exponent(.5)}const Fk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tf,scaleDiverging:WD,scaleDivergingLog:HD,scaleDivergingPow:NE,scaleDivergingSqrt:Q7,scaleDivergingSymlog:KD,scaleIdentity:TD,scaleImplicit:v1,scaleLinear:Gp,scaleLog:PD,scaleOrdinal:dE,scalePoint:af,scalePow:EE,scaleQuantile:CD,scaleQuantize:kD,scaleRadial:OD,scaleSequential:BD,scaleSequentialLog:UD,scaleSequentialPow:RE,scaleSequentialQuantile:zD,scaleSequentialSqrt:Y7,scaleSequentialSymlog:qD,scaleSqrt:k8,scaleSymlog:ID,scaleThreshold:RD,scaleTime:G7,scaleUtc:X7,tickFormat:SD},Symbol.toStringTag,{value:"Module"}));var zb,Bk;function gg(){if(Bk)return zb;Bk=1;var t=Cl();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var l=r[o],c=n(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=l}return d}return zb=e,zb}var Wb,Uk;function GD(){if(Uk)return Wb;Uk=1;function t(e,r){return e>r}return Wb=t,Wb}var Hb,qk;function J7(){if(qk)return Hb;qk=1;var t=gg(),e=GD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Hb=n,Hb}var Z7=J7();const ia=ft(Z7);var Kb,zk;function XD(){if(zk)return Kb;zk=1;function t(e,r){return e<r}return Kb=t,Kb}var Gb,Wk;function eW(){if(Wk)return Gb;Wk=1;var t=gg(),e=XD(),r=jl();function n(i){return i&&i.length?t(i,r,e):void 0}return Gb=n,Gb}var tW=eW();const vg=ft(tW);var Xb,Hk;function rW(){if(Hk)return Xb;Hk=1;var t=Xx(),e=ji(),r=nD(),n=Jr();function i(o,s){var l=n(o)?t:r;return l(o,e(s,3))}return Xb=i,Xb}var Yb,Kk;function nW(){if(Kk)return Yb;Kk=1;var t=tD(),e=rW();function r(n,i){return t(e(n,i),1)}return Yb=r,Yb}var iW=nW();const oW=ft(iW);var Qb,Gk;function aW(){if(Gk)return Qb;Gk=1;var t=uE();function e(r,n){return t(r,n)}return Qb=e,Qb}var sW=aW();const rl=ft(sW);var Dl=1e9,uW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ME,Ot=!0,Rn="[DecimalError] ",ms=Rn+"Invalid argument: ",jE=Rn+"Exponent out of range: ",Ll=Math.floor,is=Math.pow,lW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fn,ur=1e7,At=7,YD=9007199254740991,Jp=Ll(YD/At),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(t){return so(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,r=e.constructor;return vt(so(e,new r(t),0,1),r.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return zt(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fn))throw Error(Rn+"NaN");if(r.s<1)throw Error(Rn+(r.s?"NaN":"-Infinity"));return r.eq(fn)?new n(0):(Ot=!1,e=so(Cf(r,o),Cf(t,o),o),Ot=!0,vt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZD(e,t):QD(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Rn+"NaN");return r.s?(Ot=!1,e=so(r,t,0,1).times(t),Ot=!0,r.minus(e)):vt(new n(r),i)};Ie.naturalExponential=Ie.exp=function(){return JD(this)};Ie.naturalLogarithm=Ie.ln=function(){return Cf(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QD(e,t):ZD(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ms+t);if(e=zt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ie.squareRoot=Ie.sqrt=function(){var t,e,r,n,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Rn+"NaN")}for(t=zt(l),Ot=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=_i(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ll((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(o=n,n=o.plus(so(l,o,s+2)).times(.5),_i(o.d).slice(0,s)===(e=_i(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(vt(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(e!="9999")break;s+=4}return Ot=!0,vt(n,r)};Ie.times=Ie.mul=function(t){var e,r,n,i,o,s,l,c,f,d=this,p=d.constructor,v=d.d,y=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,r=d.e+t.e,c=v.length,f=y.length,c<f&&(o=v,v=y,y=o,s=c,c=f,f=s),o=[],s=c+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)l=o[i]+y[n]*v[i-n-1]+e,o[i--]=l%ur|0,e=l/ur|0;o[i]=(o[i]+e)%ur|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Ot?vt(t,p.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ii(t,0,Dl),e===void 0?e=n.rounding:Ii(e,0,8),vt(r,t+zt(r)+1,e))};Ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ws(n,!0):(Ii(t,0,Dl),e===void 0?e=i.rounding:Ii(e,0,8),n=vt(new i(n),t+1,e),r=ws(n,!0,t+1)),r};Ie.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?ws(i):(Ii(t,0,Dl),e===void 0?e=o.rounding:Ii(e,0,8),n=vt(new o(i),t+zt(i)+1,e),r=ws(n.abs(),!1,t+zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return vt(new e(t),zt(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,r,n,i,o,s,l=this,c=l.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(fn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Rn+"Infinity");return l}if(l.eq(fn))return l;if(n=c.precision,t.eq(fn))return vt(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=l.s,s){if((r=d<0?-d:d)<=YD){for(i=new c(fn),e=Math.ceil(n/At+4),Ot=!1;r%2&&(i=i.times(l),Yk(i.d,e)),r=Ll(r/2),r!==0;)l=l.times(l),Yk(l.d,e);return Ot=!0,t.s<0?new c(fn).div(i):vt(i,n)}}else if(o<0)throw Error(Rn+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ot=!1,i=t.times(Cf(l,n+f)),Ot=!0,i=JD(i),i.s=o,i};Ie.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=zt(i),n=ws(i,r<=o.toExpNeg||r>=o.toExpPos)):(Ii(t,1,Dl),e===void 0?e=o.rounding:Ii(e,0,8),i=vt(new o(i),t,e),r=zt(i),n=ws(i,t<=r||r<=o.toExpNeg,t)),n};Ie.toSignificantDigits=Ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ii(t,1,Dl),e===void 0?e=n.rounding:Ii(e,0,8)),vt(new n(r),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zt(t),r=t.constructor;return ws(t,e<=r.toExpNeg||e>=r.toExpPos)};function QD(t,e){var r,n,i,o,s,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ot?vt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(n=c,o=-o,l=f.length):(n=f,i=s,l=c.length),s=Math.ceil(p/At),l=s>l?s+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,n=f,f=c,c=n),r=0;o;)r=(c[--o]=c[o]+f[o]+r)/ur|0,c[o]%=ur;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ot?vt(e,p):e}function Ii(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ms+t)}function _i(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=At-n.length,r&&(o+=Jo(r)),o+=n;s=t[e],n=s+"",r=At-n.length,r&&(o+=Jo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var so=function(){function t(n,i){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%ur|0,s=o/ur|0;return s&&n.unshift(s),n}function e(n,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*ur+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var l,c,f,d,p,v,y,w,x,b,E,A,O,M,C,N,P,I,R=n.constructor,F=n.s==i.s?1:-1,D=n.d,L=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Rn+"Division by zero");for(c=n.e-i.e,P=L.length,C=D.length,y=new R(F),w=y.d=[],f=0;L[f]==(D[f]||0);)++f;if(L[f]>(D[f]||0)&&--c,o==null?A=o=R.precision:s?A=o+(zt(n)-zt(i))+1:A=o,A<0)return new R(0);if(A=A/At+2|0,f=0,P==1)for(d=0,L=L[0],A++;(f<C||d)&&A--;f++)O=d*ur+(D[f]||0),w[f]=O/L|0,d=O%L|0;else{for(d=ur/(L[0]+1)|0,d>1&&(L=t(L,d),D=t(D,d),P=L.length,C=D.length),M=P,x=D.slice(0,P),b=x.length;b<P;)x[b++]=0;I=L.slice(),I.unshift(0),N=L[0],L[1]>=ur/2&&++N;do d=0,l=e(L,x,P,b),l<0?(E=x[0],P!=b&&(E=E*ur+(x[1]||0)),d=E/N|0,d>1?(d>=ur&&(d=ur-1),p=t(L,d),v=p.length,b=x.length,l=e(p,x,v,b),l==1&&(d--,r(p,P<v?I:L,v))):(d==0&&(l=d=1),p=L.slice()),v=p.length,v<b&&p.unshift(0),r(x,p,b),l==-1&&(b=x.length,l=e(L,x,P,b),l<1&&(d++,r(x,P<b?I:L,b))),b=x.length):l===0&&(d++,x=[0]),w[f++]=d,l&&x[0]?x[b++]=D[M]||0:(x=[D[M]],b=1);while((M++<C||x[0]!==void 0)&&A--)}return w[0]||w.shift(),y.e=c,vt(y,s?o+zt(y)+1:o)}}();function JD(t,e){var r,n,i,o,s,l,c=0,f=0,d=t.constructor,p=d.precision;if(zt(t)>16)throw Error(jE+zt(t));if(!t.s)return new d(fn);for(Ot=!1,l=p,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(is(2,f))/Math.LN10*2+5|0,l+=n,r=i=o=new d(fn),d.precision=l;;){if(i=vt(i.times(t),l),r=r.times(++c),s=o.plus(so(i,r,l)),_i(s.d).slice(0,l)===_i(o.d).slice(0,l)){for(;f--;)o=vt(o.times(o),l);return d.precision=p,e==null?(Ot=!0,vt(o,p)):o}o=s}}function zt(t){for(var e=t.e*At,r=t.d[0];r>=10;r/=10)e++;return e}function Jb(t,e,r){if(e>t.LN10.sd())throw Ot=!0,r&&(t.precision=r),Error(Rn+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function Jo(t){for(var e="";t--;)e+="0";return e}function Cf(t,e){var r,n,i,o,s,l,c,f,d,p=1,v=10,y=t,w=y.d,x=y.constructor,b=x.precision;if(y.s<1)throw Error(Rn+(y.s?"NaN":"-Infinity"));if(y.eq(fn))return new x(0);if(e==null?(Ot=!1,f=b):f=e,y.eq(10))return e==null&&(Ot=!0),Jb(x,f);if(f+=v,x.precision=f,r=_i(w),n=r.charAt(0),o=zt(y),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=_i(y.d),n=r.charAt(0),p++;o=zt(y),n>1?(y=new x("0."+r),o++):y=new x(n+"."+r.slice(1))}else return c=Jb(x,f+2,b).times(o+""),y=Cf(new x(n+"."+r.slice(1)),f-v).plus(c),x.precision=b,e==null?(Ot=!0,vt(y,b)):y;for(l=s=y=so(y.minus(fn),y.plus(fn),f),d=vt(y.times(y),f),i=3;;){if(s=vt(s.times(d),f),c=l.plus(so(s,new x(i),f)),_i(c.d).slice(0,f)===_i(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(Jb(x,f+2,b).times(o+""))),l=so(l,new x(p),f),x.precision=b,e==null?(Ot=!0,vt(l,b)):l;l=c,i+=2}}function Xk(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ll(r/At),t.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=At;n<i;)t.d.push(+e.slice(n,n+=At));e=e.slice(n),n=At-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ot&&(t.e>Jp||t.e<-Jp))throw Error(jE+r)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,r){var n,i,o,s,l,c,f,d,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=At,i=e,f=p[d=0];else{if(d=Math.ceil((n+1)/At),o=p.length,d>=o)return t;for(f=o=p[d],s=1;o>=10;o/=10)s++;n%=At,i=n-At+s}if(r!==void 0&&(o=is(10,s-i-1),l=f/o%10|0,c=e<0||p[d+1]!==void 0||f%o,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?f/is(10,s-i):0:p[d-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(o=zt(t),p.length=1,e=e-o-1,p[0]=is(10,(At-e%At)%At),t.e=Ll(-e/At)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=d,o=1,d--):(p.length=d+1,o=is(10,At-n),p[d]=i>0?(f/is(10,s-i)%is(10,i)|0)*o:0),c)for(;;)if(d==0){(p[0]+=o)==ur&&(p[0]=1,++t.e);break}else{if(p[d]+=o,p[d]!=ur)break;p[d--]=0,o=1}for(n=p.length;p[--n]===0;)p.pop();if(Ot&&(t.e>Jp||t.e<-Jp))throw Error(jE+zt(t));return t}function ZD(t,e){var r,n,i,o,s,l,c,f,d,p,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ot?vt(e,y):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(d=s<0,d?(r=c,s=-s,l=p.length):(r=p,n=f,l=c.length),i=Math.max(Math.ceil(y/At),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=ur-1;--c[o],c[i]+=ur}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ot?vt(e,y):e):new v(0)}function ws(t,e,r){var n,i=zt(t),o=_i(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Jo(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Jo(-i-1)+o,r&&(n=r-s)>0&&(o+=Jo(n))):i>=s?(o+=Jo(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Jo(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Jo(n))),t.s<0?"-"+o:o}function Yk(t,e){if(t.length>e)return t.length=e,!0}function eL(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ms+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Xk(s,o.toString())}else if(typeof o!="string")throw Error(ms+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,lW.test(o))Xk(s,o);else throw Error(ms+o)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eL,i.config=i.set=cW,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function cW(t){if(!t||typeof t!="object")throw Error(Rn+"Object expected");var e,r,n,i=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ll(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ms+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ms+r+": "+n);return this}var ME=eL(uW);fn=new ME(1);const mt=ME;function fW(t){return mW(t)||pW(t)||dW(t)||hW()}function hW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dW(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function pW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mW(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gW=function(e){return e},tL={},rL=function(e){return e===tL},Qk=function(e){return function r(){return arguments.length===0||arguments.length===1&&rL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},vW=function t(e,r){return e===1?r:Qk(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==tL}).length;return s>=e?r.apply(void 0,i):t(e-s,Qk(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var d=i.map(function(p){return rL(p)?c.shift():p});return r.apply(void 0,fW(d).concat(c))}))})},yg=function(e){return vW(e.length,e)},x1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},yW=yg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),_W=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return gW;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},E1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function bW(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function wW(t,e,r){for(var n=new mt(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var xW=yg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),EW=yg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),SW=yg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const _g={rangeStep:wW,getDigitCount:bW,interpolateNumber:xW,uninterpolateNumber:EW,uninterpolateTruncation:SW};function S1(t){return PW(t)||AW(t)||iL(t)||TW()}function TW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PW(t){if(Array.isArray(t))return T1(t)}function kf(t,e){return CW(t)||OW(t,e)||iL(t,e)||IW()}function IW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iL(t,e){if(t){if(typeof t=="string")return T1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T1(t,e)}}function T1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,o=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function CW(t){if(Array.isArray(t))return t}function oL(t){var e=kf(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function aL(t,e,r){if(t.lte(0))return new mt(0);var n=_g.getDigitCount(t.toNumber()),i=new mt(10).pow(n),o=t.div(i),s=n!==1?.05:.1,l=new mt(Math.ceil(o.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return e?c:new mt(Math.ceil(c))}function kW(t,e,r){var n=1,i=new mt(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new mt(10).pow(_g.getDigitCount(t)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):r||(i=new mt(Math.floor(t)));var s=Math.floor((e-1)/2),l=_W(yW(function(c){return i.add(new mt(c-s).mul(n)).toNumber()}),x1);return l(0,e)}function sL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=aL(new mt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new mt(0):(s=new mt(t).add(e).div(2),s=s.sub(new mt(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new mt(e).sub(s).div(o).toNumber()),f=l+c+1;return f>r?sL(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,l=e>0?l:l+(r-f)),{step:o,tickMin:s.sub(new mt(l).mul(o)),tickMax:s.add(new mt(c).mul(o))})}function RW(t){var e=kf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=oL([r,n]),c=kf(l,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(S1(x1(0,i-1).map(function(){return 1/0}))):[].concat(S1(x1(0,i-1).map(function(){return-1/0})),[d]);return r>n?E1(p):p}if(f===d)return kW(f,i,o);var v=sL(f,d,s,o),y=v.step,w=v.tickMin,x=v.tickMax,b=_g.rangeStep(w,x.add(new mt(.1).mul(y)),y);return r>n?E1(b):b}function NW(t,e){var r=kf(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=oL([n,i]),l=kf(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var d=Math.max(e,2),p=aL(new mt(f).sub(c).div(d-1),o,0),v=[].concat(S1(_g.rangeStep(new mt(c),new mt(f).sub(new mt(.99).mul(p)),p)),[f]);return n>i?E1(v):v}var jW=nL(RW),MW=nL(NW),DW="Invariant failed";function xs(t,e){throw new Error(DW)}var LW=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(this,arguments)}function $W(t,e){return UW(t)||BW(t,e)||FW(t,e)||VW()}function VW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FW(t,e){if(t){if(typeof t=="string")return Jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(t,e)}}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function UW(t){if(Array.isArray(t))return t}function qW(t,e){if(t==null)return{};var r=zW(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cL(n.key),n)}}function KW(t,e,r){return e&&HW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GW(t,e,r){return e=em(e),XW(t,uL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function XW(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YW(t)}function YW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function QW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function lL(t,e,r){return e=cL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cL(t){var e=JW(t,"string");return nl(e)=="symbol"?e:e+""}function JW(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bg=function(t){function e(){return WW(this,e),GW(this,e,arguments)}return QW(e,t),KW(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,l=n.dataKey,c=n.data,f=n.dataPointFormatter,d=n.xAxis,p=n.yAxis,v=qW(n,LW),y=je(v,!1);this.props.direction==="x"&&d.type!=="number"&&xs();var w=c.map(function(x){var b=f(x,l),E=b.x,A=b.y,O=b.value,M=b.errorVal;if(!M)return null;var C=[],N,P;if(Array.isArray(M)){var I=$W(M,2);N=I[0],P=I[1]}else N=P=M;if(o==="vertical"){var R=d.scale,F=A+i,D=F+s,L=F-s,j=R(O-N),J=R(O+P);C.push({x1:J,y1:D,x2:J,y2:L}),C.push({x1:j,y1:F,x2:J,y2:F}),C.push({x1:j,y1:D,x2:j,y2:L})}else if(o==="horizontal"){var Z=p.scale,ne=E+i,G=ne-s,H=ne+s,Q=Z(O-N),ae=Z(O+P);C.push({x1:G,y1:ae,x2:H,y2:ae}),C.push({x1:ne,y1:Q,x2:ne,y2:ae}),C.push({x1:G,y1:Q,x2:H,y2:Q})}return W.createElement(it,Zp({className:"recharts-errorBar",key:"bar-".concat(C.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},y),C.map(function(U){return W.createElement("line",Zp({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return W.createElement(it,{className:"recharts-errorBars"},w)}}])}(W.Component);lL(bg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lL(bg,"displayName","ErrorBar");function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){ZW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZW(t,e,r){return e=eH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eH(t){var e=tH(t,"string");return Rf(e)=="symbol"?e:e+""}function tH(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=ln(r,ds);if(!s)return null;var l=ds.defaultProps,c=l!==void 0?es(es({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:o==="children"?f=(n||[]).reduce(function(d,p){var v=p.item,y=p.props,w=y.sectors||y.data||[];return d.concat(w.map(function(x){return{type:s.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(d){var p=d.item,v=p.type.defaultProps,y=v!==void 0?es(es({},v),p.props):{},w=y.dataKey,x=y.name,b=y.legendType,E=y.hide;return{inactive:E,dataKey:w,type:c.iconType||b||"square",color:DE(p),value:x||w,payload:y}}),es(es(es({},c),ds.getWithHeight(s,i)),{},{payload:f,item:s})};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function eR(t){return oH(t)||iH(t)||nH(t)||rH()}function rH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(t,e){if(t){if(typeof t=="string")return P1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(t,e)}}function iH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oH(t){if(Array.isArray(t))return P1(t)}function P1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){Uu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uu(t,e,r){return e=aH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aH(t){var e=sH(t,"string");return Nf(e)=="symbol"?e:e+""}function sH(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qt(t,e,r){return Ge(t)||Ge(e)?r:Zt(e)?hn(t,e,r):Be(e)?e(t):r}function sf(t,e,r,n){var i=oW(t,function(l){return Qt(l,e)});if(r==="number"){var o=i.filter(function(l){return ge(l)||parseFloat(l)});return o.length?[vg(o),ia(o)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!Ge(l)}):i;return s.map(function(l){return Zt(l)||l instanceof Date?l:""})}var uH=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var d=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,y=void 0;if($r(p-d)!==$r(v-p)){var w=[];if($r(v-p)===$r(c[1]-c[0])){y=v;var x=p+c[1]-c[0];w[0]=Math.min(x,(x+d)/2),w[1]=Math.max(x,(x+d)/2)}else{y=d;var b=v+c[1]-c[0];w[0]=Math.min(p,(b+p)/2),w[1]=Math.max(p,(b+p)/2)}var E=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>E[0]&&e<=E[1]||e>=w[0]&&e<=w[1]){s=i[f].index;break}}else{var A=Math.min(d,v),O=Math.max(d,v);if(e>(A+p)/2&&e<=(O+p)/2){s=i[f].index;break}}}else for(var M=0;M<l;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===l-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},DE=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,s=o.stroke,l=o.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},lH=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},l=Object.keys(o),c=0,f=l.length;c<f;c++)for(var d=o[l[c]].stackGroups,p=Object.keys(d),v=0,y=p.length;v<y;v++){var w=d[p[v]],x=w.items,b=w.cateAxisId,E=x.filter(function(P){return ao(P.type).indexOf("Bar")>=0});if(E&&E.length){var A=E[0].type.defaultProps,O=A!==void 0?Mt(Mt({},A),E[0].props):E[0].props,M=O.barSize,C=O[b];s[C]||(s[C]=[]);var N=Ge(M)?r:M;s[C].push({item:E[0],stackList:E.slice(1),barSize:Ge(N)?void 0:Vr(N,n,0)})}}return s},cH=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Vr(r,i,0,!0),d,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,y=i/c,w=s.reduce(function(M,C){return M+C.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&y>0&&(v=!0,y*=.9,w=c*y);var x=(i-w)/2>>0,b={offset:x-f,size:0};d=s.reduce(function(M,C){var N={item:C.item,position:{offset:b.offset+b.size+f,size:v?y:C.barSize}},P=[].concat(eR(M),[N]);return b=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:b})}),P},p)}else{var E=Vr(n,i,0,!0);i-2*E-(c-1)*f<=0&&(f=0);var A=(i-2*E-(c-1)*f)/c;A>1&&(A>>=0);var O=l===+l?Math.min(A,l):A;d=s.reduce(function(M,C,N){var P=[].concat(eR(M),[{item:C.item,position:{offset:E+(A+f)*N+(A-O)/2,size:O}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},p)}return d},fH=function(e,r,n,i){var o=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),f=fL({children:o,legendWidth:c});if(f){var d=i||{},p=d.width,v=d.height,y=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&y!=="center"&&ge(e[y]))return Mt(Mt({},e),{},Uu({},y,e[y]+(p||0)));if((x==="horizontal"||x==="vertical"&&y==="center")&&w!=="middle"&&ge(e[w]))return Mt(Mt({},e),{},Uu({},w,e[w]+(v||0)))}return e},hH=function(e,r,n){return Ge(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},hL=function(e,r,n,i,o){var s=r.props.children,l=Cn(s,bg).filter(function(f){return hH(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=Qt(d,n);if(Ge(p))return f;var v=Array.isArray(p)?[vg(p),ia(p)]:[p,p],y=c.reduce(function(w,x){var b=Qt(d,x,0),E=v[0]-Math.abs(Array.isArray(b)?b[0]:b),A=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(y[0],f[0]),Math.max(y[1],f[1])]},[1/0,-1/0])}return null},dH=function(e,r,n,i,o){var s=r.map(function(l){return hL(e,l,n,o,i)}).filter(function(l){return!Ge(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dL=function(e,r,n,i,o){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&hL(e,c,f,i)||sf(e,f,n,o)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)l[f[d]]||(l[f[d]]=!0,c.push(f[d]));return c},[])},pL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},mL=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var o,s,l=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate});return o||l.push(r),s||l.push(n),l},ro=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$r(l[0]-l[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var v=o?o.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return d.filter(function(p){return!Rl(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:o?o[p]:p,index:v,offset:f}})},Zb=new WeakMap,tp=function(e,r){if(typeof r!="function")return e;Zb.has(e)||Zb.set(e,new WeakMap);var n=Zb.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},gL=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Tf(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Gp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:af(),realScaleType:"point"}:o==="category"?{scale:Tf(),realScaleType:"band"}:{scale:Gp(),realScaleType:"linear"};if(ys(i)){var c="scale".concat(rg(i));return{scale:(Fk[c]||af)(),realScaleType:Fk[c]?c:"point"}}return Be(i)?{scale:i}:{scale:af(),realScaleType:"point"}},rR=1e-4,vL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-rR,s=Math.max(i[0],i[1])+rR,l=e(r[0]),c=e(r[n-1]);(l<o||l>s||c<o||c>s)&&e.domain([r[0],r[n-1]])}},pH=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},mH=function(e,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ge(e[0])||e[0]<n)&&(o[0]=n),(!ge(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},gH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,l=0;l<r;++l){var c=Rl(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},vH=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var l=Rl(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},yH={sign:gH,expand:oU,none:Gu,silhouette:aU,wiggle:sU,positive:vH},_H=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),o=yH[n],s=iU().keys(i).value(function(l,c){return+Qt(l,c,0)}).order(n1).offset(o);return s(e)},bH=function(e,r,n,i,o,s){if(!e)return null;var l=s?r.reverse():r,c={},f=l.reduce(function(p,v){var y,w=(y=v.type)!==null&&y!==void 0&&y.defaultProps?Mt(Mt({},v.type.defaultProps),v.props):v.props,x=w.stackId,b=w.hide;if(b)return p;var E=w[n],A=p[E]||{hasStack:!1,stackGroups:{}};if(Zt(x)){var O=A.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(v),A.hasStack=!0,A.stackGroups[x]=O}else A.stackGroups[Nl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Mt(Mt({},p),{},Uu({},E,A))},c),d={};return Object.keys(f).reduce(function(p,v){var y=f[v];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(x,b){var E=y.stackGroups[b];return Mt(Mt({},x),{},Uu({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:_H(e,E.items,o)}))},w)}return Mt(Mt({},p),{},Uu({},v,y))},d)},yL=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=jW(f,o,l);return e.domain([vg(d),ia(d)]),{niceTicks:d}}if(o&&i==="number"){var p=e.domain(),v=MW(p,o,l);return{niceTicks:v}}return null};function nR(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ge(i[e.dataKey])){var l=Cp(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=Qt(i,Ge(s)?e.dataKey:s);return Ge(c)?null:e.scale(c)}var iR=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Qt(s,r.dataKey,r.domain[l]);return Ge(c)?null:r.scale(c)-o/2+i},wH=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},xH=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Zt(o)){var s=r[o];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},EH=function(e){return e.reduce(function(r,n){return[vg(n.concat([r[0]]).filter(ge)),ia(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},_L=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,d){var p=EH(d.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I1=function(e,r,n){if(Be(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ge(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(oR.test(e[0])){var o=+oR.exec(e[0])[1];i[0]=r[0]-o}else Be(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ge(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(aR.test(e[1])){var s=+aR.exec(e[1])[1];i[1]=r[1]+s}else Be(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},tm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=cE(r,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],d=o[l-1];s=Math.min((f.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},sR=function(e,r,n){return!e||!e.length||rl(e,hn(n,"type.defaultProps.domain"))?r:e},bL=function(e,r){var n=e.type.defaultProps?Mt(Mt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,f=n.chartType,d=n.hide;return Mt(Mt({},je(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:DE(e),value:Qt(r,i),type:c,payload:r,chartType:f,hide:d})};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function uR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(r),!0).forEach(function(n){wL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wL(t,e,r){return e=SH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SH(t){var e=TH(t,"string");return jf(e)=="symbol"?e:e+""}function TH(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AH(t,e){return CH(t)||OH(t,e)||IH(t,e)||PH()}function PH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return lR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function CH(t){if(Array.isArray(t))return t}var rm=Math.PI/180,kH=function(e){return e*180/Math.PI},Et=function(e,r,n,i){return{x:e+Math.cos(-rm*i)*n,y:r+Math.sin(-rm*i)*n}},xL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RH=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.startAngle,f=e.endAngle,d=Vr(e.cx,s,s/2),p=Vr(e.cy,l,l/2),v=xL(s,l,n),y=Vr(e.innerRadius,v,0),w=Vr(e.outerRadius,v,v*.8),x=Object.keys(r);return x.reduce(function(b,E){var A=r[E],O=A.domain,M=A.reversed,C;if(Ge(A.range))i==="angleAxis"?C=[c,f]:i==="radiusAxis"&&(C=[y,w]),M&&(C=[C[1],C[0]]);else{C=A.range;var N=C,P=AH(N,2);c=P[0],f=P[1]}var I=gL(A,o),R=I.realScaleType,F=I.scale;F.domain(O).range(C),vL(F);var D=yL(F,Zi(Zi({},A),{},{realScaleType:R})),L=Zi(Zi(Zi({},A),D),{},{range:C,radius:w,realScaleType:R,scale:F,cx:d,cy:p,innerRadius:y,outerRadius:w,startAngle:c,endAngle:f});return Zi(Zi({},b),{},wL({},E,L))},{})},NH=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},jH=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,l=NH({x:n,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(n-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:kH(f),angleInRadian:f}},MH=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},DH=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},cR=function(e,r){var n=e.x,i=e.y,o=jH({x:n,y:i},r),s=o.radius,l=o.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var d=MH(r),p=d.startAngle,v=d.endAngle,y=l,w;if(p<=v){for(;y>v;)y-=360;for(;y<p;)y+=360;w=y>=p&&y<=v}else{for(;y>p;)y-=360;for(;y<v;)y+=360;w=y>=v&&y<=p}return w?Zi(Zi({},r),{},{radius:s,angle:DH(y,r)}):null},EL=function(e){return!z.isValidElement(e)&&!Be(e)&&typeof e!="boolean"?e.className:""};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var LH=["offset"];function $H(t){return UH(t)||BH(t)||FH(t)||VH()}function VH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FH(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function BH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UH(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qH(t,e){if(t==null)return{};var r=zH(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){WH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WH(t,e,r){return e=HH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HH(t){var e=KH(t,"string");return Mf(e)=="symbol"?e:e+""}function KH(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}var GH=function(e){var r=e.value,n=e.formatter,i=Ge(e.children)?r:e.children;return Be(n)?n(i):i},XH=function(e,r){var n=$r(r-e),i=Math.min(Math.abs(r-e),360);return n*i},YH=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,d=c.cy,p=c.innerRadius,v=c.outerRadius,y=c.startAngle,w=c.endAngle,x=c.clockWise,b=(p+v)/2,E=XH(y,w),A=E>=0?1:-1,O,M;i==="insideStart"?(O=y+A*s,M=x):i==="insideEnd"?(O=w-A*s,M=!x):i==="end"&&(O=w+A*s,M=x),M=E<=0?M:!M;var C=Et(f,d,b,O),N=Et(f,d,b,O+(M?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(M?0:1,`,
    `).concat(N.x,",").concat(N.y),I=Ge(e.id)?Nl("recharts-radial-line-"):e.id;return W.createElement("text",Df({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:I,d:P})),W.createElement("textPath",{xlinkHref:"#".concat(I)},r))},QH=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,d=o.startAngle,p=o.endAngle,v=(d+p)/2;if(i==="outside"){var y=Et(s,l,f+n,v),w=y.x,x=y.y;return{x:w,y:x,textAnchor:w>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,E=Et(s,l,b,v),A=E.x,O=E.y;return{x:A,y:O,textAnchor:"middle",verticalAnchor:"middle"}},JH=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,l=s.x,c=s.y,f=s.width,d=s.height,p=d>=0?1:-1,v=p*i,y=p>0?"end":"start",w=p>0?"start":"end",x=f>=0?1:-1,b=x*i,E=x>0?"end":"start",A=x>0?"start":"end";if(o==="top"){var O={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:y};return Yt(Yt({},O),n?{height:Math.max(c-n.y,0),width:f}:{})}if(o==="bottom"){var M={x:l+f/2,y:c+d+v,textAnchor:"middle",verticalAnchor:w};return Yt(Yt({},M),n?{height:Math.max(n.y+n.height-(c+d),0),width:f}:{})}if(o==="left"){var C={x:l-b,y:c+d/2,textAnchor:E,verticalAnchor:"middle"};return Yt(Yt({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(o==="right"){var N={x:l+f+b,y:c+d/2,textAnchor:A,verticalAnchor:"middle"};return Yt(Yt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var P=n?{width:f,height:d}:{};return o==="insideLeft"?Yt({x:l+b,y:c+d/2,textAnchor:A,verticalAnchor:"middle"},P):o==="insideRight"?Yt({x:l+f-b,y:c+d/2,textAnchor:E,verticalAnchor:"middle"},P):o==="insideTop"?Yt({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:w},P):o==="insideBottom"?Yt({x:l+f/2,y:c+d-v,textAnchor:"middle",verticalAnchor:y},P):o==="insideTopLeft"?Yt({x:l+b,y:c+v,textAnchor:A,verticalAnchor:w},P):o==="insideTopRight"?Yt({x:l+f-b,y:c+v,textAnchor:E,verticalAnchor:w},P):o==="insideBottomLeft"?Yt({x:l+b,y:c+d-v,textAnchor:A,verticalAnchor:y},P):o==="insideBottomRight"?Yt({x:l+f-b,y:c+d-v,textAnchor:E,verticalAnchor:y},P):kl(o)&&(ge(o.x)||ss(o.x))&&(ge(o.y)||ss(o.y))?Yt({x:l+Vr(o.x,f),y:c+Vr(o.y,d),textAnchor:"end",verticalAnchor:"end"},P):Yt({x:l+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},ZH=function(e){return"cx"in e&&ge(e.cx)};function cr(t){var e=t.offset,r=e===void 0?5:e,n=qH(t,LH),i=Yt({offset:r},n),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,v=i.textBreakAll;if(!o||Ge(l)&&Ge(c)&&!z.isValidElement(f)&&!Be(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var y;if(Be(f)){if(y=z.createElement(f,i),z.isValidElement(y))return y}else y=GH(i);var w=ZH(o),x=je(i,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return YH(i,y,x);var b=w?QH(i):JH(i);return W.createElement(bs,Df({className:Xe("recharts-label",p)},x,b,{breakAll:v}),y)}cr.displayName="Label";var SL=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,v=e.y,y=e.top,w=e.left,x=e.width,b=e.height,E=e.clockWise,A=e.labelViewBox;if(A)return A;if(ge(x)&&ge(b)){if(ge(p)&&ge(v))return{x:p,y:v,width:x,height:b};if(ge(y)&&ge(w))return{x:y,y:w,width:x,height:b}}return ge(p)&&ge(v)?{x:p,y:v,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:d||c||l||0,clockWise:E}:e.viewBox?e.viewBox:{}},eK=function(e,r){return e?e===!0?W.createElement(cr,{key:"label-implicit",viewBox:r}):Zt(e)?W.createElement(cr,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===cr?z.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(cr,{key:"label-implicit",content:e,viewBox:r}):Be(e)?W.createElement(cr,{key:"label-implicit",content:e,viewBox:r}):kl(e)?W.createElement(cr,Df({viewBox:r},e,{key:"label-implicit"})):null:null},tK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=SL(e),s=Cn(i,cr).map(function(c,f){return z.cloneElement(c,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return s;var l=eK(e.label,r||o);return[l].concat($H(s))};cr.parseViewBox=SL;cr.renderCallByParent=tK;var ew,hR;function rK(){if(hR)return ew;hR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return ew=t,ew}var nK=rK();const iK=ft(nK);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var oK=["valueAccessor"],aK=["data","dataKey","clockWise","id","textBreakAll"];function sK(t){return fK(t)||cK(t)||lK(t)||uK()}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(t,e){if(t){if(typeof t=="string")return C1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(t,e)}}function cK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fK(t){if(Array.isArray(t))return C1(t)}function C1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nm.apply(this,arguments)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){hK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hK(t,e,r){return e=dK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dK(t){var e=pK(t,"string");return Lf(e)=="symbol"?e:e+""}function pK(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mR(t,e){if(t==null)return{};var r=mK(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gK=function(e){return Array.isArray(e.value)?iK(e.value):e.value};function uo(t){var e=t.valueAccessor,r=e===void 0?gK:e,n=mR(t,oK),i=n.data,o=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,f=mR(n,aK);return!i||!i.length?null:W.createElement(it,{className:"recharts-label-list"},i.map(function(d,p){var v=Ge(o)?r(d,p):Qt(d&&d.payload,o),y=Ge(l)?{}:{id:"".concat(l,"-").concat(p)};return W.createElement(cr,nm({},je(d,!0),f,y,{parentViewBox:d.parentViewBox,value:v,textBreakAll:c,viewBox:cr.parseViewBox(Ge(s)?d:pR(pR({},d),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}uo.displayName="LabelList";function vK(t,e){return t?t===!0?W.createElement(uo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Be(t)?W.createElement(uo,{key:"labelList-implicit",data:e,content:t}):kl(t)?W.createElement(uo,nm({data:e},t,{key:"labelList-implicit"})):null:null}function yK(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Cn(n,uo).map(function(s,l){return z.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var o=vK(t.label,e);return[o].concat(sK(i))}uo.renderCallByParent=yK;function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){_K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _K(t,e,r){return e=bK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bK(t){var e=wK(t,"string");return $f(e)=="symbol"?e:e+""}function wK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xK=function(e,r){var n=$r(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},rp=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(l?1:-1)+i,p=Math.asin(c/d)/rm,v=f?o:o+s*p,y=Et(r,n,d,v),w=Et(r,n,i,v),x=f?o-s*p:o,b=Et(r,n,d*Math.cos(p*rm),x);return{center:y,circleTangency:w,lineTangency:b,theta:p}},TL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=xK(s,l),f=s+c,d=Et(r,n,o,s),p=Et(r,n,o,f),v="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var y=Et(r,n,i,s),w=Et(r,n,i,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},EK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=$r(d-f),v=rp({cx:r,cy:n,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),y=v.circleTangency,w=v.lineTangency,x=v.theta,b=rp({cx:r,cy:n,radius:o,angle:d,sign:-p,cornerRadius:s,cornerIsExternal:c}),E=b.circleTangency,A=b.lineTangency,O=b.theta,M=c?Math.abs(f-d):Math.abs(f-d)-x-O;if(M<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):TL({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d});var C="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var N=rp({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),P=N.circleTangency,I=N.lineTangency,R=N.theta,F=rp({cx:r,cy:n,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=F.circleTangency,L=F.lineTangency,j=F.theta,J=c?Math.abs(f-d):Math.abs(f-d)-R-j;if(J<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},SK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AL=function(e){var r=vR(vR({},SK),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,d=r.startAngle,p=r.endAngle,v=r.className;if(s<o||d===p)return null;var y=Xe("recharts-sector",v),w=s-o,x=Vr(l,w,0,!0),b;return x>0&&Math.abs(d-p)<360?b=EK({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(x,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):b=TL({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:p}),W.createElement("path",k1({},je(r,!0),{className:y,d:b,role:"img"}))};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(this,arguments)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){TK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TK(t,e,r){return e=AK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=PK(t,"string");return Vf(e)=="symbol"?e:e+""}function PK(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bR={curveBasisClosed:KB,curveBasisOpen:GB,curveBasis:HB,curveBumpX:RB,curveBumpY:NB,curveLinearClosed:XB,curveLinear:ig,curveMonotoneX:YB,curveMonotoneY:QB,curveNatural:JB,curveStep:ZB,curveStepAfter:tU,curveStepBefore:eU},np=function(e){return e.x===+e.x&&e.y===+e.y},zc=function(e){return e.x},Wc=function(e){return e.y},IK=function(e,r){if(Be(e))return e;var n="curve".concat(rg(e));return(n==="curveMonotone"||n==="curveBump")&&r?bR["".concat(n).concat(r==="vertical"?"Y":"X")]:bR[n]||ig},OK=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=IK(n,l),p=f?o.filter(function(x){return np(x)}):o,v;if(Array.isArray(s)){var y=f?s.filter(function(x){return np(x)}):s,w=p.map(function(x,b){return _R(_R({},x),{},{base:y[b]})});return l==="vertical"?v=Kd().y(Wc).x1(zc).x0(function(x){return x.base.x}):v=Kd().x(zc).y1(Wc).y0(function(x){return x.base.y}),v.defined(np).curve(d),v(w)}return l==="vertical"&&ge(s)?v=Kd().y(Wc).x1(zc).x0(s):ge(s)?v=Kd().x(zc).y1(Wc).y0(s):v=SM().x(zc).y(Wc),v.defined(np).curve(d),v(p)},qu=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?OK(e):i;return W.createElement("path",R1({},je(e,!1),kp(e),{className:Xe("recharts-curve",r),d:s,ref:o}))},tw={exports:{}},rw,wR;function CK(){if(wR)return rw;wR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rw=t,rw}var nw,xR;function kK(){if(xR)return nw;xR=1;var t=CK();function e(){}function r(){}return r.resetWarningCache=e,nw=function(){function n(s,l,c,f,d,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},nw}var ER;function RK(){return ER||(ER=1,tw.exports=kK()()),tw.exports}var NK=RK();const lt=ft(NK);var jK=Object.getOwnPropertyNames,MK=Object.getOwnPropertySymbols,DK=Object.prototype.hasOwnProperty;function SR(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function ip(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),l=o.get(n);if(s&&l)return s===n&&l===r;o.set(r,n),o.set(n,r);var c=t(r,n,i);return o.delete(r),o.delete(n),c}}function TR(t){return jK(t).concat(MK(t))}var LK=Object.hasOwn||function(t,e){return DK.call(t,e)};function js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $K="__v",VK="__o",FK="_owner",AR=Object.getOwnPropertyDescriptor,PR=Object.keys;function BK(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function UK(t,e){return js(t.getTime(),e.getTime())}function qK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zK(t,e){return t===e}function IR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),s,l,c=0;(s=o.next())&&!s.done;){for(var f=e.entries(),d=!1,p=0;(l=f.next())&&!l.done;){if(i[p]){p++;continue}var v=s.value,y=l.value;if(r.equals(v[0],y[0],c,p,t,e,r)&&r.equals(v[1],y[1],v[0],y[0],t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}var WK=js;function HK(t,e,r){var n=PR(t),i=n.length;if(PR(e).length!==i)return!1;for(;i-- >0;)if(!PL(t,e,r,n[i]))return!1;return!0}function Hc(t,e,r){var n=TR(t),i=n.length;if(TR(e).length!==i)return!1;for(var o,s,l;i-- >0;)if(o=n[i],!PL(t,e,r,o)||(s=AR(t,o),l=AR(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function KK(t,e){return js(t.valueOf(),e.valueOf())}function GK(t,e){return t.source===e.source&&t.flags===e.flags}function OR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),s,l;(s=o.next())&&!s.done;){for(var c=e.values(),f=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function XK(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function YK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function PL(t,e,r,n){return(n===FK||n===VK||n===$K)&&(t.$$typeof||e.$$typeof)?!0:LK(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var QK="[object Arguments]",JK="[object Boolean]",ZK="[object Date]",eG="[object Error]",tG="[object Map]",rG="[object Number]",nG="[object Object]",iG="[object RegExp]",oG="[object Set]",aG="[object String]",sG="[object URL]",uG=Array.isArray,CR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,kR=Object.assign,lG=Object.prototype.toString.call.bind(Object.prototype.toString);function cG(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,d=t.areSetsEqual,p=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(w,x,b){if(w===x)return!0;if(w==null||x==null)return!1;var E=typeof w;if(E!==typeof x)return!1;if(E!=="object")return E==="number"?s(w,x,b):E==="function"?i(w,x,b):!1;var A=w.constructor;if(A!==x.constructor)return!1;if(A===Object)return l(w,x,b);if(uG(w))return e(w,x,b);if(CR!=null&&CR(w))return p(w,x,b);if(A===Date)return r(w,x,b);if(A===RegExp)return f(w,x,b);if(A===Map)return o(w,x,b);if(A===Set)return d(w,x,b);var O=lG(w);return O===ZK?r(w,x,b):O===iG?f(w,x,b):O===tG?o(w,x,b):O===oG?d(w,x,b):O===nG?typeof w.then!="function"&&typeof x.then!="function"&&l(w,x,b):O===sG?v(w,x,b):O===eG?n(w,x,b):O===QK?l(w,x,b):O===JK||O===rG||O===aG?c(w,x,b):!1}}function fG(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Hc:BK,areDatesEqual:UK,areErrorsEqual:qK,areFunctionsEqual:zK,areMapsEqual:n?SR(IR,Hc):IR,areNumbersEqual:WK,areObjectsEqual:n?Hc:HK,arePrimitiveWrappersEqual:KK,areRegExpsEqual:GK,areSetsEqual:n?SR(OR,Hc):OR,areTypedArraysEqual:n?Hc:XK,areUrlsEqual:YK};if(r&&(i=kR({},i,r(i))),e){var o=ip(i.areArraysEqual),s=ip(i.areMapsEqual),l=ip(i.areObjectsEqual),c=ip(i.areSetsEqual);i=kR({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function hG(t){return function(e,r,n,i,o,s,l){return t(e,r,l)}}function dG(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(c,f){var d=n(),p=d.cache,v=p===void 0?e?new WeakMap:void 0:p,y=d.meta;return r(c,f,{cache:v,equals:i,meta:y,strict:o})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,f){return r(c,f,s)}}var pG=Sa();Sa({strict:!0});Sa({circular:!0});Sa({circular:!0,strict:!0});Sa({createInternalComparator:function(){return js}});Sa({strict:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js}});Sa({circular:!0,createInternalComparator:function(){return js},strict:!0});function Sa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,l=fG(t),c=cG(l),f=n?n(c):hG(c);return dG({circular:r,comparator:c,createState:i,equals:f,strict:s})}function mG(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function RR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):mG(i)};requestAnimationFrame(n)}function N1(t){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1(t)}function gG(t){return bG(t)||_G(t)||yG(t)||vG()}function vG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(t,e){if(t){if(typeof t=="string")return NR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(t,e)}}function NR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _G(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bG(t){if(Array.isArray(t))return t}function wG(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,l=gG(s),c=l[0],f=l.slice(1);if(typeof c=="number"){RR(i.bind(null,f),c);return}i(c),RR(i.bind(null,f));return}N1(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){IL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IL(t,e,r){return e=xG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xG(t){var e=EG(t,"string");return Ff(e)==="symbol"?e:String(e)}function EG(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SG=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},TG=function(e){return e},AG=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uf=function(e,r){return Object.keys(r).reduce(function(n,i){return MR(MR({},n),{},IL({},i,e(i,r[i])))},{})},DR=function(e,r,n){return e.map(function(i){return"".concat(AG(i)," ").concat(r,"ms ").concat(n)}).join(",")};function PG(t,e){return CG(t)||OG(t,e)||OL(t,e)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function CG(t){if(Array.isArray(t))return t}function kG(t){return jG(t)||NG(t)||OL(t)||RG()}function RG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OL(t,e){if(t){if(typeof t=="string")return j1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(t,e)}}function NG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jG(t){if(Array.isArray(t))return j1(t)}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var im=1e-4,CL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},kL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},LR=function(e,r){return function(n){var i=CL(e,r);return kL(i,n)}},MG=function(e,r){return function(n){var i=CL(e,r),o=[].concat(kG(i.map(function(s,l){return s*l}).slice(1)),[0]);return kL(o,n)}},$R=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=PG(f,4);i=d[0],o=d[1],s=d[2],l=d[3]}}}var p=LR(i,s),v=LR(o,l),y=MG(i,s),w=function(E){return E>1?1:E<0?0:E},x=function(E){for(var A=E>1?1:E,O=A,M=0;M<8;++M){var C=p(O)-A,N=y(O);if(Math.abs(C-A)<im||N<im)return v(O);O=w(O-C/N)}return v(O)};return x.isStepper=!1,x},DG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(d,p,v){var y=-(d-p)*n,w=v*o,x=v+(y-w)*l/1e3,b=v*l/1e3+d;return Math.abs(b-p)<im&&Math.abs(x)<im?[p,0]:[b,x]};return c.isStepper=!0,c.dt=l,c},LG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $R(i);case"spring":return DG();default:if(i.split("(")[0]==="cubic-bezier")return $R(i)}return typeof i=="function"?i:null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function VR(t){return FG(t)||VG(t)||RL(t)||$G()}function $G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FG(t){if(Array.isArray(t))return D1(t)}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){M1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M1(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=UG(t,"string");return Bf(e)==="symbol"?e:String(e)}function UG(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qG(t,e){return HG(t)||WG(t,e)||RL(t,e)||zG()}function zG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(t,e){if(t){if(typeof t=="string")return D1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(t,e)}}function D1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function HG(t){if(Array.isArray(t))return t}var om=function(e,r,n){return e+(r-e)*n},L1=function(e){var r=e.from,n=e.to;return r!==n},KG=function t(e,r,n){var i=uf(function(o,s){if(L1(s)){var l=e(s.from,s.to,s.velocity),c=qG(l,2),f=c[0],d=c[1];return yr(yr({},s),{},{from:f,velocity:d})}return s},r);return n<1?uf(function(o,s){return L1(s)?yr(yr({},s),{},{velocity:om(s.velocity,i[o].velocity,n),from:om(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const GG=function(t,e,r,n,i){var o=SG(t,e),s=o.reduce(function(b,E){return yr(yr({},b),{},M1({},E,[t[E],e[E]]))},{}),l=o.reduce(function(b,E){return yr(yr({},b),{},M1({},E,{from:t[E],velocity:0,to:e[E]}))},{}),c=-1,f,d,p=function(){return null},v=function(){return uf(function(E,A){return A.from},l)},y=function(){return!Object.values(l).filter(L1).length},w=function(E){f||(f=E);var A=E-f,O=A/r.dt;l=KG(r,l,O),i(yr(yr(yr({},t),e),v())),f=E,y()||(c=requestAnimationFrame(p))},x=function(E){d||(d=E);var A=(E-d)/n,O=uf(function(C,N){return om.apply(void 0,VR(N).concat([r(A)]))},s);if(i(yr(yr(yr({},t),e),O)),A<1)c=requestAnimationFrame(p);else{var M=uf(function(C,N){return om.apply(void 0,VR(N).concat([r(1)]))},s);i(yr(yr(yr({},t),e),M))}};return p=r.isStepper?w:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}var XG=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YG(t,e){if(t==null)return{};var r=QG(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QG(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function iw(t){return tX(t)||eX(t)||ZG(t)||JG()}function JG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(t,e){if(t){if(typeof t=="string")return $1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $1(t,e)}}function eX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tX(t){if(Array.isArray(t))return $1(t)}function $1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){Jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jc(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function iX(t,e,r){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NL(t){var e=oX(t,"string");return il(e)==="symbol"?e:String(e)}function oX(t,e){if(il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V1(t,e)}function V1(t,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V1(t,e)}function sX(t){var e=uX();return function(){var n=am(t),i;if(e){var o=am(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return F1(this,i)}}function F1(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1(t)}function B1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}var Oi=function(t){aX(r,t);var e=sX(r);function r(n,i){var o;rX(this,r),o=e.call(this,n,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,d=s.to,p=s.steps,v=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(B1(o)),o.changeStyle=o.changeStyle.bind(B1(o)),!l||y<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:d}),F1(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof v=="function")return o.state={style:f},F1(o);o.state={style:c?Jc({},c,f):f}}else o.state={style:{}};return o}return iX(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,d=o.to,p=o.from,v=this.state.style;if(l){if(!s){var y={style:c?Jc({},c,d):d};this.state&&v&&(c&&v[c]!==d||!c&&v!==d)&&this.setState(y);return}if(!(pG(i.to,d)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?p:i.to;if(this.state&&v){var b={style:c?Jc({},c,x):x};(c&&v[c]!==x||!c&&v!==x)&&this.setState(b)}this.runAnimation(Yn(Yn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,y=GG(s,l,LG(f),c,this.changeStyle),w=function(){o.stopJSAnimation=y()};this.manager.start([v,d,w,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],d=f.style,p=f.duration,v=p===void 0?0:p,y=function(x,b,E){if(E===0)return x;var A=b.duration,O=b.easing,M=O===void 0?"ease":O,C=b.style,N=b.properties,P=b.onAnimationEnd,I=E>0?s[E-1]:b,R=N||Object.keys(C);if(typeof M=="function"||M==="spring")return[].concat(iw(x),[o.runJSAnimation.bind(o,{from:I.style,to:C,duration:A,easing:M}),A]);var F=DR(R,A,M),D=Yn(Yn(Yn({},I.style),C),{},{transition:F});return[].concat(iw(x),[D,A,P]).filter(TG)};return this.manager.start([c].concat(iw(s.reduce(y,[d,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wG());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,y=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof y=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var x=l?Jc({},l,c):c,b=DR(Object.keys(x),s,f);w.start([d,o,Yn(Yn({},x),{},{transition:b}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=YG(i,XG),f=z.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||f===0||s<=0)return o;var p=function(y){var w=y.props,x=w.style,b=x===void 0?{}:x,E=w.className,A=z.cloneElement(y,Yn(Yn({},c),{},{style:Yn(Yn({},b),d),className:E}));return A};return f===1?p(z.Children.only(o)):W.createElement("div",null,z.Children.map(o,function(v){return p(v)}))}}]),r}(z.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}function lX(t,e){return dX(t)||hX(t,e)||fX(t,e)||cX()}function cX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fX(t,e){if(t){if(typeof t=="string")return UR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UR(t,e)}}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function dX(t){if(Array.isArray(t))return t}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){pX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pX(t,e,r){return e=mX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mX(t){var e=gX(t,"string");return Uf(e)=="symbol"?e:e+""}function gX(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WR=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],v=0,y=4;v<y;v++)p[v]=o[v]>s?s:o[v];d="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),d+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+l*p[1])),d+="L ".concat(e+n,",").concat(r+i-l*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),d+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-l*p[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var w=Math.min(s,o);d="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+n-c*w,",").concat(r+i,`
            L `).concat(e+c*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(r+i-l*w," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},vX=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),d=Math.max(o,o+l),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=d&&i>=p&&i<=v}return!1},yX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LE=function(e){var r=zR(zR({},yX),e),n=z.useRef(),i=z.useState(-1),o=lX(i,2),s=o[0],l=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&l(M)}catch{}},[]);var c=r.x,f=r.y,d=r.width,p=r.height,v=r.radius,y=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,A=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var O=Xe("recharts-rectangle",y);return A?W.createElement(Oi,{canBegin:s>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:x,animationEasing:w,isActive:A},function(M){var C=M.width,N=M.height,P=M.x,I=M.y;return W.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:E,easing:w},W.createElement("path",sm({},je(r,!0),{className:O,d:WR(P,I,C,N,v),ref:n})))}):W.createElement("path",sm({},je(r,!0),{className:O,d:WR(c,f,d,p,v)}))},_X=["points","className","baseLinePoints","connectNulls"];function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function bX(t,e){if(t==null)return{};var r=wX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HR(t){return TX(t)||SX(t)||EX(t)||xX()}function xX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(t,e){if(t){if(typeof t=="string")return U1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U1(t,e)}}function SX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TX(t){if(Array.isArray(t))return U1(t)}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KR=function(e){return e&&e.x===+e.x&&e.y===+e.y},AX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){KR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KR(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},lf=function(e,r){var n=AX(e);r&&(n=[n.reduce(function(o,s){return[].concat(HR(o),HR(s))},[])]);var i=n.map(function(o){return o.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},PX=function(e,r,n){var i=lf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lf(r.reverse(),n).slice(1))},IX=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,o=e.connectNulls,s=bX(e,_X);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=PX(r,i,o);return W.createElement("g",{className:l},W.createElement("path",Mu({},je(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?W.createElement("path",Mu({},je(s,!0),{fill:"none",d:lf(r,o)})):null,c?W.createElement("path",Mu({},je(s,!0),{fill:"none",d:lf(i,o)})):null)}var d=lf(r,o);return W.createElement("path",Mu({},je(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q1.apply(this,arguments)}var wg=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=Xe("recharts-dot",o);return r===+r&&n===+n&&i===+i?W.createElement("circle",q1({},je(e,!1),kp(e),{className:s,cx:r,cy:n,r:i})):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var OX=["x","y","top","left","width","height","className"];function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z1.apply(this,arguments)}function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=NX(t,"string");return qf(e)=="symbol"?e:e+""}function NX(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jX(t,e){if(t==null)return{};var r=MX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DX=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},LX=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,v=e.height,y=v===void 0?0:v,w=e.className,x=jX(e,OX),b=CX({x:n,y:o,top:l,left:f,width:p,height:y},x);return!ge(n)||!ge(o)||!ge(p)||!ge(y)||!ge(l)||!ge(f)?null:W.createElement("path",z1({},je(b,!0),{className:Xe("recharts-cross",w),d:DX(n,o,p,y,l,f)}))},ow,XR;function $X(){if(XR)return ow;XR=1;var t=gg(),e=GD(),r=ji();function n(i,o){return i&&i.length?t(i,r(o,2),e):void 0}return ow=n,ow}var VX=$X();const FX=ft(VX);var aw,YR;function BX(){if(YR)return aw;YR=1;var t=gg(),e=ji(),r=XD();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return aw=n,aw}var UX=BX();const qX=ft(UX);var zX=["cx","cy","angle","ticks","axisLine"],WX=["ticks","tick","angle","tickFormatter","stroke"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JR(t,e){if(t==null)return{};var r=HX(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ML(n.key),n)}}function GX(t,e,r){return e&&ZR(t.prototype,e),r&&ZR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XX(t,e,r){return e=um(e),YX(t,jL()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function YX(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QX(t)}function QX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function JX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W1(t,e)}function W1(t,e){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W1(t,e)}function xg(t,e,r){return e=ML(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ML(t){var e=ZX(t,"string");return ol(e)=="symbol"?e:e+""}function ZX(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eg=function(t){function e(){return KX(this,e),XX(this,e,arguments)}return JX(e,t),GX(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,s=o.angle,l=o.cx,c=o.cy;return Et(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=FX(l,function(d){return d.coordinate||0}),f=qX(l,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,f=JR(n,zX),d=l.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),p=Et(i,o,d[0],s),v=Et(i,o,d[1],s),y=ts(ts(ts({},je(f,!1)),{},{fill:"none"},je(c,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return W.createElement("line",cf({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,d=JR(i,WX),p=this.getTickTextAnchor(),v=je(d,!1),y=je(s,!1),w=o.map(function(x,b){var E=n.getTickValueCoord(x),A=ts(ts(ts(ts({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(E.x,", ").concat(E.y,")")},v),{},{stroke:"none",fill:f},y),{},{index:b},E),{},{payload:x});return W.createElement(it,cf({className:Xe("recharts-polar-radius-axis-tick",EL(s)),key:"tick-".concat(x.coordinate)},_s(n.props,x,b)),e.renderTickItem(s,A,c?c(x.value,b):x.value))});return W.createElement(it,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(it,{className:Xe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),cr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Be(n)?s=n(i):s=W.createElement(bs,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(z.PureComponent);xg(Eg,"displayName","PolarRadiusAxis");xg(Eg,"axisType","radiusAxis");xg(Eg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},as.apply(this,arguments)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){Sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function tY(t,e,r){return e&&t2(t.prototype,e),r&&t2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rY(t,e,r){return e=lm(e),nY(t,DL()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function nY(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iY(t)}function iY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function oY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H1(t,e)}function Sg(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LL(t){var e=aY(t,"string");return al(e)=="symbol"?e:e+""}function aY(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sY=Math.PI/180,uY=1e-5,Tg=function(t){function e(){return eY(this,e),rY(this,e,arguments)}return oY(e,t),tY(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,s=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,d=f||8,p=Et(o,s,l,n.coordinate),v=Et(o,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*sY),s;return o>uY?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,f=rs(rs({},je(this.props,!1)),{},{fill:"none"},je(l,!1));if(c==="circle")return W.createElement(wg,as({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:s}));var d=this.props.ticks,p=d.map(function(v){return Et(i,o,s,v.coordinate)});return W.createElement(IX,as({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,d=je(this.props,!1),p=je(s,!1),v=rs(rs({},d),{},{fill:"none"},je(l,!1)),y=o.map(function(w,x){var b=n.getTickLineCoord(w),E=n.getTickTextAnchor(w),A=rs(rs(rs({textAnchor:E},d),{},{stroke:"none",fill:f},p),{},{index:x,payload:w,x:b.x2,y:b.y2});return W.createElement(it,as({className:Xe("recharts-polar-angle-axis-tick",EL(s)),key:"tick-".concat(w.coordinate)},_s(n.props,w,x)),l&&W.createElement("line",as({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,A,c?c(w.value,x):w.value))});return W.createElement(it,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,s=n.axisLine;return o<=0||!i||!i.length?null:W.createElement(it,{className:Xe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Be(n)?s=n(i):s=W.createElement(bs,as({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(z.PureComponent);Sg(Tg,"displayName","PolarAngleAxis");Sg(Tg,"axisType","angleAxis");Sg(Tg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var sw,r2;function lY(){if(r2)return sw;r2=1;var t=KM(),e=t(Object.getPrototypeOf,Object);return sw=e,sw}var uw,n2;function cY(){if(n2)return uw;n2=1;var t=bo(),e=lY(),r=wo(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(d){if(!r(d)||t(d)!=n)return!1;var p=e(d);if(p===null)return!0;var v=l.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return uw=f,uw}var fY=cY();const hY=ft(fY);var lw,i2;function dY(){if(i2)return lw;i2=1;var t=bo(),e=wo(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return lw=n,lw}var pY=dY();const mY=ft(pY);function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(this,arguments)}function gY(t,e){return bY(t)||_Y(t,e)||yY(t,e)||vY()}function vY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(t,e){if(t){if(typeof t=="string")return o2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o2(t,e)}}function o2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Y(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function bY(t){if(Array.isArray(t))return t}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){wY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wY(t,e,r){return e=xY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xY(t){var e=EY(t,"string");return zf(e)=="symbol"?e:e+""}function EY(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u2=function(e,r,n,i,o){var s=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+o),l+="L ".concat(e+n-s/2-i,",").concat(r+o),l+="L ".concat(e,",").concat(r," Z"),l},SY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TY=function(e){var r=s2(s2({},SY),e),n=z.useRef(),i=z.useState(-1),o=gY(i,2),s=o[0],l=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,f=r.y,d=r.upperWidth,p=r.lowerWidth,v=r.height,y=r.className,w=r.animationEasing,x=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||v!==+v||d===0&&p===0||v===0)return null;var A=Xe("recharts-trapezoid",y);return E?W.createElement(Oi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:v,x:c,y:f},duration:x,animationEasing:w,isActive:E},function(O){var M=O.upperWidth,C=O.lowerWidth,N=O.height,P=O.x,I=O.y;return W.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:w},W.createElement("path",cm({},je(r,!0),{className:A,d:u2(P,I,M,C,N),ref:n})))}):W.createElement("g",null,W.createElement("path",cm({},je(r,!0),{className:A,d:u2(c,f,d,p,v)})))},AY=["option","shapeType","propTransformer","activeClassName","isActive"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function PY(t,e){if(t==null)return{};var r=IY(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){OY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OY(t,e,r){return e=CY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CY(t){var e=kY(t,"string");return Wf(e)=="symbol"?e:e+""}function kY(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){return fm(fm({},e),t)}function NY(t,e){return t==="symbols"}function c2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(LE,r);case"trapezoid":return W.createElement(TY,r);case"sector":return W.createElement(AL,r);case"symbols":if(NY(e))return W.createElement(rE,r);break;default:return null}}function jY(t){return z.isValidElement(t)?t.props:t}function $L(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?RY:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=PY(t,AY),f;if(z.isValidElement(e))f=z.cloneElement(e,fm(fm({},c),jY(e)));else if(Be(e))f=e(c);else if(hY(e)&&!mY(e)){var d=i(e,c);f=W.createElement(c2,{shapeType:r,elementProps:d})}else{var p=c;f=W.createElement(c2,{shapeType:r,elementProps:p})}return l?W.createElement(it,{className:s},f):f}function Ag(t,e){return e!=null&&"trapezoids"in t.props}function Pg(t,e){return e!=null&&"sectors"in t.props}function Hf(t,e){return e!=null&&"points"in t.props}function MY(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function DY(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function LY(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function $Y(t,e){var r;return Ag(t,e)?r=MY:Pg(t,e)?r=DY:Hf(t,e)&&(r=LY),r}function VY(t,e){var r;return Ag(t,e)?r="trapezoids":Pg(t,e)?r="sectors":Hf(t,e)&&(r="points"),r}function FY(t,e){if(Ag(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hf(t,e)?e.payload:{}}function BY(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=VY(r,e),o=FY(r,e),s=n.filter(function(c,f){var d=rl(o,c),p=r.props[i].filter(function(w){var x=$Y(r,e);return x(w,e)}),v=r.props[i].indexOf(p[p.length-1]),y=f===v;return d&&y}),l=n.indexOf(s[s.length-1]);return l}var gp;function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Du.apply(this,arguments)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){An(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FL(n.key),n)}}function qY(t,e,r){return e&&h2(t.prototype,e),r&&h2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zY(t,e,r){return e=hm(e),WY(t,VL()?Reflect.construct(e,r||[],hm(t).constructor):e.apply(t,r))}function WY(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(t)}function HY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}function KY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K1(t,e)}function An(t,e,r){return e=FL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FL(t){var e=GY(t,"string");return sl(e)=="symbol"?e:e+""}function GY(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eo=function(t){function e(r){var n;return UY(this,e),n=zY(this,e,[r]),An(n,"pieRef",null),An(n,"sectorRefs",[]),An(n,"id",Nl("recharts-pie-")),An(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(i)&&i()}),An(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return KY(e,t),qY(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,c=o.dataKey,f=o.valueKey,d=je(this.props,!1),p=je(s,!1),v=je(l,!1),y=s&&s.offsetRadius||20,w=n.map(function(x,b){var E=(x.startAngle+x.endAngle)/2,A=Et(x.cx,x.cy,x.outerRadius+y,E),O=wt(wt(wt(wt({},d),x),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(A.x,x.cx)},A),M=wt(wt(wt(wt({},d),x),{},{fill:"none",stroke:x.fill},v),{},{index:b,points:[Et(x.cx,x.cy,x.outerRadius,E),A]}),C=c;return Ge(c)&&Ge(f)?C="value":Ge(c)&&(C=f),W.createElement(it,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,M,"line"),e.renderLabelItem(s,O,Qt(x,C)))});return W.createElement(it,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(f,d){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&n.length!==1)return null;var p=i.isActiveIndex(d),v=c&&i.hasActiveIndex()?c:null,y=p?s:v,w=wt(wt({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return W.createElement(it,Du({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},_s(i.props,f,d),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(d)}),W.createElement($L,Du({option:y,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state,v=p.prevSectors,y=p.prevIsAnimationActive;return W.createElement(Oi,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,b=[],E=o&&o[0],A=E.startAngle;return o.forEach(function(O,M){var C=v&&v[M],N=M>0?hn(O,"paddingAngle",0):0;if(C){var P=Yr(C.endAngle-C.startAngle,O.endAngle-O.startAngle),I=wt(wt({},O),{},{startAngle:A+N,endAngle:A+P(x)+N});b.push(I),A=I.endAngle}else{var R=O.endAngle,F=O.startAngle,D=Yr(0,R-F),L=D(x),j=wt(wt({},O),{},{startAngle:A+N,endAngle:A+L+N});b.push(j),A=j.endAngle}}),W.createElement(it,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,c=i.label,f=i.cx,d=i.cy,p=i.innerRadius,v=i.outerRadius,y=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!s||!s.length||!ge(f)||!ge(d)||!ge(p)||!ge(v))return null;var x=Xe("recharts-pie",l);return W.createElement(it,{tabIndex:this.props.rootTabIndex,className:x,ref:function(E){n.pieRef=E}},this.renderSectors(),c&&this.renderLabels(s),cr.renderCallByParent(this.props,null,!1),(!y||w)&&uo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);if(Be(n))return n(i);var s=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(qu,Du({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,o){if(W.isValidElement(n))return W.cloneElement(n,i);var s=o;if(Be(n)&&(s=n(i),W.isValidElement(s)))return s;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!Be(n)?n.className:"");return W.createElement(bs,Du({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(z.PureComponent);gp=Eo;An(Eo,"displayName","Pie");An(Eo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ks.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});An(Eo,"parseDeltaAngle",function(t,e){var r=$r(e-t),n=Math.min(Math.abs(e-t),360);return r*n});An(Eo,"getRealPieData",function(t){var e=t.data,r=t.children,n=je(t,!1),i=Cn(r,lg);return e&&e.length?e.map(function(o,s){return wt(wt(wt({payload:o},n),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return wt(wt({},n),o.props)}):[]});An(Eo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,o=e.height,s=xL(i,o),l=n+Vr(t.cx,i,i/2),c=r+Vr(t.cy,o,o/2),f=Vr(t.innerRadius,s,0),d=Vr(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:d,maxRadius:p}});An(Eo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?wt(wt({},e.type.defaultProps),e.props):e.props,i=gp.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,f=n.dataKey,d=n.nameKey,p=n.valueKey,v=n.tooltipType,y=Math.abs(n.minAngle),w=gp.parseCoordinateOfPie(n,r),x=gp.parseDeltaAngle(s,l),b=Math.abs(x),E=f;Ge(f)&&Ge(p)?(ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):Ge(f)&&(ni(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=p);var A=i.filter(function(I){return Qt(I,E,0)!==0}).length,O=(b>=360?A:A-1)*c,M=b-A*y-O,C=i.reduce(function(I,R){var F=Qt(R,E,0);return I+(ge(F)?F:0)},0),N;if(C>0){var P;N=i.map(function(I,R){var F=Qt(I,E,0),D=Qt(I,d,R),L=(ge(F)?F:0)/C,j;R?j=P.endAngle+$r(x)*c*(F!==0?1:0):j=s;var J=j+$r(x)*((F!==0?y:0)+L*M),Z=(j+J)/2,ne=(w.innerRadius+w.outerRadius)/2,G=[{name:D,value:F,payload:I,dataKey:E,type:v}],H=Et(w.cx,w.cy,ne,Z);return P=wt(wt(wt({percent:L,cornerRadius:o,name:D,tooltipPayload:G,midAngle:Z,middleRadius:ne,tooltipPosition:H},I),w),{},{value:Qt(I,E),startAngle:j,endAngle:J,payload:I,paddingAngle:$r(x)*c}),P})}return wt(wt({},w),{},{sectors:N,data:i})});var cw,d2;function XY(){if(d2)return cw;d2=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var l=-1,c=e(t((i-n)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=n,n+=o;return f}return cw=r,cw}var fw,p2;function BL(){if(p2)return fw;p2=1;var t=lD(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-1/0){var o=i<0?-1:1;return o*r}return i===i?i:0}return fw=n,fw}var hw,m2;function YY(){if(m2)return hw;m2=1;var t=XY(),e=ug(),r=BL();function n(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),l=l===void 0?o<s?1:-1:r(l),t(o,s,l,i)}}return hw=n,hw}var dw,g2;function QY(){if(g2)return dw;g2=1;var t=YY(),e=t();return dw=e,dw}var JY=QY();const dm=ft(JY);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){UL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UL(t,e,r){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZY(t){var e=eQ(t,"string");return Kf(e)=="symbol"?e:e+""}function eQ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tQ=["Webkit","Moz","O","ms"],rQ=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tQ.reduce(function(o,s){return y2(y2({},o),{},UL({},s+n,r))},{});return i[e]=r,i};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){un(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zL(n.key),n)}}function iQ(t,e,r){return e&&b2(t.prototype,e),r&&b2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t,e,r){return e=mm(e),aQ(t,qL()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function aQ(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sQ(t)}function sQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function uQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G1(t,e)}function un(t,e,r){return e=zL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zL(t){var e=lQ(t,"string");return ul(e)=="symbol"?e:e+""}function lQ(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cQ=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=af().domain(dm(0,c)).range([o,o+s-l]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:d}},w2=function(e){return e.changedTouches&&!!e.changedTouches.length},ll=function(t){function e(r){var n;return nQ(this,e),n=oQ(this,e,[r]),un(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),un(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),un(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),un(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),un(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),un(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),un(n,"handleSlideDragStart",function(i){var o=w2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return uQ(e,t),iQ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,d=f.length-1,p=Math.min(i,o),v=Math.max(i,o),y=e.getIndexInRange(s,p),w=e.getIndexInRange(s,v);return{startIndex:y-y%c,endIndex:w===d?d:w-w%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=Qt(o[n],l,n);return Be(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,v=c.startIndex,y=c.endIndex,w=c.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+d-p-l,f+d-p-s):x<0&&(x=Math.max(x,f-s,f-l));var b=this.getIndex({startX:s+x,endX:l+x});(b.startIndex!==v||b.endIndex!==y)&&w&&w(b),this.setState({startX:s+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=w2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],d=this.props,p=d.x,v=d.width,y=d.travellerWidth,w=d.onChange,x=d.gap,b=d.data,E={startX:this.state.startX,endX:this.state.endX},A=n.pageX-o;A>0?A=Math.min(A,p+v-y-f):A<0&&(A=Math.max(A,p-f)),E[s]=f+A;var O=this.getIndex(E),M=O.startIndex,C=O.endIndex,N=function(){var I=b.length-1;return s==="startX"&&(l>c?M%x===0:C%x===0)||l<c&&C===I||s==="endX"&&(l>c?C%x===0:M%x===0)||l>c&&C===I};this.setState(un(un({},s,f+A),"brushMoveStartX",n.pageX),function(){w&&N()&&w(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,d=this.state[i],p=l.indexOf(d);if(p!==-1){var v=p+n;if(!(v===-1||v>=l.length)){var y=l[v];i==="startX"&&y>=f||i==="endX"&&y<=c||this.setState(un({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.fill,f=n.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.data,f=n.children,d=n.padding,p=z.Children.only(f);return p?W.cloneElement(p,{x:i,y:o,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,l=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,v=c.traveller,y=c.ariaLabel,w=c.data,x=c.startIndex,b=c.endIndex,E=Math.max(n,this.props.x),A=pw(pw({},je(this.props,!1)),{},{x:E,y:f,width:d,height:p}),O=y||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=w[b])===null||s===void 0?void 0:s.name);return W.createElement(it,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,d=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,f=n.stroke,d=this.state,p=d.startX,v=d.endX,y=5,w={pointerEvents:"none",fill:f};return W.createElement(it,{className:"recharts-brush-texts"},W.createElement(bs,pm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-y,y:s+l/2},w),this.getTextOfTick(i)),W.createElement(bs,pm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+y,y:s+l/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,l=n.x,c=n.y,f=n.width,d=n.height,p=n.alwaysShowText,v=this.state,y=v.startX,w=v.endX,x=v.isTextActive,b=v.isSlideMoving,E=v.isTravellerMoving,A=v.isTravellerFocused;if(!i||!i.length||!ge(l)||!ge(c)||!ge(f)||!ge(d)||f<=0||d<=0)return null;var O=Xe("recharts-brush",o),M=W.Children.count(s)===1,C=rQ("userSelect","none");return W.createElement(it,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(x||b||E||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,l=n.height,c=n.stroke,f=Math.floor(o+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return W.isValidElement(n)?o=W.cloneElement(n,i):Be(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,l=n.x,c=n.travellerWidth,f=n.updateId,d=n.startIndex,p=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return pw({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?cQ({data:o,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(z.PureComponent);un(ll,"displayName","Brush");un(ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var mw,x2;function fQ(){if(x2)return mw;x2=1;var t=lE();function e(r,n){var i;return t(r,function(o,s,l){return i=n(o,s,l),!i}),!!i}return mw=e,mw}var gw,E2;function hQ(){if(E2)return gw;E2=1;var t=FM(),e=ji(),r=fQ(),n=Jr(),i=ug();function o(s,l,c){var f=n(s)?t:r;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return gw=o,gw}var dQ=hQ();const pQ=ft(dQ);var xi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},vw,S2;function mQ(){if(S2)return vw;S2=1;var t=iD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return vw=e,vw}var yw,T2;function gQ(){if(T2)return yw;T2=1;var t=mQ(),e=rD(),r=ji();function n(i,o){var s={};return o=r(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return yw=n,yw}var vQ=gQ();const yQ=ft(vQ);var _w,A2;function _Q(){if(A2)return _w;A2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return _w=t,_w}var bw,P2;function bQ(){if(P2)return bw;P2=1;var t=lE();function e(r,n){var i=!0;return t(r,function(o,s,l){return i=!!n(o,s,l),i}),i}return bw=e,bw}var ww,I2;function wQ(){if(I2)return ww;I2=1;var t=_Q(),e=bQ(),r=ji(),n=Jr(),i=ug();function o(s,l,c){var f=n(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,r(l,3))}return ww=o,ww}var xQ=wQ();const WL=ft(xQ);var EQ=["x","y"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X1.apply(this,arguments)}function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){SQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SQ(t,e,r){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TQ(t){var e=AQ(t,"string");return Gf(e)=="symbol"?e:e+""}function AQ(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PQ(t,e){if(t==null)return{};var r=IQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OQ(t,e){var r=t.x,n=t.y,i=PQ(t,EQ),o="".concat(r),s=parseInt(o,10),l="".concat(n),c=parseInt(l,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Kc(Kc(Kc(Kc(Kc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:v,name:e.name,radius:e.radius})}function C2(t){return W.createElement($L,X1({shapeType:"rectangle",propTransformer:OQ,activeClassName:"recharts-active-bar"},t))}var CQ=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||xs(),r)}},kQ=["value","background"],HL;function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function RQ(t,e){if(t==null)return{};var r=NQ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){oa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function MQ(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DQ(t,e,r){return e=vm(e),LQ(t,KL()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function LQ(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(t)}function $Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function VQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y1(t,e)}function Y1(t,e){return Y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y1(t,e)}function oa(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=FQ(t,"string");return cl(e)=="symbol"?e:e+""}function FQ(t,e){if(cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=function(t){function e(){var r;jQ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=DQ(this,e,[].concat(i)),oa(r,"state",{isAnimationFinished:!1}),oa(r,"id",Nl("recharts-bar-")),oa(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),oa(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return VQ(e,t),MQ(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,d=je(this.props,!1);return n&&n.map(function(p,v){var y=v===c,w=y?f:s,x=qt(qt(qt({},d),p),{},{isActive:y,option:w,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(it,gm({className:"recharts-bar-rectangle"},_s(i.props,p,v),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(v)}),W.createElement(C2,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,v=this.state.prevData;return W.createElement(Oi,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,x=o.map(function(b,E){var A=v&&v[E];if(A){var O=Yr(A.x,b.x),M=Yr(A.y,b.y),C=Yr(A.width,b.width),N=Yr(A.height,b.height);return qt(qt({},b),{},{x:O(w),y:M(w),width:C(w),height:N(w)})}if(s==="horizontal"){var P=Yr(0,b.height),I=P(w);return qt(qt({},b),{},{y:b.y+b.height-I,height:I})}var R=Yr(0,b.width),F=R(w);return qt(qt({},b),{},{width:F})});return W.createElement(it,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!rl(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=je(this.props.background,!1);return o.map(function(f,d){f.value;var p=f.background,v=RQ(f,kQ);if(!p)return null;var y=qt(qt(qt(qt(qt({},v),{},{fill:"#eee"},p),c),_s(n.props,f,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(C2,gm({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},y))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,d=o.children,p=Cn(d,bg);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,y=function(b,E){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Qt(b,E)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(it,w,p.map(function(x){return W.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,l=n.xAxis,c=n.yAxis,f=n.left,d=n.top,p=n.width,v=n.height,y=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,E=Xe("recharts-bar",s),A=l&&l.allowDataOverflow,O=c&&c.allowDataOverflow,M=A||O,C=Ge(x)?this.id:x;return W.createElement(it,{className:E},A||O?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(C)},W.createElement("rect",{x:A?f:f-p/2,y:O?d:d-v/2,width:A?p:p*2,height:O?v:v*2}))):null,W.createElement(it,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(C,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,C),(!y||b)&&uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);HL=pa;oa(pa,"displayName","Bar");oa(pa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oa(pa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=pH(n,r);if(!y)return null;var w=e.layout,x=r.type.defaultProps,b=x!==void 0?qt(qt({},x),r.props):r.props,E=b.dataKey,A=b.children,O=b.minPointSize,M=w==="horizontal"?s:o,C=f?M.scale.domain():null,N=wH({numericAxis:M}),P=Cn(A,lg),I=p.map(function(R,F){var D,L,j,J,Z,ne;f?D=mH(f[d+F],C):(D=Qt(R,E),Array.isArray(D)||(D=[N,D]));var G=CQ(O,HL.defaultProps.minPointSize)(D[1],F);if(w==="horizontal"){var H,Q=[s.scale(D[0]),s.scale(D[1])],ae=Q[0],U=Q[1];L=iR({axis:o,ticks:l,bandSize:i,offset:y.offset,entry:R,index:F}),j=(H=U??ae)!==null&&H!==void 0?H:void 0,J=y.size;var X=ae-U;if(Z=Number.isNaN(X)?0:X,ne={x:L,y:s.y,width:J,height:s.height},Math.abs(G)>0&&Math.abs(Z)<Math.abs(G)){var se=$r(Z||G)*(Math.abs(G)-Math.abs(Z));j-=se,Z+=se}}else{var ye=[o.scale(D[0]),o.scale(D[1])],we=ye[0],Se=ye[1];if(L=we,j=iR({axis:s,ticks:c,bandSize:i,offset:y.offset,entry:R,index:F}),J=Se-we,Z=y.size,ne={x:o.x,y:j,width:o.width,height:Z},Math.abs(G)>0&&Math.abs(J)<Math.abs(G)){var Ne=$r(J||G)*(Math.abs(G)-Math.abs(J));J+=Ne}}return qt(qt(qt({},R),{},{x:L,y:j,width:J,height:Z,value:f?D:D[1],payload:R,background:ne},P&&P[F]&&P[F].props),{},{tooltipPayload:[bL(r,R)],tooltipPosition:{x:L+J/2,y:j+Z/2}})});return qt({data:I,layout:w},v)});function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function BQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function UQ(t,e,r){return e&&N2(t.prototype,e),r&&N2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){Ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ig(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=qQ(t,"string");return Xf(e)=="symbol"?e:e+""}function qQ(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YL=function(e,r,n,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,d=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!ln(f,pa);return d.reduce(function(y,w){var x=r[w],b=x.orientation,E=x.domain,A=x.padding,O=A===void 0?{}:A,M=x.mirror,C=x.reversed,N="".concat(b).concat(M?"Mirror":""),P,I,R,F,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=E[1]-E[0],j=1/0,J=x.categoricalDomain.sort(rB);if(J.forEach(function(ye,we){we>0&&(j=Math.min((ye||0)-(J[we-1]||0),j))}),Number.isFinite(j)){var Z=j/L,ne=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(P=Z*ne/2),x.padding==="no-gap"){var G=Vr(e.barCategoryGap,Z*ne),H=Z*ne/2;P=H-G-(H-G)/ne*G}}}i==="xAxis"?I=[n.left+(O.left||0)+(P||0),n.left+n.width-(O.right||0)-(P||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(P||0),n.top+n.height-(O.bottom||0)-(P||0)]:I=x.range,C&&(I=[I[1],I[0]]);var Q=gL(x,o,v),ae=Q.scale,U=Q.realScaleType;ae.domain(E).range(I),vL(ae);var X=yL(ae,Qn(Qn({},x),{},{realScaleType:U}));i==="xAxis"?(D=b==="top"&&!M||b==="bottom"&&M,R=n.left,F=p[N]-D*x.height):i==="yAxis"&&(D=b==="left"&&!M||b==="right"&&M,R=p[N]-D*x.width,F=n.top);var se=Qn(Qn(Qn({},x),X),{},{realScaleType:U,x:R,y:F,scale:ae,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return se.bandSize=tm(se,X),!x.hide&&i==="xAxis"?p[N]+=(D?-1:1)*se.height:x.hide||(p[N]+=(D?-1:1)*se.width),Qn(Qn({},y),{},Ig({},w,se))},{})},QL=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},zQ=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return QL({x:r,y:n},{x:i,y:o})},JL=function(){function t(e){BQ(this,t),this.scale=e}return UQ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ig(JL,"EPS",1e-4);var $E=function(e){var r=Object.keys(e).reduce(function(n,i){return Qn(Qn({},n),{},Ig({},i,JL.create(e[i])))},{});return Qn(Qn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return yQ(i,function(c,f){return r[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return WL(i,function(o,s){return r[s].isInRange(o)})}})};function WQ(t){return(t%180+180)%180}var HQ=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=WQ(i),s=o*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},xw,M2;function KQ(){if(M2)return xw;M2=1;var t=ji(),e=mh(),r=ag();function n(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=r(o),s=function(p){return f(c[p],p,c)}}var d=i(o,s,l);return d>-1?c[f?o[d]:d]:void 0}}return xw=n,xw}var Ew,D2;function GQ(){if(D2)return Ew;D2=1;var t=BL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Ew=e,Ew}var Sw,L2;function XQ(){if(L2)return Sw;L2=1;var t=QM(),e=ji(),r=GQ(),n=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:r(l);return f<0&&(f=n(c+f,0)),t(o,e(s,3),f)}return Sw=i,Sw}var Tw,$2;function YQ(){if($2)return Tw;$2=1;var t=KQ(),e=XQ(),r=t(e);return Tw=r,Tw}var QQ=YQ();const JQ=ft(QQ);var ZQ=dM();const eJ=ft(ZQ);var tJ=eJ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VE=z.createContext(void 0),FE=z.createContext(void 0),ZL=z.createContext(void 0),e$=z.createContext({}),t$=z.createContext(void 0),r$=z.createContext(0),n$=z.createContext(0),V2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,d=tJ(o);return W.createElement(VE.Provider,{value:n},W.createElement(FE.Provider,{value:i},W.createElement(e$.Provider,{value:o},W.createElement(ZL.Provider,{value:d},W.createElement(t$.Provider,{value:s},W.createElement(r$.Provider,{value:f},W.createElement(n$.Provider,{value:c},l)))))))},rJ=function(){return z.useContext(t$)},i$=function(e){var r=z.useContext(VE);r==null&&xs();var n=r[e];return n==null&&xs(),n},nJ=function(){var e=z.useContext(VE);return Zo(e)},iJ=function(){var e=z.useContext(FE),r=JQ(e,function(n){return WL(n.domain,Number.isFinite)});return r||Zo(e)},o$=function(e){var r=z.useContext(FE);r==null&&xs();var n=r[e];return n==null&&xs(),n},oJ=function(){var e=z.useContext(ZL);return e},aJ=function(){return z.useContext(e$)},BE=function(){return z.useContext(n$)},UE=function(){return z.useContext(r$)};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s$(n.key),n)}}function lJ(t,e,r){return e&&uJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,r){return e=ym(e),fJ(t,a$()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function fJ(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(t)}function hJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function dJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q1(t,e)}function F2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(r),!0).forEach(function(n){qE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qE(t,e,r){return e=s$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$(t){var e=pJ(t,"string");return fl(e)=="symbol"?e:e+""}function pJ(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mJ(t,e){return _J(t)||yJ(t,e)||vJ(t,e)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJ(t,e){if(t){if(typeof t=="string")return U2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(t,e)}}function U2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function _J(t){if(Array.isArray(t))return t}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(this,arguments)}var bJ=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Be(e)?n=e(r):n=W.createElement("line",J1({},r,{className:"recharts-reference-line-line"})),n},wJ=function(e,r,n,i,o,s,l,c,f){var d=o.x,p=o.y,v=o.width,y=o.height;if(n){var w=f.y,x=e.y.apply(w,{position:s});if(xi(f,"discard")&&!e.y.isInRange(x))return null;var b=[{x:d+v,y:x},{x:d,y:x}];return c==="left"?b.reverse():b}if(r){var E=f.x,A=e.x.apply(E,{position:s});if(xi(f,"discard")&&!e.x.isInRange(A))return null;var O=[{x:A,y:p+y},{x:A,y:p}];return l==="top"?O.reverse():O}if(i){var M=f.segment,C=M.map(function(N){return e.apply(N,{position:s})});return xi(f,"discard")&&pQ(C,function(N){return!e.isInRange(N)})?null:C}return null};function xJ(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=rJ(),d=i$(i),p=o$(o),v=oJ();if(!f||!v)return null;ni(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=$E({x:d.scale,y:p.scale}),w=Zt(e),x=Zt(r),b=n&&n.length===2,E=wJ(y,w,x,b,v,t.position,d.orientation,p.orientation,t);if(!E)return null;var A=mJ(E,2),O=A[0],M=O.x,C=O.y,N=A[1],P=N.x,I=N.y,R=xi(t,"hidden")?"url(#".concat(f,")"):void 0,F=B2(B2({clipPath:R},je(t,!0)),{},{x1:M,y1:C,x2:P,y2:I});return W.createElement(it,{className:Xe("recharts-reference-line",l)},bJ(s,F),cr.renderCallByParent(t,zQ({x1:M,y1:C,x2:P,y2:I})))}var zE=function(t){function e(){return sJ(this,e),cJ(this,e,arguments)}return dJ(e,t),lJ(e,[{key:"render",value:function(){return W.createElement(xJ,this.props)}}])}(W.Component);qE(zE,"displayName","ReferenceLine");qE(zE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z1.apply(this,arguments)}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(r),!0).forEach(function(n){Og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l$(n.key),n)}}function TJ(t,e,r){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AJ(t,e,r){return e=_m(e),PJ(t,u$()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function PJ(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IJ(t)}function IJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function OJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ex(t,e)}function Og(t,e,r){return e=l$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$(t){var e=CJ(t,"string");return hl(e)=="symbol"?e:e+""}function CJ(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kJ=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=$E({x:i.scale,y:o.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return xi(e,"discard")&&!s.isInRange(l)?null:l},Cg=function(t){function e(){return EJ(this,e),AJ(this,e,arguments)}return OJ(e,t),TJ(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,f=Zt(i),d=Zt(o);if(ni(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=kJ(this.props);if(!p)return null;var v=p.x,y=p.y,w=this.props,x=w.shape,b=w.className,E=xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,A=z2(z2({clipPath:E},je(this.props,!0)),{},{cx:v,cy:y});return W.createElement(it,{className:Xe("recharts-reference-dot",b)},e.renderDot(x,A),cr.renderCallByParent(this.props,{x:v-s,y:y-s,width:2*s,height:2*s}))}}])}(W.Component);Og(Cg,"displayName","ReferenceDot");Og(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Og(Cg,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Be(t)?r=t(e):r=W.createElement(wg,Z1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function tx(){return tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tx.apply(this,arguments)}function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function W2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function jJ(t,e,r){return e&&NJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MJ(t,e,r){return e=bm(e),DJ(t,c$()?Reflect.construct(e,r||[],bm(t).constructor):e.apply(t,r))}function DJ(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c$=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(t)}function $J(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rx(t,e)}function rx(t,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rx(t,e)}function kg(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=VJ(t,"string");return dl(e)=="symbol"?e:e+""}function VJ(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FJ=function(e,r,n,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,d=o.xAxis,p=o.yAxis;if(!d||!p)return null;var v=$E({x:d.scale,y:p.scale}),y={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return xi(o,"discard")&&(!v.isInRange(y)||!v.isInRange(w))?null:QL(y,w)},Rg=function(t){function e(){return RJ(this,e),MJ(this,e,arguments)}return $J(e,t),jJ(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,l=n.y2,c=n.className,f=n.alwaysShow,d=n.clipPathId;ni(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Zt(i),v=Zt(o),y=Zt(s),w=Zt(l),x=this.props.shape;if(!p&&!v&&!y&&!w&&!x)return null;var b=FJ(p,v,y,w,this.props);if(!b&&!x)return null;var E=xi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(it,{className:Xe("recharts-reference-area",c)},e.renderRect(x,H2(H2({clipPath:E},je(this.props,!0)),b)),cr.renderCallByParent(this.props,b))}}])}(W.Component);kg(Rg,"displayName","ReferenceArea");kg(Rg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kg(Rg,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Be(t)?r=t(e):r=W.createElement(LE,tx({},e,{className:"recharts-reference-area-rect"})),r});function h$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function BJ(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return HQ(n,r)}function UJ(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:n?i:o,end:n?i+s:o+l}:{start:n?i+s:o+l,end:n?i:o}}function wm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function qJ(t,e){return h$(t,e+1)}function zJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,l=e.end,c=0,f=1,d=s,p=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:h$(n,f)};var x=c,b,E=function(){return b===void 0&&(b=r(w,x)),b},A=w.coordinate,O=c===0||wm(t,A,E,d,l);O||(c=0,d=s,f+=1),O&&(d=A+t*(E()/2+i),c+=f)},v;f<=o.length;)if(v=p(),v)return v.v;return[]}function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function K2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(r),!0).forEach(function(n){WJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WJ(t,e,r){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HJ(t){var e=KJ(t,"string");return Yf(e)=="symbol"?e:e+""}function KJ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GJ(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(v){var y=o[v],w,x=function(){return w===void 0&&(w=r(y,v)),w};if(v===s-1){var b=t*(y.coordinate+t*x()/2-c);o[v]=y=Ir(Ir({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else o[v]=y=Ir(Ir({},y),{},{tickCoord:y.coordinate});var E=wm(t,y.tickCoord,x,l,c);E&&(c=y.tickCoord-t*(x()/2+i),o[v]=Ir(Ir({},y),{},{isShow:!0}))},d=s-1;d>=0;d--)f(d);return o}function XJ(t,e,r,n,i,o){var s=(n||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var d=n[l-1],p=r(d,l-1),v=t*(d.coordinate+t*p/2-f);s[l-1]=d=Ir(Ir({},d),{},{tickCoord:v>0?d.coordinate-v*t:d.coordinate});var y=wm(t,d.tickCoord,function(){return p},c,f);y&&(f=d.tickCoord-t*(p/2+i),s[l-1]=Ir(Ir({},d),{},{isShow:!0}))}for(var w=o?l-1:l,x=function(A){var O=s[A],M,C=function(){return M===void 0&&(M=r(O,A)),M};if(A===0){var N=t*(O.coordinate-t*C()/2-c);s[A]=O=Ir(Ir({},O),{},{tickCoord:N<0?O.coordinate-N*t:O.coordinate})}else s[A]=O=Ir(Ir({},O),{},{tickCoord:O.coordinate});var P=wm(t,O.tickCoord,C,c,f);P&&(c=O.tickCoord+t*(C()/2+i),s[A]=Ir(Ir({},O),{},{isShow:!0}))},b=0;b<w;b++)x(b);return s}function WE(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(ge(c)||ks.isSsr)return qJ(i,typeof c=="number"&&ge(c)?c:0);var v=[],y=l==="top"||l==="bottom"?"width":"height",w=d&&y==="width"?of(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(O,M){var C=Be(f)?f(O.value,M):O.value;return y==="width"?BJ(of(C,{fontSize:e,letterSpacing:r}),w,p):of(C,{fontSize:e,letterSpacing:r})[y]},b=i.length>=2?$r(i[1].coordinate-i[0].coordinate):1,E=UJ(o,b,y);return c==="equidistantPreserveStart"?zJ(b,E,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=XJ(b,E,x,i,s,c==="preserveStartEnd"):v=GJ(b,E,x,i,s),v.filter(function(A){return A.isShow}))}var YJ=["viewBox"],QJ=["viewBox"],JJ=["ticks"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){HE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aw(t,e){if(t==null)return{};var r=ZJ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function tZ(t,e,r){return e&&X2(t.prototype,e),r&&X2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rZ(t,e,r){return e=xm(e),nZ(t,d$()?Reflect.construct(e,r||[],xm(t).constructor):e.apply(t,r))}function nZ(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iZ(t)}function iZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}function oZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nx(t,e)}function HE(t,e,r){return e=p$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=aZ(t,"string");return pl(e)=="symbol"?e:e+""}function aZ(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $l=function(t){function e(r){var n;return eZ(this,e),n=rZ(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return oZ(e,t),tZ(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=Aw(n,YJ),l=this.props,c=l.viewBox,f=Aw(l,QJ);return!Fu(o,c)||!Fu(s,f)||!Fu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,v=i.tickMargin,y,w,x,b,E,A,O=p?-1:1,M=n.tickSize||d,C=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":y=w=n.coordinate,b=s+ +!p*c,x=b-O*M,A=x-O*v,E=C;break;case"left":x=b=n.coordinate,w=o+ +!p*l,y=w-O*M,E=y-O*v,A=C;break;case"right":x=b=n.coordinate,w=o+ +p*l,y=w+O*M,E=y+O*v,A=C;break;default:y=w=n.coordinate,b=s+ +p*c,x=b+O*M,A=x+O*v,E=C;break}return{line:{x1:y,y1:x,x2:w,y2:b},tick:{x:E,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,l=n.height,c=n.orientation,f=n.mirror,d=n.axisLine,p=Lr(Lr(Lr({},je(this.props,!1)),je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=Lr(Lr({},p),{},{x1:i,y1:o+v*l,x2:i+s,y2:o+v*l})}else{var y=+(c==="left"&&!f||c==="right"&&f);p=Lr(Lr({},p),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+l})}return W.createElement("line",Lu({},p,{className:Xe("recharts-cartesian-axis-line",hn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,d=l.tick,p=l.tickFormatter,v=l.unit,y=WE(Lr(Lr({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=je(this.props,!1),E=je(d,!1),A=Lr(Lr({},b),{},{fill:"none"},je(c,!1)),O=y.map(function(M,C){var N=s.getTickLineCoord(M),P=N.line,I=N.tick,R=Lr(Lr(Lr(Lr({textAnchor:w,verticalAnchor:x},b),{},{stroke:"none",fill:f},E),I),{},{index:C,payload:M,visibleTicksCount:y.length,tickFormatter:p});return W.createElement(it,Lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},_s(s.props,M,C)),c&&W.createElement("line",Lu({},A,P,{className:Xe("recharts-cartesian-axis-tick-line",hn(c,"className"))})),d&&e.renderTickItem(d,R,"".concat(Be(p)?p(M.value,C):M.value).concat(v||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,v=p.ticks,y=Aw(p,JJ),w=v;return Be(c)&&(w=v&&v.length>0?c(this.props):c(y)),s<=0||l<=0||!w||!w.length?null:W.createElement(it,{className:Xe("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Be(n)?s=n(i):s=W.createElement(bs,Lu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(z.Component);HE($l,"displayName","CartesianAxis");HE($l,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sZ=["x1","y1","x2","y2","key"],uZ=["offset"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){lZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lZ(t,e,r){return e=cZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cZ(t){var e=fZ(t,"string");return Es(e)=="symbol"?e:e+""}function fZ(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs.apply(this,arguments)}function Q2(t,e){if(t==null)return{};var r=hZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dZ=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.ry;return W.createElement("rect",{x:i,y:o,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function m$(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Be(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,l=e.key,c=Q2(e,sZ),f=je(c,!1);f.offset;var d=Q2(f,uZ);r=W.createElement("line",cs({},d,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:l}))}return r}function pZ(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Cr(Cr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return m$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function mZ(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(l,c){var f=Cr(Cr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return m$(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gZ(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,y){return v-y});i!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?i+s-v:d[y+1]-v;if(x<=0)return null;var b=y%e.length;return W.createElement("rect",{key:"react-".concat(y),y:v,x:n,height:x,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function vZ(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,l=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var d=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,y){return v-y});o!==d[0]&&d.unshift(0);var p=d.map(function(v,y){var w=!d[y+1],x=w?o+l-v:d[y+1]-v;if(x<=0)return null;var b=y%n.length;return W.createElement("rect",{key:"react-".concat(y),x:v,y:s,width:x,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var yZ=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return mL(WE(Cr(Cr(Cr({},$l.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},_Z=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return mL(WE(Cr(Cr(Cr({},$l.defaultProps),n),{},{ticks:ro(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},Ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function vp(t){var e,r,n,i,o,s,l=BE(),c=UE(),f=aJ(),d=Cr(Cr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ou.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ou.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ou.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ou.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ou.verticalFill,x:ge(t.x)?t.x:f.left,y:ge(t.y)?t.y:f.top,width:ge(t.width)?t.width:f.width,height:ge(t.height)?t.height:f.height}),p=d.x,v=d.y,y=d.width,w=d.height,x=d.syncWithTicks,b=d.horizontalValues,E=d.verticalValues,A=nJ(),O=iJ();if(!ge(y)||y<=0||!ge(w)||w<=0||!ge(p)||p!==+p||!ge(v)||v!==+v)return null;var M=d.verticalCoordinatesGenerator||yZ,C=d.horizontalCoordinatesGenerator||_Z,N=d.horizontalPoints,P=d.verticalPoints;if((!N||!N.length)&&Be(C)){var I=b&&b.length,R=C({yAxis:O?Cr(Cr({},O),{},{ticks:I?b:O.ticks}):void 0,width:l,height:c,offset:f},I?!0:x);ni(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Es(R),"]")),Array.isArray(R)&&(N=R)}if((!P||!P.length)&&Be(M)){var F=E&&E.length,D=M({xAxis:A?Cr(Cr({},A),{},{ticks:F?E:A.ticks}):void 0,width:l,height:c,offset:f},F?!0:x);ni(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Es(D),"]")),Array.isArray(D)&&(P=D)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(dZ,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(pZ,cs({},d,{offset:f,horizontalPoints:N,xAxis:A,yAxis:O})),W.createElement(mZ,cs({},d,{offset:f,verticalPoints:P,xAxis:A,yAxis:O})),W.createElement(gZ,cs({},d,{horizontalPoints:N})),W.createElement(vZ,cs({},d,{verticalPoints:P})))}vp.displayName="CartesianGrid";var bZ=["layout","type","stroke","connectNulls","isRange","ref"],wZ=["key"],g$;function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function v$(t,e){if(t==null)return{};var r=xZ(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}function J2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(r),!0).forEach(function(n){bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function SZ(t,e,r){return e&&Z2(t.prototype,e),r&&Z2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TZ(t,e,r){return e=Em(e),AZ(t,y$()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function AZ(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PZ(t)}function PZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function IZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ix(t,e)}function bi(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=OZ(t,"string");return ml(e)=="symbol"?e:e+""}function OZ(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ta=function(t){function e(){var r;EZ(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=TZ(this,e,[].concat(i)),bi(r,"state",{isAnimationFinished:!0}),bi(r,"id",Nl("recharts-area-")),bi(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(s)&&s()}),bi(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(s)&&s()}),r}return IZ(e,t),SZ(e,[{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,d=c.points,p=c.dataKey,v=je(this.props,!1),y=je(f,!0),w=d.map(function(b,E){var A=Qo(Qo(Qo({key:"dot-".concat(E),r:3},v),y),{},{index:E,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:d});return e.renderDotItem(f,A)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return W.createElement(it,fs({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,d=n*Math.abs(c-f),p=ia(s.map(function(v){return v.y||0}));return ge(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.y||0})),p)),ge(p)?W.createElement("rect",{x:c<f?c:c-d,y:0,width:d,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,d=n*Math.abs(c-f),p=ia(s.map(function(v){return v.x||0}));return ge(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(ia(o.map(function(v){return v.x||0})),p)),ge(p)?W.createElement("rect",{x:0,y:c<f?c:c-d,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,s){var l=this.props,c=l.layout,f=l.type,d=l.stroke,p=l.connectNulls,v=l.isRange;l.ref;var y=v$(l,bZ);return W.createElement(it,{clipPath:o?"url(#clipPath-".concat(s,")"):null},W.createElement(qu,fs({},je(y,!0),{points:n,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(qu,fs({},je(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:n})),d!=="none"&&v&&W.createElement(qu,fs({},je(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,d=s.animationBegin,p=s.animationDuration,v=s.animationEasing,y=s.animationId,w=this.state,x=w.prevPoints,b=w.prevBaseLine;return W.createElement(Oi,{begin:d,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(x){var O=x.length/l.length,M=l.map(function(I,R){var F=Math.floor(R*O);if(x[F]){var D=x[F],L=Yr(D.x,I.x),j=Yr(D.y,I.y);return Qo(Qo({},I),{},{x:L(A),y:j(A)})}return I}),C;if(ge(c)&&typeof c=="number"){var N=Yr(b,c);C=N(A)}else if(Ge(c)||Rl(c)){var P=Yr(b,0);C=P(A)}else C=c.map(function(I,R){var F=Math.floor(R*O);if(b[F]){var D=b[F],L=Yr(D.x,I.x),j=Yr(D.y,I.y);return Qo(Qo({},I),{},{x:L(A),y:j(A)})}return I});return o.renderAreaStatically(M,C,n,i)}return W.createElement(it,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),W.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,d=f.prevPoints,p=f.prevBaseLine,v=f.totalLength;return c&&s&&s.length&&(!d&&v>0||!rl(d,s)||!rl(p,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,d=i.left,p=i.xAxis,v=i.yAxis,y=i.width,w=i.height,x=i.isAnimationActive,b=i.id;if(o||!l||!l.length)return null;var E=this.state.isAnimationFinished,A=l.length===1,O=Xe("recharts-area",c),M=p&&p.allowDataOverflow,C=v&&v.allowDataOverflow,N=M||C,P=Ge(b)?this.id:b,I=(n=je(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=I.r,F=R===void 0?3:R,D=I.strokeWidth,L=D===void 0?2:D,j=fB(s)?s:{},J=j.clipDot,Z=J===void 0?!0:J,ne=F*2+L;return W.createElement(it,{className:O},M||C?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(P)},W.createElement("rect",{x:M?d:d-y/2,y:C?f:f-w/2,width:M?y:y*2,height:C?w:w*2})),!Z&&W.createElement("clipPath",{id:"clipPath-dots-".concat(P)},W.createElement("rect",{x:d-ne/2,y:f-ne/2,width:y+ne,height:w+ne}))):null,A?null:this.renderArea(N,P),(s||A)&&this.renderDots(N,Z,P),(!x||E)&&uo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(z.PureComponent);g$=Ta;bi(Ta,"displayName","Area");bi(Ta,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ks.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(Ta,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(ge(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,f=c.scale.domain();if(c.type==="number"){var d=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||d<0?d:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});bi(Ta,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,v=t.offset,y=e.layout,w=f&&f.length,x=g$.getBaseValue(e,r,n,i),b=y==="horizontal",E=!1,A=p.map(function(M,C){var N;w?N=f[d+C]:(N=Qt(M,c),Array.isArray(N)?E=!0:N=[x,N]);var P=N[1]==null||w&&Qt(M,c)==null;return b?{x:nR({axis:n,ticks:o,bandSize:l,entry:M,index:C}),y:P?null:i.scale(N[1]),value:N,payload:M}:{x:P?null:n.scale(N[1]),y:nR({axis:i,ticks:s,bandSize:l,entry:M,index:C}),value:N,payload:M}}),O;return w||E?O=A.map(function(M){var C=Array.isArray(M.value)?M.value[0]:null;return b?{x:M.x,y:C!=null&&M.y!=null?i.scale(C):null}:{x:C!=null?n.scale(C):null,y:M.y}}):O=b?i.scale(x):n.scale(x),Qo({points:A,baseLine:O,layout:y,isRange:E},v)});bi(Ta,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Be(t))r=t(e);else{var n=Xe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=v$(e,wZ);r=W.createElement(wg,fs({},o,{key:i,className:n}))}return r});function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function CZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function RZ(t,e,r){return e&&kZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NZ(t,e,r){return e=Sm(e),jZ(t,b$()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function jZ(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MZ(t)}function MZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function DZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ox(t,e)}function ox(t,e){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ox(t,e)}function w$(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=LZ(t,"string");return gl(e)=="symbol"?e:e+""}function LZ(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ax.apply(this,arguments)}function $Z(t){var e=t.xAxisId,r=BE(),n=UE(),i=i$(e);return i==null?null:W.createElement($l,ax({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ro(s,!0)}}))}var gs=function(t){function e(){return CZ(this,e),NZ(this,e,arguments)}return DZ(e,t),RZ(e,[{key:"render",value:function(){return W.createElement($Z,this.props)}}])}(W.Component);w$(gs,"displayName","XAxis");w$(gs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function VZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function BZ(t,e,r){return e&&FZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UZ(t,e,r){return e=Tm(e),qZ(t,E$()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function qZ(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zZ(t)}function zZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function WZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sx(t,e)}function S$(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=HZ(t,"string");return vl(e)=="symbol"?e:e+""}function HZ(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ux.apply(this,arguments)}var KZ=function(e){var r=e.yAxisId,n=BE(),i=UE(),o=o$(r);return o==null?null:W.createElement($l,ux({},o,{className:Xe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return ro(l,!0)}}))},vs=function(t){function e(){return VZ(this,e),UZ(this,e,arguments)}return WZ(e,t),BZ(e,[{key:"render",value:function(){return W.createElement(KZ,this.props)}}])}(W.Component);S$(vs,"displayName","YAxis");S$(vs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function eN(t){return QZ(t)||YZ(t)||XZ(t)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(t,e){if(t){if(typeof t=="string")return lx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lx(t,e)}}function YZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QZ(t){if(Array.isArray(t))return lx(t)}function lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var cx=function(e,r,n,i,o){var s=Cn(e,zE),l=Cn(e,Cg),c=[].concat(eN(s),eN(l)),f=Cn(e,Rg),d="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(x,b){if(b.props[d]===n&&xi(b.props,"extendDomain")&&ge(b.props[p])){var E=b.props[p];return[Math.min(x[0],E),Math.max(x[1],E)]}return x},v)),f.length){var y="".concat(p,"1"),w="".concat(p,"2");v=f.reduce(function(x,b){if(b.props[d]===n&&xi(b.props,"extendDomain")&&ge(b.props[y])&&ge(b.props[w])){var E=b.props[y],A=b.props[w];return[Math.min(x[0],E,A),Math.max(x[1],E,A)]}return x},v)}return o&&o.length&&(v=o.reduce(function(x,b){return ge(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},v)),v},Pw={exports:{}},tN;function JZ(){return tN||(tN=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function o(c,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,v),w=r?r+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},l.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,y=p.length,w=new Array(y);v<y;v++)w[v]=p[v].fn;return w},l.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,d,p,v,y,w){var x=r?r+f:f;if(!this._events[x])return!1;var b=this._events[x],E=arguments.length,A,O;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,p),!0;case 4:return b.fn.call(b.context,d,p,v),!0;case 5:return b.fn.call(b.context,d,p,v,y),!0;case 6:return b.fn.call(b.context,d,p,v,y,w),!0}for(O=1,A=new Array(E-1);O<E;O++)A[O-1]=arguments[O];b.fn.apply(b.context,A)}else{var M=b.length,C;for(O=0;O<M;O++)switch(b[O].once&&this.removeListener(f,b[O].fn,void 0,!0),E){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,d);break;case 3:b[O].fn.call(b[O].context,d,p);break;case 4:b[O].fn.call(b[O].context,d,p,v);break;default:if(!A)for(C=1,A=new Array(E-1);C<E;C++)A[C-1]=arguments[C];b[O].fn.apply(b[O].context,A)}}return!0},l.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},l.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},l.prototype.removeListener=function(f,d,p,v){var y=r?r+f:f;if(!this._events[y])return this;if(!d)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===d&&(!v||w.once)&&(!p||w.context===p)&&s(this,y);else{for(var x=0,b=[],E=w.length;x<E;x++)(w[x].fn!==d||v&&!w[x].once||p&&w[x].context!==p)&&b.push(w[x]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},l.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Pw)),Pw.exports}var ZZ=JZ();const eee=ft(ZZ);var Iw=new eee,Ow="recharts.syncMouseEvents";function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ree(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A$(n.key),n)}}function nee(t,e,r){return e&&ree(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cw(t,e,r){return e=A$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$(t){var e=iee(t,"string");return Qf(e)=="symbol"?e:e+""}function iee(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oee=function(){function t(){tee(this,t),Cw(this,"activeIndex",0),Cw(this,"coordinateList",[]),Cw(this,"layout","horizontal")}return nee(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,d=r.offset,p=d===void 0?null:d,v=r.mouseHandlerCallback,y=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=o+c+f,v=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])}();function aee(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function see(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function P$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=Et(e,r,n,i),l=Et(e,r,n,o);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function uee(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,v=Et(l,c,f,p),y=Et(l,c,d,p);n=v.x,i=v.y,o=y.x,s=y.y}else return P$(e);return[{x:n,y:i},{x:o,y:s}]}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lee(t,e,r){return e=cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=fee(t,"string");return Jf(e)=="symbol"?e:e+""}function fee(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hee(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var w,x=qu;if(v==="ScatterChart")w=s,x=LX;else if(v==="BarChart")w=see(p,s,c,d),x=LE;else if(p==="radial"){var b=P$(s),E=b.cx,A=b.cy,O=b.radius,M=b.startAngle,C=b.endAngle;w={cx:E,cy:A,startAngle:M,endAngle:C,innerRadius:O,outerRadius:O},x=AL}else w={points:uee(p,s,c)},x=qu;var N=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},c),w),je(y,!1)),{},{payload:l,payloadIndex:f,className:Xe("recharts-tooltip-cursor",y.className)});return z.isValidElement(y)?z.cloneElement(y,N):z.createElement(x,N)}var dee=["item"],pee=["children","className","width","height","style","compact","title","desc"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function nN(t,e){return vee(t)||gee(t,e)||O$(t,e)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,l=[],c=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function vee(t){if(Array.isArray(t))return t}function iN(t,e){if(t==null)return{};var r=yee(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function wee(t,e,r){return e&&bee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xee(t,e,r){return e=Am(e),Eee(t,I$()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Eee(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return See(t)}function See(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function Tee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fx(t,e)}function _l(t){return Iee(t)||Pee(t)||O$(t)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(t,e){if(t){if(typeof t=="string")return hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(t,e)}}function Pee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iee(t){if(Array.isArray(t))return hx(t)}function hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=Oee(t,"string");return yl(e)=="symbol"?e:e+""}function Oee(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cee={xAxis:["bottom","top"],yAxis:["left","right"]},kee={width:"100%",height:"100%"},k$={x:0,y:0};function ap(t){return t}var Ree=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Nee=function(e,r,n,i){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return le(le(le({},i),Et(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return le(le(le({},i),Et(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return k$},Ng=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(_l(l),_l(f)):l},[]);return s.length>0?s:e&&e.length&&ge(i)&&ge(o)?e.slice(i,o+1):[]};function R$(t){return t==="number"?[0,"auto"]:void 0}var dx=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,l=Ng(r,e);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var y=p===void 0?l:p;v=Cp(y,s.dataKey,i)}else v=p&&p[n]||l[n];return v?[].concat(_l(c),[bL(f,v)]):c},[])},aN=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=Ree(o,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=uH(s,l,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,v=dx(e,r,d,p),y=Nee(n,l,d,o);return{activeTooltipIndex:d,activeLabel:p,activePayload:v,activeCoordinate:y}}return null},jee=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=e.stackOffset,y=pL(d,o);return n.reduce(function(w,x){var b,E=x.type.defaultProps!==void 0?le(le({},x.type.defaultProps),x.props):x.props,A=E.type,O=E.dataKey,M=E.allowDataOverflow,C=E.allowDuplicatedCategory,N=E.scale,P=E.ticks,I=E.includeHidden,R=E[s];if(w[R])return w;var F=Ng(e.data,{graphicalItems:i.filter(function(X){var se,ye=s in X.props?X.props[s]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[s];return ye===R}),dataStartIndex:c,dataEndIndex:f}),D=F.length,L,j,J;aee(E.domain,M,A)&&(L=I1(E.domain,null,M),y&&(A==="number"||N!=="auto")&&(J=sf(F,O,"category")));var Z=R$(A);if(!L||L.length===0){var ne,G=(ne=E.domain)!==null&&ne!==void 0?ne:Z;if(O){if(L=sf(F,O,A),A==="category"&&y){var H=tB(L);C&&H?(j=L,L=dm(0,D)):C||(L=sR(G,L,x).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(_l(X),[se])},[]))}else if(A==="category")C?L=L.filter(function(X){return X!==""&&!Ge(X)}):L=sR(G,L,x).reduce(function(X,se){return X.indexOf(se)>=0||se===""||Ge(se)?X:[].concat(_l(X),[se])},[]);else if(A==="number"){var Q=dH(F,i.filter(function(X){var se,ye,we=s in X.props?X.props[s]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[s],Se="hide"in X.props?X.props.hide:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return we===R&&(I||!Se)}),O,o,d);Q&&(L=Q)}y&&(A==="number"||N!=="auto")&&(J=sf(F,O,"category"))}else y?L=dm(0,D):l&&l[R]&&l[R].hasStack&&A==="number"?L=v==="expand"?[0,1]:_L(l[R].stackGroups,c,f):L=dL(F,i.filter(function(X){var se=s in X.props?X.props[s]:X.type.defaultProps[s],ye="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===R&&(I||!ye)}),A,d,!0);if(A==="number")L=cx(p,L,R,o,P),G&&(L=I1(G,L,M));else if(A==="category"&&G){var ae=G,U=L.every(function(X){return ae.indexOf(X)>=0});U&&(L=ae)}}return le(le({},w),{},Ve({},R,le(le({},E),{},{axisType:o,domain:L,categoricalDomain:J,duplicateDomain:j,originalDomain:(b=E.domain)!==null&&b!==void 0?b:Z,isCategorical:y,layout:d})))},{})},Mee=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.layout,p=e.children,v=Ng(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),y=v.length,w=pL(d,o),x=-1;return n.reduce(function(b,E){var A=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,O=A[s],M=R$("number");if(!b[O]){x++;var C;return w?C=dm(0,y):l&&l[O]&&l[O].hasStack?(C=_L(l[O].stackGroups,c,f),C=cx(p,C,O,o)):(C=I1(M,dL(v,n.filter(function(N){var P,I,R=s in N.props?N.props[s]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[s],F="hide"in N.props?N.props.hide:(I=N.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===O&&!F}),"number",d),i.defaultProps.allowDataOverflow),C=cx(p,C,O,o)),le(le({},b),{},Ve({},O,le(le({axisType:o},i.defaultProps),{},{hide:!0,orientation:hn(Cee,"".concat(o,".").concat(x%2),null),domain:C,originalDomain:M,isCategorical:w,layout:d})))}return b},{})},Dee=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,d=e.children,p="".concat(i,"Id"),v=Cn(d,o),y={};return v&&v.length?y=jee(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(y=Mee(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),y},Lee=function(e){var r=Zo(e),n=ro(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:cE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tm(r,n)}},sN=function(e){var r=e.children,n=e.defaultShowTooltip,i=ln(r,ll),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},$ee=function(e){return!e||!e.length?!1:e.some(function(r){var n=ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},uN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vee=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=n.width,d=n.height,p=n.children,v=n.margin||{},y=ln(p,ll),w=ln(p,ds),x=Object.keys(c).reduce(function(C,N){var P=c[N],I=P.orientation;return!P.mirror&&!P.hide?le(le({},C),{},Ve({},I,C[I]+P.width)):C},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(C,N){var P=s[N],I=P.orientation;return!P.mirror&&!P.hide?le(le({},C),{},Ve({},I,hn(C,"".concat(I))+P.height)):C},{top:v.top||0,bottom:v.bottom||0}),E=le(le({},b),x),A=E.bottom;y&&(E.bottom+=y.props.height||ll.defaultProps.height),w&&r&&(E=fH(E,i,n,r));var O=f-E.left-E.right,M=d-E.top-E.bottom;return le(le({brushBottom:A},E),{},{width:Math.max(O,0),height:Math.max(M,0)})},Fee=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},KE=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,v=function(E,A){var O=A.graphicalItems,M=A.stackGroups,C=A.offset,N=A.updateId,P=A.dataStartIndex,I=A.dataEndIndex,R=E.barSize,F=E.layout,D=E.barGap,L=E.barCategoryGap,j=E.maxBarSize,J=uN(F),Z=J.numericAxisName,ne=J.cateAxisName,G=$ee(O),H=[];return O.forEach(function(Q,ae){var U=Ng(E.data,{graphicalItems:[Q],dataStartIndex:P,dataEndIndex:I}),X=Q.type.defaultProps!==void 0?le(le({},Q.type.defaultProps),Q.props):Q.props,se=X.dataKey,ye=X.maxBarSize,we=X["".concat(Z,"Id")],Se=X["".concat(ne,"Id")],Ne={},ke=c.reduce(function(hr,Zr){var ai=A["".concat(Zr.axisType,"Map")],Mi=X["".concat(Zr.axisType,"Id")];ai&&ai[Mi]||Zr.axisType==="zAxis"||xs();var To=ai[Mi];return le(le({},hr),{},Ve(Ve({},Zr.axisType,To),"".concat(Zr.axisType,"Ticks"),ro(To)))},Ne),fe=ke[ne],Ae=ke["".concat(ne,"Ticks")],be=M&&M[we]&&M[we].hasStack&&xH(Q,M[we].stackGroups),oe=ao(Q.type).indexOf("Bar")>=0,Fe=tm(fe,Ae),xe=[],We=G&&lH({barSize:R,stackGroups:M,totalSize:Fee(ke,ne)});if(oe){var Qe,dt,yt=Ge(ye)?j:ye,Ct=(Qe=(dt=tm(fe,Ae,!0))!==null&&dt!==void 0?dt:yt)!==null&&Qe!==void 0?Qe:0;xe=cH({barGap:D,barCategoryGap:L,bandSize:Ct!==Fe?Ct:Fe,sizeList:We[Se],maxBarSize:yt}),Ct!==Fe&&(xe=xe.map(function(hr){return le(le({},hr),{},{position:le(le({},hr.position),{},{offset:hr.position.offset-Ct/2})})}))}var xr=Q&&Q.type&&Q.type.getComposedData;xr&&H.push({props:le(le({},xr(le(le({},ke),{},{displayedData:U,props:E,dataKey:se,item:Q,bandSize:Fe,barPosition:xe,offset:C,stackedData:be,layout:F,dataStartIndex:P,dataEndIndex:I}))),{},Ve(Ve(Ve({key:Q.key||"item-".concat(ae)},Z,ke[Z]),ne,ke[ne]),"animationId",N)),childIndex:pB(Q,E.children),item:Q})}),H},y=function(E,A){var O=E.props,M=E.dataStartIndex,C=E.dataEndIndex,N=E.updateId;if(!wI({props:O}))return null;var P=O.children,I=O.layout,R=O.stackOffset,F=O.data,D=O.reverseStackOrder,L=uN(I),j=L.numericAxisName,J=L.cateAxisName,Z=Cn(P,n),ne=bH(F,Z,"".concat(j,"Id"),"".concat(J,"Id"),R,D),G=c.reduce(function(X,se){var ye="".concat(se.axisType,"Map");return le(le({},X),{},Ve({},ye,Dee(O,le(le({},se),{},{graphicalItems:Z,stackGroups:se.axisType===j&&ne,dataStartIndex:M,dataEndIndex:C}))))},{}),H=Vee(le(le({},G),{},{props:O,graphicalItems:Z}),A==null?void 0:A.legendBBox);Object.keys(G).forEach(function(X){G[X]=d(O,G[X],H,X.replace("Map",""),r)});var Q=G["".concat(J,"Map")],ae=Lee(Q),U=v(O,le(le({},G),{},{dataStartIndex:M,dataEndIndex:C,updateId:N,graphicalItems:Z,stackGroups:ne,offset:H}));return le(le({formattedGraphicalItems:U,graphicalItems:Z,offset:H,stackGroups:ne},ae),G)},w=function(b){function E(A){var O,M,C;return _ee(this,E),C=xee(this,E,[A]),Ve(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(C,"accessibilityManager",new oee),Ve(C,"handleLegendBBoxUpdate",function(N){if(N){var P=C.state,I=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;C.setState(le({legendBBox:N},y({props:C.props,dataStartIndex:I,dataEndIndex:R,updateId:F},le(le({},C.state),{},{legendBBox:N}))))}}),Ve(C,"handleReceiveSyncEvent",function(N,P,I){if(C.props.syncId===N){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Ve(C,"handleBrushChange",function(N){var P=N.startIndex,I=N.endIndex;if(P!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return le({dataStartIndex:P,dataEndIndex:I},y({props:C.props,dataStartIndex:P,dataEndIndex:I,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Ve(C,"handleMouseEnter",function(N){var P=C.getMouseInfo(N);if(P){var I=le(le({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var R=C.props.onMouseEnter;Be(R)&&R(I,N)}}),Ve(C,"triggeredAfterMouseMove",function(N){var P=C.getMouseInfo(N),I=P?le(le({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var R=C.props.onMouseMove;Be(R)&&R(I,N)}),Ve(C,"handleItemMouseEnter",function(N){C.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ve(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ve(C,"handleMouseMove",function(N){N.persist(),C.throttleTriggeredAfterMouseMove(N)}),Ve(C,"handleMouseLeave",function(N){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var I=C.props.onMouseLeave;Be(I)&&I(P,N)}),Ve(C,"handleOuterEvent",function(N){var P=dB(N),I=hn(C.props,"".concat(P));if(P&&Be(I)){var R,F;/.*touch.*/i.test(P)?F=C.getMouseInfo(N.changedTouches[0]):F=C.getMouseInfo(N),I((R=F)!==null&&R!==void 0?R:{},N)}}),Ve(C,"handleClick",function(N){var P=C.getMouseInfo(N);if(P){var I=le(le({},P),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var R=C.props.onClick;Be(R)&&R(I,N)}}),Ve(C,"handleMouseDown",function(N){var P=C.props.onMouseDown;if(Be(P)){var I=C.getMouseInfo(N);P(I,N)}}),Ve(C,"handleMouseUp",function(N){var P=C.props.onMouseUp;if(Be(P)){var I=C.getMouseInfo(N);P(I,N)}}),Ve(C,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ve(C,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseDown(N.changedTouches[0])}),Ve(C,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseUp(N.changedTouches[0])}),Ve(C,"handleDoubleClick",function(N){var P=C.props.onDoubleClick;if(Be(P)){var I=C.getMouseInfo(N);P(I,N)}}),Ve(C,"handleContextMenu",function(N){var P=C.props.onContextMenu;if(Be(P)){var I=C.getMouseInfo(N);P(I,N)}}),Ve(C,"triggerSyncEvent",function(N){C.props.syncId!==void 0&&Iw.emit(Ow,C.props.syncId,N,C.eventEmitterSymbol)}),Ve(C,"applySyncEvent",function(N){var P=C.props,I=P.layout,R=P.syncMethod,F=C.state.updateId,D=N.dataStartIndex,L=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)C.setState(le({dataStartIndex:D,dataEndIndex:L},y({props:C.props,dataStartIndex:D,dataEndIndex:L,updateId:F},C.state)));else if(N.activeTooltipIndex!==void 0){var j=N.chartX,J=N.chartY,Z=N.activeTooltipIndex,ne=C.state,G=ne.offset,H=ne.tooltipTicks;if(!G)return;if(typeof R=="function")Z=R(H,N);else if(R==="value"){Z=-1;for(var Q=0;Q<H.length;Q++)if(H[Q].value===N.activeLabel){Z=Q;break}}var ae=le(le({},G),{},{x:G.left,y:G.top}),U=Math.min(j,ae.x+ae.width),X=Math.min(J,ae.y+ae.height),se=H[Z]&&H[Z].value,ye=dx(C.state,C.props.data,Z),we=H[Z]?{x:I==="horizontal"?H[Z].coordinate:U,y:I==="horizontal"?X:H[Z].coordinate}:k$;C.setState(le(le({},N),{},{activeLabel:se,activeCoordinate:we,activePayload:ye,activeTooltipIndex:Z}))}else C.setState(N)}),Ve(C,"renderCursor",function(N){var P,I=C.state,R=I.isTooltipActive,F=I.activeCoordinate,D=I.activePayload,L=I.offset,j=I.activeTooltipIndex,J=I.tooltipAxisBandSize,Z=C.getTooltipEventType(),ne=(P=N.props.active)!==null&&P!==void 0?P:R,G=C.props.layout,H=N.key||"_recharts-cursor";return W.createElement(hee,{key:H,activeCoordinate:F,activePayload:D,activeTooltipIndex:j,chartName:r,element:N,isActive:ne,layout:G,offset:L,tooltipAxisBandSize:J,tooltipEventType:Z})}),Ve(C,"renderPolarAxis",function(N,P,I){var R=hn(N,"type.axisType"),F=hn(C.state,"".concat(R,"Map")),D=N.type.defaultProps,L=D!==void 0?le(le({},D),N.props):N.props,j=F&&F[L["".concat(R,"Id")]];return z.cloneElement(N,le(le({},j),{},{className:Xe(R,j.className),key:N.key||"".concat(P,"-").concat(I),ticks:ro(j,!0)}))}),Ve(C,"renderPolarGrid",function(N){var P=N.props,I=P.radialLines,R=P.polarAngles,F=P.polarRadius,D=C.state,L=D.radiusAxisMap,j=D.angleAxisMap,J=Zo(L),Z=Zo(j),ne=Z.cx,G=Z.cy,H=Z.innerRadius,Q=Z.outerRadius;return z.cloneElement(N,{polarAngles:Array.isArray(R)?R:ro(Z,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:ro(J,!0).map(function(ae){return ae.coordinate}),cx:ne,cy:G,innerRadius:H,outerRadius:Q,key:N.key||"polar-grid",radialLines:I})}),Ve(C,"renderLegend",function(){var N=C.state.formattedGraphicalItems,P=C.props,I=P.children,R=P.width,F=P.height,D=C.props.margin||{},L=R-(D.left||0)-(D.right||0),j=fL({children:I,formattedGraphicalItems:N,legendWidth:L,legendContent:f});if(!j)return null;var J=j.item,Z=iN(j,dee);return z.cloneElement(J,le(le({},Z),{},{chartWidth:R,chartHeight:F,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ve(C,"renderTooltip",function(){var N,P=C.props,I=P.children,R=P.accessibilityLayer,F=ln(I,cn);if(!F)return null;var D=C.state,L=D.isTooltipActive,j=D.activeCoordinate,J=D.activePayload,Z=D.activeLabel,ne=D.offset,G=(N=F.props.active)!==null&&N!==void 0?N:L;return z.cloneElement(F,{viewBox:le(le({},ne),{},{x:ne.left,y:ne.top}),active:G,label:Z,payload:G?J:[],coordinate:j,accessibilityLayer:R})}),Ve(C,"renderBrush",function(N){var P=C.props,I=P.margin,R=P.data,F=C.state,D=F.offset,L=F.dataStartIndex,j=F.dataEndIndex,J=F.updateId;return z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:tp(C.handleBrushChange,N.props.onChange),data:R,x:ge(N.props.x)?N.props.x:D.left,y:ge(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:ge(N.props.width)?N.props.width:D.width,startIndex:L,endIndex:j,updateId:"brush-".concat(J)})}),Ve(C,"renderReferenceElement",function(N,P,I){if(!N)return null;var R=C,F=R.clipPathId,D=C.state,L=D.xAxisMap,j=D.yAxisMap,J=D.offset,Z=N.type.defaultProps||{},ne=N.props,G=ne.xAxisId,H=G===void 0?Z.xAxisId:G,Q=ne.yAxisId,ae=Q===void 0?Z.yAxisId:Q;return z.cloneElement(N,{key:N.key||"".concat(P,"-").concat(I),xAxis:L[H],yAxis:j[ae],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:F})}),Ve(C,"renderActivePoints",function(N){var P=N.item,I=N.activePoint,R=N.basePoint,F=N.childIndex,D=N.isRange,L=[],j=P.props.key,J=P.item.type.defaultProps!==void 0?le(le({},P.item.type.defaultProps),P.item.props):P.item.props,Z=J.activeDot,ne=J.dataKey,G=le(le({index:F,dataKey:ne,cx:I.x,cy:I.y,r:4,fill:DE(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},je(Z,!1)),kp(Z));return L.push(E.renderActiveDot(Z,G,"".concat(j,"-activePoint-").concat(F))),R?L.push(E.renderActiveDot(Z,le(le({},G),{},{cx:R.x,cy:R.y}),"".concat(j,"-basePoint-").concat(F))):D&&L.push(null),L}),Ve(C,"renderGraphicChild",function(N,P,I){var R=C.filterFormatItem(N,P,I);if(!R)return null;var F=C.getTooltipEventType(),D=C.state,L=D.isTooltipActive,j=D.tooltipAxis,J=D.activeTooltipIndex,Z=D.activeLabel,ne=C.props.children,G=ln(ne,cn),H=R.props,Q=H.points,ae=H.isRange,U=H.baseLine,X=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,se=X.activeDot,ye=X.hide,we=X.activeBar,Se=X.activeShape,Ne=!!(!ye&&L&&G&&(se||we||Se)),ke={};F!=="axis"&&G&&G.props.trigger==="click"?ke={onClick:tp(C.handleItemMouseEnter,N.props.onClick)}:F!=="axis"&&(ke={onMouseLeave:tp(C.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:tp(C.handleItemMouseEnter,N.props.onMouseEnter)});var fe=z.cloneElement(N,le(le({},R.props),ke));function Ae(Zr){return typeof j.dataKey=="function"?j.dataKey(Zr.payload):null}if(Ne)if(J>=0){var be,oe;if(j.dataKey&&!j.allowDuplicatedCategory){var Fe=typeof j.dataKey=="function"?Ae:"payload.".concat(j.dataKey.toString());be=Cp(Q,Fe,Z),oe=ae&&U&&Cp(U,Fe,Z)}else be=Q==null?void 0:Q[J],oe=ae&&U&&U[J];if(Se||we){var xe=N.props.activeIndex!==void 0?N.props.activeIndex:J;return[z.cloneElement(N,le(le(le({},R.props),ke),{},{activeIndex:xe})),null,null]}if(!Ge(be))return[fe].concat(_l(C.renderActivePoints({item:R,activePoint:be,basePoint:oe,childIndex:J,isRange:ae})))}else{var We,Qe=(We=C.getItemByXY(C.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:fe},dt=Qe.graphicalItem,yt=dt.item,Ct=yt===void 0?N:yt,xr=dt.childIndex,hr=le(le(le({},R.props),ke),{},{activeIndex:xr});return[z.cloneElement(Ct,hr),null,null]}return ae?[fe,null,null]:[fe,null]}),Ve(C,"renderCustomized",function(N,P,I){return z.cloneElement(N,le(le({key:"recharts-customized-".concat(I)},C.props),C.state))}),Ve(C,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((O=A.id)!==null&&O!==void 0?O:Nl("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=cD(C.triggeredAfterMouseMove,(M=A.throttleDelay)!==null&&M!==void 0?M:1e3/60),C.state={},C}return Tee(E,b),wee(E,[{key:"componentDidMount",value:function(){var O,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,M=O.children,C=O.data,N=O.height,P=O.layout,I=ln(M,cn);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,D=dx(this.state,C,R,F),L=this.state.tooltipTicks[R].coordinate,j=(this.state.offset.top+N)/2,J=P==="horizontal",Z=J?{x:L,y:j}:{y:L,x:j},ne=this.state.formattedGraphicalItems.find(function(H){var Q=H.item;return Q.type.name==="Scatter"});ne&&(Z=le(le({},Z),ne.props.points[R].tooltipPosition),D=ne.props.points[R].tooltipPayload);var G={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:Z};this.setState(G),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var C,N;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(O){Yw([ln(O.children,cn)],[ln(this.props.children,cn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=ln(this.props.children,cn);if(O&&typeof O.props.shared=="boolean"){var M=O.props.shared?"axis":"item";return l.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var M=this.container,C=M.getBoundingClientRect(),N=ez(C),P={chartX:Math.round(O.pageX-N.left),chartY:Math.round(O.pageY-N.top)},I=C.width/M.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,I);if(!R)return null;var F=this.state,D=F.xAxisMap,L=F.yAxisMap,j=this.getTooltipEventType(),J=aN(this.state,this.props.data,this.props.layout,R);if(j!=="axis"&&D&&L){var Z=Zo(D).scale,ne=Zo(L).scale,G=Z&&Z.invert?Z.invert(P.chartX):null,H=ne&&ne.invert?ne.invert(P.chartY):null;return le(le({},P),{},{xValue:G,yValue:H},J)}return J?le(le({},P),J):null}},{key:"inRange",value:function(O,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=O/C,I=M/C;if(N==="horizontal"||N==="vertical"){var R=this.state.offset,F=P>=R.left&&P<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return F?{x:P,y:I}:null}var D=this.state,L=D.angleAxisMap,j=D.radiusAxisMap;if(L&&j){var J=Zo(L);return cR({x:P,y:I},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,M=this.getTooltipEventType(),C=ln(O,cn),N={};C&&M==="axis"&&(C.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=kp(this.props,this.handleOuterEvent);return le(le({},P),N)}},{key:"addListener",value:function(){Iw.on(Ow,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Iw.removeListener(Ow,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,M,C){for(var N=this.state.formattedGraphicalItems,P=0,I=N.length;P<I;P++){var R=N[P];if(R.item===O||R.props.key===O.key||M===ao(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,M=this.state.offset,C=M.left,N=M.top,P=M.height,I=M.width;return W.createElement("defs",null,W.createElement("clipPath",{id:O},W.createElement("rect",{x:C,y:N,height:P,width:I})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(M,C){var N=nN(C,2),P=N[0],I=N[1];return le(le({},M),{},Ve({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(M,C){var N=nN(C,2),P=N[0],I=N[1];return le(le({},M),{},Ve({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(O){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(O){var M=this.state,C=M.formattedGraphicalItems,N=M.activeItem;if(C&&C.length)for(var P=0,I=C.length;P<I;P++){var R=C[P],F=R.props,D=R.item,L=D.type.defaultProps!==void 0?le(le({},D.type.defaultProps),D.props):D.props,j=ao(D.type);if(j==="Bar"){var J=(F.data||[]).find(function(H){return vX(O,H)});if(J)return{graphicalItem:R,payload:J}}else if(j==="RadialBar"){var Z=(F.data||[]).find(function(H){return cR(O,H)});if(Z)return{graphicalItem:R,payload:Z}}else if(Ag(R,N)||Pg(R,N)||Hf(R,N)){var ne=BY({graphicalItem:R,activeTooltipItem:N,itemData:L.data}),G=L.activeIndex===void 0?ne:L.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:G}),payload:Hf(R,N)?L.data[ne]:R.props.data[ne]}}}return null}},{key:"render",value:function(){var O=this;if(!wI(this))return null;var M=this.props,C=M.children,N=M.className,P=M.width,I=M.height,R=M.style,F=M.compact,D=M.title,L=M.desc,j=iN(M,pee),J=je(j,!1);if(F)return W.createElement(V2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(Jw,$u({},J,{width:P,height:I,title:D,desc:L}),this.renderClipPath(),EI(C,this.renderMap)));if(this.props.accessibilityLayer){var Z,ne;J.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,J.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",J.onKeyDown=function(H){O.accessibilityManager.keyboardEvent(H)},J.onFocus=function(){O.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return W.createElement(V2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",$u({className:Xe("recharts-wrapper",N),style:le({position:"relative",cursor:"default",width:P,height:I},R)},G,{ref:function(Q){O.container=Q}}),W.createElement(Jw,$u({},J,{width:P,height:I,title:D,desc:L,style:kee}),this.renderClipPath(),EI(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);Ve(w,"displayName",r),Ve(w,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Ve(w,"getDerivedStateFromProps",function(b,E){var A=b.dataKey,O=b.data,M=b.children,C=b.width,N=b.height,P=b.layout,I=b.stackOffset,R=b.margin,F=E.dataStartIndex,D=E.dataEndIndex;if(E.updateId===void 0){var L=sN(b);return le(le(le({},L),{},{updateId:0},y(le(le({props:b},L),{},{updateId:0}),E)),{},{prevDataKey:A,prevData:O,prevWidth:C,prevHeight:N,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:M})}if(A!==E.prevDataKey||O!==E.prevData||C!==E.prevWidth||N!==E.prevHeight||P!==E.prevLayout||I!==E.prevStackOffset||!Fu(R,E.prevMargin)){var j=sN(b),J={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Z=le(le({},aN(E,O,P)),{},{updateId:E.updateId+1}),ne=le(le(le({},j),J),Z);return le(le(le({},ne),y(le({props:b},ne),E)),{},{prevDataKey:A,prevData:O,prevWidth:C,prevHeight:N,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:M})}if(!Yw(M,E.prevChildren)){var G,H,Q,ae,U=ln(M,ll),X=U&&(G=(H=U.props)===null||H===void 0?void 0:H.startIndex)!==null&&G!==void 0?G:F,se=U&&(Q=(ae=U.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&Q!==void 0?Q:D,ye=X!==F||se!==D,we=!Ge(O),Se=we&&!ye?E.updateId:E.updateId+1;return le(le({updateId:Se},y(le(le({props:b},E),{},{updateId:Se,dataStartIndex:X,dataEndIndex:se}),E)),{},{prevChildren:M,dataStartIndex:X,dataEndIndex:se})}return null}),Ve(w,"renderActiveDot",function(b,E,A){var O;return z.isValidElement(b)?O=z.cloneElement(b,E):Be(b)?O=b(E):O=W.createElement(wg,E),W.createElement(it,{className:"recharts-active-dot",key:A},O)});var x=z.forwardRef(function(E,A){return W.createElement(w,$u({},E,{ref:A}))});return x.displayName=w.displayName,x},lN=KE({chartName:"BarChart",GraphicalChild:pa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:YL}),Bee=KE({chartName:"PieChart",GraphicalChild:Eo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Tg},{axisType:"radiusAxis",AxisComp:Eg}],formatAxisMap:RH,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Uee=KE({chartName:"AreaChart",GraphicalChild:Ta,axisComponents:[{axisType:"xAxis",AxisComp:gs},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:YL});const Ji={primary:"#3B82F6",secondary:"#10B981",warning:"#F59E0B",danger:"#EF4444",purple:"#8B5CF6",pink:"#EC4899"},Gc=({title:t,value:e,subtitle:r,icon:n,gradient:i,delay:o=0})=>$.jsx("div",{className:`${i} p-3 sm:p-4 lg:p-6 rounded-xl text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 animate-fade-in-up min-h-[120px] sm:min-h-[140px] lg:min-h-[160px] flex flex-col justify-between`,style:{animationDelay:`${o}ms`},children:$.jsxs("div",{className:"flex items-start justify-between h-full",children:[$.jsxs("div",{className:"flex-1 min-w-0",children:[$.jsx("p",{className:"text-white/80 text-xs sm:text-sm font-medium mb-1 truncate",children:t}),$.jsx("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold mb-1 break-words",children:e}),r&&$.jsx("p",{className:"text-white/70 text-xs hidden sm:block",children:r})]}),$.jsx("div",{className:"bg-white/20 p-2 sm:p-3 rounded-lg backdrop-blur-sm flex-shrink-0 ml-2",children:$.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 lg:w-8 lg:h-8",children:n})})]})}),sp=({title:t,icon:e,children:r,delay:n=0,className:i=""})=>$.jsxs("div",{className:`bg-white p-3 sm:p-4 lg:p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 animate-fade-in-up border border-gray-100 ${i}`,style:{animationDelay:`${n}ms`},children:[$.jsxs("h3",{className:"text-sm sm:text-base lg:text-lg font-bold mb-3 sm:mb-4 lg:mb-6 flex items-center gap-2 sm:gap-3 text-gray-800",children:[$.jsx("div",{className:"p-1 sm:p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg text-white flex-shrink-0",children:$.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:e})}),$.jsx("span",{className:"truncate",children:t})]}),$.jsx("div",{className:"w-full overflow-hidden",children:r})]}),qee=()=>{const{products:t,sales:e}=dh(),r=z.useMemo(()=>{const l=Object.values(t),c=l.filter(p=>p.stock<=5).length,f=l.filter(p=>p.stock>5&&p.stock<=15).length,d=l.filter(p=>p.stock>15).length;return[{name:"Crtico (5)",value:c,color:Ji.danger},{name:"Medio (6-15)",value:f,color:Ji.warning},{name:"Alto (>15)",value:d,color:Ji.secondary}]},[t]),n=z.useMemo(()=>{const l={};return Object.values(t).forEach(c=>{const f=c.categoria||"Sin Categora",d=c.stock*c.precio_costo,p=c.stock*c.precio_venta,v=p-d;l[f]||(l[f]={costo:0,venta:0,ganancia:0}),l[f].costo+=d,l[f].venta+=p,l[f].ganancia+=v}),Object.entries(l).map(([c,f])=>({categoria:c.length>8?c.substring(0,8)+"...":c,categoriaCompleta:c,valor_costo:Math.round(f.costo*100)/100,valor_venta:Math.round(f.venta*100)/100,ganancia_potencial:Math.round(f.ganancia*100)/100}))},[t]),i=z.useMemo(()=>{const l=Object.keys(t).length,c=e.reduce((v,y)=>v+y.cantidad_vendida,0),f=e.reduce((v,y)=>v+y.total_linea,0),d=Object.values(t).filter(v=>v.stock<=5).length,p=e.reduce((v,y)=>{const w=Object.values(t).find(x=>x.codigo===y.codigo_barra);if(w){const x=w.precio_costo*y.cantidad_vendida;return v+(y.total_linea-x)}return v},0);return{totalProductos:l,totalVentas:c,ingresosTotales:Math.round(f*100)/100,gananciaReal:Math.round(p*100)/100,productosStockBajo:d}},[t,e]),o=z.useMemo(()=>{const l=new Date;return Array.from({length:7},(d,p)=>{const v=new Date(l);return v.setDate(v.getDate()-p),v.toISOString().split("T")[0]}).reverse().map(d=>{const p=e.filter(w=>w.fecha_hora.startsWith(d)),v=p.reduce((w,x)=>w+x.cantidad_vendida,0),y=p.reduce((w,x)=>w+x.total_linea,0);return{fecha:new Date(d).toLocaleDateString("es-ES",{weekday:"short",day:"numeric"}),fechaCorta:new Date(d).toLocaleDateString("es-ES",{day:"numeric"}),ventas:v,ingresos:Math.round(y*100)/100}})},[e]),s=z.useMemo(()=>{const l={};return e.forEach(c=>{const f=Object.values(t).find(d=>d.codigo===c.codigo_barra);f&&(l[c.codigo_barra]||(l[c.codigo_barra]={nombre:f.nombre,cantidad:0,ingresos:0}),l[c.codigo_barra].cantidad+=c.cantidad_vendida,l[c.codigo_barra].ingresos+=c.total_linea)}),Object.values(l).sort((c,f)=>f.cantidad-c.cantidad).slice(0,5).map(c=>({...c,nombre:c.nombre.length>15?c.nombre.substring(0,15)+"...":c.nombre,nombreCompleto:c.nombre,ingresos:Math.round(c.ingresos*100)/100}))},[e,t]);return $.jsxs("div",{className:"space-y-4 sm:space-y-6 lg:space-y-8 p-1 sm:p-2 max-w-full overflow-hidden",children:[$.jsxs("div",{className:"text-center animate-fade-in px-2",children:[$.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:" Dashboard del Kiosko"}),$.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg px-4",children:"Mtricas en tiempo real para tu negocio"})]}),$.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 px-2",children:[$.jsx(Gc,{title:"Productos",value:i.totalProductos,subtitle:"en inventario",icon:$.jsx(o5,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700",delay:0}),$.jsx(Gc,{title:"Ventas",value:i.totalVentas,subtitle:"unidades vendidas",icon:$.jsx(uM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-green-500 via-green-600 to-emerald-700",delay:100}),$.jsx(Gc,{title:"Ingresos",value:`$${i.ingresosTotales.toLocaleString()}`,subtitle:"en ventas",icon:$.jsx(Kw,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-purple-500 via-purple-600 to-indigo-700",delay:200}),$.jsx(Gc,{title:"Ganancia",value:`$${i.gananciaReal.toLocaleString()}`,subtitle:"beneficio neto",icon:$.jsx(c5,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-yellow-500 via-orange-500 to-red-500",delay:300}),$.jsx(Gc,{title:"Stock Crtico",value:i.productosStockBajo,subtitle:"productos 5 unidades",icon:$.jsx(nM,{className:"w-full h-full"}),gradient:"bg-gradient-to-br from-red-500 via-pink-500 to-rose-600",delay:400})]}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 px-2",children:[$.jsx(sp,{title:"Estado del Stock",icon:$.jsx(u5,{}),delay:500,className:"col-span-1",children:$.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:$.jsxs(Bee,{children:[$.jsx(Eo,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,value:c,percent:f})=>window.innerWidth<640?`${c}`:`${l}: ${c} (${(f*100).toFixed(0)}%)`,outerRadius:window.innerWidth<640?60:window.innerWidth<1024?80:100,fill:"#8884d8",dataKey:"value",animationBegin:0,animationDuration:1e3,children:r.map((l,c)=>$.jsx(lg,{fill:l.color},`cell-${c}`))}),$.jsx(cn,{contentStyle:{fontSize:window.innerWidth<640?"12px":"14px",padding:window.innerWidth<640?"8px":"12px"}})]})})}),$.jsx(sp,{title:"Valor por Categora",icon:$.jsx(Kw,{}),delay:600,className:"col-span-1",children:$.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:$.jsxs(lN,{data:n,margin:{top:5,right:5,left:5,bottom:5},children:[$.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),$.jsx(gs,{dataKey:"categoria",tick:{fontSize:window.innerWidth<640?10:12},interval:0,angle:window.innerWidth<640?-45:0,textAnchor:window.innerWidth<640?"end":"middle",height:window.innerWidth<640?60:30}),$.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?40:60}),$.jsx(cn,{formatter:(l,c,f)=>{var d,p;return[`$${l}`,"Valor",((d=f.payload)==null?void 0:d.categoriaCompleta)||((p=f.payload)==null?void 0:p.categoria)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),$.jsx(pa,{dataKey:"valor_venta",fill:"url(#colorGradient)",radius:[4,4,0,0],animationDuration:1e3}),$.jsx("defs",{children:$.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[$.jsx("stop",{offset:"5%",stopColor:Ji.secondary,stopOpacity:.9}),$.jsx("stop",{offset:"95%",stopColor:Ji.secondary,stopOpacity:.6})]})})]})})}),$.jsx(sp,{title:"Ventas ltimos 7 Das",icon:$.jsx(h5,{}),delay:700,className:"col-span-1",children:$.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:$.jsxs(Uee,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[$.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),$.jsx(gs,{dataKey:window.innerWidth<640?"fechaCorta":"fecha",tick:{fontSize:window.innerWidth<640?10:12}}),$.jsx(vs,{tick:{fontSize:window.innerWidth<640?10:12},width:window.innerWidth<640?35:50}),$.jsx(cn,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),$.jsx(ds,{wrapperStyle:{fontSize:window.innerWidth<640?"12px":"14px"}}),$.jsx(Ta,{type:"monotone",dataKey:"ventas",stackId:"1",stroke:Ji.primary,fill:Ji.primary,fillOpacity:.6,name:"Cantidad Vendida",animationDuration:1500})]})})}),$.jsx(sp,{title:"Top 5 Productos Ms Vendidos",icon:$.jsx(s5,{}),delay:800,className:"col-span-1",children:$.jsx(Yd,{width:"100%",height:250,className:"sm:h-[300px]",children:$.jsxs(lN,{data:s,layout:"horizontal",margin:{top:5,right:5,left:5,bottom:5},children:[$.jsx(vp,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),$.jsx(gs,{type:"number",tick:{fontSize:window.innerWidth<640?10:12}}),$.jsx(vs,{dataKey:"nombre",type:"category",width:window.innerWidth<640?80:window.innerWidth<1024?100:120,tick:{fontSize:window.innerWidth<640?9:11}}),$.jsx(cn,{formatter:(l,c,f)=>{var d,p;return[l,"Cantidad",((d=f.payload)==null?void 0:d.nombreCompleto)||((p=f.payload)==null?void 0:p.nombre)]},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:window.innerWidth<640?"12px":"14px"}}),$.jsx(pa,{dataKey:"cantidad",fill:"url(#purpleGradient)",radius:[0,4,4,0],animationDuration:1200}),$.jsx("defs",{children:$.jsxs("linearGradient",{id:"purpleGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[$.jsx("stop",{offset:"5%",stopColor:Ji.purple,stopOpacity:.9}),$.jsx("stop",{offset:"95%",stopColor:Ji.pink,stopOpacity:.7})]})})]})})})]})]})},Jn=({label:t,id:e,type:r="text",value:n,onChange:i,placeholder:o="",required:s=!1,error:l,maxLength:c,step:f,className:d=""})=>$.jsxs("div",{className:"mb-4",children:[$.jsxs("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 mb-1",children:[t," ",s&&$.jsx("span",{className:"text-red-500",children:"*"})]}),$.jsx("input",{id:e,type:r,value:n,onChange:i,placeholder:o,required:s,maxLength:c,step:f,className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"border-red-500":"border-gray-300"} ${d}`}),l&&$.jsx("p",{className:"mt-1 text-sm text-red-500",children:l})]}),Pn=({children:t,onClick:e,type:r="button",variant:n="primary",disabled:i=!1,className:o=""})=>{const s="px-4 py-2 rounded-md font-medium transition-colors duration-200 flex items-center justify-center gap-2",l={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500"};return $.jsx("button",{type:r,onClick:e,disabled:i,className:`${s} ${l[n]} ${i?"opacity-50 cursor-not-allowed":""} ${o}`,children:t})},zee=({type:t,message:e,onClose:r,duration:n=3e3})=>{z.useEffect(()=>{const s=setTimeout(()=>{r()},n);return()=>clearTimeout(s)},[r,n]);const i={success:$.jsx(iM,{size:20,className:"text-green-500"}),error:$.jsx(f5,{size:20,className:"text-red-500"}),warning:$.jsx(Op,{size:20,className:"text-yellow-500"}),info:$.jsx(Op,{size:20,className:"text-blue-500"})},o={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return $.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md shadow-md border ${o[t]} max-w-md animate-fade-in-up`,children:$.jsxs("div",{className:"flex items-start",children:[$.jsx("div",{className:"flex-shrink-0",children:i[t]}),$.jsx("div",{className:"ml-3 flex-1",children:$.jsx("p",{className:"text-sm font-medium text-gray-800",children:e})}),$.jsx("button",{onClick:r,className:"ml-4 text-gray-400 hover:text-gray-500 focus:outline-none",children:$.jsx(lM,{size:16})})]})})},N$=z.createContext(void 0),j$=()=>{const t=z.useContext(N$);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Wee=({children:t})=>{const[e,r]=z.useState([]),n=(o,s)=>{const l=Math.random().toString(36).substring(2,9);r(c=>[...c,{id:l,message:o,type:s}])},i=o=>{r(s=>s.filter(l=>l.id!==o))};return $.jsxs(N$.Provider,{value:{showToast:n},children:[t,e.map(o=>$.jsx(zee,{type:o.type,message:o.message,onClose:()=>i(o.id)},o.id))]})},Hee=()=>{const{products:t,addProduct:e,updateProduct:r}=dh(),{showToast:n}=j$(),i=z.useRef(null),[o,s]=z.useState(""),[l,c]=z.useState(""),[f,d]=z.useState(""),[p,v]=z.useState(""),[y,w]=z.useState(""),[x,b]=z.useState("Sin Categora"),[E,A]=z.useState({}),[O,M]=z.useState(!1),[C,N]=z.useState(!1),[P,I]=z.useState(!1),R=()=>{const G={};if(o?/^\d{13}$/.test(o)||(G.codigo="El cdigo debe tener 13 dgitos numricos"):G.codigo="El cdigo de barras es obligatorio",l?l.length>50&&(G.nombre="El nombre no puede exceder los 50 caracteres"):G.nombre="El nombre del producto es obligatorio",!f)G.stock="El stock inicial es obligatorio";else{const H=parseInt(f);(isNaN(H)||H<=0)&&(G.stock="El stock debe ser un nmero entero positivo")}if(!p)G.precio_costo="El precio de costo es obligatorio";else{const H=parseFloat(p);(isNaN(H)||H<=0)&&(G.precio_costo="El precio de costo debe ser un nmero positivo")}if(!y)G.precio_venta="El precio de venta es obligatorio";else{const H=parseFloat(y),Q=parseFloat(p);isNaN(H)||H<=0?G.precio_venta="El precio de venta debe ser un nmero positivo":!isNaN(Q)&&H<=Q&&(G.precio_venta="El precio de venta debe ser mayor al precio de costo")}return x.trim()||(G.categoria="La categora es obligatoria"),A(G),Object.keys(G).length===0},F=()=>{const G=parseFloat(p),H=parseFloat(y);return!isNaN(G)&&!isNaN(H)&&G>0?((H-G)/G*100).toFixed(1):"0"},D=(G,H)=>{const Q=[];return(!G.codigo||!/^\d{13}$/.test(G.codigo))&&Q.push(`Lnea ${H}: Cdigo de barras invlido (debe tener 13 dgitos)`),(!G.nombre||G.nombre.length>50)&&Q.push(`Lnea ${H}: Nombre invlido (obligatorio, mximo 50 caracteres)`),(isNaN(parseInt(G.stock))||parseInt(G.stock)<0)&&Q.push(`Lnea ${H}: Stock invlido (debe ser un nmero entero positivo)`),(isNaN(parseFloat(G.precio_costo))||parseFloat(G.precio_costo)<=0)&&Q.push(`Lnea ${H}: Precio de costo invlido (debe ser un nmero positivo)`),(isNaN(parseFloat(G.precio_venta))||parseFloat(G.precio_venta)<=0)&&Q.push(`Lnea ${H}: Precio de venta invlido (debe ser un nmero positivo)`),parseFloat(G.precio_venta)<=parseFloat(G.precio_costo)&&Q.push(`Lnea ${H}: El precio de venta debe ser mayor al precio de costo`),Q},L=G=>{const H={success:0,errors:[],warnings:[]};try{const Q=G.trim().split(`
`);if(Q.length<2)return H.errors.push("El archivo CSV debe contener al menos una lnea de encabezados y una lnea de datos"),H;const ae=Q[0].split(",").map(se=>se.trim().toLowerCase()),U=["codigo","nombre","stock","precio_costo","precio_venta","categoria"],X=U.filter(se=>!ae.includes(se));if(X.length>0)return H.errors.push(`Encabezados faltantes: ${X.join(", ")}`),H;for(let se=1;se<Q.length;se++){const ye=Q[se].trim();if(!ye)continue;const we=ye.split(",").map(fe=>fe.trim().replace(/^"|"$/g,""));if(we.length<U.length){H.errors.push(`Lnea ${se+1}: Nmero insuficiente de columnas`);continue}const Se={};ae.forEach((fe,Ae)=>{Se[fe]=we[Ae]||""});const Ne=D(Se,se+1);if(Ne.length>0){H.errors.push(...Ne);continue}const ke={codigo:Se.codigo,nombre:Se.nombre,stock:parseInt(Se.stock),precio_costo:parseFloat(Se.precio_costo),precio_venta:parseFloat(Se.precio_venta),categoria:Se.categoria||"Sin Categora",imagen:Se.imagen||"",stockMinimo:parseInt(Se.stockminimo)||5,precio:parseFloat(Se.precio_venta)};t[ke.codigo]?(H.warnings.push(`Lnea ${se+1}: Producto ${ke.codigo} ya existe, se actualizar`),r(ke)):e(ke),H.success++}}catch(Q){H.errors.push(`Error al procesar el archivo: ${Q}`)}return H},j=G=>{var ae;const H=(ae=G.target.files)==null?void 0:ae[0];if(!H)return;if(!H.name.toLowerCase().endsWith(".csv")){n("Por favor seleccione un archivo CSV vlido","error");return}I(!0);const Q=new FileReader;Q.onload=U=>{var X;try{const se=(X=U.target)==null?void 0:X.result,ye=L(se);if(ye.errors.length>0)n(`Errores encontrados:
${ye.errors.slice(0,3).join(`
`)}${ye.errors.length>3?`
...`:""}`,"error");else{let we=` ${ye.success} productos importados exitosamente`;ye.warnings.length>0&&(we+=`
 ${ye.warnings.length} advertencias`),n(we,"success")}}catch{n("Error al leer el archivo CSV","error")}finally{I(!1),i.current&&(i.current.value="")}},Q.onerror=()=>{n("Error al leer el archivo","error"),I(!1)},Q.readAsText(H)},J=()=>{const G=["codigo,nombre,stock,precio_costo,precio_venta,categoria",'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas','1234567890124,"Papas Fritas",30,45.50,75.00,Snacks','1234567890125,"Agua Mineral",100,25.00,40.00,Bebidas'].join(`
`),H=new Blob([G],{type:"text/csv;charset=utf-8;"}),Q=document.createElement("a"),ae=URL.createObjectURL(H);Q.setAttribute("href",ae),Q.setAttribute("download","ejemplo_productos.csv"),Q.style.visibility="hidden",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},Z=G=>{if(G.preventDefault(),!R())return;const H={codigo:o,nombre:l,stock:parseInt(f),precio_costo:parseFloat(p),precio_venta:parseFloat(y),categoria:x,imagen:"",stockMinimo:5,precio:parseFloat(y)};if(!!t[o]&&!O){M(!0),n("Este producto ya existe. Modifique los datos para actualizarlo.","info");return}O?(r(H),n("Producto actualizado exitosamente","success")):(e(H),n("Producto registrado exitosamente","success")),s(""),c(""),d(""),v(""),w(""),b("Sin Categora"),M(!1)},ne=G=>{const H=G.target.value;if(s(H),H.length===13&&t[H]){const Q=t[H];c(Q.nombre),d(Q.stock.toString()),v(Q.precio_costo.toString()),w(Q.precio_venta.toString()),b(Q.categoria),M(!0),n("Producto encontrado. Los campos han sido actualizados.","info")}else O&&M(!1)};return $.jsxs("div",{children:[$.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestin de Productos"}),$.jsxs("div",{className:"mb-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[$.jsxs("div",{className:"flex items-center justify-between mb-4",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx(hP,{className:"text-blue-600",size:20}),$.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"Importar Productos desde CSV"})]}),$.jsxs("button",{onClick:()=>N(!C),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm",children:[$.jsx(lP,{size:16}),C?"Ocultar":"Ver"," Tutorial"]})]}),$.jsxs("div",{className:"flex gap-4 mb-4",children:[$.jsx("input",{ref:i,type:"file",accept:".csv",onChange:j,className:"hidden",disabled:P}),$.jsx(Pn,{onClick:()=>{var G;return(G=i.current)==null?void 0:G.click()},disabled:P,variant:"primary",children:P?$.jsxs($.Fragment,{children:[$.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Importando..."]}):$.jsxs($.Fragment,{children:[$.jsx(hP,{size:18}),"Seleccionar Archivo CSV"]})}),$.jsxs(Pn,{onClick:J,variant:"secondary",children:[$.jsx(lP,{size:18}),"Descargar Ejemplo"]})]}),C&&$.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4 space-y-4",children:[$.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[$.jsx(Op,{className:"text-blue-600",size:16}),"Formato Requerido del CSV"]}),$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{children:[$.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Encabezados obligatorios (primera lnea):"}),$.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:"codigo,nombre,stock,precio_costo,precio_venta,categoria"})]}),$.jsxs("div",{children:[$.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Ejemplo de datos:"}),$.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono",children:[$.jsx("div",{children:'1234567890123,"Coca Cola 500ml",50,80.00,120.00,Bebidas'}),$.jsx("div",{children:'1234567890124,"Papas Fritas",30,45.50,75.00,Snacks'})]})]}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[$.jsxs("div",{children:[$.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:" Reglas de Validacin:"}),$.jsxs("ul",{className:"space-y-1 text-gray-600",children:[$.jsxs("li",{children:[" ",$.jsx("strong",{children:"codigo:"})," 13 dgitos numricos"]}),$.jsxs("li",{children:[" ",$.jsx("strong",{children:"nombre:"})," Mximo 50 caracteres"]}),$.jsxs("li",{children:[" ",$.jsx("strong",{children:"stock:"})," Nmero entero positivo"]}),$.jsxs("li",{children:[" ",$.jsx("strong",{children:"precio_costo:"})," Nmero positivo"]}),$.jsxs("li",{children:[" ",$.jsx("strong",{children:"precio_venta:"})," Mayor al precio de costo"]}),$.jsxs("li",{children:[" ",$.jsx("strong",{children:"categoria:"})," Texto (opcional)"]})]})]}),$.jsxs("div",{children:[$.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:" Consejos:"}),$.jsxs("ul",{className:"space-y-1 text-gray-600",children:[$.jsx("li",{children:" Use comillas para textos con comas"}),$.jsx("li",{children:" Productos existentes se actualizarn"}),$.jsx("li",{children:" Descargue el ejemplo para ver el formato"}),$.jsx("li",{children:" Guarde el archivo como CSV UTF-8"})]})]})]})]})]})]}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[$.jsxs("div",{children:[$.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agregar Producto Individual"}),$.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[$.jsx(Jn,{label:"Cdigo de Barras",id:"codigo",type:"text",value:o,onChange:ne,placeholder:"Ingrese cdigo de 13 dgitos",required:!0,error:E.codigo,maxLength:13}),$.jsx(Jn,{label:"Nombre del Producto",id:"nombre",value:l,onChange:G=>c(G.target.value),placeholder:"Ingrese nombre del producto",required:!0,error:E.nombre,maxLength:50}),$.jsx(Jn,{label:"Categora",id:"categoria",value:x,onChange:G=>b(G.target.value),placeholder:"Ej: Bebidas, Snacks, etc.",required:!0,error:E.categoria}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$.jsx(Jn,{label:"Precio de Costo ($)",id:"precio_costo",type:"number",step:"0.01",value:p,onChange:G=>v(G.target.value),placeholder:"0.00",required:!0,error:E.precio_costo}),$.jsx(Jn,{label:"Precio de Venta ($)",id:"precio_venta",type:"number",step:"0.01",value:y,onChange:G=>w(G.target.value),placeholder:"0.00",required:!0,error:E.precio_venta})]}),$.jsx(Jn,{label:O?"Stock a Aadir":"Stock Inicial",id:"stock",type:"number",value:f,onChange:G=>d(G.target.value),placeholder:"Ingrese cantidad",required:!0,error:E.stock}),$.jsx(Pn,{type:"submit",variant:O?"success":"primary",className:"w-full",children:O?$.jsxs($.Fragment,{children:[$.jsx(sM,{size:18}),"Actualizar Producto"]}):$.jsxs($.Fragment,{children:[$.jsx(aM,{size:18}),"Registrar Producto"]})})]})]}),$.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[$.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[$.jsx(Kw,{size:20}),"Informacin de Precios"]}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[$.jsx("span",{className:"text-gray-600",children:"Precio de Costo:"}),$.jsxs("span",{className:"font-semibold text-red-600",children:["$",p||"0.00"]})]}),$.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border",children:[$.jsx("span",{className:"text-gray-600",children:"Precio de Venta:"}),$.jsxs("span",{className:"font-semibold text-green-600",children:["$",y||"0.00"]})]}),$.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded border border-blue-200",children:[$.jsx("span",{className:"text-gray-600",children:"Ganancia por Unidad:"}),$.jsxs("span",{className:"font-semibold text-blue-600",children:["$",(parseFloat(y||"0")-parseFloat(p||"0")).toFixed(2)]})]}),$.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded border border-purple-200",children:[$.jsx("span",{className:"text-gray-600",children:"Margen de Ganancia:"}),$.jsxs("span",{className:"font-semibold text-purple-600",children:[F(),"%"]})]})]})]})]})]})};var yp={exports:{}},Kee=yp.exports,cN;function Gee(){return cN||(cN=1,function(t,e){(function(r,n){t.exports=n(Km())})(typeof self<"u"?self:Kee,function(r){return function(){var n={155:function(E){E.exports=r}},i={};function o(E){var A=i[E];if(A!==void 0)return A.exports;var O=i[E]={exports:{}};return n[E](O,O.exports,o),O.exports}o.d=function(E,A){for(var O in A)o.o(A,O)&&!o.o(E,O)&&Object.defineProperty(E,O,{enumerable:!0,get:A[O]})},o.o=function(E,A){return Object.prototype.hasOwnProperty.call(E,A)},o.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var s={};o.r(s),o.d(s,{useReactToPrint:function(){return b}});var l=o(155);function c({level:E="error",messages:A,suppressErrors:O=!1}){O||(E==="error"?console.error(A):E==="warning"?console.warn(A):console.debug(A))}function f(E,A){if(A||!E){const O=document.getElementById("printWindow");O&&document.body.removeChild(O)}}function d(E){return E instanceof Error?E:new Error("Unknown Error")}function p(E,A){const{documentTitle:O,onAfterPrint:M,onPrintError:C,preserveAfterPrint:N,print:P,suppressErrors:I}=A;setTimeout(()=>{var R,F;if(E.contentWindow){let L=function(){M==null||M(),f(N)};var D=L;if(E.contentWindow.focus(),P)P(E).then(L).catch(j=>{C?C("print",d(j)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:I})});else{if(E.contentWindow.print){const j=(F=(R=E.contentDocument)===null||R===void 0?void 0:R.title)!==null&&F!==void 0?F:"",J=E.ownerDocument.title;O&&(E.ownerDocument.title=O,E.contentDocument&&(E.contentDocument.title=O)),E.contentWindow.print(),O&&(E.ownerDocument.title=J,E.contentDocument&&(E.contentDocument.title=j))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:I});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(j=>{var J,Z;return((Z=(J=navigator.userAgent)!==null&&J!==void 0?J:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(j)})?setTimeout(L,500):L()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:I})},500)}function v(E){const A=[],O=document.createTreeWalker(E,NodeFilter.SHOW_ELEMENT,null);let M=O.nextNode();for(;M;)A.push(M),M=O.nextNode();return A}function y(E,A,O){const M=v(E),C=v(A);if(M.length===C.length)for(let N=0;N<M.length;N++){const P=M[N],I=C[N],R=P.shadowRoot;if(R!==null){const F=I.attachShadow({mode:R.mode});F.innerHTML=R.innerHTML,y(R,F,O)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",E,A],suppressErrors:O})}const w=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(E,A,O,M){var C,N,P,I,R;const{contentNode:F,clonedContentNode:D,clonedImgNodes:L,clonedVideoNodes:j,numResourcesToLoad:J,originalCanvasNodes:Z}=O,{bodyClass:ne,fonts:G,ignoreGlobalStyles:H,pageStyle:Q,nonce:ae,suppressErrors:U,copyShadowRoots:X}=M;E.onload=null;const se=(C=E.contentDocument)!==null&&C!==void 0?C:(N=E.contentWindow)===null||N===void 0?void 0:N.document;if(se){const ye=se.body.appendChild(D);X&&y(F,ye,!!U),G&&(!((P=E.contentDocument)===null||P===void 0)&&P.fonts&&(!((I=E.contentWindow)===null||I===void 0)&&I.FontFace)?G.forEach(be=>{const oe=new FontFace(be.family,be.source,{weight:be.weight,style:be.style});E.contentDocument.fonts.add(oe),oe.loaded.then(()=>{A(oe)}).catch(Fe=>{A(oe,["Failed loading the font:",oe,"Load error:",d(Fe)])})}):(G.forEach(be=>{A(be)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:U})));const we=Q??w,Se=se.createElement("style");ae&&(Se.setAttribute("nonce",ae),se.head.setAttribute("nonce",ae)),Se.appendChild(se.createTextNode(we)),se.head.appendChild(Se),ne&&se.body.classList.add(...ne.split(" "));const Ne=se.querySelectorAll("canvas");for(let be=0;be<Z.length;++be){const oe=Z[be],Fe=Ne[be];if(Fe===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",oe],suppressErrors:U});continue}const xe=Fe.getContext("2d");xe&&xe.drawImage(oe,0,0)}for(let be=0;be<L.length;be++){const oe=L[be],Fe=oe.getAttribute("src");if(Fe){const xe=new Image;xe.onload=()=>{A(oe)},xe.onerror=(We,Qe,dt,yt,Ct)=>{A(oe,["Error loading <img>",oe,"Error",Ct])},xe.src=Fe}else A(oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',oe])}for(let be=0;be<j.length;be++){const oe=j[be];oe.preload="auto";const Fe=oe.getAttribute("poster");if(Fe){const xe=new Image;xe.onload=()=>{A(oe)},xe.onerror=(We,Qe,dt,yt,Ct)=>{A(oe,["Error loading video poster",Fe,"for video",oe,"Error:",Ct])},xe.src=Fe}else oe.readyState>=2?A(oe):oe.src?(oe.onloadeddata=()=>{A(oe)},oe.onerror=(xe,We,Qe,dt,yt)=>{A(oe,["Error loading video",oe,"Error",yt])},oe.onstalled=()=>{A(oe,["Loading video stalled, skipping",oe])}):A(oe,["Error loading video, `src` is empty",oe])}const ke="select",fe=F.querySelectorAll(ke),Ae=se.querySelectorAll(ke);for(let be=0;be<fe.length;be++)Ae[be].value=fe[be].value;if(!H){const be=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let oe=0,Fe=be.length;oe<Fe;++oe){const xe=be[oe];if(xe.tagName.toLowerCase()==="style"){const We=se.createElement(xe.tagName),Qe=xe.sheet;if(Qe){let dt="";try{const yt=Qe.cssRules.length;for(let Ct=0;Ct<yt;++Ct)typeof Qe.cssRules[Ct].cssText=="string"&&(dt+=`${Qe.cssRules[Ct].cssText}\r
`)}catch(yt){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",xe,`Original error: ${d(yt).message}`],level:"warning"})}We.setAttribute("id",`react-to-print-${oe}`),ae&&We.setAttribute("nonce",ae),We.appendChild(se.createTextNode(dt)),se.head.appendChild(We)}}else if(xe.getAttribute("href"))if(xe.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",xe],level:"warning"}),A(xe);else{const We=se.createElement(xe.tagName);for(let Qe=0,dt=xe.attributes.length;Qe<dt;++Qe){const yt=xe.attributes[Qe];yt&&We.setAttribute(yt.nodeName,(R=yt.nodeValue)!==null&&R!==void 0?R:"")}We.onload=()=>{A(We)},We.onerror=(Qe,dt,yt,Ct,xr)=>{A(We,["Failed to load",We,"Error:",xr])},ae&&We.setAttribute("nonce",ae),se.head.appendChild(We)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",xe],level:"warning"}),A(xe)}}}J===0&&p(E,M)}function b({bodyClass:E,contentRef:A,copyShadowRoots:O,documentTitle:M,fonts:C,ignoreGlobalStyles:N,nonce:P,onAfterPrint:I,onBeforePrint:R,onPrintError:F,pageStyle:D,preserveAfterPrint:L,print:j,suppressErrors:J}){return(0,l.useCallback)(Z=>{function ne(){const G={bodyClass:E,contentRef:A,copyShadowRoots:O,documentTitle:M,fonts:C,ignoreGlobalStyles:N,nonce:P,onAfterPrint:I,onPrintError:F,pageStyle:D,preserveAfterPrint:L,print:j,suppressErrors:J},H=function(){const U=document.createElement("iframe");return U.width=`${document.documentElement.clientWidth}px`,U.height=`${document.documentElement.clientHeight}px`,U.style.position="absolute",U.style.top=`-${document.documentElement.clientHeight+100}px`,U.style.left=`-${document.documentElement.clientWidth+100}px`,U.id="printWindow",U.srcdoc="<!DOCTYPE html>",U}(),Q=function(U,X){const{contentRef:se,fonts:ye,ignoreGlobalStyles:we,suppressErrors:Se}=X,Ne=function({contentRef:Fe,optionalContent:xe,suppressErrors:We}){return!xe||xe instanceof Event||(Fe&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof xe!="function")?Fe?Fe.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:We}):xe()}({contentRef:se,optionalContent:U,suppressErrors:Se});if(!Ne)return;const ke=Ne.cloneNode(!0),fe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Ae=ke.querySelectorAll("img"),be=ke.querySelectorAll("video"),oe=ye?ye.length:0;return{contentNode:Ne,clonedContentNode:ke,clonedImgNodes:Ae,clonedVideoNodes:be,numResourcesToLoad:(we?0:fe.length)+Ae.length+be.length+oe,originalCanvasNodes:Ne.querySelectorAll("canvas")}}(Z,G);if(!Q)return void c({messages:["There is nothing to print"],suppressErrors:J});const ae=function(U,X,se){const{suppressErrors:ye}=U,we=[],Se=[];return function(Ne,ke){we.includes(Ne)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",Ne],suppressErrors:ye}):(ke?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ke],suppressErrors:ye}),Se.push(Ne)):we.push(Ne),we.length+Se.length===X&&p(se,U))}}(G,Q.numResourcesToLoad,H);(function(U,X,se,ye){U.onload=()=>{x(U,X,se,ye)},document.body.appendChild(U)})(H,ae,Q,G)}f(L,!0),R?R().then(()=>{ne()}).catch(G=>{F==null||F("onBeforePrint",d(G))}):ne()},[E,A,O,M,C,N,P,I,R,F,D,L,j,J])}return s}()})}(yp)),yp.exports}var Xee=Gee();function px({columns:t,data:e,keyExtractor:r,emptyMessage:n="No hay datos disponibles"}){return e.length===0?$.jsx("div",{className:"text-center py-8 text-gray-500",children:n}):$.jsx("div",{className:"overflow-x-auto",children:$.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[$.jsx("thead",{className:"bg-gray-50",children:$.jsx("tr",{children:t.map((i,o)=>$.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i.header},o))})}),$.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(i=>$.jsx("tr",{className:"hover:bg-gray-50",children:t.map((o,s)=>$.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.render?o.render(i):String(i[o.accessor])},s))},r(i)))})]})})}const M$=W.forwardRef(({cart:t,cajero:e,total:r,fecha:n},i)=>$.jsxs("div",{ref:i,className:"p-4 max-w-xs mx-auto font-mono text-sm",children:[$.jsxs("div",{className:"text-center border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:[$.jsx("h1",{className:"text-lg font-bold",children:" KIOSKO LOCAL"}),$.jsx("p",{className:"text-xs",children:"Ticket de Compra"}),$.jsx("p",{className:"text-xs",children:n})]}),$.jsx("div",{className:"mb-3",children:$.jsxs("p",{className:"text-xs",children:[$.jsx("strong",{children:"Cajero:"})," ",e]})}),$.jsxs("div",{className:"border-b border-dashed border-gray-400 pb-2 mb-3",children:[$.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[$.jsx("span",{children:"PRODUCTO"}),$.jsx("span",{children:"CANT"}),$.jsx("span",{children:"PRECIO"}),$.jsx("span",{children:"TOTAL"})]}),t.map((o,s)=>$.jsxs("div",{className:"mb-2",children:[$.jsx("div",{className:"text-xs font-semibold",children:o.nombre}),$.jsxs("div",{className:"flex justify-between text-xs",children:[$.jsx("span",{children:o.codigo}),$.jsx("span",{children:o.cantidad}),$.jsxs("span",{children:["$",o.precio_unitario.toFixed(2)]}),$.jsxs("span",{children:["$",o.subtotal.toFixed(2)]})]})]},s))]}),$.jsx("div",{className:"border-b-2 border-dashed border-gray-400 pb-2 mb-3",children:$.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[$.jsx("span",{children:"TOTAL A PAGAR:"}),$.jsxs("span",{children:["$",r.toFixed(2)]})]})}),$.jsxs("div",{className:"text-center text-xs",children:[$.jsx("p",{className:"font-bold mb-2",children:" GRACIAS POR TU COMPRA !!"}),$.jsx("p",{children:"Que tengas un excelente da"}),$.jsx("p",{className:"mt-2",children:" Vuelve pronto "})]}),$.jsxs("div",{className:"text-center text-xs mt-4 border-t border-dashed border-gray-400 pt-2",children:[$.jsx("p",{children:"Este no es un comprobante fiscal"}),$.jsx("p",{children:"Solo para control interno"})]})]}));M$.displayName="TicketPrint";const D$=z.createContext(void 0),Yee=()=>{const t=z.useContext(D$);if(!t)throw new Error("useCashier must be used within a CashierProvider");return t},Qee=({children:t})=>{const[e,r]=z.useState("");z.useEffect(()=>{const o=localStorage.getItem("currentCajero");o&&r(o)},[]);const n=o=>{r(o),localStorage.setItem("currentCajero",o)},i=()=>{r(""),localStorage.removeItem("currentCajero")};return $.jsx(D$.Provider,{value:{cajero:e,setCajero:n,clearCajero:i},children:t})},Jee=()=>{const{getProduct:t,decreaseStock:e,addSale:r}=dh(),{showToast:n}=j$(),{cajero:i,setCajero:o}=Yee(),s=z.useRef(null),[l,c]=z.useState(""),[f,d]=z.useState("1"),[p,v]=z.useState([]),[y,w]=z.useState({}),[x,b]=z.useState(null),E=Xee.useReactToPrint({contentRef:s,documentTitle:"Ticket de Venta",onAfterPrint:()=>{n("Ticket enviado a impresora","success")},onBeforePrint:async()=>{n("Preparando impresin...","info")}}),A=()=>{if(p.length===0){n("No hay productos en el carrito para imprimir","warning");return}if(!i.trim()){n("Debe ingresar el nombre del cajero antes de imprimir","warning");return}const L=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});b({cart:[...p],cajero:i,total:R(),fecha:L}),setTimeout(()=>{s.current?E():n("Error: No se pudo encontrar el contenido del ticket para imprimir.","error")},100)},O=()=>{const L={};if(l||(L.codigo="El cdigo de barras es obligatorio"),!f)L.cantidad="La cantidad es obligatoria";else{const j=parseInt(f);(isNaN(j)||j<=0)&&(L.cantidad="La cantidad debe ser un nmero entero positivo")}return w(L),Object.keys(L).length===0},M=()=>i.trim()?(w(L=>{const{cajero:j,...J}=L;return J}),!0):(w(L=>({...L,cajero:"El nombre del cajero es obligatorio"})),!1),C=()=>{if(!O())return;const L=t(l);if(!L){n("Producto no encontrado","error");return}const j=parseInt(f),J=p.findIndex(H=>H.codigo===l),Z=J>=0?p[J].cantidad:0,ne=Z+j;if(L.stock<ne){n(`Stock insuficiente. Stock disponible: ${L.stock}, en carrito: ${Z}`,"warning");return}const G=L.precio_venta*j;if(J>=0)v(H=>H.map((Q,ae)=>ae===J?{...Q,cantidad:Q.cantidad+j,subtotal:Q.subtotal+G}:Q));else{const H=Date.now().toString();v(Q=>[...Q,{id:H,codigo:L.codigo,nombre:L.nombre,cantidad:j,precio_unitario:L.precio_venta,subtotal:G}])}c(""),d("1"),w(H=>{const{codigo:Q,cantidad:ae,...U}=H;return U}),n(`${L.nombre} agregado a la venta`,"success")},N=L=>{v(j=>j.filter(J=>J.id!==L))},P=(L,j)=>{if(j<=0){N(L);return}const J=p.find(ne=>ne.id===L);if(!J)return;const Z=t(J.codigo);if(Z){if(Z.stock<j){n(`Stock insuficiente. Stock disponible: ${Z.stock}`,"warning");return}v(ne=>ne.map(G=>G.id===L?{...G,cantidad:j,subtotal:G.precio_unitario*j}:G))}},I=()=>{if(!M())return;if(p.length===0){n("No hay productos en la venta actual","warning");return}let L=!0;const j=new Date().toISOString(),J=new Date().toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Z={cart:[...p],cajero:i,total:R(),fecha:J};p.forEach(ne=>{if(e(ne.codigo,ne.cantidad)){const H={fecha_hora:j,codigo_barra:ne.codigo,nombre_producto:ne.nombre,cantidad_vendida:ne.cantidad,precio_unitario:ne.precio_unitario,total_linea:ne.subtotal,cajero:i};r(H)}else L=!1,n(`Error al procesar ${ne.nombre}. Verifique el stock.`,"error")}),L&&(b(Z),n(`Venta finalizada exitosamente. Total: $${R().toFixed(2)}`,"success"),v([]))},R=()=>p.reduce((L,j)=>L+j.subtotal,0),F=()=>p.reduce((L,j)=>L+j.cantidad,0),D=[{header:"Cdigo",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Precio Unit.",accessor:"precio_unitario",render:L=>`$${L.precio_unitario.toFixed(2)}`},{header:"Cantidad",accessor:"cantidad",render:L=>$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("button",{onClick:()=>P(L.id,L.cantidad-1),className:"w-6 h-6 bg-red-500 text-white rounded text-sm hover:bg-red-600",children:"-"}),$.jsx("span",{className:"w-8 text-center",children:L.cantidad}),$.jsx("button",{onClick:()=>P(L.id,L.cantidad+1),className:"w-6 h-6 bg-green-500 text-white rounded text-sm hover:bg-green-600",children:"+"})]})},{header:"Subtotal",accessor:"subtotal",render:L=>$.jsxs("span",{className:"font-semibold text-green-600",children:["$",L.subtotal.toFixed(2)]})},{header:"Acciones",accessor:"id",render:L=>$.jsx(Pn,{variant:"danger",onClick:()=>N(L.id),children:$.jsx(l5,{size:16})})}];return $.jsxs("div",{children:[$.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Registro de Ventas"}),$.jsx("div",{style:{display:"none"},children:x&&$.jsx(M$,{ref:s,cart:x.cart,cajero:x.cajero,total:x.total,fecha:x.fecha})}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[$.jsxs("div",{className:"lg:col-span-2",children:[$.jsx("div",{className:"mb-6",children:$.jsx(Jn,{label:"Nombre del Cajero",id:"cajero",value:i,onChange:L=>o(L.target.value),placeholder:"Ingrese nombre del cajero",required:!0,error:y.cajero})}),$.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6",children:[$.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[$.jsx(uM,{size:20})," Agregar Productos"]}),$.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[$.jsx("div",{className:"md:col-span-2",children:$.jsx(Jn,{label:"Cdigo de Barras",id:"codigo",value:l,onChange:L=>c(L.target.value),placeholder:"Escanee o ingrese cdigo",required:!0,error:y.codigo})}),$.jsx(Jn,{label:"Cantidad",id:"cantidad",type:"number",value:f,onChange:L=>d(L.target.value),placeholder:"1",required:!0,error:y.cantidad})]}),$.jsxs(Pn,{onClick:C,variant:"primary",className:"w-full",children:[$.jsx(aM,{size:18})," Aadir a Venta"]})]}),$.jsxs("div",{className:"bg-white border rounded-lg",children:[$.jsx("div",{className:"p-4 border-b",children:$.jsx("h4",{className:"text-md font-medium",children:"Productos en esta venta:"})}),$.jsx(px,{columns:D,data:p,keyExtractor:L=>L.id,emptyMessage:"No hay productos en la venta actual"})]})]}),$.jsxs("div",{className:"space-y-4",children:[$.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[$.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[$.jsx(J6,{size:20})," Resumen de Venta"]}),$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[$.jsx("span",{className:"text-gray-600",children:"Total Items:"}),$.jsx("span",{className:"font-semibold",children:F()})]}),$.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded",children:[$.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),$.jsxs("span",{className:"font-semibold text-blue-600",children:["$",R().toFixed(2)]})]}),$.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded border-2 border-green-200",children:[$.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"TOTAL:"}),$.jsxs("span",{className:"text-xl font-bold text-green-600",children:["$",R().toFixed(2)]})]})]}),$.jsxs("div",{className:"space-y-2 mt-4",children:[p.length>0&&$.jsxs(Pn,{variant:"secondary",className:"w-full",onClick:A,children:[$.jsx(fP,{size:18}),"Imprimir Carrito Actual"]}),p.length>0&&$.jsxs(Pn,{variant:"success",onClick:I,className:"w-full",children:[$.jsx(iM,{size:18})," Finalizar Venta"]}),x&&$.jsxs(Pn,{variant:"primary",className:"w-full",onClick:()=>{s.current&&E()},children:[$.jsx(fP,{size:18}),"Reimprimir ltima Venta"]})]})]}),$.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[$.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:" Consejos:"}),$.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[$.jsx("li",{children:" Use +/- para ajustar cantidades"}),$.jsx("li",{children:" El stock se verifica en tiempo real"}),$.jsx("li",{children:" Los precios se toman automticamente"}),$.jsx("li",{children:" Puede imprimir desde la primera venta"})]})]})]})]})]})},Zee=()=>{const{products:t,sales:e,updateProduct:r}=dh(),[n,i]=z.useState("stock"),[o,s]=z.useState(null),[l,c]=z.useState({precio_costo:"",precio_venta:""}),f=z.useMemo(()=>Object.values(t).sort((E,A)=>E.nombre.localeCompare(A.nombre)),[t]),d=z.useMemo(()=>[...e].sort((E,A)=>new Date(A.fecha_hora).getTime()-new Date(E.fecha_hora).getTime()),[e]),p=E=>{s(E.codigo),c({precio_costo:E.precio_costo.toString(),precio_venta:E.precio_venta.toString()})},v=E=>{const A=parseFloat(l.precio_costo),O=parseFloat(l.precio_venta);A>=0&&O>=0&&r({...t[E],precio_costo:A,precio_venta:O}),s(null),c({precio_costo:"",precio_venta:""})},y=()=>{s(null),c({precio_costo:"",precio_venta:""})},w=[{header:"Cdigo",accessor:"codigo"},{header:"Producto",accessor:"nombre"},{header:"Stock Actual",accessor:"stock",render:E=>$.jsx("span",{className:`font-medium ${E.stock<=5?"text-red-600":""}`,children:E.stock})},{header:"Precio Costo",accessor:"precio_costo",render:E=>o===E.codigo?$.jsx(Jn,{type:"number",step:"0.01",value:l.precio_costo,onChange:A=>c(O=>({...O,precio_costo:A.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${E.precio_costo.toFixed(2)}`},{header:"Precio Venta",accessor:"precio_venta",render:E=>o===E.codigo?$.jsx(Jn,{type:"number",step:"0.01",value:l.precio_venta,onChange:A=>c(O=>({...O,precio_venta:A.target.value})),className:"w-20 text-sm",label:"",id:""}):`$${E.precio_venta.toFixed(2)}`},{header:"Acciones",accessor:"codigo",render:E=>o===E.codigo?$.jsxs("div",{className:"flex gap-1",children:[$.jsx("button",{onClick:()=>v(E.codigo),className:"p-1 text-green-600 hover:text-green-800",title:"Guardar",children:$.jsx(Z6,{size:16})}),$.jsx("button",{onClick:y,className:"p-1 text-red-600 hover:text-red-800",title:"Cancelar",children:$.jsx(lM,{size:16})})]}):$.jsx("button",{onClick:()=>p(E),className:"p-1 text-blue-600 hover:text-blue-800",title:"Editar precios",children:$.jsx(a5,{size:16})})}],x=[{header:"Fecha y Hora",accessor:"fecha_hora",render:E=>{const A=new Date(E.fecha_hora);return`${A.toLocaleDateString()} ${A.toLocaleTimeString()}`}},{header:"Cajero",accessor:"cajero"},{header:"Producto",accessor:"nombre_producto"},{header:"Cantidad",accessor:"cantidad_vendida"},{header:"Cdigo",accessor:"codigo_barra"}],b=(E,A)=>{const O=Object.keys(E[0]||{}).join(","),M=E.map(R=>Object.values(R).join(",")),C=[O,...M].join(`
`),N=new Blob([C],{type:"text/csv"}),P=URL.createObjectURL(N),I=document.createElement("a");I.href=P,I.download=`${A}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(I),I.click(),document.body.removeChild(I)};return $.jsxs("div",{children:[$.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Reportes"}),$.jsxs("div",{className:"mb-6 flex gap-4",children:[$.jsxs(Pn,{variant:n==="stock"?"primary":"secondary",onClick:()=>i("stock"),children:[$.jsx(sP,{size:18}),"Inventario Actual"]}),$.jsxs(Pn,{variant:n==="sales"?"primary":"secondary",onClick:()=>i("sales"),children:[$.jsx(sP,{size:18}),"Historial de Ventas"]})]}),n==="stock"?$.jsxs("div",{children:[$.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$.jsx("h3",{className:"text-lg font-medium",children:"Inventario de Productos"}),$.jsxs(Pn,{variant:"secondary",onClick:()=>b(f,"inventario"),disabled:f.length===0,children:[$.jsx(uP,{size:18}),"Exportar a CSV"]})]}),$.jsx(px,{columns:w,data:f,keyExtractor:E=>E.codigo,emptyMessage:"No hay productos registrados"}),f.length>0&&$.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de productos: ",f.length," | Stock total: ",f.reduce((E,A)=>E+A.stock,0)," unidades"]})]}):$.jsxs("div",{children:[$.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$.jsx("h3",{className:"text-lg font-medium",children:"Historial de Ventas"}),$.jsxs(Pn,{variant:"secondary",onClick:()=>b(d,"ventas"),disabled:d.length===0,children:[$.jsx(uP,{size:18}),"Exportar a CSV"]})]}),$.jsx(px,{columns:x,data:d,keyExtractor:E=>E.fecha_hora+E.codigo_barra,emptyMessage:"No hay ventas registradas"}),d.length>0&&$.jsxs("div",{className:"mt-4 text-right text-sm text-gray-600",children:["Total de ventas: ",d.length," | Unidades vendidas: ",d.reduce((E,A)=>E+A.cantidad_vendida,0)]})]})]})},ete=()=>{};var fN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},tte=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[r++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[r++],s=t[r++],l=t[r++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const o=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|f>>6,y=f&63;c||(y=64,s||(v=64)),n.push(r[d],r[p],r[v],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const o=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new rte;const v=o<<2|l>>4;if(n.push(v),f!==64){const y=l<<4&240|f>>2;if(n.push(y),p!==64){const w=f<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nte=function(t){const e=L$(t);return $$.encodeByteArray(e,!0)},Pm=function(t){return nte(t).replace(/\./g,"")},V$=function(t){try{return $$.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=()=>ite().__FIREBASE_DEFAULTS__,ate=()=>{if(typeof process>"u"||typeof fN>"u")return;const t=fN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ste=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V$(t[1]);return e&&JSON.parse(e)},jg=()=>{try{return ete()||ote()||ate()||ste()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F$=t=>{var e,r;return(r=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},ute=t=>{const e=F$(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},B$=()=>{var t;return(t=jg())===null||t===void 0?void 0:t.config},U$=t=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return t.endsWith(".cloudworkstations.dev")}async function q$(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pm(JSON.stringify(r)),Pm(JSON.stringify(s)),""].join(".")}const ff={};function fte(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function hte(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let hN=!1;function z$(t,e){if(typeof window>"u"||typeof document>"u"||!bh(window.location.host)||ff[t]===e||ff[t]||hN)return;ff[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",o=fte().prod.length>0;function s(){const v=document.getElementById(n);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{hN=!0,s()},v}function d(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=hte(n),y=r("text"),w=document.getElementById(y)||document.createElement("span"),x=r("learnmore"),b=document.getElementById(x)||document.createElement("a"),E=r("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;l(O),d(b,x);const M=f();c(A,E),O.append(A,w,b,M),document.body.appendChild(O)}o?(w.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function pte(){var t;const e=(t=jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yte(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _te(){return!pte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bte(){try{return typeof indexedDB=="object"}catch{return!1}}function wte(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte="FirebaseError";class So extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=xte,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wh.prototype.create)}}class wh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ete(o,n):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new So(i,l,n)}}function Ete(t,e){return t.replace(Ste,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Ste=/\{\$([^}]+)}/g;function Tte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const o=t[i],s=e[i];if(dN(o)&&dN(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function dN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ef(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Ate(t,e){const r=new Pte(t,e);return r.subscribe.bind(r)}class Pte{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Ite(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=kw),i.error===void 0&&(i.error=kw),i.complete===void 0&&(i.complete=kw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ite(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function kw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new lte;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kte(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);n===l&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cte(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cte(t){return t===os?void 0:t}function kte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Ote(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const Nte={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},jte=Ze.INFO,Mte={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},Dte=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Mte[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class GE{constructor(e){this.name=e,this._logLevel=jte,this._logHandler=Dte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Lte=(t,e)=>e.some(r=>t instanceof r);let pN,mN;function $te(){return pN||(pN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vte(){return mN||(mN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W$=new WeakMap,mx=new WeakMap,H$=new WeakMap,Rw=new WeakMap,XE=new WeakMap;function Fte(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{r(ua(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&W$.set(r,t)}).catch(()=>{}),XE.set(e,t),e}function Bte(t){if(mx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});mx.set(t,e)}let gx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return mx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H$.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ua(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ute(t){gx=t(gx)}function qte(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Nw(this),e,...r);return H$.set(n,e.sort?e.sort():[e]),ua(n)}:Vte().includes(t)?function(...e){return t.apply(Nw(this),e),ua(W$.get(this))}:function(...e){return ua(t.apply(Nw(this),e))}}function zte(t){return typeof t=="function"?qte(t):(t instanceof IDBTransaction&&Bte(t),Lte(t,$te())?new Proxy(t,gx):t)}function ua(t){if(t instanceof IDBRequest)return Fte(t);if(Rw.has(t))return Rw.get(t);const e=zte(t);return e!==t&&(Rw.set(t,e),XE.set(e,t)),e}const Nw=t=>XE.get(t);function Wte(t,e,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=ua(s);return n&&s.addEventListener("upgradeneeded",c=>{n(ua(s.result),c.oldVersion,c.newVersion,ua(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const Hte=["get","getKey","getAll","getAllKeys","count"],Kte=["put","add","delete","clear"],jw=new Map;function gN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jw.get(e))return jw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Kte.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Hte.includes(r)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(l.shift())),(await Promise.all([f[r](...l),i&&c.done]))[0]};return jw.set(e,o),o}Ute(t=>({...t,get:(e,r,n)=>gN(e,r)||t.get(e,r,n),has:(e,r)=>!!gN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xte(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Xte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vx="@firebase/app",vN="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new GE("@firebase/app"),Yte="@firebase/app-compat",Qte="@firebase/analytics-compat",Jte="@firebase/analytics",Zte="@firebase/app-check-compat",ere="@firebase/app-check",tre="@firebase/auth",rre="@firebase/auth-compat",nre="@firebase/database",ire="@firebase/data-connect",ore="@firebase/database-compat",are="@firebase/functions",sre="@firebase/functions-compat",ure="@firebase/installations",lre="@firebase/installations-compat",cre="@firebase/messaging",fre="@firebase/messaging-compat",hre="@firebase/performance",dre="@firebase/performance-compat",pre="@firebase/remote-config",mre="@firebase/remote-config-compat",gre="@firebase/storage",vre="@firebase/storage-compat",yre="@firebase/firestore",_re="@firebase/ai",bre="@firebase/firestore-compat",wre="firebase",xre="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="[DEFAULT]",Ere={[vx]:"fire-core",[Yte]:"fire-core-compat",[Jte]:"fire-analytics",[Qte]:"fire-analytics-compat",[ere]:"fire-app-check",[Zte]:"fire-app-check-compat",[tre]:"fire-auth",[rre]:"fire-auth-compat",[nre]:"fire-rtdb",[ire]:"fire-data-connect",[ore]:"fire-rtdb-compat",[are]:"fire-fn",[sre]:"fire-fn-compat",[ure]:"fire-iid",[lre]:"fire-iid-compat",[cre]:"fire-fcm",[fre]:"fire-fcm-compat",[hre]:"fire-perf",[dre]:"fire-perf-compat",[pre]:"fire-rc",[mre]:"fire-rc-compat",[gre]:"fire-gcs",[vre]:"fire-gcs-compat",[yre]:"fire-fst",[bre]:"fire-fst-compat",[_re]:"fire-vertex","fire-js":"fire-js",[wre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=new Map,Sre=new Map,_x=new Map;function yN(t,e){try{t.container.addComponent(e)}catch(r){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bl(t){const e=t.name;if(_x.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;_x.set(e,t);for(const r of Im.values())yN(r,t);for(const r of Sre.values())yN(r,t);return!0}function YE(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new wh("app","Firebase",Tre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=xre;function K$(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yx,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw la.create("bad-app-name",{appName:String(i)});if(r||(r=B$()),!r)throw la.create("no-options");const o=Im.get(i);if(o){if(Ss(r,o.options)&&Ss(n,o.config))return o;throw la.create("duplicate-app",{appName:i})}const s=new Rte(i);for(const c of _x.values())s.addComponent(c);const l=new Are(r,n,s);return Im.set(i,l),l}function G$(t=yx){const e=Im.get(t);if(!e&&t===yx&&B$())return K$();if(!e)throw la.create("no-app",{appName:t});return e}function ca(t,e,r){var n;let i=(n=Ere[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(l.join(" "));return}bl(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre="firebase-heartbeat-database",Ire=1,Zf="firebase-heartbeat-store";let Mw=null;function X$(){return Mw||(Mw=Wte(Pre,Ire,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zf)}catch(r){console.warn(r)}}}}).catch(t=>{throw la.create("idb-open",{originalErrorMessage:t.message})})),Mw}async function Ore(t){try{const r=(await X$()).transaction(Zf),n=await r.objectStore(Zf).get(Y$(t));return await r.done,n}catch(e){if(e instanceof So)mo.warn(e.message);else{const r=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(r.message)}}}async function _N(t,e){try{const n=(await X$()).transaction(Zf,"readwrite");await n.objectStore(Zf).put(e,Y$(t)),await n.done}catch(r){if(r instanceof So)mo.warn(r.message);else{const n=la.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});mo.warn(n.message)}}}function Y$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre=1024,kre=30;class Rre{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jre(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kre){const s=Mre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){mo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bN(),{heartbeatsToSend:n,unsentEntries:i}=Nre(this._heartbeatsCache.heartbeats),o=Pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return mo.warn(r),""}}}function bN(){return new Date().toISOString().substring(0,10)}function Nre(t,e=Cre){const r=[];let n=t.slice();for(const i of t){const o=r.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wN(r)>e){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),wN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class jre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bte()?wte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ore(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _N(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _N(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wN(t){return Pm(JSON.stringify({version:2,heartbeats:t})).length}function Mre(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(t){bl(new Ts("platform-logger",e=>new Gte(e),"PRIVATE")),bl(new Ts("heartbeat",e=>new Rre(e),"PRIVATE")),ca(vx,vN,t),ca(vx,vN,"esm2017"),ca("fire-js","")}Dre("");function QE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Q$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lre=Q$,J$=new wh("auth","Firebase",Q$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new GE("@firebase/auth");function $re(t,...e){Om.logLevel<=Ze.WARN&&Om.warn(`Auth (${Vl}): ${t}`,...e)}function _p(t,...e){Om.logLevel<=Ze.ERROR&&Om.error(`Auth (${Vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw JE(t,...e)}function Ei(t,...e){return JE(t,...e)}function Z$(t,e,r){const n=Object.assign(Object.assign({},Lre()),{[e]:r});return new wh("auth","Firebase",n).create(e,{appName:t.name})}function fa(t){return Z$(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JE(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return J$.create(t,...e)}function Ue(t,e,...r){if(!t)throw JE(e,...r)}function no(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function go(t,e){t||no(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vre(){return xN()==="http:"||xN()==="https:"}function xN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vre()||gte()||"connection"in navigator)?navigator.onLine:!0}function Bre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r){this.shortDelay=e,this.longDelay=r,go(r>e,"Short delay should be less than long delay!"),this.isMobile=dte()||vte()}get(){return Fre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e){go(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zre=new Eh(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Aa(t,e,r,n,i={}){return tV(t,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const l=xh(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return mte()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&bh(t.emulatorConfig.host)&&(f.credentials="include"),eV.fetch()(await rV(t,t.config.apiHost,r,l),f)})}async function tV(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Ure),e);try{const i=new Hre(t),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw up(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw up(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw up(t,"user-disabled",s);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Z$(t,d,f);ii(t,d)}}catch(i){if(i instanceof So)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function Mg(t,e,r,n,i={}){const o=await Aa(t,e,r,n,i);return"mfaPendingCredential"in o&&ii(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function rV(t,e,r,n){const i=`${e}${r}?${n}`,o=t,s=o.config.emulator?ZE(t.config,i):`${t.config.apiScheme}://${i}`;return qre.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function Wre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ei(this.auth,"network-request-failed")),zre.get())})}}function up(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ei(t,e,n);return i.customData._tokenResponse=r,i}function EN(t){return t!==void 0&&t.enterprise!==void 0}class Kre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Wre(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gre(t,e){return Aa(t,"GET","/v2/recaptchaConfig",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xre(t,e){return Aa(t,"POST","/v1/accounts:delete",e)}async function Cm(t,e){return Aa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yre(t,e=!1){const r=dn(t),n=await r.getIdToken(e),i=eS(n);Ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:hf(Dw(i.auth_time)),issuedAtTime:hf(Dw(i.iat)),expirationTime:hf(Dw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dw(t){return Number(t)*1e3}function eS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=V$(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SN(t){const e=eS(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof So&&Qre(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Qre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=hf(this.lastLoginAt),this.creationTime=hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){var e;const r=t.auth,n=await t.getIdToken(),i=await eh(t,Cm(r,{idToken:n}));Ue(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nV(o.providerUserInfo):[],l=ene(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?f:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new wx(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Zre(t){const e=dn(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ene(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nV(t){return t.map(e=>{var{providerId:r}=e,n=QE(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tne(t,e){const r=await tV(t,{},async()=>{const n=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await rV(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",eV.fetch()(s,{method:"POST",headers:l,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rne(t,e){return Aa(t,"POST","/v2/accounts:revokeToken",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=SN(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:o}=await tne(e,r);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:o}=r,s=new zu;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zu,this.toJSON())}_performRefresh(){return no("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,o=QE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await eh(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Yre(this,e)}reload(){return Zre(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await km(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await eh(this,Xre(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,o,s,l,c,f,d;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,y=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=r.photoURL)!==null&&s!==void 0?s:void 0,x=(l=r.tenantId)!==null&&l!==void 0?l:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,E=(f=r.createdAt)!==null&&f!==void 0?f:void 0,A=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:M,isAnonymous:C,providerData:N,stsTokenManager:P}=r;Ue(O&&P,e,"internal-error");const I=zu.fromJSON(this.name,P);Ue(typeof O=="string",e,"internal-error"),Yo(p,e.name),Yo(v,e.name),Ue(typeof M=="boolean",e,"internal-error"),Ue(typeof C=="boolean",e,"internal-error"),Yo(y,e.name),Yo(w,e.name),Yo(x,e.name),Yo(b,e.name),Yo(E,e.name),Yo(A,e.name);const R=new ti({uid:O,auth:e,email:v,emailVerified:M,displayName:p,isAnonymous:C,photoURL:w,phoneNumber:y,tenantId:x,stsTokenManager:I,createdAt:E,lastLoginAt:A});return N&&Array.isArray(N)&&(R.providerData=N.map(F=>Object.assign({},F))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new zu;i.updateFromServerResponse(r);const o=new ti({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await km(o),o}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?nV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new zu;l.updateFromIdToken(n);const c=new ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Map;function io(t){go(t instanceof Function,"Expected a class definition");let e=TN.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iV.type="NONE";const AN=iV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e,r){return`firebase:${t}:${e}:${r}`}class Wu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Cm(this.auth,{idToken:e}).catch(()=>{});return r?ti._fromGetAccountInfoResponse(this.auth,r,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Wu(io(AN),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||io(AN);const s=bp(n,e.config.apiKey,e.name);let l=null;for(const f of r)try{const d=await f._get(s);if(d){let p;if(typeof d=="string"){const v=await Cm(e,{idToken:d}).catch(()=>{});if(!v)break;p=await ti._fromGetAccountInfoResponse(e,v,d)}else p=ti._fromJSON(e,d);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Wu(o,e,n):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Wu(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cV(e))return"Blackberry";if(fV(e))return"Webos";if(aV(e))return"Safari";if((e.includes("chrome/")||sV(e))&&!e.includes("edge/"))return"Chrome";if(lV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function oV(t=Rr()){return/firefox\//i.test(t)}function aV(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sV(t=Rr()){return/crios\//i.test(t)}function uV(t=Rr()){return/iemobile/i.test(t)}function lV(t=Rr()){return/android/i.test(t)}function cV(t=Rr()){return/blackberry/i.test(t)}function fV(t=Rr()){return/webos/i.test(t)}function tS(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nne(t=Rr()){var e;return tS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ine(){return yte()&&document.documentMode===10}function hV(t=Rr()){return tS(t)||lV(t)||fV(t)||cV(t)||/windows phone/i.test(t)||uV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e=[]){let r;switch(t){case"Browser":r=PN(Rr());break;case"Worker":r=`${PN(Rr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ane(t,e={}){return Aa(t,"GET","/v2/passwordPolicy",Ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne=6;class une{constructor(e){var r,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:sne,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IN(this),this.idTokenSubscription=new IN(this),this.beforeStateQueue=new one(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=io(r)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Wu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Cm(this,{idToken:e}),n=await ti._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ei(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(fa(this));const r=e?dn(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ane(this),r=new une(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await rne(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&io(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await Wu.create(this,[io(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&$re(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fl(t){return dn(t)}class IN{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ate(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cne(t){Dg=t}function pV(t){return Dg.loadJS(t)}function fne(){return Dg.recaptchaEnterpriseScript}function hne(){return Dg.gapiScript}function dne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pne{constructor(){this.enterprise=new mne}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class mne{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const gne="recaptcha-enterprise",mV="NO_RECAPTCHA";class vne{constructor(e){this.type=gne,this.auth=Fl(e)}async verify(e="verify",r=!1){async function n(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{Gre(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new Kre(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;EN(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(mV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pne().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{n(this.auth).then(l=>{if(!r&&EN(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=fne();c.length!==0&&(c+=l),pV(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function ON(t,e,r,n=!1,i=!1){const o=new vne(t);let s;if(i)s=mV;else try{s=await o.verify(r)}catch{s=await o.verify(r,!0)}const l=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function CN(t,e,r,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ON(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ON(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yne(t,e){const r=YE(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Ss(o,e??{}))return i;ii(i,"already-initialized")}return r.initialize({options:e})}function _ne(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function bne(t,e,r){const n=Fl(t);Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=gV(e),{host:s,port:l}=wne(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ue(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ue(Ss(f,n.config.emulator)&&Ss(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,bh(s)?(q$(`${o}//${s}${c}`),z$("Auth",!0)):xne()}function gV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wne(t){const e=gV(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:kN(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:kN(s)}}}function kN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xne(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return no("not implemented")}_getIdTokenResponse(e){return no("not implemented")}_linkToIdToken(e,r){return no("not implemented")}_getReauthenticationResolver(e){return no("not implemented")}}async function Ene(t,e){return Aa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sne(t,e){return Mg(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tne(t,e){return Mg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function Ane(t,e){return Mg(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends rS{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new th(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new th(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CN(e,r,"signInWithPassword",Sne);case"emailLink":return Tne(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return CN(e,n,"signUpPassword",Ene);case"emailLink":return Ane(e,{idToken:r,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e){return Mg(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne="http://localhost";class As extends rS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ii("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,o=QE(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new As(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Hu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hu(e,r)}buildRequest(){const e={requestUri:Pne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=xh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function One(t){const e=Zc(ef(t)).link,r=e?Zc(ef(e)).deep_link_id:null,n=Zc(ef(t)).deep_link_id;return(n?Zc(ef(n)).link:null)||n||r||e||t}class nS{constructor(e){var r,n,i,o,s,l;const c=Zc(ef(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,p=Ine((i=c.mode)!==null&&i!==void 0?i:null);Ue(f&&d&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const r=One(e);try{return new nS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,r){return th._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=nS.parseLink(r);return Ue(n,"argument-error"),th._fromEmailAndCode(e,n.code,n.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends vV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Sh{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return As._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ta.credential(r,n)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Sh{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sh{constructor(){super("twitter.com")}static credential(e,r){return As._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return na.credential(r,n)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const o=await ti._fromIdTokenResponse(e,n,i),s=RN(n);return new wl({user:o,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=RN(n);return new wl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function RN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends So{constructor(e,r,n,i){var o;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Rm(e,r,n,i)}}function yV(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rm._fromErrorAndOperation(t,o,e,n):o})}async function Cne(t,e,r=!1){const n=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return wl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kne(t,e,r=!1){const{auth:n}=t;if(ei(n.app))return Promise.reject(fa(n));const i="reauthenticate";try{const o=await eh(t,yV(n,i,e,t),r);Ue(o.idToken,n,"internal-error");const s=eS(o.idToken);Ue(s,n,"internal-error");const{sub:l}=s;return Ue(t.uid===l,n,"user-mismatch"),wl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ii(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e,r=!1){if(ei(t.app))return Promise.reject(fa(t));const n="signIn",i=await yV(t,n,e),o=await wl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(o.user),o}async function Rne(t,e){return _V(Fl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nne(t){const e=Fl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jne(t,e,r){return ei(t.app)?Promise.reject(fa(t)):Rne(dn(t),Bl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Nne(t),n})}function Mne(t,e,r,n){return dn(t).onIdTokenChanged(e,r,n)}function Dne(t,e,r){return dn(t).beforeAuthStateChanged(e,r)}function Lne(t,e,r,n){return dn(t).onAuthStateChanged(e,r,n)}function Lw(t){return dn(t).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=1e3,Vne=10;class wV extends bV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);ine()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Vne):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},$ne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wV.type="LOCAL";const Fne=wV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends bV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}xV.type="SESSION";const EV=xV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Lg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:o}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(s).map(async f=>f(r.origin,o)),c=await Bne(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=iS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(v.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function qne(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function zne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Hne(){return SV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebaseLocalStorageDb",Kne=1,jm="firebaseLocalStorage",AV="fbase_key";class Th{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $g(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}function Gne(){const t=indexedDB.deleteDatabase(TV);return new Th(t).toPromise()}function xx(){const t=indexedDB.open(TV,Kne);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(jm,{keyPath:AV})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(jm)?e(n):(n.close(),await Gne(),e(await xx()))})})}async function NN(t,e,r){const n=$g(t,!0).put({[AV]:e,value:r});return new Th(n).toPromise()}async function Xne(t,e){const r=$g(t,!1).get(e),n=await new Th(r).toPromise();return n===void 0?null:n.value}function jN(t,e){const r=$g(t,!0).delete(e);return new Th(r).toPromise()}const Yne=800,Qne=3;class PV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Qne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lg._getInstance(Hne()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zne(),!this.activeServiceWorker)return;this.sender=new Une(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xx();return await NN(e,Nm,"1"),await jN(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>NN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Xne(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>jN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$g(i,!1).getAll();return new Th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PV.type="LOCAL";const Jne=PV;new Eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t,e){return e?io(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends rS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eie(t){return _V(t.auth,new oS(t),t.bypassAuthState)}function tie(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),kne(r,new oS(t),t.bypassAuthState)}async function rie(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),Cne(r,new oS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,r,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eie;case"linkViaPopup":case"linkViaRedirect":return rie;case"reauthViaPopup":case"reauthViaRedirect":return tie;default:ii(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=new Eh(2e3,1e4);class Vu extends IV{constructor(e,r,n,i,o){super(e,r,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Vu.currentPopupAction&&Vu.currentPopupAction.cancel(),Vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=iS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nie.get())};e()}}Vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie="pendingRedirect",wp=new Map;class oie extends IV{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await aie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aie(t,e){const r=lie(e),n=uie(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function sie(t,e){wp.set(t._key(),e)}function uie(t){return io(t._redirectPersistence)}function lie(t){return bp(iie,t.config.apiKey,t.name)}async function cie(t,e,r=!1){if(ei(t.app))return Promise.reject(fa(t));const n=Fl(t),i=Zne(n,e),s=await new oie(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie=10*60*1e3;class hie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!die(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!OV(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ei(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fie&&this.cachedEventUids.clear(),this.cachedEventUids.has(MN(e))}saveEventToCache(e){this.cachedEventUids.add(MN(e)),this.lastProcessedEventTime=Date.now()}}function MN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function die(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pie(t,e={}){return Aa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gie=/^https?/;async function vie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pie(t);for(const r of e)try{if(yie(r))return}catch{}ii(t,"unauthorized-domain")}function yie(t){const e=bx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!gie.test(r))return!1;if(mie.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=new Eh(3e4,6e4);function DN(){const t=Si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function bie(t){return new Promise((e,r)=>{var n,i,o;function s(){DN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DN(),r(Ei(t,"network-request-failed"))},timeout:_ie.get()})}if(!((i=(n=Si().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Si().gapi)===null||o===void 0)&&o.load)s();else{const l=dne("iframefcb");return Si()[l]=()=>{gapi.load?s():r(Ei(t,"network-request-failed"))},pV(`${hne()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw xp=null,e})}let xp=null;function wie(t){return xp=xp||bie(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=new Eh(5e3,15e3),Eie="__/auth/iframe",Sie="emulator/auth/iframe",Tie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pie(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ZE(e,Sie):`https://${t.config.authDomain}/${Eie}`,n={apiKey:e.apiKey,appName:t.name,v:Vl},i=Aie.get(t.config.apiHost);i&&(n.eid=i);const o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${r}?${xh(n).slice(1)}`}async function Iie(t){const e=await wie(t),r=Si().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:Pie(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tie,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=Ei(t,"network-request-failed"),l=Si().setTimeout(()=>{o(s)},xie.get());function c(){Si().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cie=500,kie=600,Rie="_blank",Nie="http://localhost";class LN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jie(t,e,r,n=Cie,i=kie){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Oie),{width:n.toString(),height:i.toString(),top:o,left:s}),f=Rr().toLowerCase();r&&(l=sV(f)?Rie:r),oV(f)&&(e=e||Nie,c.scrollbars="yes");const d=Object.entries(c).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(nne(f)&&l!=="_self")return Mie(e||"",l),new LN(null);const p=window.open(e||"",l,d);Ue(p,t,"popup-blocked");try{p.focus()}catch{}return new LN(p)}function Mie(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die="__/auth/handler",Lie="emulator/auth/handler",$ie=encodeURIComponent("fac");async function $N(t,e,r,n,i,o){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vl,eventId:i};if(e instanceof vV){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Tte(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))s[d]=p}if(e instanceof Sh){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),f=c?`#${$ie}=${encodeURIComponent(c)}`:"";return`${Vie(t)}?${xh(l).slice(1)}${f}`}function Vie({config:t}){return t.emulator?ZE(t,Lie):`https://${t.authDomain}/${Die}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="webStorageSupport";class Fie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EV,this._completeRedirectFn=cie,this._overrideRedirectResult=sie}async _openPopup(e,r,n,i){var o;go((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await $N(e,r,n,bx(),i);return jie(e,s,iS())}async _openRedirect(e,r,n,i){await this._originValidation(e);const o=await $N(e,r,n,bx(),i);return qne(o),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(go(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Iie(e),n=new hie(e);return r.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send($w,{type:$w},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$w];s!==void 0&&r(!!s),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vie(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hV()||aV()||tS()}}const Bie=Fie;var VN="@firebase/auth",FN="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zie(t){bl(new Ts("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dV(t)},f=new lne(n,i,o,c);return _ne(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bl(new Ts("auth-internal",e=>{const r=Fl(e.getProvider("auth").getImmediate());return(n=>new Uie(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(VN,FN,qie(t)),ca(VN,FN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=5*60,Hie=U$("authIdTokenMaxAge")||Wie;let BN=null;const Kie=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Hie)return;const i=r==null?void 0:r.token;BN!==i&&(BN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Gie(t=G$()){const e=YE(t,"auth");if(e.isInitialized())return e.getImmediate();const r=yne(t,{popupRedirectResolver:Bie,persistence:[Jne,Fne,EV]}),n=U$("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=Kie(o.toString());Dne(r,s,()=>s(r.currentUser)),Mne(r,l=>s(l))}}const i=F$("auth");return i&&bne(r,`http://${i}`),r}function Xie(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cne({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const o=Ei("internal-error");o.customData=i,r(o)},n.type="text/javascript",n.charset="UTF-8",Xie().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zie("Browser");var UN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,CV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function R(){}R.prototype=I.prototype,P.D=I.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(F,D,L){for(var j=Array(arguments.length-2),J=2;J<arguments.length;J++)j[J-2]=arguments[J];return I.prototype[D].apply(F,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,I,R){R||(R=0);var F=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)F[D]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(D=0;16>D;++D)F[D]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=P.g[0],R=P.g[1],D=P.g[2];var L=P.g[3],j=I+(L^R&(D^L))+F[0]+3614090360&4294967295;I=R+(j<<7&4294967295|j>>>25),j=L+(D^I&(R^D))+F[1]+3905402710&4294967295,L=I+(j<<12&4294967295|j>>>20),j=D+(R^L&(I^R))+F[2]+606105819&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(I^D&(L^I))+F[3]+3250441966&4294967295,R=D+(j<<22&4294967295|j>>>10),j=I+(L^R&(D^L))+F[4]+4118548399&4294967295,I=R+(j<<7&4294967295|j>>>25),j=L+(D^I&(R^D))+F[5]+1200080426&4294967295,L=I+(j<<12&4294967295|j>>>20),j=D+(R^L&(I^R))+F[6]+2821735955&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(I^D&(L^I))+F[7]+4249261313&4294967295,R=D+(j<<22&4294967295|j>>>10),j=I+(L^R&(D^L))+F[8]+1770035416&4294967295,I=R+(j<<7&4294967295|j>>>25),j=L+(D^I&(R^D))+F[9]+2336552879&4294967295,L=I+(j<<12&4294967295|j>>>20),j=D+(R^L&(I^R))+F[10]+4294925233&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(I^D&(L^I))+F[11]+2304563134&4294967295,R=D+(j<<22&4294967295|j>>>10),j=I+(L^R&(D^L))+F[12]+1804603682&4294967295,I=R+(j<<7&4294967295|j>>>25),j=L+(D^I&(R^D))+F[13]+4254626195&4294967295,L=I+(j<<12&4294967295|j>>>20),j=D+(R^L&(I^R))+F[14]+2792965006&4294967295,D=L+(j<<17&4294967295|j>>>15),j=R+(I^D&(L^I))+F[15]+1236535329&4294967295,R=D+(j<<22&4294967295|j>>>10),j=I+(D^L&(R^D))+F[1]+4129170786&4294967295,I=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(I^R))+F[6]+3225465664&4294967295,L=I+(j<<9&4294967295|j>>>23),j=D+(I^R&(L^I))+F[11]+643717713&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^I&(D^L))+F[0]+3921069994&4294967295,R=D+(j<<20&4294967295|j>>>12),j=I+(D^L&(R^D))+F[5]+3593408605&4294967295,I=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(I^R))+F[10]+38016083&4294967295,L=I+(j<<9&4294967295|j>>>23),j=D+(I^R&(L^I))+F[15]+3634488961&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^I&(D^L))+F[4]+3889429448&4294967295,R=D+(j<<20&4294967295|j>>>12),j=I+(D^L&(R^D))+F[9]+568446438&4294967295,I=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(I^R))+F[14]+3275163606&4294967295,L=I+(j<<9&4294967295|j>>>23),j=D+(I^R&(L^I))+F[3]+4107603335&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^I&(D^L))+F[8]+1163531501&4294967295,R=D+(j<<20&4294967295|j>>>12),j=I+(D^L&(R^D))+F[13]+2850285829&4294967295,I=R+(j<<5&4294967295|j>>>27),j=L+(R^D&(I^R))+F[2]+4243563512&4294967295,L=I+(j<<9&4294967295|j>>>23),j=D+(I^R&(L^I))+F[7]+1735328473&4294967295,D=L+(j<<14&4294967295|j>>>18),j=R+(L^I&(D^L))+F[12]+2368359562&4294967295,R=D+(j<<20&4294967295|j>>>12),j=I+(R^D^L)+F[5]+4294588738&4294967295,I=R+(j<<4&4294967295|j>>>28),j=L+(I^R^D)+F[8]+2272392833&4294967295,L=I+(j<<11&4294967295|j>>>21),j=D+(L^I^R)+F[11]+1839030562&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^I)+F[14]+4259657740&4294967295,R=D+(j<<23&4294967295|j>>>9),j=I+(R^D^L)+F[1]+2763975236&4294967295,I=R+(j<<4&4294967295|j>>>28),j=L+(I^R^D)+F[4]+1272893353&4294967295,L=I+(j<<11&4294967295|j>>>21),j=D+(L^I^R)+F[7]+4139469664&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^I)+F[10]+3200236656&4294967295,R=D+(j<<23&4294967295|j>>>9),j=I+(R^D^L)+F[13]+681279174&4294967295,I=R+(j<<4&4294967295|j>>>28),j=L+(I^R^D)+F[0]+3936430074&4294967295,L=I+(j<<11&4294967295|j>>>21),j=D+(L^I^R)+F[3]+3572445317&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^I)+F[6]+76029189&4294967295,R=D+(j<<23&4294967295|j>>>9),j=I+(R^D^L)+F[9]+3654602809&4294967295,I=R+(j<<4&4294967295|j>>>28),j=L+(I^R^D)+F[12]+3873151461&4294967295,L=I+(j<<11&4294967295|j>>>21),j=D+(L^I^R)+F[15]+530742520&4294967295,D=L+(j<<16&4294967295|j>>>16),j=R+(D^L^I)+F[2]+3299628645&4294967295,R=D+(j<<23&4294967295|j>>>9),j=I+(D^(R|~L))+F[0]+4096336452&4294967295,I=R+(j<<6&4294967295|j>>>26),j=L+(R^(I|~D))+F[7]+1126891415&4294967295,L=I+(j<<10&4294967295|j>>>22),j=D+(I^(L|~R))+F[14]+2878612391&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~I))+F[5]+4237533241&4294967295,R=D+(j<<21&4294967295|j>>>11),j=I+(D^(R|~L))+F[12]+1700485571&4294967295,I=R+(j<<6&4294967295|j>>>26),j=L+(R^(I|~D))+F[3]+2399980690&4294967295,L=I+(j<<10&4294967295|j>>>22),j=D+(I^(L|~R))+F[10]+4293915773&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~I))+F[1]+2240044497&4294967295,R=D+(j<<21&4294967295|j>>>11),j=I+(D^(R|~L))+F[8]+1873313359&4294967295,I=R+(j<<6&4294967295|j>>>26),j=L+(R^(I|~D))+F[15]+4264355552&4294967295,L=I+(j<<10&4294967295|j>>>22),j=D+(I^(L|~R))+F[6]+2734768916&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~I))+F[13]+1309151649&4294967295,R=D+(j<<21&4294967295|j>>>11),j=I+(D^(R|~L))+F[4]+4149444226&4294967295,I=R+(j<<6&4294967295|j>>>26),j=L+(R^(I|~D))+F[11]+3174756917&4294967295,L=I+(j<<10&4294967295|j>>>22),j=D+(I^(L|~R))+F[2]+718787259&4294967295,D=L+(j<<15&4294967295|j>>>17),j=R+(L^(D|~I))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+L&4294967295}n.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var R=I-this.blockSize,F=this.B,D=this.h,L=0;L<I;){if(D==0)for(;L<=R;)i(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<I;)if(F[D++]=P.charCodeAt(L++),D==this.blockSize){i(this,F),D=0;break}}else for(;L<I;)if(F[D++]=P[L++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=I},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var R=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=R&255,R/=256;for(this.u(P),P=Array(16),I=R=0;4>I;++I)for(var F=0;32>F;F+=8)P[R++]=this.g[I]>>>F&255;return P};function o(P,I){var R=l;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=I(P)}function s(P,I){this.h=I;for(var R=[],F=!0,D=P.length-1;0<=D;D--){var L=P[D]|0;F&&L==I||(R[D]=L,F=!1)}this.g=R}var l={};function c(P){return-128<=P&&128>P?o(P,function(I){return new s([I|0],0>I?-1:0)}):new s([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return b(f(-P));for(var I=[],R=1,F=0;P>=R;F++)I[F]=P/R|0,R*=4294967296;return new s(I,0)}function d(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return b(d(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(I,8)),F=p,D=0;D<P.length;D+=8){var L=Math.min(8,P.length-D),j=parseInt(P.substring(D,D+L),I);8>L?(L=f(Math.pow(I,L)),F=F.j(L).add(f(j))):(F=F.j(R),F=F.add(f(j)))}return F}var p=c(0),v=c(1),y=c(16777216);t=s.prototype,t.m=function(){if(x(this))return-b(this).m();for(var P=0,I=1,R=0;R<this.g.length;R++){var F=this.i(R);P+=(0<=F?F:4294967296+F)*I,I*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(x(this))return"-"+b(this).toString(P);for(var I=f(Math.pow(P,6)),R=this,F="";;){var D=M(R,I).g;R=E(R,D.j(I));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=D,w(R))return L+F;for(;6>L.length;)L="0"+L;F=L+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function x(P){return P.h==-1}t.l=function(P){return P=E(this,P),x(P)?-1:w(P)?0:1};function b(P){for(var I=P.g.length,R=[],F=0;F<I;F++)R[F]=~P.g[F];return new s(R,~P.h).add(v)}t.abs=function(){return x(this)?b(this):this},t.add=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],F=0,D=0;D<=I;D++){var L=F+(this.i(D)&65535)+(P.i(D)&65535),j=(L>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);F=j>>>16,L&=65535,j&=65535,R[D]=j<<16|L}return new s(R,R[R.length-1]&-2147483648?-1:0)};function E(P,I){return P.add(b(I))}t.j=function(P){if(w(this)||w(P))return p;if(x(this))return x(P)?b(this).j(b(P)):b(b(this).j(P));if(x(P))return b(this.j(b(P)));if(0>this.l(y)&&0>P.l(y))return f(this.m()*P.m());for(var I=this.g.length+P.g.length,R=[],F=0;F<2*I;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<P.g.length;D++){var L=this.i(F)>>>16,j=this.i(F)&65535,J=P.i(D)>>>16,Z=P.i(D)&65535;R[2*F+2*D]+=j*Z,A(R,2*F+2*D),R[2*F+2*D+1]+=L*Z,A(R,2*F+2*D+1),R[2*F+2*D+1]+=j*J,A(R,2*F+2*D+1),R[2*F+2*D+2]+=L*J,A(R,2*F+2*D+2)}for(F=0;F<I;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=I;F<2*I;F++)R[F]=0;return new s(R,0)};function A(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function O(P,I){this.g=P,this.h=I}function M(P,I){if(w(I))throw Error("division by zero");if(w(P))return new O(p,p);if(x(P))return I=M(b(P),I),new O(b(I.g),b(I.h));if(x(I))return I=M(P,b(I)),new O(b(I.g),I.h);if(30<P.g.length){if(x(P)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var R=v,F=I;0>=F.l(P);)R=C(R),F=C(F);var D=N(R,1),L=N(F,1);for(F=N(F,2),R=N(R,2);!w(F);){var j=L.add(F);0>=j.l(P)&&(D=D.add(R),L=j),F=N(F,1),R=N(R,1)}return I=E(P,D.j(I)),new O(D,I)}for(D=p;0<=P.l(I);){for(R=Math.max(1,Math.floor(P.m()/I.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),L=f(R),j=L.j(I);x(j)||0<j.l(P);)R-=F,L=f(R),j=L.j(I);w(L)&&(L=v),D=D.add(L),P=E(P,j)}return new O(D,P)}t.A=function(P){return M(this,P).h},t.and=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],F=0;F<I;F++)R[F]=this.i(F)&P.i(F);return new s(R,this.h&P.h)},t.or=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],F=0;F<I;F++)R[F]=this.i(F)|P.i(F);return new s(R,this.h|P.h)},t.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],F=0;F<I;F++)R[F]=this.i(F)^P.i(F);return new s(R,this.h^P.h)};function C(P){for(var I=P.g.length+1,R=[],F=0;F<I;F++)R[F]=P.i(F)<<1|P.i(F-1)>>>31;return new s(R,P.h)}function N(P,I){var R=I>>5;I%=32;for(var F=P.g.length-R,D=[],L=0;L<F;L++)D[L]=0<I?P.i(L+R)>>>I|P.i(L+R+1)<<32-I:P.i(L+R);return new s(D,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=d,ha=s}).apply(typeof UN<"u"?UN:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kV,tf,RV,Ep,Ex,NV,jV,MV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,k){return m==Array.prototype||m==Object.prototype||(m[S]=k.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var S=0;S<m.length;++S){var k=m[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(m,S){if(S)e:{var k=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var ee=m[B];if(!(ee in k))break e;k=k[ee]}m=m[m.length-1],B=k[m],S=S(B),S!=B&&S!=null&&e(k,m,{configurable:!0,writable:!0,value:S})}}function o(m,S){m instanceof String&&(m+="");var k=0,B=!1,ee={next:function(){if(!B&&k<m.length){var ue=k++;return{value:S(ue,m[ue]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(m){return m||function(){return o(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function d(m,S,k){return m.call.apply(m.bind,arguments)}function p(m,S,k){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,B),m.apply(S,ee)}}return function(){return m.apply(S,arguments)}}function v(m,S,k){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function y(m,S){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function w(m,S){function k(){}k.prototype=S.prototype,m.aa=S.prototype,m.prototype=new k,m.prototype.constructor=m,m.Qb=function(B,ee,ue){for(var _e=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)_e[pt-2]=arguments[pt];return S.prototype[ee].apply(B,_e)}}function x(m){const S=m.length;if(0<S){const k=Array(S);for(let B=0;B<S;B++)k[B]=m[B];return k}return[]}function b(m,S){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(c(B)){const ee=m.length||0,ue=B.length||0;m.length=ee+ue;for(let _e=0;_e<ue;_e++)m[ee+_e]=B[_e]}else m.push(B)}}class E{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function A(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var C=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function N(m,S,k){for(const B in m)S.call(k,m[B],B,m)}function P(m,S){for(const k in m)S.call(void 0,m[k],k,m)}function I(m){const S={};for(const k in m)S[k]=m[k];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,S){let k,B;for(let ee=1;ee<arguments.length;ee++){B=arguments[ee];for(k in B)m[k]=B[k];for(let ue=0;ue<R.length;ue++)k=R[ue],Object.prototype.hasOwnProperty.call(B,k)&&(m[k]=B[k])}}function D(m){var S=1;m=m.split(":");const k=[];for(;0<S&&m.length;)k.push(m.shift()),S--;return m.length&&k.push(m.join(":")),k}function L(m){l.setTimeout(()=>{throw m},0)}function j(){var m=Q;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class J{constructor(){this.h=this.g=null}add(S,k){const B=Z.get();B.set(S,k),this.h?this.h.next=B:this.g=B,this.h=B}}var Z=new E(()=>new ne,m=>m.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let G,H=!1,Q=new J,ae=()=>{const m=l.Promise.resolve(void 0);G=()=>{m.then(U)}};var U=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(k){L(k)}var S=Z;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}H=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};l.addEventListener("test",k,S),l.removeEventListener("test",k,S)}catch{}return m}();function we(m,S){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var k=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(C){e:{try{M(S.nodeName);var ee=!0;break e}catch{}ee=!1}ee||(S=null)}}else k=="mouseover"?S=m.fromElement:k=="mouseout"&&(S=m.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&we.aa.h.call(this)}}w(we,se);var Se={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),ke=0;function fe(m,S,k,B,ee){this.listener=m,this.proxy=null,this.src=S,this.type=k,this.capture=!!B,this.ha=ee,this.key=++ke,this.da=this.fa=!1}function Ae(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function be(m){this.src=m,this.g={},this.h=0}be.prototype.add=function(m,S,k,B,ee){var ue=m.toString();m=this.g[ue],m||(m=this.g[ue]=[],this.h++);var _e=Fe(m,S,B,ee);return-1<_e?(S=m[_e],k||(S.fa=!1)):(S=new fe(S,this.src,ue,!!B,ee),S.fa=k,m.push(S)),S};function oe(m,S){var k=S.type;if(k in m.g){var B=m.g[k],ee=Array.prototype.indexOf.call(B,S,void 0),ue;(ue=0<=ee)&&Array.prototype.splice.call(B,ee,1),ue&&(Ae(S),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Fe(m,S,k,B){for(var ee=0;ee<m.length;++ee){var ue=m[ee];if(!ue.da&&ue.listener==S&&ue.capture==!!k&&ue.ha==B)return ee}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),We={};function Qe(m,S,k,B,ee){if(Array.isArray(S)){for(var ue=0;ue<S.length;ue++)Qe(m,S[ue],k,B,ee);return null}return k=To(k),m&&m[Ne]?m.K(S,k,f(B)?!!B.capture:!1,ee):dt(m,S,k,!1,B,ee)}function dt(m,S,k,B,ee,ue){if(!S)throw Error("Invalid event type");var _e=f(ee)?!!ee.capture:!!ee,pt=ai(m);if(pt||(m[xe]=pt=new be(m)),k=pt.add(S,k,B,_e,ue),k.proxy)return k;if(B=yt(),k.proxy=B,B.src=m,B.listener=k,m.addEventListener)ye||(ee=_e),ee===void 0&&(ee=!1),m.addEventListener(S.toString(),B,ee);else if(m.attachEvent)m.attachEvent(hr(S.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function yt(){function m(k){return S.call(m.src,m.listener,k)}const S=Zr;return m}function Ct(m,S,k,B,ee){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)Ct(m,S[ue],k,B,ee);else B=f(B)?!!B.capture:!!B,k=To(k),m&&m[Ne]?(m=m.i,S=String(S).toString(),S in m.g&&(ue=m.g[S],k=Fe(ue,k,B,ee),-1<k&&(Ae(ue[k]),Array.prototype.splice.call(ue,k,1),ue.length==0&&(delete m.g[S],m.h--)))):m&&(m=ai(m))&&(S=m.g[S.toString()],m=-1,S&&(m=Fe(S,k,B,ee)),(k=-1<m?S[m]:null)&&xr(k))}function xr(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ne])oe(S.i,m);else{var k=m.type,B=m.proxy;S.removeEventListener?S.removeEventListener(k,B,m.capture):S.detachEvent?S.detachEvent(hr(k),B):S.addListener&&S.removeListener&&S.removeListener(B),(k=ai(S))?(oe(k,m),k.h==0&&(k.src=null,S[xe]=null)):Ae(m)}}}function hr(m){return m in We?We[m]:We[m]="on"+m}function Zr(m,S){if(m.da)m=!0;else{S=new we(S,this);var k=m.listener,B=m.ha||m.src;m.fa&&xr(m),m=k.call(B,S)}return m}function ai(m){return m=m[xe],m instanceof be?m:null}var Mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(m){return typeof m=="function"?m:(m[Mi]||(m[Mi]=function(S){return m.handleEvent(S)}),m[Mi])}function Wt(){X.call(this),this.i=new be(this),this.M=this,this.F=null}w(Wt,X),Wt.prototype[Ne]=!0,Wt.prototype.removeEventListener=function(m,S,k,B){Ct(this,m,S,k,B)};function Ht(m,S){var k,B=m.F;if(B)for(k=[];B;B=B.F)k.push(B);if(m=m.M,B=S.type||S,typeof S=="string")S=new se(S,m);else if(S instanceof se)S.target=S.target||m;else{var ee=S;S=new se(B,m),F(S,ee)}if(ee=!0,k)for(var ue=k.length-1;0<=ue;ue--){var _e=S.g=k[ue];ee=Di(_e,B,!0,S)&&ee}if(_e=S.g=m,ee=Di(_e,B,!0,S)&&ee,ee=Di(_e,B,!1,S)&&ee,k)for(ue=0;ue<k.length;ue++)_e=S.g=k[ue],ee=Di(_e,B,!1,S)&&ee}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var k=m.g[S],B=0;B<k.length;B++)Ae(k[B]);delete m.g[S],m.h--}}this.F=null},Wt.prototype.K=function(m,S,k,B){return this.i.add(String(m),S,!1,k,B)},Wt.prototype.L=function(m,S,k,B){return this.i.add(String(m),S,!0,k,B)};function Di(m,S,k,B){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var ee=!0,ue=0;ue<S.length;++ue){var _e=S[ue];if(_e&&!_e.da&&_e.capture==k){var pt=_e.listener,Kt=_e.ha||_e.src;_e.fa&&oe(m.i,_e),ee=pt.call(Kt,B)!==!1&&ee}}return ee&&!B.defaultPrevented}function Hl(m,S,k){if(typeof m=="function")k&&(m=v(m,k));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(m,S||0)}function Ao(m){m.g=Hl(()=>{m.g=null,m.i&&(m.i=!1,Ao(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Pa extends X{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(m){X.call(this),this.h=m,this.g={}}w(Ia,X);var Kl=[];function Gl(m){N(m.g,function(S,k){this.g.hasOwnProperty(k)&&xr(S)},m),m.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),Gl(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xl=l.JSON.stringify,Yl=l.JSON.parse,Ql=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Oa(){}Oa.prototype.h=null;function Fs(m){return m.h||(m.h=m.i())}function Bs(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){se.call(this,"d")}w(si,se);function Us(){se.call(this,"c")}w(Us,se);var ui={},Jl=null;function Ca(){return Jl=Jl||new Wt}ui.La="serverreachability";function Zl(m){se.call(this,ui.La,m)}w(Zl,se);function Li(m){const S=Ca();Ht(S,new Zl(S))}ui.STAT_EVENT="statevent";function ec(m,S){se.call(this,ui.STAT_EVENT,m),this.stat=S}w(ec,se);function Lt(m){const S=Ca();Ht(S,new ec(S,m))}ui.Ma="timingevent";function qs(m,S){se.call(this,ui.Ma,m),this.size=S}w(qs,se);function jn(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},S)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function Ra(m,S,k,B,ee,ue){m.info(function(){if(m.g)if(ue)for(var _e="",pt=ue.split("&"),Kt=0;Kt<pt.length;Kt++){var rt=pt[Kt].split("=");if(1<rt.length){var ir=rt[0];rt=rt[1];var Ft=ir.split("_");_e=2<=Ft.length&&Ft[1]=="type"?_e+(ir+"="+rt+"&"):_e+(ir+"=redacted&")}}else _e=null;else _e=ue;return"XMLHTTP REQ ("+B+") [attempt "+ee+"]: "+S+`
`+k+`
`+_e})}function zs(m,S,k,B,ee,ue,_e){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ee+"]: "+S+`
`+k+`
`+ue+" "+_e})}function Mn(m,S,k,B){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Qg(m,k)+(B?" "+B:"")})}function tc(m,S){m.info(function(){return"TIMEOUT: "+S})}ka.prototype.info=function(){};function Qg(m,S){if(!m.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(m=0;m<k.length;m++)if(Array.isArray(k[m])){var B=k[m];if(!(2>B.length)){var ee=B[1];if(Array.isArray(ee)&&!(1>ee.length)){var ue=ee[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var _e=1;_e<ee.length;_e++)ee[_e]=""}}}}return Xl(k)}catch{return S}}var Ws={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ch={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Na(){}w(Na,Oa),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Dn=new Na;function Ln(m,S,k,B){this.j=m,this.i=S,this.l=k,this.R=B||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kh}function kh(){this.i=null,this.g="",this.h=!1}var rc={},Hs={};function Ks(m,S,k){m.L=1,m.v=ko(tn(S)),m.m=k,m.P=!0,nc(m,null)}function nc(m,S){m.F=Date.now(),_t(m),m.A=tn(m.v);var k=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),No(k.i,"t",B),m.C=0,k=m.j.J,m.h=new kh,m.g=Xh(m.j,k?S:null,!m.m),0<m.O&&(m.M=new Pa(v(m.Y,m,m.g),m.O)),S=m.U,k=m.g,B=m.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(Kl[0]=ee.toString()),ee=Kl);for(var ue=0;ue<ee.length;ue++){var _e=Qe(k,ee[ue],B||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),Li(),Ra(m.i,m.u,m.A,m.l,m.R,m.m)}Ln.prototype.ca=function(m){m=m.target;const S=this.M;S&&Ur(m)==3?S.j():this.Y(m)},Ln.prototype.Y=function(m){try{if(m==this.g)e:{const Ft=Ur(this.g);var S=this.g.Ba();const vn=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||Ft!=4||S==7||(S==8||0>=vn?Li(3):Li(2)),ja(this);var k=this.g.Z();this.X=k;t:if(Rh(this)){var B=lc(this.g);m="";var ee=B.length,ue=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Po(this);var _e="";break t}this.h.i=new l.TextDecoder}for(S=0;S<ee;S++)this.h.h=!0,m+=this.h.i.decode(B[S],{stream:!(ue&&S==ee-1)});B.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=k==200,zs(this.i,this.u,this.A,this.l,this.R,Ft,k),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Kt=this.g;if((pt=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(pt)){var rt=pt;break t}}rt=null}if(k=rt)Mn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,k);else{this.o=!1,this.s=3,Lt(12),mn(this),Po(this);break e}}if(this.P){k=!0;let nn;for(;!this.J&&this.C<_e.length;)if(nn=Jg(this,_e),nn==Hs){Ft==4&&(this.s=4,Lt(14),k=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==rc){this.s=4,Lt(15),Mn(this.i,this.l,_e,"[Invalid Chunk]"),k=!1;break}else Mn(this.i,this.l,nn,null),ic(this,nn);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||_e.length!=0||this.h.h||(this.s=1,Lt(16),k=!1),this.o=this.o&&k,!k)Mn(this.i,this.l,_e,"[Invalid Chunked Response]"),mn(this),Po(this);else if(0<_e.length&&!this.W){this.W=!0;var ir=this.j;ir.g==this&&ir.ba&&!ir.M&&(ir.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),fc(ir),ir.M=!0,Lt(11))}}else Mn(this.i,this.l,_e,null),ic(this,_e);Ft==4&&mn(this),this.o&&!this.J&&(Ft==4?iu(this.j,this):(this.o=!1,_t(this)))}else Zs(this.g),k==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),mn(this),Po(this)}}}catch{}finally{}};function Rh(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Jg(m,S){var k=m.C,B=S.indexOf(`
`,k);return B==-1?Hs:(k=Number(S.substring(k,B)),isNaN(k)?rc:(B+=1,B+k>S.length?Hs:(S=S.slice(B,B+k),m.C=B+k,S)))}Ln.prototype.cancel=function(){this.J=!0,mn(this)};function _t(m){m.S=Date.now()+m.I,Nh(m,m.I)}function Nh(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=jn(v(m.ba,m),S)}function ja(m){m.B&&(l.clearTimeout(m.B),m.B=null)}Ln.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(tc(this.i,this.A),this.L!=2&&(Li(),Lt(17)),mn(this),this.s=2,Po(this)):Nh(this,this.S-m)};function Po(m){m.j.G==0||m.J||iu(m.j,m)}function mn(m){ja(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,Gl(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function ic(m,S){try{var k=m.j;if(k.G!=0&&(k.g==m||Nr(k.h,m))){if(!m.K&&Nr(k.h,m)&&k.G==3){try{var B=k.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ee=B;if(ee[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<m.F)nu(k),Un(k);else break e;ru(k),Lt(18)}}else k.za=ee[1],0<k.za-k.T&&37500>ee[2]&&k.F&&k.v==0&&!k.C&&(k.C=jn(v(k.Za,k),6e3));if(1>=Mh(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Ui(k,11)}else if((m.K||k.g==m)&&nu(k),!A(S))for(ee=k.Da.g.parse(S),S=0;S<ee.length;S++){let rt=ee[S];if(k.T=rt[0],rt=rt[1],k.G==2)if(rt[0]=="c"){k.K=rt[1],k.ia=rt[2];const ir=rt[3];ir!=null&&(k.la=ir,k.j.info("VER="+k.la));const Ft=rt[4];Ft!=null&&(k.Aa=Ft,k.j.info("SVER="+k.Aa));const vn=rt[5];vn!=null&&typeof vn=="number"&&0<vn&&(B=1.5*vn,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const nn=m.g;if(nn){const Ba=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var ue=B.h;ue.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(oc(ue,ue.h),ue.h=null))}if(B.D){const au=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(B.ya=au,gt(B.I,B.D,au))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-m.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var _e=m;if(B.qa=Gh(B,B.J?B.ia:null,B.W),_e.K){Dh(B.h,_e);var pt=_e,Kt=B.L;Kt&&(pt.I=Kt),pt.B&&(ja(pt),_t(pt)),B.g=_e}else Fa(B);0<k.i.length&&hi(k)}else rt[0]!="stop"&&rt[0]!="close"||Ui(k,7);else k.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ui(k,7):pr(k):rt[0]!="noop"&&k.l&&k.l.ta(rt),k.v=0)}}Li(4)}catch{}}var jh=class{constructor(m,S){this.g=m,this.map=S}};function Ma(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Mh(m){return m.h?1:m.g?m.g.size:0}function Nr(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function oc(m,S){m.g?m.g.add(S):m.h=S}function Dh(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}Ma.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Lh(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const k of m.g.values())S=S.concat(k.D);return S}return x(m.i)}function Gs(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],k=m.length,B=0;B<k;B++)S.push(m[B]);return S}S=[],k=0;for(B in m)S[k++]=m[B];return S}function Xs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var k=0;k<m;k++)S.push(k);return S}S=[],k=0;for(const B in m)S[k++]=B;return S}}}function Io(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var k=Xs(m),B=Gs(m),ee=B.length,ue=0;ue<ee;ue++)S.call(void 0,B[ue],k&&k[ue],m)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zg(m,S){if(m){m=m.split("&");for(var k=0;k<m.length;k++){var B=m[k].indexOf("="),ee=null;if(0<=B){var ue=m[k].substring(0,B);ee=m[k].substring(B+1)}else ue=m[k];S(ue,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function $i(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof $i){this.h=m.h,La(this,m.j),this.o=m.o,this.g=m.g,Oo(this,m.s),this.l=m.l;var S=m.i,k=new li;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),Co(this,k),this.m=m.m}else m&&(S=String(m).match(Da))?(this.h=!1,La(this,S[1]||"",!0),this.o=tt(S[2]||""),this.g=tt(S[3]||"",!0),Oo(this,S[4]),this.l=tt(S[5]||"",!0),Co(this,S[6]||"",!0),this.m=tt(S[7]||"")):(this.h=!1,this.i=new li(null,this.h))}$i.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Ro(S,Ys,!0),":");var k=this.g;return(k||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Ro(S,Ys,!0),"@"),m.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&m.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Ro(k,k.charAt(0)=="/"?Fh:Vh,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Ro(k,ac)),m.join("")};function tn(m){return new $i(m)}function La(m,S,k){m.j=k?tt(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Oo(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function Co(m,S,k){S instanceof li?(m.i=S,ci(m.i,m.h)):(k||(S=Ro(S,Bh)),m.i=new li(S,m.h))}function gt(m,S,k){m.i.set(S,k)}function ko(m){return gt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function tt(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ro(m,S,k){return typeof m=="string"?(m=encodeURI(m).replace(S,$h),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function $h(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ys=/[#\/\?@]/g,Vh=/[#\?:]/g,Fh=/[#\?]/g,Bh=/[#\?@]/g,ac=/#/g;function li(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function dr(m){m.g||(m.g=new Map,m.h=0,m.i&&Zg(m.i,function(S,k){m.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=li.prototype,t.add=function(m,S){dr(this),this.i=null,m=gn(this,m);var k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(S),this.h+=1,this};function $n(m,S){dr(m),S=gn(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function Vn(m,S){return dr(m),S=gn(m,S),m.g.has(S)}t.forEach=function(m,S){dr(this),this.g.forEach(function(k,B){k.forEach(function(ee){m.call(S,ee,B,this)},this)},this)},t.na=function(){dr(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let B=0;B<S.length;B++){const ee=m[B];for(let ue=0;ue<ee.length;ue++)k.push(S[B])}return k},t.V=function(m){dr(this);let S=[];if(typeof m=="string")Vn(this,m)&&(S=S.concat(this.g.get(gn(this,m))));else{m=Array.from(this.g.values());for(let k=0;k<m.length;k++)S=S.concat(m[k])}return S},t.set=function(m,S){return dr(this),this.i=null,m=gn(this,m),Vn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function No(m,S,k){$n(m,S),0<k.length&&(m.i=null,m.g.set(gn(m,S),x(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var B=S[k];const ue=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var ee=ue;_e[B]!==""&&(ee+="="+encodeURIComponent(String(_e[B]))),m.push(ee)}}return this.i=m.join("&")};function gn(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function ci(m,S){S&&!m.j&&(dr(m),m.i=null,m.g.forEach(function(k,B){var ee=B.toLowerCase();B!=ee&&($n(this,B),No(this,ee,k))},m)),m.j=S}function ev(m,S){const k=new ka;if(l.Image){const B=new Image;B.onload=y(Br,k,"TestLoadImage: loaded",!0,S,B),B.onerror=y(Br,k,"TestLoadImage: error",!1,S,B),B.onabort=y(Br,k,"TestLoadImage: abort",!1,S,B),B.ontimeout=y(Br,k,"TestLoadImage: timeout",!1,S,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else S(!1)}function Uh(m,S){const k=new ka,B=new AbortController,ee=setTimeout(()=>{B.abort(),Br(k,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:B.signal}).then(ue=>{clearTimeout(ee),ue.ok?Br(k,"TestPingServer: ok",!0,S):Br(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ee),Br(k,"TestPingServer: error",!1,S)})}function Br(m,S,k,B,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),B(k)}catch{}}function tv(){this.g=new Ql}function qh(m,S,k){const B=k||"";try{Io(m,function(ee,ue){let _e=ee;f(ee)&&(_e=Xl(ee)),S.push(B+ue+"="+encodeURIComponent(_e))})}catch(ee){throw S.push(B+"type="+encodeURIComponent("_badmap")),ee}}function Vi(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Vi,Oa),Vi.prototype.g=function(){return new $a(this.l,this.j)},Vi.prototype.i=function(m){return function(){return m}}({});function $a(m,S){Wt.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w($a,Wt),t=$a.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Bn(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Fn(this):Bn(this),this.readyState==3&&zh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Fn(this))},t.Qa=function(m){this.g&&(this.response=m,Fn(this))},t.ga=function(){this.g&&Fn(this)};function Fn(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Bn(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=S.next();return m.join(`\r
`)};function Bn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fi(m){let S="";return N(m,function(k,B){S+=B,S+=":",S+=k,S+=`\r
`}),S}function jo(m,S,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=Fi(k),typeof m=="string"?k!=null&&encodeURIComponent(String(k)):gt(m,S,k))}function Pt(m){Wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Pt,Wt);var rv=/^https?$/i,sc=["POST","PUT"];t=Pt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Fs(this.o):Fs(Dn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(ue){Va(this,ue);return}if(m=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ee in B)k.set(ee,B[ee]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ue of B.keys())k.set(ue,B.get(ue));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(ue=>ue.toLowerCase()=="content-type"),ee=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(sc,S,void 0))||B||ee||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,_e]of k)this.g.setRequestHeader(ue,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(m),this.u=!1}catch(ue){Va(this,ue)}};function Va(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,Qs(m),rn(m)}function Qs(m){m.A||(m.A=!0,Ht(m,"complete"),Ht(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ht(this,"complete"),Ht(this,"abort"),rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},t.bb=function(){uc(this)};function uc(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ur(m)!=4||m.Z()!=2)){if(m.u&&Ur(m)==4)Hl(m.Ea,0,m);else if(Ht(m,"readystatechange"),Ur(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var B;if(B=_e===0){var ee=String(m.D).match(Da)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),B=!rv.test(ee?ee.toLowerCase():"")}k=B}if(k)Ht(m,"complete"),Ht(m,"success");else{m.m=6;try{var ue=2<Ur(m)?m.g.statusText:""}catch{ue=""}m.l=ue+" ["+m.Z()+"]",Qs(m)}}finally{rn(m)}}}}function rn(m,S){if(m.g){Js(m);const k=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||Ht(m,"ready");try{k.onreadystatechange=B}catch{}}}function Js(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ur(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Yl(S)}};function lc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(m){const S={};m=(m.g&&2<=Ur(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(A(m[B]))continue;var k=D(m[B]);const ee=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ue=S[ee]||[];S[ee]=ue,ue.push(k)}P(S,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(m,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||S}function cc(m){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fi("baseRetryDelayMs",5e3,m),this.cb=fi("retryDelaySeedMs",1e4,m),this.Wa=fi("forwardChannelMaxRetries",2,m),this.wa=fi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ma(m&&m.concurrentRequestLimit),this.Da=new tv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(m,S,k,B){Lt(0),this.W=m,this.H=S||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=Gh(this,null,this.W),hi(this)};function pr(m){if(eu(m),m.G==3){var S=m.U++,k=tn(m.I);if(gt(k,"SID",m.K),gt(k,"RID",S),gt(k,"TYPE","terminate"),Bi(m,k),S=new Ln(m,m.j,S),S.L=2,S.v=ko(tn(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&l.Image&&(new Image().src=S.v,k=!0),k||(S.g=Xh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),_t(S)}Kh(m)}function Un(m){m.g&&(fc(m),m.g.cancel(),m.g=null)}function eu(m){Un(m),m.u&&(l.clearTimeout(m.u),m.u=null),nu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function hi(m){if(!en(m.h)&&!m.s){m.s=!0;var S=m.Ga;G||ae(),H||(G(),H=!0),Q.add(S,m),m.B=0}}function nv(m,S){return Mh(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=jn(v(m.Ga,m,S),Hh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ee=new Ln(this,this.j,m);let ue=this.o;if(this.S&&(ue?(ue=I(ue),F(ue,this.S)):ue=this.S),this.m!==null||this.O||(ee.H=ue,ue=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=Mo(this,ee,S),k=tn(this.I),gt(k,"RID",m),gt(k,"CVER",22),this.D&&gt(k,"X-HTTP-Session-Id",this.D),Bi(this,k),ue&&(this.O?S="headers="+encodeURIComponent(String(Fi(ue)))+"&"+S:this.m&&jo(k,this.m,ue)),oc(this.h,ee),this.Ua&&gt(k,"TYPE","init"),this.P?(gt(k,"$req",S),gt(k,"SID","null"),ee.T=!0,Ks(ee,k,null)):Ks(ee,k,S),this.G=2}}else this.G==3&&(m?tu(this,m):this.i.length==0||en(this.h)||tu(this))};function tu(m,S){var k;S?k=S.l:k=m.U++;const B=tn(m.I);gt(B,"SID",m.K),gt(B,"RID",k),gt(B,"AID",m.T),Bi(m,B),m.m&&m.o&&jo(B,m.m,m.o),k=new Ln(m,m.j,k,m.B+1),m.m===null&&(k.H=m.o),S&&(m.i=S.D.concat(m.i)),S=Mo(m,k,1e3),k.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),oc(m.h,k),Ks(k,B,S)}function Bi(m,S){m.H&&N(m.H,function(k,B){gt(S,B,k)}),m.l&&Io({},function(k,B){gt(S,B,k)})}function Mo(m,S,k){k=Math.min(m.i.length,k);var B=m.l?v(m.l.Na,m.l,m):null;e:{var ee=m.i;let ue=-1;for(;;){const _e=["count="+k];ue==-1?0<k?(ue=ee[0].g,_e.push("ofs="+ue)):ue=0:_e.push("ofs="+ue);let pt=!0;for(let Kt=0;Kt<k;Kt++){let rt=ee[Kt].g;const ir=ee[Kt].map;if(rt-=ue,0>rt)ue=Math.max(0,ee[Kt].g-100),pt=!1;else try{qh(ir,_e,"req"+rt+"_")}catch{B&&B(ir)}}if(pt){B=_e.join("&");break e}}}return m=m.i.splice(0,k),S.D=m,B}function Fa(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;G||ae(),H||(G(),H=!0),Q.add(S,m),m.v=0}}function ru(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=jn(v(m.Fa,m),Hh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Wh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=jn(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Un(this),Wh(this))};function fc(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function Wh(m){m.g=new Ln(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=tn(m.qa);gt(S,"RID","rpc"),gt(S,"SID",m.K),gt(S,"AID",m.T),gt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&gt(S,"TO",m.ja),gt(S,"TYPE","xmlhttp"),Bi(m,S),m.m&&m.o&&jo(S,m.m,m.o),m.L&&(m.g.I=m.L);var k=m.g;m=m.ia,k.L=1,k.v=ko(tn(S)),k.m=null,k.P=!0,nc(k,m)}t.Za=function(){this.C!=null&&(this.C=null,Un(this),ru(this),Lt(19))};function nu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function iu(m,S){var k=null;if(m.g==S){nu(m),fc(m),m.g=null;var B=2}else if(Nr(m.h,S))k=S.D,Dh(m.h,S),B=1;else return;if(m.G!=0){if(S.o)if(B==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var ee=m.B;B=Ca(),Ht(B,new qs(B,k)),hi(m)}else Fa(m);else if(ee=S.s,ee==3||ee==0&&0<S.X||!(B==1&&nv(m,S)||B==2&&ru(m)))switch(k&&0<k.length&&(S=m.h,S.i=S.i.concat(k)),ee){case 1:Ui(m,5);break;case 4:Ui(m,10);break;case 3:Ui(m,6);break;default:Ui(m,2)}}}function Hh(m,S){let k=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(k*=2),k*S}function Ui(m,S){if(m.j.info("Error code "+S),S==2){var k=v(m.fb,m),B=m.Xa;const ee=!B;B=new $i(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||La(B,"https"),ko(B),ee?ev(B.toString(),k):Uh(B.toString(),k)}else Lt(2);m.G=0,m.l&&m.l.sa(S),Kh(m),eu(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Kh(m){if(m.G=0,m.ka=[],m.l){const S=Lh(m.h);(S.length!=0||m.i.length!=0)&&(b(m.ka,S),b(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function Gh(m,S,k){var B=k instanceof $i?tn(k):new $i(k);if(B.g!="")S&&(B.g=S+"."+B.g),Oo(B,B.s);else{var ee=l.location;B=ee.protocol,S=S?S+"."+ee.hostname:ee.hostname,ee=+ee.port;var ue=new $i(null);B&&La(ue,B),S&&(ue.g=S),ee&&Oo(ue,ee),k&&(ue.l=k),B=ue}return k=m.D,S=m.ya,k&&S&&gt(B,k,S),gt(B,"VER",m.la),Bi(m,B),B}function Xh(m,S,k){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Pt(new Vi({eb:k})):new Pt(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}t=hc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ou(){}ou.prototype.g=function(m,S){return new jr(m,S)};function jr(m,S){Wt.call(this),this.g=new cc(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!A(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!A(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new di(this)}w(jr,Wt),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){pr(this.g)},jr.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.u&&(k={},k.__data__=Xl(m),m=k);S.i.push(new jh(S.Ya++,m)),S.G==3&&hi(S)},jr.prototype.N=function(){this.g.l=null,delete this.j,pr(this.g),delete this.g,jr.aa.N.call(this)};function Yh(m){si.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const k in S){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}w(Yh,si);function Qh(){Us.call(this),this.status=1}w(Qh,Us);function di(m){this.g=m}w(di,hc),di.prototype.ua=function(){Ht(this.g,"a")},di.prototype.ta=function(m){Ht(this.g,new Yh(m))},di.prototype.sa=function(m){Ht(this.g,new Qh)},di.prototype.ra=function(){Ht(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,MV=function(){return new ou},jV=function(){return Ca()},NV=ui,Ex={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ws.NO_ERROR=0,Ws.TIMEOUT=8,Ws.HTTP_ERROR=6,Ep=Ws,Ch.COMPLETE="complete",RV=Ch,Bs.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,tf=Bs,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,kV=Pt}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const qN="@firebase/firestore",zN="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new GE("@firebase/firestore");function Cu(){return Ps.logLevel}function Te(t,...e){if(Ps.logLevel<=Ze.DEBUG){const r=e.map(aS);Ps.debug(`Firestore (${Ul}): ${t}`,...r)}}function vo(t,...e){if(Ps.logLevel<=Ze.ERROR){const r=e.map(aS);Ps.error(`Firestore (${Ul}): ${t}`,...r)}}function xl(t,...e){if(Ps.logLevel<=Ze.WARN){const r=e.map(aS);Ps.warn(`Firestore (${Ul}): ${t}`,...r)}}function aS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,DV(t,n,r)}function DV(t,e,r){let n=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw vo(n),new Error(n)}function ct(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||DV(e,i,n)}function Ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends So{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Or.UNAUTHENTICATED))}shutdown(){}}class Qie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Jie{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ct(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let o=new da;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new da,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new da)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ct(typeof n.accessToken=="string",31837,{l:n}),new LV(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Or(e)}}class Zie{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eoe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Zie(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class toe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ct(this.o===void 0,3512);const n=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new WN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ct(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new WN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function roe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=roe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<r&&(n+=e.charAt(i[o]%62))}return n}}function Ye(t,e){return t<e?-1:t>e?1:0}function Sx(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Ye(n,i);{const o=$V(),s=noe(o.encode(HN(t,r)),o.encode(HN(e,r)));return s!==0?s:Ye(n,i)}}r+=n>65535?2:1}return Ye(t.length,e.length)}function HN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function noe(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ye(t[r],e[r]);return Ye(t.length,e.length)}function El(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=-62135596800,GN=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*GN);return new tr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<KN)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GN}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new tr(0,0))}static max(){return new He(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__name__";class yi{constructor(e,r,n){r===void 0?r=0:r>e.length&&qe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&qe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const o=yi.compareSegments(e.get(i),r.get(i));if(o!==0)return o}return Ye(e.length,r.length)}static compareSegments(e,r){const n=yi.isNumericId(e),i=yi.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?yi.extractNumericId(e).compare(yi.extractNumericId(r)):Sx(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class Dt extends yi{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Le(me.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const ioe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends yi{construct(e,r,n){return new br(e,r,n)}static isValidIdentifier(e){return ioe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XN}static keyField(){return new br([XN])}static fromServerFormat(e){const r=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Le(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Le(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Le(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Le(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(r)}static emptyPath(){return new br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Dt.fromString(e))}static fromName(e){return new $e(Dt.fromString(e).popFirst(5))}static empty(){return new $e(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function ooe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(n===1e9?new tr(r+1,0):new tr(r,n));return new ma(i,$e.empty(),e)}function aoe(t){return new ma(t.readTime,t.key,rh)}class ma{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ma(He.min(),$e.empty(),rh)}static max(){return new ma(He.max(),$e.empty(),rh)}}function soe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=$e.comparator(t.documentKey,e.documentKey),r!==0?r:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class loe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==uoe)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ce((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ce?r:ce.resolve(r)}catch(r){return ce.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ce.reject(r)}static resolve(e){return new ce((r,n)=>{r(e)})}static reject(e){return new ce((r,n)=>{n(e)})}static waitFor(e){return new ce((r,n)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&r()},c=>n(c))}),s=!0,o===i&&r()})}static or(e){let r=ce.resolve(!1);for(const n of e)r=r.next(i=>i?ce.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,o)=>{n.push(r.call(this,i,o))}),this.waitFor(n)}static mapArray(e,r){return new ce((n,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;r(e[f]).next(d=>{s[f]=d,++l,l===o&&n(s)},d=>i(d))}})}static doWhile(e,r){return new ce((n,i)=>{const o=()=>{e()===!0?r().next(()=>{o()},i):n()};o()})}}function coe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Vg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=-1;function Fg(t){return t==null}function Mm(t){return t===0&&1/t==-1/0}function foe(t){return typeof t=="number"&&Number.isInteger(t)&&!Mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="";function hoe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=YN(e)),e=doe(t.get(r),e);return YN(e)}function doe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const o=t.charAt(i);switch(o){case"\0":r+="";break;case FV:r+="";break;default:r+=o}}return r}function YN(t){return t+FV+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ds(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function BV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||_r.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=r?n(e.key,r):1,r&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,r,n,i,o){this.key=e,this.value=r,this.color=n??_r.RED,this.left=i??_r.EMPTY,this.right=o??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,o){return new _r(e??this.key,r??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,r,n),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,r,n,i,o){return this}insert(e,r,n){return new _r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new JN(this.data.getIterator())}getIteratorFrom(e){return new JN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new rr(this.comparator);return r.data=e,r}}class JN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new ri([])}unionWith(e){let r=new rr(br.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ri(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UV("Invalid base64 string: "+o):o}}(e);return new wr(r)}static fromUint8Array(e){const r=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new wr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const poe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const r=poe.exec(t);if(ct(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="server_timestamp",zV="__type__",WV="__previous_value__",HV="__local_write_time__";function uS(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zV])===null||r===void 0?void 0:r.stringValue)===qV}function Bg(t){const e=t.mapValue.fields[WV];return uS(e)?Bg(e):e}function nh(t){const e=ga(t.mapValue.fields[HV].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e,r,n,i,o,s,l,c,f,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const Dm="(default)";class ih{constructor(e,r){this.projectId=e,this.database=r||Dm}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="__type__",goe="__max__",fp={mapValue:{}},GV="__vector__",Lm="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uS(t)?4:yoe(t)?9007199254740991:voe(t)?10:11:qe(28295,{value:t})}function Ci(t,e){if(t===e)return!0;const r=ya(t);if(r!==ya(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ga(i.timestampValue),l=ga(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return va(i.bytesValue).isEqual(va(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vt(i.geoPointValue.latitude)===Vt(o.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vt(i.integerValue)===Vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vt(i.doubleValue),l=Vt(o.doubleValue);return s===l?Mm(s)===Mm(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(QN(s)!==QN(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ci(s[c],l[c])))return!1;return!0}(t,e);default:return qe(52216,{left:t})}}function oh(t,e){return(t.values||[]).find(r=>Ci(r,e))!==void 0}function Sl(t,e){if(t===e)return 0;const r=ya(t),n=ya(e);if(r!==n)return Ye(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Vt(o.integerValue||o.doubleValue),c=Vt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ZN(t.timestampValue,e.timestampValue);case 4:return ZN(nh(t),nh(e));case 5:return Sx(t.stringValue,e.stringValue);case 6:return function(o,s){const l=va(o),c=va(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const d=Ye(l[f],c[f]);if(d!==0)return d}return Ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Ye(Vt(o.latitude),Vt(s.latitude));return l!==0?l:Ye(Vt(o.longitude),Vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ej(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,c,f,d;const p=o.fields||{},v=s.fields||{},y=(l=p[Lm])===null||l===void 0?void 0:l.arrayValue,w=(c=v[Lm])===null||c===void 0?void 0:c.arrayValue,x=Ye(((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:ej(y,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===fp.mapValue&&s===fp.mapValue)return 0;if(o===fp.mapValue)return 1;if(s===fp.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const v=Sx(c[p],d[p]);if(v!==0)return v;const y=Sl(l[c[p]],f[d[p]]);if(y!==0)return y}return Ye(c.length,d.length)}(t.mapValue,e.mapValue);default:throw qe(23264,{Pe:r})}}function ZN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const r=ga(t),n=ga(e),i=Ye(r.seconds,n.seconds);return i!==0?i:Ye(r.nanos,n.nanos)}function ej(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const o=Sl(r[i],n[i]);if(o)return o}return Ye(r.length,n.length)}function Tl(t){return Tx(t)}function Tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ga(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return va(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return $e.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const o of r.values||[])i?i=!1:n+=",",n+=Tx(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${Tx(r.fields[s])}`;return i+"}"}(t.mapValue):qe(61005,{value:t})}function Sp(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bg(t);return e?16+Sp(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Sp(o),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Ds(n.fields,(o,s)=>{i+=o.length+Sp(s)}),i}(t.mapValue);default:throw qe(13486,{value:t})}}function Ax(t){return!!t&&"integerValue"in t}function lS(t){return!!t&&"arrayValue"in t}function tj(t){return!!t&&"nullValue"in t}function rj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function voe(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KV])===null||r===void 0?void 0:r.stringValue)===GV}function df(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=df(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=df(t.arrayValue.values[r]);return e}return Object.assign({},t)}function yoe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===goe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=df(r)}setAll(e){let r=br.emptyPath(),n={},i=[];e.forEach((s,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}s?n[l.lastSegment()]=df(s):i.push(l.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ds(r,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new In(df(this.value))}}function XV(t){const e=[];return Ds(t.fields,(r,n)=>{const i=new br([r]);if(Tp(n)){const o=XV(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,r,n,i,o,s,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new kr(e,0,He.min(),He.min(),He.min(),In.empty(),0)}static newFoundDocument(e,r,n,i){return new kr(e,1,r,He.min(),n,i,0)}static newNoDocument(e,r){return new kr(e,2,r,He.min(),He.min(),In.empty(),0)}static newUnknownDocument(e,r){return new kr(e,3,r,He.min(),He.min(),In.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,r){this.position=e,this.inclusive=r}}function nj(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?n=$e.comparator($e.fromName(s.referenceValue),r.key):n=Sl(s,r.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function ij(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ci(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,r="asc"){this.field=e,this.dir=r}}function _oe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{}class Jt extends YV{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new woe(e,r,n):r==="array-contains"?new Soe(e,n):r==="in"?new Toe(e,n):r==="not-in"?new Aoe(e,n):r==="array-contains-any"?new Poe(e,n):new Jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new xoe(e,n):new Eoe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Sl(r,this.value)):r!==null&&ya(this.value)===ya(r)&&this.matchesComparison(Sl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends YV{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new ki(e,r)}matches(e){return QV(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QV(t){return t.op==="and"}function JV(t){return boe(t)&&QV(t)}function boe(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function Px(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(JV(t))return t.filters.map(e=>Px(e)).join(",");{const e=t.filters.map(r=>Px(r)).join(",");return`${t.op}(${e})`}}function ZV(t,e){return t instanceof Jt?function(n,i){return i instanceof Jt&&n.op===i.op&&n.field.isEqual(i.field)&&Ci(n.value,i.value)}(t,e):t instanceof ki?function(n,i){return i instanceof ki&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,l)=>o&&ZV(s,i.filters[l]),!0):!1}(t,e):void qe(19439)}function e4(t){return t instanceof Jt?function(r){return`${r.field.canonicalString()} ${r.op} ${Tl(r.value)}`}(t):t instanceof ki?function(r){return r.op.toString()+" {"+r.getFilters().map(e4).join(" ,")+"}"}(t):"Filter"}class woe extends Jt{constructor(e,r,n){super(e,r,n),this.key=$e.fromName(n.referenceValue)}matches(e){const r=$e.comparator(e.key,this.key);return this.matchesComparison(r)}}class xoe extends Jt{constructor(e,r){super(e,"in",r),this.keys=t4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Eoe extends Jt{constructor(e,r){super(e,"not-in",r),this.keys=t4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function t4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>$e.fromName(n.referenceValue))}class Soe extends Jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return lS(r)&&oh(r.arrayValue,this.value)}}class Toe extends Jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&oh(this.value.arrayValue,r)}}class Aoe extends Jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!oh(this.value.arrayValue,r)}}class Poe extends Jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!lS(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>oh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e,r=null,n=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Ie=null}}function oj(t,e=null,r=[],n=[],i=null,o=null,s=null){return new Ioe(t,e,r,n,i,o,s)}function cS(t){const e=Ke(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Px(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Fg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tl(n)).join(",")),e.Ie=r}return e.Ie}function fS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_oe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!ZV(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ij(t.startAt,e.startAt)&&ij(t.endAt,e.endAt)}function Ix(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,r=null,n=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ooe(t,e,r,n,i,o,s,l){return new Ug(t,e,r,n,i,o,s,l)}function hS(t){return new Ug(t)}function aj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Coe(t){return t.collectionGroup!==null}function pf(t){const e=Ke(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),r.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new rr(br.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Vm(o,n))}),r.has(br.keyField().canonicalString())||e.Ee.push(new Vm(br.keyField(),n))}return e.Ee}function Ti(t){const e=Ke(t);return e.de||(e.de=koe(e,pf(t))),e.de}function koe(t,e){if(t.limitType==="F")return oj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vm(i.field,o)});const r=t.endAt?new $m(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new $m(t.startAt.position,t.startAt.inclusive):null;return oj(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ox(t,e,r){return new Ug(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function qg(t,e){return fS(Ti(t),Ti(e))&&t.limitType===e.limitType}function r4(t){return`${cS(Ti(t))}|lt:${t.limitType}`}function ku(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>e4(i)).join(", ")}]`),Fg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Tl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Tl(i)).join(",")),`Target(${n})`}(Ti(t))}; limitType=${t.limitType})`}function zg(t,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):$e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(const o of pf(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,l,c){const f=nj(s,l,c);return s.inclusive?f<=0:f<0}(n.startAt,pf(n),i)||n.endAt&&!function(s,l,c){const f=nj(s,l,c);return s.inclusive?f>=0:f>0}(n.endAt,pf(n),i))}(t,e)}function Roe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function n4(t){return(e,r)=>{let n=!1;for(const i of pf(t)){const o=Noe(i,e,r);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Noe(t,e,r){const n=t.field.isKeyField()?$e.comparator(e.key,r.key):function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?Sl(c,f):qe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(r,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return BV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Nt($e.comparator);function yo(){return joe}const i4=new Nt($e.comparator);function rf(...t){let e=i4;for(const r of t)e=e.insert(r.key,r);return e}function o4(t){let e=i4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function hs(){return mf()}function a4(){return mf()}function mf(){return new Ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const Moe=new Nt($e.comparator),Doe=new rr($e.comparator);function et(...t){let e=Doe;for(const r of t)e=e.add(r);return e}const Loe=new rr(Ye);function $oe(){return Loe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function s4(t){return{integerValue:""+t}}function Voe(t,e){return foe(e)?s4(e):dS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function Foe(t,e,r){return t instanceof Fm?function(i,o){const s={fields:{[zV]:{stringValue:qV},[HV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uS(o)&&(o=Bg(o)),o&&(s.fields[WV]=o),{mapValue:s}}(r,e):t instanceof ah?l4(t,e):t instanceof sh?c4(t,e):function(i,o){const s=u4(i,o),l=sj(s)+sj(i.Re);return Ax(s)&&Ax(i.Re)?s4(l):dS(i.serializer,l)}(t,e)}function Boe(t,e,r){return t instanceof ah?l4(t,e):t instanceof sh?c4(t,e):r}function u4(t,e){return t instanceof Bm?function(n){return Ax(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Fm extends Wg{}class ah extends Wg{constructor(e){super(),this.elements=e}}function l4(t,e){const r=f4(e);for(const n of t.elements)r.some(i=>Ci(i,n))||r.push(n);return{arrayValue:{values:r}}}class sh extends Wg{constructor(e){super(),this.elements=e}}function c4(t,e){let r=f4(e);for(const n of t.elements)r=r.filter(i=>!Ci(i,n));return{arrayValue:{values:r}}}class Bm extends Wg{constructor(e,r){super(),this.serializer=e,this.Re=r}}function sj(t){return Vt(t.integerValue||t.doubleValue)}function f4(t){return lS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uoe(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ah&&i instanceof ah||n instanceof sh&&i instanceof sh?El(n.elements,i.elements,Ci):n instanceof Bm&&i instanceof Bm?Ci(n.Re,i.Re):n instanceof Fm&&i instanceof Fm}(t.transform,e.transform)}class qoe{constructor(e,r){this.version=e,this.transformResults=r}}class lo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new lo}static exists(e){return new lo(void 0,e)}static updateTime(e){return new lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hg{}function h4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p4(t.key,lo.none()):new Ah(t.key,t.data,lo.none());{const r=t.data,n=In.empty();let i=new rr(br.comparator);for(let o of e.fields)if(!i.has(o)){let s=r.field(o);s===null&&o.length>1&&(o=o.popLast(),s=r.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new $s(t.key,n,new ri(i.toArray()),lo.none())}}function zoe(t,e,r){t instanceof Ah?function(i,o,s){const l=i.value.clone(),c=lj(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):t instanceof $s?function(i,o,s){if(!Ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=lj(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(d4(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function gf(t,e,r,n){return t instanceof Ah?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=o.value.clone(),d=cj(o.fieldTransforms,c,s);return f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof $s?function(o,s,l,c){if(!Ap(o.precondition,s))return l;const f=cj(o.fieldTransforms,c,s),d=s.data;return d.setAll(d4(o)),d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(o,s,l){return Ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,r)}function Woe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),o=u4(n.transform,i||null);o!=null&&(r===null&&(r=In.empty()),r.set(n.field,o))}return r||null}function uj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&El(n,i,(o,s)=>Uoe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends Hg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Hg{constructor(e,r,n,i,o=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function lj(t,e,r){const n=new Map;ct(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let i=0;i<r.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);n.set(o.field,Boe(s,l,r[i]))}return n}function cj(t,e,r){const n=new Map;for(const i of t){const o=i.transform,s=r.data.field(i.field);n.set(i.field,Foe(o,s,e))}return n}class p4 extends Hg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hoe extends Hg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zoe(o,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=gf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=a4();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=r.has(i.key)?null:l;const c=h4(s,l);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(He.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),et())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(r,n)=>uj(r,n))&&El(this.baseMutations,e.baseMutations,(r,n)=>uj(r,n))}}class pS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ct(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return Moe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new pS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Goe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,nt;function Yoe(t){switch(t){case me.OK:return qe(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return qe(15467,{code:t})}}function m4(t){if(t===void 0)return vo("GRPC error has no .code"),me.UNKNOWN;switch(t){case Ut.OK:return me.OK;case Ut.CANCELLED:return me.CANCELLED;case Ut.UNKNOWN:return me.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return me.INTERNAL;case Ut.UNAVAILABLE:return me.UNAVAILABLE;case Ut.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Ut.NOT_FOUND:return me.NOT_FOUND;case Ut.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Ut.ABORTED:return me.ABORTED;case Ut.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Ut.DATA_LOSS:return me.DATA_LOSS;default:return qe(39323,{code:t})}}(nt=Ut||(Ut={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe=new ha([4294967295,4294967295],0);function fj(t){const e=$V().encode(t),r=new CV;return r.update(e),new Uint8Array(r.digest())}function hj(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ha([r,n],0),new ha([i,o],0)]}class mS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new nf(`Invalid padding: ${r}`);if(n<0)throw new nf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new nf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new nf(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=ha.fromNumber(this.pe)}we(e,r,n){let i=e.add(r.multiply(ha.fromNumber(n)));return i.compare(Qoe)===1&&(i=new ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=fj(e),[n,i]=hj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);if(!this.Se(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new mS(o,i,r);return n.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const r=fj(e),[n,i]=hj(r);for(let o=0;o<this.hashCount;o++){const s=this.we(n,i,o);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class nf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,r,n,i,o){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Kg(He.min(),i,new Nt(Ye),yo(),et())}}class Ph{constructor(e,r,n,i,o){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ph(n,r,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=i}}class g4{constructor(e,r){this.targetId=e,this.Ce=r}}class v4{constructor(e,r,n=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class dj{constructor(){this.Fe=0,this.Me=pj(),this.xe=wr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),r=et(),n=et();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:qe(38017,{changeType:o})}}),new Ph(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=pj()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Joe{constructor(e){this.ze=e,this.je=new Map,this.He=yo(),this.Je=hp(),this.Ye=hp(),this.Ze=new Nt(Ye)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,i)=>{this.it(i)&&r(i)})}ot(e){const r=e.targetId,n=e.Ce.count,i=this._t(r);if(i){const o=i.target;if(Ix(o))if(n===0){const s=new $e(o.path);this.tt(r,s,kr.newNoDocument(s,He.min()))}else ct(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const l=this.ct(e),c=l?this.lt(l,e,s):1;if(c!==0){this.st(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,f)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=r;let s,l;try{s=va(n).toUint8Array()}catch(c){if(c instanceof UV)return xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new mS(s,i,o)}catch(c){return xl(c instanceof nf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let i=0;return n.forEach(o=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.tt(r,o,null),i++)}),i}It(e){const r=new Map;this.je.forEach((o,s)=>{const l=this._t(s);if(l){if(o.current&&Ix(l.target)){const c=new $e(l.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,kr.newNoDocument(c,e))}o.Le&&(r.set(s,o.qe()),o.Qe())}});let n=et();this.Ye.forEach((o,s)=>{let l=!0;s.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new Kg(e,r,this.Ze,this.He,n);return this.He=yo(),this.Je=hp(),this.Ye=hp(),this.Ze=new Nt(Ye),i}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,r)?i.$e(r,1):i.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new dj,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new rr(Ye),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new rr(Ye),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dj),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function hp(){return new Nt($e.comparator)}function pj(){return new Nt($e.comparator)}const Zoe={asc:"ASCENDING",desc:"DESCENDING"},eae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tae={and:"AND",or:"OR"};class rae{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cx(t,e){return t.useProto3Json||Fg(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nae(t,e){return Um(t,e.toTimestamp())}function Ai(t){return ct(!!t,49232),He.fromTimestamp(function(r){const n=ga(r);return new tr(n.seconds,n.nanos)}(t))}function gS(t,e){return kx(t,e).canonicalString()}function kx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function _4(t){const e=Dt.fromString(t);return ct(S4(e),10190,{key:e.toString()}),e}function Rx(t,e){return gS(t.databaseId,e.path)}function Vw(t,e){const r=_4(e);if(r.get(1)!==t.databaseId.projectId)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Le(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new $e(w4(r))}function b4(t,e){return gS(t.databaseId,e)}function iae(t){const e=_4(t);return e.length===4?Dt.emptyPath():w4(e)}function Nx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w4(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mj(t,e,r){return{name:Rx(t,e),fields:r.value.mapValue.fields}}function oae(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,d){return f.useProto3Json?(ct(d===void 0||typeof d=="string",58123),wr.fromBase64String(d||"")):(ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(f){const d=f.code===void 0?me.UNKNOWN:m4(f.code);return new Le(d,f.message||"")}(s);r=new v4(n,i,o,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Vw(t,n.document.name),o=Ai(n.document.updateTime),s=n.document.createTime?Ai(n.document.createTime):He.min(),l=new In({mapValue:{fields:n.document.fields}}),c=kr.newFoundDocument(i,o,s,l),f=n.targetIds||[],d=n.removedTargetIds||[];r=new Pp(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Vw(t,n.document),o=n.readTime?Ai(n.readTime):He.min(),s=kr.newNoDocument(i,o),l=n.removedTargetIds||[];r=new Pp([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Vw(t,n.document),o=n.removedTargetIds||[];r=new Pp([],o,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new Xoe(i,o),l=n.targetId;r=new g4(l,s)}}return r}function aae(t,e){let r;if(e instanceof Ah)r={update:mj(t,e.key,e.value)};else if(e instanceof p4)r={delete:Rx(t,e.key)};else if(e instanceof $s)r={update:mj(t,e.key,e.data),updateMask:mae(e.fieldMask)};else{if(!(e instanceof Hoe))return qe(16599,{ft:e.type});r={verify:Rx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const l=s.transform;if(l instanceof Fm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ah)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bm)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw qe(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:nae(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)}(t,e.precondition)),r}function sae(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(r=>function(i,o){let s=i.updateTime?Ai(i.updateTime):Ai(o);return s.isEqual(He.min())&&(s=Ai(o)),new qoe(s,i.transformResults||[])}(r,e))):[]}function uae(t,e){return{documents:[b4(t,e.path)]}}function lae(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=b4(t,i);const o=function(f){if(f.length!==0)return E4(ki.create(f,"and"))}(e.filters);o&&(r.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(d=>function(v){return{field:Ru(v.field),direction:hae(v.dir)}}(d))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const l=Cx(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:r,parent:i}}function cae(t){let e=iae(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ct(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];r.where&&(o=function(p){const v=x4(p);return v instanceof ki&&JV(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(v=>function(w){return new Vm(Nu(w.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(r.orderBy));let l=null;r.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Fg(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(p){const v=!!p.before,y=p.values||[];return new $m(y,v)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const v=!p.before,y=p.values||[];return new $m(y,v)}(r.endAt)),Ooe(e,i,s,o,l,"F",c,f)}function fae(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function x4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nu(r.unaryFilter.field);return Jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nu(r.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nu(r.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Jt.create(Nu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ki.create(r.compositeFilter.filters.map(n=>x4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(r.compositeFilter.op))}(t):qe(30097,{filter:t})}function hae(t){return Zoe[t]}function dae(t){return eae[t]}function pae(t){return tae[t]}function Ru(t){return{fieldPath:t.canonicalString()}}function Nu(t){return br.fromServerFormat(t.fieldPath)}function E4(t){return t instanceof Jt?function(r){if(r.op==="=="){if(rj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NAN"}};if(tj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NAN"}};if(tj(r.value))return{unaryFilter:{field:Ru(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(r.field),op:dae(r.op),value:r.value}}}(t):t instanceof ki?function(r){const n=r.getFilters().map(i=>E4(i));return n.length===1?n[0]:{compositeFilter:{op:pae(r.op),filters:n}}}(t):qe(54877,{filter:t})}function mae(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function S4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r,n,i,o=He.min(),s=He.min(),l=wr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e){this.wt=e}}function vae(t){const e=cae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ox(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(){this.Cn=new _ae}addToCollectionParentIndex(e,r){return this.Cn.add(r),ce.resolve()}getCollectionParents(e,r){return ce.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ce.resolve()}deleteFieldIndex(e,r){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,r){return ce.resolve()}getDocumentsMatchingTarget(e,r){return ce.resolve(null)}getIndexType(e,r){return ce.resolve(0)}getFieldIndexes(e,r){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,r){return ce.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,r){return ce.resolve(ma.min())}updateCollectionGroup(e,r,n){return ce.resolve()}updateIndexEntries(e,r){return ce.resolve()}}class _ae{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new rr(Dt.comparator),o=!i.has(n);return this.index[r]=i.add(n),o}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T4=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(T4,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Al(0)}static lr(){return new Al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="LruGarbageCollector",bae=1048576;function yj([t,e],[r,n]){const i=Ye(t,r);return i===0?Ye(e,n):i}class wae{constructor(e){this.Er=e,this.buffer=new rr(yj),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();yj(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xae{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(vj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zl(r)?Te(vj,"Ignoring IndexedDB error during garbage collection: ",r):await ql(r)}await this.mr(3e5)})}}class Eae{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return ce.resolve(Vg.le);const n=new wae(r);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(gj)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gj):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,i,o,s,l,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,r))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(f=Date.now(),Cu()<=Ze.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function Sae(t,e){return new Eae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae{constructor(){this.changes=new Ls(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ce.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pae{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&gf(n.mutation,i,ri.empty(),tr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,et()).next(()=>n))}getLocalViewOfDocuments(e,r,n=et()){const i=hs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(o=>{let s=rf();return o.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=hs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,et()))}populateOverlays(e,r,n){const i=[];return n.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{r.set(s,l)})})}computeViews(e,r,n,i){let o=yo();const s=mf(),l=function(){return mf()}();return r.forEach((c,f)=>{const d=n.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof $s)?o=o.insert(f.key,f):d!==void 0?(s.set(f.key,d.mutation.getFieldMask()),gf(d.mutation,f,d.mutation.getFieldMask(),tr.now())):s.set(f.key,ri.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,d)=>s.set(f,d)),r.forEach((f,d)=>{var p;return l.set(f,new Aae(d,(p=s.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,r){const n=mf();let i=new Nt((s,l)=>s-l),o=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const l of s)l.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let d=n.get(c)||ri.empty();d=l.applyToLocalView(f,d),n.set(c,d);const p=(i.get(l.batchId)||et()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,d=c.value,p=a4();d.forEach(v=>{if(!o.has(v)){const y=h4(r.get(v),n.get(v));y!==null&&p.set(v,y),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return ce.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return $e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Coe(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-o.size):ce.resolve(hs());let l=rh,c=o;return s.next(f=>ce.forEach(f,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?ce.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{c=c.insert(d,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,et())).next(d=>({batchId:l,changes:o4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new $e(r)).next(n=>{let i=rf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const o=r.collectionGroup;let s=rf();return this.indexManager.getCollectionParents(e,o).next(l=>ce.forEach(l,c=>{const f=function(p,v){return new Ug(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(d=>{d.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,o,i))).next(s=>{o.forEach((c,f)=>{const d=f.getKey();s.get(d)===null&&(s=s.insert(d,kr.newInvalidDocument(d)))});let l=rf();return s.forEach((c,f)=>{const d=o.get(c);d!==void 0&&gf(d.mutation,f,ri.empty(),tr.now()),zg(r,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return ce.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}}(r)),ce.resolve()}getNamedQuery(e,r){return ce.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(i){return{name:i.name,query:vae(i.bundledQuery),readTime:Ai(i.readTime)}}(r)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{constructor(){this.overlays=new Nt($e.comparator),this.Qr=new Map}getOverlay(e,r){return ce.resolve(this.overlays.get(r))}getOverlays(e,r){const n=hs();return ce.forEach(r,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,o)=>{this.bt(e,r,o)}),ce.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),ce.resolve()}getOverlaysForCollection(e,r,n){const i=hs(),o=r.length+1,s=new $e(r.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let o=new Nt((f,d)=>f-d);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let d=o.get(f.largestBatchId);d===null&&(d=hs(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const l=hs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>l.set(f,d)),!(l.size()>=i)););return ce.resolve(l)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Goe(r,n));let o=this.Qr.get(r);o===void 0&&(o=et(),this.Qr.set(r,o)),this.Qr.set(r,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cae{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.$r=new rr(lr.Ur),this.Kr=new rr(lr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new lr(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new lr(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new $e(new Dt([])),n=new lr(r,e),i=new lr(r,e+1),o=[];return this.Kr.forEachInRange([n,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new $e(new Dt([])),n=new lr(r,e),i=new lr(r,e+1);let o=et();return this.Kr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const r=new lr(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class lr{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return $e.comparator(e.key,r.key)||Ye(e.Zr,r.Zr)}static Wr(e,r){return Ye(e.Zr,r.Zr)||$e.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new rr(lr.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Koe(o,r,n,i);this.mutationQueue.push(s);for(const l of i)this.Xr=this.Xr.add(new lr(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,r){return ce.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ti(n),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?sS:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new lr(r,0),i=new lr(r,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],s=>{const l=this.ei(s.Zr);o.push(l)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rr(Ye);return r.forEach(i=>{const o=new lr(i,0),s=new lr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],l=>{n=n.add(l.Zr)})}),ce.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let o=n;$e.isDocumentKey(o)||(o=o.child(""));const s=new lr(new $e(o),0);let l=new rr(Ye);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Zr)),!0)},s),ce.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ct(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return ce.forEach(r.mutations,i=>{const o=new lr(i.key,r.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new lr(r,0),i=this.Xr.firstAfterOrEqual(n);return ce.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e){this.ii=e,this.docs=function(){return new Nt($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),o=i?i.size:0,s=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ce.resolve(n?n.document.mutableCopy():kr.newInvalidDocument(r))}getEntries(e,r){let n=yo();return r.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),ce.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let o=yo();const s=r.path,l=new $e(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||soe(aoe(d),n)<=0||(i.has(d.key)||zg(r,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,r,n,i){qe(9500)}si(e,r){return ce.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Nae(this)}getSize(e){return ce.resolve(this.size)}}class Nae extends Tae{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),ce.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jae{constructor(e){this.persistence=e,this.oi=new Ls(r=>cS(r),fS),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this._i=0,this.ai=new vS,this.targetCount=0,this.ui=Al.cr()}forEachTarget(e,r){return this.oi.forEach((n,i)=>r(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),ce.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Al(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,ce.resolve()}updateTargetData(e,r){return this.Tr(r),ce.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,r,n){let i=0;const o=[];return this.oi.forEach((s,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return ce.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),ce.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),ce.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return ce.resolve(n)}containsKey(e,r){return ce.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,r){this.ci={},this.overlays={},this.li=new Vg(0),this.hi=!1,this.hi=!0,this.Pi=new Cae,this.referenceDelegate=e(this),this.Ti=new jae(this),this.indexManager=new yae,this.remoteDocumentCache=function(i){return new Rae(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new gae(r),this.Ei=new Iae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Oae,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new kae(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Te("MemoryPersistence","Starting transaction:",e);const i=new Mae(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,r){return ce.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class Mae extends loe{constructor(e){super(),this.currentSequenceNumber=e}}class yS{constructor(e){this.persistence=e,this.Vi=new vS,this.mi=null}static fi(e){return new yS(e)}get gi(){if(this.mi)return this.mi;throw qe(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),ce.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),ce.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,n=>{const i=$e.fromPath(n);return this.pi(e,i).next(o=>{o||r.removeEntry(i,He.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return ce.or([()=>ce.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class qm{constructor(e,r){this.persistence=e,this.yi=new Ls(n=>hoe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Sae(this,r)}static fi(e,r){return new qm(e,r)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return ce.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?ce.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,r).next(l=>{l||(n++,o.removeEntry(s,He.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Sp(e.data.value)),r}Dr(e,r,n){return ce.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.yi.get(r);return ce.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.ds=n,this.As=i}static Rs(e,r){let n=et(),i=et();for(const o of r.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new _S(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _te()?8:coe(Rr())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,i){const o={result:null};return this.ws(e,r).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,r,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Dae;return this.bs(e,r,s).next(l=>{if(o.result=l,this.fs)return this.Ds(e,r,s,l.size)})}).next(()=>o.result)}Ds(e,r,n,i){return n.documentReadCount<this.gs?(Cu()<=Ze.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",ku(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Cu()<=Ze.DEBUG&&Te("QueryEngine","Query:",ku(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Cu()<=Ze.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",ku(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(r))):ce.resolve())}ws(e,r){if(aj(r))return ce.resolve(null);let n=Ti(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ox(r,null,"F"),n=Ti(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=et(...o);return this.ys.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.vs(r,l);return this.Cs(r,f,s,c.readTime)?this.ws(e,Ox(r,null,"F")):this.Fs(e,f,r,c)}))})))}Ss(e,r,n,i){return aj(r)||i.isEqual(He.min())?ce.resolve(null):this.ys.getDocuments(e,n).next(o=>{const s=this.vs(r,o);return this.Cs(r,s,n,i)?ce.resolve(null):(Cu()<=Ze.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ku(r)),this.Fs(e,s,r,ooe(i,rh)).next(l=>l))})}vs(e,r){let n=new rr(n4(e));return r.forEach((i,o)=>{zg(e,o)&&(n=n.add(o))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const o=e.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,r,n){return Cu()<=Ze.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",ku(r)),this.ys.getDocumentsMatchingQuery(e,r,ma.min(),n)}Fs(e,r,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(r.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="LocalStore",$ae=3e8;class Vae{constructor(e,r,n,i){this.persistence=e,this.Ms=r,this.serializer=i,this.xs=new Nt(Ye),this.Os=new Ls(o=>cS(o),fS),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pae(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function Fae(t,e,r,n){return new Vae(t,e,r,n)}async function P4(t,e){const r=Ke(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let c=et();for(const f of i){s.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of o){l.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(f=>({ks:f,removedBatchIds:s,addedBatchIds:l}))})})}function Bae(t,e){const r=Ke(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,f,d){const p=f.batch,v=p.keys();let y=ce.resolve();return v.forEach(w=>{y=y.next(()=>d.getEntry(c,w)).next(x=>{const b=f.docVersions.get(w);ct(b!==null,48541),x.version.compareTo(b)<0&&(p.applyToRemoteDocument(x,f),x.isValidDocument()&&(x.setReadTime(f.commitVersion),d.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(r,n,e,o).next(()=>o.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=et();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function I4(t){const e=Ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Uae(t,e){const r=Ke(t),n=e.snapshotVersion;let i=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=r.Bs.newChangeBuffer({trackRemovals:!0});i=r.xs;const l=[];e.targetChanges.forEach((d,p)=>{const v=i.get(p);if(!v)return;l.push(r.Ti.removeMatchingKeys(o,d.removedDocuments,p).next(()=>r.Ti.addMatchingKeys(o,d.addedDocuments,p)));let y=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(wr.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),function(x,b,E){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=$ae?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,y,d)&&l.push(r.Ti.updateTargetData(o,y))});let c=yo(),f=et();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(qae(o,s,e.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!n.isEqual(He.min())){const d=r.Ti.getLastRemoteSnapshotVersion(o).next(p=>r.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(d)}return ce.waitFor(l).next(()=>s.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(r.xs=i,o))}function qae(t,e,r){let n=et(),i=et();return r.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=yo();return r.forEach((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(He.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Te(bS,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function zae(t,e){const r=Ke(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=sS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Wae(t,e){const r=Ke(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ti.getTargetData(n,e).next(o=>o?(i=o,ce.resolve(i)):r.Ti.allocateTargetId(n).next(s=>(i=new aa(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function jx(t,e,r){const n=Ke(t),i=n.xs.get(e),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!zl(s))throw s;Te(bS,`Failed to update sequence numbers for target ${e}: ${s}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function _j(t,e,r){const n=Ke(t);let i=He.min(),o=et();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,d){const p=Ke(c),v=p.Os.get(d);return v!==void 0?ce.resolve(p.xs.get(v)):p.Ti.getTargetData(f,d)}(n,s,Ti(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(s,l.targetId).next(c=>{o=c})}).next(()=>n.Ms.getDocumentsMatchingQuery(s,e,r?i:He.min(),r?o:et())).next(l=>(Hae(n,Roe(e),l),{documents:l,$s:o})))}function Hae(t,e,r){let n=t.Ns.get(e)||He.min();r.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.Ns.set(e,n)}class bj{constructor(){this.activeTargetIds=$oe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kae{constructor(){this.xo=new bj,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bj,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="ConnectivityMonitor";class xj{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(wj,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(wj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function Mx(){return dp===null?dp=function(){return 268435456+Math.round(2147483648*Math.random())}():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="RestConnection",Xae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yae{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===Dm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,r,n,i,o){const s=Mx(),l=this.jo(e,r.toUriEncodedString());Te(Fw,`Sending RPC '${e}' ${s}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);const{host:f}=new URL(l),d=bh(f);return this.Jo(e,l,c,n,d).then(p=>(Te(Fw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw xl(Fw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",n),p})}Yo(e,r,n,i,o,s){return this.zo(e,r,n,i,o)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,r){const n=Xae[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class Jae extends Yae{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,o){const s=Mx();return new Promise((l,c)=>{const f=new kV;f.setWithCredentials(!0),f.listenOnce(RV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ep.NO_ERROR:const p=f.getResponseJson();Te(Pr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Ep.TIMEOUT:Te(Pr,`RPC '${e}' ${s} timed out`),c(new Le(me.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const v=f.getStatus();if(Te(Pr,`RPC '${e}' ${s} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const x=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(A)>=0?A:me.UNKNOWN}(w.status);c(new Le(x,w.message))}else c(new Le(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Le(me.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Te(Pr,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);Te(Pr,`RPC '${e}' ${s} sending request:`,i),f.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Mx(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MV(),l=jV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=o.join("");Te(Pr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=s.createWebChannel(d,c);let v=!1,y=!1;const w=new Qae({Zo:b=>{y?Te(Pr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(Te(Pr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Te(Pr,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Xo:()=>p.close()}),x=(b,E,A)=>{b.listen(E,O=>{try{A(O)}catch(M){setTimeout(()=>{throw M},0)}})};return x(p,tf.EventType.OPEN,()=>{y||(Te(Pr,`RPC '${e}' stream ${i} transport opened.`),w.__())}),x(p,tf.EventType.CLOSE,()=>{y||(y=!0,Te(Pr,`RPC '${e}' stream ${i} transport closed`),w.u_())}),x(p,tf.EventType.ERROR,b=>{y||(y=!0,xl(Pr,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),w.u_(new Le(me.UNAVAILABLE,"The operation could not be completed")))}),x(p,tf.EventType.MESSAGE,b=>{var E;if(!y){const A=b.data[0];ct(!!A,16349);const O=A,M=(O==null?void 0:O.error)||((E=O[0])===null||E===void 0?void 0:E.error);if(M){Te(Pr,`RPC '${e}' stream ${i} received error:`,M);const C=M.status;let N=function(R){const F=Ut[R];if(F!==void 0)return m4(F)}(C),P=M.message;N===void 0&&(N=me.INTERNAL,P="Unknown error status: "+C+" with message "+M.message),y=!0,w.u_(new Le(N,P)),p.close()}else Te(Pr,`RPC '${e}' stream ${i} received:`,A),w.c_(A)}}),x(l,NV.STAT_EVENT,b=>{b.stat===Ex.PROXY?Te(Pr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ex.NOPROXY&&Te(Pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Bw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){return new rae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,r,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),i=Math.max(0,r-n);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="PersistentStream";class C4{constructor(e,r,n,i,o,s,l,c){this.xi=e,this.y_=n,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new O4(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===me.RESOURCE_EXHAUSTED?(vo(r.toString()),vo("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.S_===r&&this.K_(n,i)},n=>{e(()=>{const i=new Le(me.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(i)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.W_(i))}),this.stream.onMessage(i=>{n(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Te(Ej,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(Te(Ej,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zae extends C4{constructor(e,r,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}G_(e,r){return this.connection.T_("Listen",e,r)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const r=oae(this.serializer,e),n=function(o){if(!("targetChange"in o))return He.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?He.min():s.readTime?Ai(s.readTime):He.min()}(e);return this.listener.j_(r,n)}H_(e){const r={};r.database=Nx(this.serializer),r.addTarget=function(o,s){let l;const c=s.target;if(l=Ix(c)?{documents:uae(o,c)}:{query:lae(o,c).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=y4(o,s.resumeToken);const f=Cx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(He.min())>0){l.readTime=Um(o,s.snapshotVersion.toTimestamp());const f=Cx(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const n=fae(this.serializer,e);n&&(r.labels=n),this.L_(r)}J_(e){const r={};r.database=Nx(this.serializer),r.removeTarget=e,this.L_(r)}}class ese extends C4{constructor(e,r,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=sae(e.writeResults,e.commitTime),n=Ai(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=Nx(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>aae(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{}class rse extends tse{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,kx(r,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(me.UNKNOWN,o.toString())})}Yo(e,r,n,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Yo(e,kx(r,n),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(me.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class nse{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(vo(r),this.oa=!1):Te("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class ise{constructor(e,r,n,i,o){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{n.enqueueAndForget(async()=>{Vs(this)&&(Te(Is,"Restarting streams for network reachability change."),await async function(c){const f=Ke(c);f.Ta.add(4),await Ih(f),f.da.set("Unknown"),f.Ta.delete(4),await Xg(f)}(this))})}),this.da=new nse(n,i)}}async function Xg(t){if(Vs(t))for(const e of t.Ia)await e(!0)}async function Ih(t){for(const e of t.Ia)await e(!1)}function k4(t,e){const r=Ke(t);r.Pa.has(e.targetId)||(r.Pa.set(e.targetId,e),SS(r)?ES(r):Wl(r).M_()&&xS(r,e))}function wS(t,e){const r=Ke(t),n=Wl(r);r.Pa.delete(e),n.M_()&&R4(r,e),r.Pa.size===0&&(n.M_()?n.N_():Vs(r)&&r.da.set("Unknown"))}function xS(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wl(t).H_(e)}function R4(t,e){t.Aa.Ke(e),Wl(t).J_(e)}function ES(t){t.Aa=new Joe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.da._a()}function SS(t){return Vs(t)&&!Wl(t).F_()&&t.Pa.size>0}function Vs(t){return Ke(t).Ta.size===0}function N4(t){t.Aa=void 0}async function ose(t){t.da.set("Online")}async function ase(t){t.Pa.forEach((e,r)=>{xS(t,e)})}async function sse(t,e){N4(t),SS(t)?(t.da.ca(e),ES(t)):t.da.set("Unknown")}async function use(t,e,r){if(t.da.set("Online"),e instanceof v4&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Pa.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Pa.delete(l),i.Aa.removeTarget(l))}(t,e)}catch(n){Te(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await zm(t,n)}else if(e instanceof Pp?t.Aa.Xe(e):e instanceof g4?t.Aa.ot(e):t.Aa.nt(e),!r.isEqual(He.min()))try{const n=await I4(t.localStore);r.compareTo(n)>=0&&await function(o,s){const l=o.Aa.It(s);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Pa.get(f);d&&o.Pa.set(f,d.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,f)=>{const d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(wr.EMPTY_BYTE_STRING,d.snapshotVersion)),R4(o,c);const p=new aa(d.target,c,f,d.sequenceNumber);xS(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){Te(Is,"Failed to raise snapshot:",n),await zm(t,n)}}async function zm(t,e,r){if(!zl(e))throw e;t.Ta.add(1),await Ih(t),t.da.set("Offline"),r||(r=()=>I4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(Is,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await Xg(t)})}function j4(t,e){return e().catch(r=>zm(t,r,e))}async function Yg(t){const e=Ke(t),r=_a(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:sS;for(;lse(e);)try{const i=await zae(e.localStore,n);if(i===null){e.ha.length===0&&r.N_();break}n=i.batchId,cse(e,i)}catch(i){await zm(e,i)}M4(e)&&D4(e)}function lse(t){return Vs(t)&&t.ha.length<10}function cse(t,e){t.ha.push(e);const r=_a(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function M4(t){return Vs(t)&&!_a(t).F_()&&t.ha.length>0}function D4(t){_a(t).start()}async function fse(t){_a(t).ta()}async function hse(t){const e=_a(t);for(const r of t.ha)e.Z_(r.mutations)}async function dse(t,e,r){const n=t.ha.shift(),i=pS.from(n,e,r);await j4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yg(t)}async function pse(t,e){e&&_a(t).Y_&&await async function(n,i){if(function(s){return Yoe(s)&&s!==me.ABORTED}(i.code)){const o=n.ha.shift();_a(n).O_(),await j4(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Yg(n)}}(t,e),M4(t)&&D4(t)}async function Sj(t,e){const r=Ke(t);r.asyncQueue.verifyOperationInProgress(),Te(Is,"RemoteStore received new credentials");const n=Vs(r);r.Ta.add(3),await Ih(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Xg(r)}async function mse(t,e){const r=Ke(t);e?(r.Ta.delete(2),await Xg(r)):e||(r.Ta.add(2),await Ih(r),r.da.set("Unknown"))}function Wl(t){return t.Ra||(t.Ra=function(r,n,i){const o=Ke(r);return o.ra(),new Zae(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:ose.bind(null,t),n_:ase.bind(null,t),i_:sse.bind(null,t),j_:use.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),SS(t)?ES(t):t.da.set("Unknown")):(await t.Ra.stop(),N4(t))})),t.Ra}function _a(t){return t.Va||(t.Va=function(r,n,i){const o=Ke(r);return o.ra(),new ese(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:fse.bind(null,t),i_:pse.bind(null,t),X_:hse.bind(null,t),ea:dse.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Yg(t)):(await t.Va.stop(),t.ha.length>0&&(Te(Is,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,r,n,i,o){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,o){const s=Date.now()+n,l=new TS(e,r,s,i,o);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AS(t,e){if(vo("AsyncQueue",`${e}: ${t}`),zl(t))return new Le(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||$e.comparator(r.key,n.key):(r,n)=>$e.comparator(r.key,n.key),this.keyedMap=rf(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ku;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.ma=new Nt($e.comparator)}track(e){const r=e.doc.key,n=this.ma.get(r);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(r,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(r):e.type===1&&n.type===2?this.ma=this.ma.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):qe(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(r,e)}ga(){const e=[];return this.ma.inorderTraversal((r,n)=>{e.push(n)}),e}}class Pl{constructor(e,r,n,i,o,s,l,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,o){const s=[];return r.forEach(l=>{s.push({type:0,doc:l})}),new Pl(e,r,Ku.emptySet(r),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class vse{constructor(){this.queries=Aj(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const i=Ke(r),o=i.queries;i.queries=Aj(),o.forEach((s,l)=>{for(const c of l.ya)c.onError(n)})})(this,new Le(me.ABORTED,"Firestore shutting down"))}}function Aj(){return new Ls(t=>r4(t),qg)}async function yse(t,e){const r=Ke(t);let n=3;const i=e.query;let o=r.queries.get(i);o?!o.wa()&&e.Sa()&&(n=2):(o=new gse,n=e.Sa()?0:1);try{switch(n){case 0:o.pa=await r.onListen(i,!0);break;case 1:o.pa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const l=AS(s,`Initialization of query '${ku(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,o),o.ya.push(e),e.Da(r.onlineState),o.pa&&e.va(o.pa)&&PS(r)}async function _se(t,e){const r=Ke(t),n=e.query;let i=3;const o=r.queries.get(n);if(o){const s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function bse(t,e){const r=Ke(t);let n=!1;for(const i of e){const o=i.query,s=r.queries.get(o);if(s){for(const l of s.ya)l.va(i)&&(n=!0);s.pa=i}}n&&PS(r)}function wse(t,e,r){const n=Ke(t),i=n.queries.get(e);if(i)for(const o of i.ya)o.onError(r);n.queries.delete(e)}function PS(t){t.ba.forEach(e=>{e.next()})}var Dx,Pj;(Pj=Dx||(Dx={})).Ca="default",Pj.Cache="cache";class xse{constructor(e,r,n){this.query=e,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Pl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),r=!0):this.Na(e,this.onlineState)&&(this.Ba(e),r=!0),this.xa=e,r}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),r=!0),r}Na(e,r){if(!e.fromCache||!this.Sa())return!0;const n=r!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Dx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.key=e}}class $4{constructor(e){this.key=e}}class Ese{constructor(e,r){this.query=e,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=et(),this.mutatedKeys=et(),this.Ha=n4(e),this.Ja=new Ku(this.Ha)}get Ya(){return this.Ga}Za(e,r){const n=r?r.Xa:new Tj,i=r?r.Ja:this.Ja;let o=r?r.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const v=i.get(d),y=zg(this.query,p)?p:null,w=!!v&&this.mutatedKeys.has(v.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;v&&y?v.data.isEqual(y.data)?w!==x&&(n.track({type:3,doc:y}),b=!0):this.eu(v,y)||(n.track({type:2,doc:y}),b=!0,(c&&this.Ha(y,c)>0||f&&this.Ha(y,f)<0)&&(l=!0)):!v&&y?(n.track({type:0,doc:y}),b=!0):v&&!y&&(n.track({type:1,doc:v}),b=!0,(c||f)&&(l=!0)),b&&(y?(s=s.add(y),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Ja:s,Xa:n,Cs:l,mutatedKeys:o}}eu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((d,p)=>function(y,w){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:b})}};return x(y)-x(w)}(d.type,p.type)||this.Ha(d.doc,p.doc)),this.tu(n),i=i!=null&&i;const l=r&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,f=c!==this.za;return this.za=c,s.length!==0||f?{snapshot:new Pl(this.query,e.Ja,o,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Tj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=et(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const r=[];return e.forEach(n=>{this.ja.has(n)||r.push(new $4(n))}),this.ja.forEach(n=>{e.has(n)||r.push(new L4(n))}),r}su(e){this.Ga=e.$s,this.ja=et();const r=this.Za(e.documents);return this.applyChanges(r,!0)}ou(){return Pl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const IS="SyncEngine";class Sse{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Tse{constructor(e){this.key=e,this._u=!1}}class Ase{constructor(e,r,n,i,o,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ls(l=>r4(l),qg),this.cu=new Map,this.lu=new Set,this.hu=new Nt($e.comparator),this.Pu=new Map,this.Tu=new vS,this.Iu={},this.Eu=new Map,this.du=Al.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Pse(t,e,r=!0){const n=z4(t);let i;const o=n.uu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await V4(n,e,r,!0),i}async function Ise(t,e){const r=z4(t);await V4(r,e,!0,!1)}async function V4(t,e,r,n){const i=await Wae(t.localStore,Ti(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,r);let l;return n&&(l=await Ose(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&k4(t.remoteStore,i),l}async function Ose(t,e,r,n,i){t.Ru=(p,v,y)=>async function(x,b,E,A){let O=b.view.Za(E);O.Cs&&(O=await _j(x.localStore,b.query,!1).then(({documents:P})=>b.view.Za(P,O)));const M=A&&A.targetChanges.get(b.targetId),C=A&&A.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(O,x.isPrimaryClient,M,C);return Oj(x,b.targetId,N.ru),N.snapshot}(t,p,v,y);const o=await _j(t.localStore,e,!0),s=new Ese(e,o.$s),l=s.Za(o.documents),c=Ph.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);Oj(t,r,f.ru);const d=new Sse(e,r,s);return t.uu.set(e,d),t.cu.has(r)?t.cu.get(r).push(e):t.cu.set(r,[e]),f.snapshot}async function Cse(t,e,r){const n=Ke(t),i=n.uu.get(e),o=n.cu.get(i.targetId);if(o.length>1)return n.cu.set(i.targetId,o.filter(s=>!qg(s,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await jx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&wS(n.remoteStore,i.targetId),Lx(n,i.targetId)}).catch(ql)):(Lx(n,i.targetId),await jx(n.localStore,i.targetId,!0))}async function kse(t,e){const r=Ke(t),n=r.uu.get(e),i=r.cu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),wS(r.remoteStore,n.targetId))}async function Rse(t,e,r){const n=Vse(t);try{const i=await function(s,l){const c=Ke(s),f=tr.now(),d=l.reduce((y,w)=>y.add(w.key),et());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=yo(),x=et();return c.Bs.getEntries(y,d).next(b=>{w=b,w.forEach((E,A)=>{A.isValidDocument()||(x=x.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(b=>{p=b;const E=[];for(const A of l){const O=Woe(A,p.get(A.key).overlayedDocument);O!=null&&E.push(new $s(A.key,O,XV(O.value.mapValue),lo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,E,l)}).next(b=>{v=b;const E=b.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(y,b.batchId,E)})}).then(()=>({batchId:v.batchId,changes:o4(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,l,c){let f=s.Iu[s.currentUser.toKey()];f||(f=new Nt(Ye)),f=f.insert(l,c),s.Iu[s.currentUser.toKey()]=f}(n,i.batchId,r),await Oh(n,i.changes),await Yg(n.remoteStore)}catch(i){const o=AS(i,"Failed to persist write");r.reject(o)}}async function F4(t,e){const r=Ke(t);try{const n=await Uae(r.localStore,e);e.targetChanges.forEach((i,o)=>{const s=r.Pu.get(o);s&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?ct(s._u,14607):i.removedDocuments.size>0&&(ct(s._u,42227),s._u=!1))}),await Oh(r,n,e)}catch(n){await ql(n)}}function Ij(t,e,r){const n=Ke(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.uu.forEach((o,s)=>{const l=s.view.Da(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const c=Ke(s);c.onlineState=l;let f=!1;c.queries.forEach((d,p)=>{for(const v of p.ya)v.Da(l)&&(f=!0)}),f&&PS(c)}(n.eventManager,e),i.length&&n.au.j_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Nse(t,e,r){const n=Ke(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Pu.get(e),o=i&&i.key;if(o){let s=new Nt($e.comparator);s=s.insert(o,kr.newNoDocument(o,He.min()));const l=et().add(o),c=new Kg(He.min(),new Map,new Nt(Ye),s,l);await F4(n,c),n.hu=n.hu.remove(o),n.Pu.delete(e),OS(n)}else await jx(n.localStore,e,!1).then(()=>Lx(n,e,r)).catch(ql)}async function jse(t,e){const r=Ke(t),n=e.batch.batchId;try{const i=await Bae(r.localStore,e);U4(r,n,null),B4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Oh(r,i)}catch(i){await ql(i)}}async function Mse(t,e,r){const n=Ke(t);try{const i=await function(s,l){const c=Ke(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,l).next(p=>(ct(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(n.localStore,e);U4(n,e,r),B4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Oh(n,i)}catch(i){await ql(i)}}function B4(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function U4(t,e,r){const n=Ke(t);let i=n.Iu[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(r?o.reject(r):o.resolve(),i=i.remove(e)),n.Iu[n.currentUser.toKey()]=i}}function Lx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.cu.get(e))t.uu.delete(n),r&&t.au.Vu(n,r);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(n=>{t.Tu.containsKey(n)||q4(t,n)})}function q4(t,e){t.lu.delete(e.path.canonicalString());const r=t.hu.get(e);r!==null&&(wS(t.remoteStore,r),t.hu=t.hu.remove(e),t.Pu.delete(r),OS(t))}function Oj(t,e,r){for(const n of r)n instanceof L4?(t.Tu.addReference(n.key,e),Dse(t,n)):n instanceof $4?(Te(IS,"Document no longer in limbo: "+n.key),t.Tu.removeReference(n.key,e),t.Tu.containsKey(n.key)||q4(t,n.key)):qe(19791,{mu:n})}function Dse(t,e){const r=e.key,n=r.path.canonicalString();t.hu.get(r)||t.lu.has(n)||(Te(IS,"New document in limbo: "+r),t.lu.add(n),OS(t))}function OS(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const r=new $e(Dt.fromString(e)),n=t.du.next();t.Pu.set(n,new Tse(r)),t.hu=t.hu.insert(r,n),k4(t.remoteStore,new aa(Ti(hS(r.path)),n,"TargetPurposeLimboResolution",Vg.le))}}async function Oh(t,e,r){const n=Ke(t),i=[],o=[],s=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{s.push(n.Ru(c,e,r).then(f=>{var d;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=_S.Rs(c.targetId,f);o.push(p)}}))}),await Promise.all(s),n.au.j_(i),await async function(c,f){const d=Ke(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>ce.forEach(f,v=>ce.forEach(v.ds,y=>d.persistence.referenceDelegate.addReference(p,v.targetId,y)).next(()=>ce.forEach(v.As,y=>d.persistence.referenceDelegate.removeReference(p,v.targetId,y)))))}catch(p){if(!zl(p))throw p;Te(bS,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const y=d.xs.get(v),w=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(w);d.xs=d.xs.insert(v,x)}}}(n.localStore,o))}async function Lse(t,e){const r=Ke(t);if(!r.currentUser.isEqual(e)){Te(IS,"User change. New user:",e.toKey());const n=await P4(r.localStore,e);r.currentUser=e,function(o,s){o.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Le(me.CANCELLED,s))})}),o.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Oh(r,n.ks)}}function $se(t,e){const r=Ke(t),n=r.Pu.get(e);if(n&&n._u)return et().add(n.key);{let i=et();const o=r.cu.get(e);if(!o)return i;for(const s of o){const l=r.uu.get(s);i=i.unionWith(l.view.Ya)}return i}}function z4(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$se.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nse.bind(null,e),e.au.j_=bse.bind(null,e.eventManager),e.au.Vu=wse.bind(null,e.eventManager),e}function Vse(t){const e=Ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mse.bind(null,e),e}class Wm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return Fae(this.persistence,new Lae,e.initialUser,this.serializer)}yu(e){return new A4(yS.fi,this.serializer)}pu(e){return new Kae}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wm.provider={build:()=>new Wm};class Fse extends Wm{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){ct(this.persistence.referenceDelegate instanceof qm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new xae(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new A4(n=>qm.fi(n,r),this.serializer)}}class $x{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Ij(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lse.bind(null,this.syncEngine),await mse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vse}()}createDatastore(e){const r=Gg(e.databaseInfo.databaseId),n=function(o){return new Jae(o)}(e.databaseInfo);return function(o,s,l,c){return new rse(o,s,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,o,s,l){return new ise(n,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,r=>Ij(this.syncEngine,r,0),function(){return xj.C()?new xj:new Gae}())}createSyncEngine(e,r){return function(i,o,s,l,c,f,d){const p=new Ase(i,o,s,l,c,f);return d&&(p.Au=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const o=Ke(i);Te(Is,"RemoteStore shutting down."),o.Ta.add(5),await Ih(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}$x.provider={build:()=>new $x};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):vo("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class Use{constructor(e,r,n,i,o){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=VV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{Te(ba,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Te(ba,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=AS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ba,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await P4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cj(t,e){t.asyncQueue.verifyOperationInProgress();const r=await qse(t);Te(ba,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Sj(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Sj(e.remoteStore,i)),t._onlineComponents=e}async function qse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ba,"Using user provided OfflineComponentProvider");try{await Uw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;xl("Error using user provided cache. Falling back to memory cache: "+r),await Uw(t,new Wm)}}else Te(ba,"Using default OfflineComponentProvider"),await Uw(t,new Fse(void 0));return t._offlineComponents}async function W4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ba,"Using user provided OnlineComponentProvider"),await Cj(t,t._uninitializedComponentsProvider._online)):(Te(ba,"Using default OnlineComponentProvider"),await Cj(t,new $x))),t._onlineComponents}function zse(t){return W4(t).then(e=>e.syncEngine)}async function Wse(t){const e=await W4(t),r=e.eventManager;return r.onListen=Pse.bind(null,e.syncEngine),r.onUnlisten=Cse.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ise.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=kse.bind(null,e.syncEngine),r}function Hse(t,e,r={}){const n=new da;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,c,f){const d=new Bse({next:v=>{d.Cu(),s.enqueueAndForget(()=>_se(o,p));const y=v.docs.has(l);!y&&v.fromCache?f.reject(new Le(me.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&c&&c.source==="server"?f.reject(new Le(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new xse(hS(l.path),d,{includeMetadataChanges:!0,La:!0});return yse(o,p)}(await Wse(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kse(t,e,r){if(!r)throw new Le(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gse(t,e,r,n){if(e===!0&&n===!0)throw new Le(me.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Rj(t){if(!$e.isDocumentKey(t))throw new Le(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe(12329,{type:typeof t})}function uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=CS(t);throw new Le(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="firestore.googleapis.com",Nj=!0;class jj{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K4,this.ssl=Nj}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Nj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=T4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bae)throw new Le(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Yie;switch(n.type){case"firstParty":return new eoe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=kj.get(r);n&&(Te("ComponentProvider","Removing Datastore"),kj.delete(r),n.terminate())}(this),Promise.resolve()}}function Xse(t,e,r,n={}){var i;t=uh(t,kS);const o=bh(e),s=t._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;o&&(q$(`https://${c}`),z$("Firestore",!0)),s.host!==K4&&s.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!Ss(f,l)&&(t._setSettings(f),n.mockUserToken)){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=Or.MOCK_USER;else{d=cte(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Le(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Or(v)}t._authCredentials=new Qie(new LV(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new RS(this.firestore,e,this._query)}}class kn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class lh extends RS{constructor(e,r,n){super(e,r,hS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new $e(e))}withConverter(e){return new lh(this.firestore,e,this._path)}}function qw(t,e,...r){if(t=dn(t),arguments.length===1&&(e=VV.newId()),Kse("doc","path",e),t instanceof kS){const n=Dt.fromString(e,...r);return Rj(n),new kn(t,null,new $e(n))}{if(!(t instanceof kn||t instanceof lh))throw new Le(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return Rj(n),new kn(t.firestore,t instanceof lh?t.converter:null,new $e(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="AsyncQueue";class Dj{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new O4(this,"async_queue_retry"),this.ec=()=>{const n=Bw();n&&Te(Mj,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=Bw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=Bw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new da;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!zl(e))throw e;Te(Mj,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,vo("INTERNAL UNHANDLED ERROR: ",Lj(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const i=TS.createAndSchedule(this,e,r,n,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&qe(47125,{_c:Lj(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function Lj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class NS extends kS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new Dj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dj(e),this._firestoreClient=void 0,await e}}}function Yse(t,e){const r=typeof t=="object"?t:G$(),n=typeof t=="string"?t:Dm,i=YE(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=ute("firestore");o&&Xse(i,...o)}return i}function G4(t){if(t._terminated)throw new Le(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qse(t),t._firestoreClient}function Qse(t){var e,r,n;const i=t._freezeSettings(),o=function(l,c,f,d){return new moe(l,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,H4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Use(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(wr.fromBase64String(e))}catch(r){throw new Le(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Il(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Le(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Le(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Le(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse=/^__.*__$/;class Zse{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ah(e,this.data,r,this.fieldTransforms)}}function Y4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{hc:t})}}class LS{constructor(e,r,n,i,o,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new LS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.dc(e),i}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Tc({path:n,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Hm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Y4(this.hc)&&Jse.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class eue{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Gg(e)}gc(e,r,n,i=!1){return new LS({hc:e,methodName:r,fc:n,path:br.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tue(t){const e=t._freezeSettings(),r=Gg(t._databaseId);return new eue(t._databaseId,!!e.ignoreUndefinedProperties,r)}function rue(t,e,r,n,i,o={}){const s=t.gc(o.merge||o.mergeFields?2:0,e,r,i);e3("Data must be an object, but it was:",s,n);const l=J4(n,s);let c,f;if(o.merge)c=new ri(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const v=nue(e,p,r);if(!s.contains(v))throw new Le(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);oue(d,v)||d.push(v)}c=new ri(d),f=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=s.fieldTransforms;return new Zse(new In(l),c,f)}function Q4(t,e){if(Z4(t=dn(t)))return e3("Unsupported field value:",e,t),J4(t,e);if(t instanceof X4)return function(n,i){if(!Y4(i.hc))throw i.Vc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const l of n){let c=Q4(l,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Voe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=tr.fromDate(n);return{timestampValue:Um(i.serializer,o)}}if(n instanceof tr){const o=new tr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Um(i.serializer,o)}}if(n instanceof MS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:y4(i.serializer,n._byteString)};if(n instanceof kn){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gS(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof DS)return function(s,l){return{mapValue:{fields:{[KV]:{stringValue:GV},[Lm]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw l.Vc("VectorValues must only contain numeric values.");return dS(l.serializer,f)})}}}}}}(n,i);throw i.Vc(`Unsupported field value: ${CS(n)}`)}(t,e)}function J4(t,e){const r={};return BV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(n,i)=>{const o=Q4(i,e.Ic(n));o!=null&&(r[n]=o)}),{mapValue:{fields:r}}}function Z4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof MS||t instanceof Il||t instanceof kn||t instanceof X4||t instanceof DS)}function e3(t,e,r){if(!Z4(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=CS(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function nue(t,e,r){if((e=dn(e))instanceof jS)return e._internalPath;if(typeof e=="string")return t3(t,e);throw Hm("Field path arguments must be of type string or ",t,!1,void 0,r)}const iue=new RegExp("[~\\*/\\[\\]]");function t3(t,e,r){if(e.search(iue)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new jS(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Hm(t,e,r,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Le(me.INVALID_ARGUMENT,l+t+c)}function oue(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,r,n,i,o){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(n3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class aue extends r3{data(){return super.data()}}function n3(t,e){return typeof e=="string"?t3(t,e):e instanceof jS?e._internalPath:e._delegate._internalPath}class sue{convertValue(e,r="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ds(e,(i,o)=>{n[i]=this.convertValue(o,r)}),n}convertVectorValue(e){var r,n,i;const o=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Lm].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Vt(s.doubleValue));return new DS(o)}convertGeoPoint(e){return new MS(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Bg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const r=ga(e);return new tr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);ct(S4(n),9688,{name:e});const i=new ih(n.get(1),n.get(3)),o=new $e(n.popFirst(5));return i.isEqual(r)||vo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i3 extends r3{constructor(e,r,n,i,o,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new cue(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(n3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class cue extends i3{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t){t=uh(t,kn);const e=uh(t.firestore,NS);return Hse(G4(e),t._key).then(r=>pue(e,t,r))}class hue extends sue{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,r)}}function $j(t,e,r){t=uh(t,kn);const n=uh(t.firestore,NS),i=uue(t.converter,e,r);return due(n,[rue(tue(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,lo.none())])}function due(t,e){return function(n,i){const o=new da;return n.asyncQueue.enqueueAndForget(async()=>Rse(await zse(n),i,o)),o.promise}(G4(t),e)}function pue(t,e,r){const n=r.docs.get(e._key),i=new hue(t);return new i3(t,i,e._key,n,new lue(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Ul=i})(Vl),bl(new Ts("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),l=new NS(new Jie(n.getProvider("auth-internal")),new toe(s,n.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Le(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(f.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:r},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),ca(qN,zN,e),ca(qN,zN,"esm2017")})();var mue="firebase",gue="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ca(mue,gue,"app");const vue={apiKey:"AIzaSyAsJodYue9gdmCJsjgWXkn3p4EQuRGYMoY",authDomain:"kiosko-app-1ec1a.firebaseapp.com",projectId:"kiosko-app-1ec1a",storageBucket:"kiosko-app-1ec1a.firebasestorage.app",messagingSenderId:"76541564793",appId:"1:76541564793:web:b826d42d0bd4237d3841a8",measurementId:"G-9MWJ2E95DW"},o3=K$(vue),Xc=Gie(o3),zw=Yse(o3),vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function yue(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}let Ww;const _ue=new Uint8Array(16);function bue(){if(!Ww){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ww=crypto.getRandomValues.bind(crypto)}return Ww(_ue)}const wue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vj={randomUUID:wue};function xue(t,e,r){var i;if(Vj.randomUUID&&!t)return Vj.randomUUID();t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??bue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,yue(n)}const a3=z.createContext(void 0),s3=()=>{const t=z.useContext(a3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Eue=()=>{let t=localStorage.getItem("deviceId");return t||(t=xue(),localStorage.setItem("deviceId",t)),t},Sue=({children:t})=>{const[e,r]=z.useState(null),[n,i]=z.useState(!0),[o,s]=z.useState(!1),l=Eue();z.useEffect(()=>Lne(Xc,async v=>{v?await c(v.uid)?(r(v),s(!0)):(await Lw(Xc),r(null),s(!1)):(r(null),s(!1)),i(!1)}),[]);const c=async p=>{try{const v=await fue(qw(zw,"usuarios_dispositivo",p));if(!v.exists())return await $j(qw(zw,"usuarios_dispositivo",p),{uid:p,deviceId:l,createdAt:new Date,lastAccess:new Date}),!0;const y=v.data();return y.deviceId===l?(await $j(qw(zw,"usuarios_dispositivo",p),{...y,lastAccess:new Date},{merge:!0}),!0):!1}catch(v){return console.error("Error checking device authorization:",v),!1}},f=async(p,v)=>{try{i(!0);const w=(await jne(Xc,p,v)).user;return await c(w.uid)?{success:!0}:(await Lw(Xc),{success:!1,error:"Esta cuenta ya est siendo usada en otro dispositivo. Solo se permite un dispositivo por cuenta."})}catch(y){let w="Error al iniciar sesin";switch(y.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":w="Email o contrasea incorrectos";break;case"auth/too-many-requests":w="Demasiados intentos fallidos. Intenta ms tarde";break;case"auth/network-request-failed":w="Error de conexin. Verifica tu internet";break;case"auth/invalid-email":w="El formato del email no es vlido";break}return{success:!1,error:w}}finally{i(!1)}},d=async()=>{try{await Lw(Xc)}catch(p){console.error("Error during logout:",p)}};return $.jsx(a3.Provider,{value:{isAuthenticated:o,currentUser:e,deviceId:l,login:f,logout:d,loading:n},children:t})},Tue=()=>{const[t,e]=z.useState(""),[r,n]=z.useState(""),[i,o]=z.useState(!1),[s,l]=z.useState(""),[c,f]=z.useState(!1),{login:d,deviceId:p}=s3(),v=async y=>{if(y.preventDefault(),f(!0),l(""),!t||!r){l("Por favor completa todos los campos"),f(!1);return}try{const w=await d(t,r);w.success||l(w.error||"Error al iniciar sesin")}catch{l("Error inesperado al iniciar sesin")}finally{f(!1)}};return $.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:$.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md w-full space-y-6",children:[$.jsxs("div",{className:"text-center space-y-2",children:[$.jsx("div",{className:"flex justify-center",children:$.jsx(cP,{className:"text-blue-600 h-8 w-8"})}),$.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Acceso al Kiosko"}),$.jsx("p",{className:"text-gray-500",children:"Ingrese sus credenciales"}),$.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-400",children:[$.jsx(oM,{size:12}),$.jsxs("span",{children:["ID: ",p.slice(-8)]})]})]}),$.jsxs("form",{onSubmit:v,className:"space-y-4",children:[$.jsxs("div",{className:"space-y-2",children:[$.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),$.jsxs("div",{className:"relative",children:[$.jsx(i5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),$.jsx("input",{type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"usuario@ejemplo.com",disabled:c,autoComplete:"email"})]})]}),$.jsxs("div",{className:"space-y-2",children:[$.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Contrasea"}),$.jsxs("div",{className:"relative",children:[$.jsx(cP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),$.jsx("input",{type:i?"text":"password",value:r,onChange:y=>n(y.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contrasea",disabled:c,autoComplete:"current-password"}),$.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:c,children:i?$.jsx(e5,{size:20}):$.jsx(t5,{size:20})})]})]}),s&&$.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[$.jsx(nM,{className:"text-red-600 h-5 w-5 mt-0.5 flex-shrink-0"}),$.jsxs("div",{className:"text-sm text-red-800",children:[$.jsx("p",{className:"font-medium",children:"Error de autenticacin"}),$.jsx("p",{children:s})]})]}),$.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?$.jsxs("div",{className:"flex items-center justify-center gap-2",children:[$.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"Iniciar Sesin"})]}),$.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[$.jsx("p",{children:" Solo se permite un dispositivo por cuenta"}),$.jsx("p",{children:"Contacto: 3834997640"})]})]})})},Aue=()=>{const[t,e]=z.useState(0),{isAuthenticated:r,currentUser:n,deviceId:i,logout:o}=s3();if(!r)return $.jsx(Tue,{});const s=[{title:" Dashboard",content:$.jsx(qee,{})},{title:"Gestin de Productos",content:$.jsx(Hee,{})},{title:"Registro de Ventas",content:$.jsx(Jee,{})},{title:"Reportes",content:$.jsx(Zee,{})}];return $.jsxs("div",{className:"min-h-screen bg-gray-50",children:[$.jsx("header",{className:"bg-blue-600 text-white p-4 shadow-md",children:$.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx(Op,{size:24}),$.jsx("h1",{className:"text-xl font-bold",children:"Sistema de Gestin de Stock para Kiosko"})]}),$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[$.jsx(oM,{size:16}),$.jsxs("span",{children:["Usuario: ",(n==null?void 0:n.email)||"Usuario"]}),$.jsx("span",{className:"text-blue-200",children:"|"}),$.jsxs("span",{children:["ID: ",i.slice(-8)]})]}),$.jsx(d5,{}),$.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-blue-700 hover:bg-blue-800 px-3 py-2 rounded-lg transition-colors",children:[$.jsx(n5,{size:16}),"Salir"]})]})]})}),$.jsxs("main",{className:"container mx-auto p-4 mt-4",children:[$.jsx(W6,{tabs:s.map(l=>l.title),activeTab:t,onTabChange:e}),$.jsx("div",{className:"mt-4 bg-white rounded-lg shadow-md p-6",children:s[t].content})]}),$.jsx("footer",{className:"bg-gray-100 p-4 border-t mt-auto",children:$.jsxs("div",{className:"container mx-auto text-center text-gray-600 text-sm",children:[" ",new Date().getFullYear()," Sistema de Gestin de Stock para Kiosko"]})})]})};function Pue(){return $.jsx(Sue,{children:$.jsx(X6,{children:$.jsx(Wee,{children:$.jsx(Qee,{children:$.jsx(Aue,{})})})})})}bF.createRoot(document.getElementById("root")).render($.jsx(W.StrictMode,{children:$.jsx(M6,{children:$.jsx(Pue,{})})}));
